(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["vendors~trader"],{

/***/ "../../trader/node_modules/@babel/runtime/helpers/interopRequireDefault.js":
/*!***********************************************************************************************************************************!*\
  !*** /Users/samyong/Documents/Source_code/deriv-app/packages/trader/node_modules/@babel/runtime/helpers/interopRequireDefault.js ***!
  \***********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vdHJhZGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vVXNlcnMvc2FteW9uZy9Eb2N1bWVudHMvU291cmNlX2NvZGUvZGVyaXYtYXBwL3BhY2thZ2VzL3RyYWRlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQuanM/YjI0NSJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDoge1xuICAgIFwiZGVmYXVsdFwiOiBvYmpcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../trader/node_modules/@babel/runtime/helpers/interopRequireDefault.js\n");

/***/ }),

/***/ "../../trader/node_modules/dom-helpers/class/addClass.js":
/*!*****************************************************************************************************************!*\
  !*** /Users/samyong/Documents/Source_code/deriv-app/packages/trader/node_modules/dom-helpers/class/addClass.js ***!
  \*****************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"../../trader/node_modules/@babel/runtime/helpers/interopRequireDefault.js\");\n\nexports.__esModule = true;\nexports.default = addClass;\n\nvar _hasClass = _interopRequireDefault(__webpack_require__(/*! ./hasClass */ \"../../trader/node_modules/dom-helpers/class/hasClass.js\"));\n\nfunction addClass(element, className) {\n  if (element.classList) element.classList.add(className);else if (!(0, _hasClass.default)(element, className)) if (typeof element.className === 'string') element.className = element.className + ' ' + className;else element.setAttribute('class', (element.className && element.className.baseVal || '') + ' ' + className);\n}\n\nmodule.exports = exports[\"default\"];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vdHJhZGVyL25vZGVfbW9kdWxlcy9kb20taGVscGVycy9jbGFzcy9hZGRDbGFzcy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vVXNlcnMvc2FteW9uZy9Eb2N1bWVudHMvU291cmNlX2NvZGUvZGVyaXYtYXBwL3BhY2thZ2VzL3RyYWRlci9ub2RlX21vZHVsZXMvZG9tLWhlbHBlcnMvY2xhc3MvYWRkQ2xhc3MuanM/MzZmNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHRcIik7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBhZGRDbGFzcztcblxudmFyIF9oYXNDbGFzcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vaGFzQ2xhc3NcIikpO1xuXG5mdW5jdGlvbiBhZGRDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpIHtcbiAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSBlbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtlbHNlIGlmICghKDAsIF9oYXNDbGFzcy5kZWZhdWx0KShlbGVtZW50LCBjbGFzc05hbWUpKSBpZiAodHlwZW9mIGVsZW1lbnQuY2xhc3NOYW1lID09PSAnc3RyaW5nJykgZWxlbWVudC5jbGFzc05hbWUgPSBlbGVtZW50LmNsYXNzTmFtZSArICcgJyArIGNsYXNzTmFtZTtlbHNlIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsIChlbGVtZW50LmNsYXNzTmFtZSAmJiBlbGVtZW50LmNsYXNzTmFtZS5iYXNlVmFsIHx8ICcnKSArICcgJyArIGNsYXNzTmFtZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../trader/node_modules/dom-helpers/class/addClass.js\n");

/***/ }),

/***/ "../../trader/node_modules/dom-helpers/class/hasClass.js":
/*!*****************************************************************************************************************!*\
  !*** /Users/samyong/Documents/Source_code/deriv-app/packages/trader/node_modules/dom-helpers/class/hasClass.js ***!
  \*****************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nexports.__esModule = true;\nexports.default = hasClass;\n\nfunction hasClass(element, className) {\n  if (element.classList) return !!className && element.classList.contains(className);else return (\" \" + (element.className.baseVal || element.className) + \" \").indexOf(\" \" + className + \" \") !== -1;\n}\n\nmodule.exports = exports[\"default\"];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vdHJhZGVyL25vZGVfbW9kdWxlcy9kb20taGVscGVycy9jbGFzcy9oYXNDbGFzcy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vVXNlcnMvc2FteW9uZy9Eb2N1bWVudHMvU291cmNlX2NvZGUvZGVyaXYtYXBwL3BhY2thZ2VzL3RyYWRlci9ub2RlX21vZHVsZXMvZG9tLWhlbHBlcnMvY2xhc3MvaGFzQ2xhc3MuanM/OWNmYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGhhc0NsYXNzO1xuXG5mdW5jdGlvbiBoYXNDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpIHtcbiAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSByZXR1cm4gISFjbGFzc05hbWUgJiYgZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKTtlbHNlIHJldHVybiAoXCIgXCIgKyAoZWxlbWVudC5jbGFzc05hbWUuYmFzZVZhbCB8fCBlbGVtZW50LmNsYXNzTmFtZSkgKyBcIiBcIikuaW5kZXhPZihcIiBcIiArIGNsYXNzTmFtZSArIFwiIFwiKSAhPT0gLTE7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../trader/node_modules/dom-helpers/class/hasClass.js\n");

/***/ }),

/***/ "../../trader/node_modules/dom-helpers/class/removeClass.js":
/*!********************************************************************************************************************!*\
  !*** /Users/samyong/Documents/Source_code/deriv-app/packages/trader/node_modules/dom-helpers/class/removeClass.js ***!
  \********************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction replaceClassName(origClass, classToRemove) {\n  return origClass.replace(new RegExp('(^|\\\\s)' + classToRemove + '(?:\\\\s|$)', 'g'), '$1').replace(/\\s+/g, ' ').replace(/^\\s*|\\s*$/g, '');\n}\n\nmodule.exports = function removeClass(element, className) {\n  if (element.classList) element.classList.remove(className);else if (typeof element.className === 'string') element.className = replaceClassName(element.className, className);else element.setAttribute('class', replaceClassName(element.className && element.className.baseVal || '', className));\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vdHJhZGVyL25vZGVfbW9kdWxlcy9kb20taGVscGVycy9jbGFzcy9yZW1vdmVDbGFzcy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vVXNlcnMvc2FteW9uZy9Eb2N1bWVudHMvU291cmNlX2NvZGUvZGVyaXYtYXBwL3BhY2thZ2VzL3RyYWRlci9ub2RlX21vZHVsZXMvZG9tLWhlbHBlcnMvY2xhc3MvcmVtb3ZlQ2xhc3MuanM/Y2VjMCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIHJlcGxhY2VDbGFzc05hbWUob3JpZ0NsYXNzLCBjbGFzc1RvUmVtb3ZlKSB7XG4gIHJldHVybiBvcmlnQ2xhc3MucmVwbGFjZShuZXcgUmVnRXhwKCcoXnxcXFxccyknICsgY2xhc3NUb1JlbW92ZSArICcoPzpcXFxcc3wkKScsICdnJyksICckMScpLnJlcGxhY2UoL1xccysvZywgJyAnKS5yZXBsYWNlKC9eXFxzKnxcXHMqJC9nLCAnJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKSB7XG4gIGlmIChlbGVtZW50LmNsYXNzTGlzdCkgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7ZWxzZSBpZiAodHlwZW9mIGVsZW1lbnQuY2xhc3NOYW1lID09PSAnc3RyaW5nJykgZWxlbWVudC5jbGFzc05hbWUgPSByZXBsYWNlQ2xhc3NOYW1lKGVsZW1lbnQuY2xhc3NOYW1lLCBjbGFzc05hbWUpO2Vsc2UgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgcmVwbGFjZUNsYXNzTmFtZShlbGVtZW50LmNsYXNzTmFtZSAmJiBlbGVtZW50LmNsYXNzTmFtZS5iYXNlVmFsIHx8ICcnLCBjbGFzc05hbWUpKTtcbn07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../trader/node_modules/dom-helpers/class/removeClass.js\n");

/***/ }),

/***/ "../../trader/node_modules/moment/moment.js":
/*!****************************************************************************************************!*\
  !*** /Users/samyong/Documents/Source_code/deriv-app/packages/trader/node_modules/moment/moment.js ***!
  \****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(module) {var require;//! moment.js\n\n;(function (global, factory) {\n     true ? module.exports = factory() :\n    undefined\n}(this, (function () { 'use strict';\n\n    var hookCallback;\n\n    function hooks () {\n        return hookCallback.apply(null, arguments);\n    }\n\n    // This is done to register the method called with moment()\n    // without creating circular dependencies.\n    function setHookCallback (callback) {\n        hookCallback = callback;\n    }\n\n    function isArray(input) {\n        return input instanceof Array || Object.prototype.toString.call(input) === '[object Array]';\n    }\n\n    function isObject(input) {\n        // IE8 will treat undefined and null as object if it wasn't for\n        // input != null\n        return input != null && Object.prototype.toString.call(input) === '[object Object]';\n    }\n\n    function isObjectEmpty(obj) {\n        if (Object.getOwnPropertyNames) {\n            return (Object.getOwnPropertyNames(obj).length === 0);\n        } else {\n            var k;\n            for (k in obj) {\n                if (obj.hasOwnProperty(k)) {\n                    return false;\n                }\n            }\n            return true;\n        }\n    }\n\n    function isUndefined(input) {\n        return input === void 0;\n    }\n\n    function isNumber(input) {\n        return typeof input === 'number' || Object.prototype.toString.call(input) === '[object Number]';\n    }\n\n    function isDate(input) {\n        return input instanceof Date || Object.prototype.toString.call(input) === '[object Date]';\n    }\n\n    function map(arr, fn) {\n        var res = [], i;\n        for (i = 0; i < arr.length; ++i) {\n            res.push(fn(arr[i], i));\n        }\n        return res;\n    }\n\n    function hasOwnProp(a, b) {\n        return Object.prototype.hasOwnProperty.call(a, b);\n    }\n\n    function extend(a, b) {\n        for (var i in b) {\n            if (hasOwnProp(b, i)) {\n                a[i] = b[i];\n            }\n        }\n\n        if (hasOwnProp(b, 'toString')) {\n            a.toString = b.toString;\n        }\n\n        if (hasOwnProp(b, 'valueOf')) {\n            a.valueOf = b.valueOf;\n        }\n\n        return a;\n    }\n\n    function createUTC (input, format, locale, strict) {\n        return createLocalOrUTC(input, format, locale, strict, true).utc();\n    }\n\n    function defaultParsingFlags() {\n        // We need to deep clone this object.\n        return {\n            empty           : false,\n            unusedTokens    : [],\n            unusedInput     : [],\n            overflow        : -2,\n            charsLeftOver   : 0,\n            nullInput       : false,\n            invalidMonth    : null,\n            invalidFormat   : false,\n            userInvalidated : false,\n            iso             : false,\n            parsedDateParts : [],\n            meridiem        : null,\n            rfc2822         : false,\n            weekdayMismatch : false\n        };\n    }\n\n    function getParsingFlags(m) {\n        if (m._pf == null) {\n            m._pf = defaultParsingFlags();\n        }\n        return m._pf;\n    }\n\n    var some;\n    if (Array.prototype.some) {\n        some = Array.prototype.some;\n    } else {\n        some = function (fun) {\n            var t = Object(this);\n            var len = t.length >>> 0;\n\n            for (var i = 0; i < len; i++) {\n                if (i in t && fun.call(this, t[i], i, t)) {\n                    return true;\n                }\n            }\n\n            return false;\n        };\n    }\n\n    function isValid(m) {\n        if (m._isValid == null) {\n            var flags = getParsingFlags(m);\n            var parsedParts = some.call(flags.parsedDateParts, function (i) {\n                return i != null;\n            });\n            var isNowValid = !isNaN(m._d.getTime()) &&\n                flags.overflow < 0 &&\n                !flags.empty &&\n                !flags.invalidMonth &&\n                !flags.invalidWeekday &&\n                !flags.weekdayMismatch &&\n                !flags.nullInput &&\n                !flags.invalidFormat &&\n                !flags.userInvalidated &&\n                (!flags.meridiem || (flags.meridiem && parsedParts));\n\n            if (m._strict) {\n                isNowValid = isNowValid &&\n                    flags.charsLeftOver === 0 &&\n                    flags.unusedTokens.length === 0 &&\n                    flags.bigHour === undefined;\n            }\n\n            if (Object.isFrozen == null || !Object.isFrozen(m)) {\n                m._isValid = isNowValid;\n            }\n            else {\n                return isNowValid;\n            }\n        }\n        return m._isValid;\n    }\n\n    function createInvalid (flags) {\n        var m = createUTC(NaN);\n        if (flags != null) {\n            extend(getParsingFlags(m), flags);\n        }\n        else {\n            getParsingFlags(m).userInvalidated = true;\n        }\n\n        return m;\n    }\n\n    // Plugins that add properties should also add the key here (null value),\n    // so we can properly clone ourselves.\n    var momentProperties = hooks.momentProperties = [];\n\n    function copyConfig(to, from) {\n        var i, prop, val;\n\n        if (!isUndefined(from._isAMomentObject)) {\n            to._isAMomentObject = from._isAMomentObject;\n        }\n        if (!isUndefined(from._i)) {\n            to._i = from._i;\n        }\n        if (!isUndefined(from._f)) {\n            to._f = from._f;\n        }\n        if (!isUndefined(from._l)) {\n            to._l = from._l;\n        }\n        if (!isUndefined(from._strict)) {\n            to._strict = from._strict;\n        }\n        if (!isUndefined(from._tzm)) {\n            to._tzm = from._tzm;\n        }\n        if (!isUndefined(from._isUTC)) {\n            to._isUTC = from._isUTC;\n        }\n        if (!isUndefined(from._offset)) {\n            to._offset = from._offset;\n        }\n        if (!isUndefined(from._pf)) {\n            to._pf = getParsingFlags(from);\n        }\n        if (!isUndefined(from._locale)) {\n            to._locale = from._locale;\n        }\n\n        if (momentProperties.length > 0) {\n            for (i = 0; i < momentProperties.length; i++) {\n                prop = momentProperties[i];\n                val = from[prop];\n                if (!isUndefined(val)) {\n                    to[prop] = val;\n                }\n            }\n        }\n\n        return to;\n    }\n\n    var updateInProgress = false;\n\n    // Moment prototype object\n    function Moment(config) {\n        copyConfig(this, config);\n        this._d = new Date(config._d != null ? config._d.getTime() : NaN);\n        if (!this.isValid()) {\n            this._d = new Date(NaN);\n        }\n        // Prevent infinite loop in case updateOffset creates new moment\n        // objects.\n        if (updateInProgress === false) {\n            updateInProgress = true;\n            hooks.updateOffset(this);\n            updateInProgress = false;\n        }\n    }\n\n    function isMoment (obj) {\n        return obj instanceof Moment || (obj != null && obj._isAMomentObject != null);\n    }\n\n    function absFloor (number) {\n        if (number < 0) {\n            // -0 -> 0\n            return Math.ceil(number) || 0;\n        } else {\n            return Math.floor(number);\n        }\n    }\n\n    function toInt(argumentForCoercion) {\n        var coercedNumber = +argumentForCoercion,\n            value = 0;\n\n        if (coercedNumber !== 0 && isFinite(coercedNumber)) {\n            value = absFloor(coercedNumber);\n        }\n\n        return value;\n    }\n\n    // compare two arrays, return the number of differences\n    function compareArrays(array1, array2, dontConvert) {\n        var len = Math.min(array1.length, array2.length),\n            lengthDiff = Math.abs(array1.length - array2.length),\n            diffs = 0,\n            i;\n        for (i = 0; i < len; i++) {\n            if ((dontConvert && array1[i] !== array2[i]) ||\n                (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))) {\n                diffs++;\n            }\n        }\n        return diffs + lengthDiff;\n    }\n\n    function warn(msg) {\n        if (hooks.suppressDeprecationWarnings === false &&\n                (typeof console !==  'undefined') && console.warn) {\n            console.warn('Deprecation warning: ' + msg);\n        }\n    }\n\n    function deprecate(msg, fn) {\n        var firstTime = true;\n\n        return extend(function () {\n            if (hooks.deprecationHandler != null) {\n                hooks.deprecationHandler(null, msg);\n            }\n            if (firstTime) {\n                var args = [];\n                var arg;\n                for (var i = 0; i < arguments.length; i++) {\n                    arg = '';\n                    if (typeof arguments[i] === 'object') {\n                        arg += '\\n[' + i + '] ';\n                        for (var key in arguments[0]) {\n                            arg += key + ': ' + arguments[0][key] + ', ';\n                        }\n                        arg = arg.slice(0, -2); // Remove trailing comma and space\n                    } else {\n                        arg = arguments[i];\n                    }\n                    args.push(arg);\n                }\n                warn(msg + '\\nArguments: ' + Array.prototype.slice.call(args).join('') + '\\n' + (new Error()).stack);\n                firstTime = false;\n            }\n            return fn.apply(this, arguments);\n        }, fn);\n    }\n\n    var deprecations = {};\n\n    function deprecateSimple(name, msg) {\n        if (hooks.deprecationHandler != null) {\n            hooks.deprecationHandler(name, msg);\n        }\n        if (!deprecations[name]) {\n            warn(msg);\n            deprecations[name] = true;\n        }\n    }\n\n    hooks.suppressDeprecationWarnings = false;\n    hooks.deprecationHandler = null;\n\n    function isFunction(input) {\n        return input instanceof Function || Object.prototype.toString.call(input) === '[object Function]';\n    }\n\n    function set (config) {\n        var prop, i;\n        for (i in config) {\n            prop = config[i];\n            if (isFunction(prop)) {\n                this[i] = prop;\n            } else {\n                this['_' + i] = prop;\n            }\n        }\n        this._config = config;\n        // Lenient ordinal parsing accepts just a number in addition to\n        // number + (possibly) stuff coming from _dayOfMonthOrdinalParse.\n        // TODO: Remove \"ordinalParse\" fallback in next major release.\n        this._dayOfMonthOrdinalParseLenient = new RegExp(\n            (this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) +\n                '|' + (/\\d{1,2}/).source);\n    }\n\n    function mergeConfigs(parentConfig, childConfig) {\n        var res = extend({}, parentConfig), prop;\n        for (prop in childConfig) {\n            if (hasOwnProp(childConfig, prop)) {\n                if (isObject(parentConfig[prop]) && isObject(childConfig[prop])) {\n                    res[prop] = {};\n                    extend(res[prop], parentConfig[prop]);\n                    extend(res[prop], childConfig[prop]);\n                } else if (childConfig[prop] != null) {\n                    res[prop] = childConfig[prop];\n                } else {\n                    delete res[prop];\n                }\n            }\n        }\n        for (prop in parentConfig) {\n            if (hasOwnProp(parentConfig, prop) &&\n                    !hasOwnProp(childConfig, prop) &&\n                    isObject(parentConfig[prop])) {\n                // make sure changes to properties don't modify parent config\n                res[prop] = extend({}, res[prop]);\n            }\n        }\n        return res;\n    }\n\n    function Locale(config) {\n        if (config != null) {\n            this.set(config);\n        }\n    }\n\n    var keys;\n\n    if (Object.keys) {\n        keys = Object.keys;\n    } else {\n        keys = function (obj) {\n            var i, res = [];\n            for (i in obj) {\n                if (hasOwnProp(obj, i)) {\n                    res.push(i);\n                }\n            }\n            return res;\n        };\n    }\n\n    var defaultCalendar = {\n        sameDay : '[Today at] LT',\n        nextDay : '[Tomorrow at] LT',\n        nextWeek : 'dddd [at] LT',\n        lastDay : '[Yesterday at] LT',\n        lastWeek : '[Last] dddd [at] LT',\n        sameElse : 'L'\n    };\n\n    function calendar (key, mom, now) {\n        var output = this._calendar[key] || this._calendar['sameElse'];\n        return isFunction(output) ? output.call(mom, now) : output;\n    }\n\n    var defaultLongDateFormat = {\n        LTS  : 'h:mm:ss A',\n        LT   : 'h:mm A',\n        L    : 'MM/DD/YYYY',\n        LL   : 'MMMM D, YYYY',\n        LLL  : 'MMMM D, YYYY h:mm A',\n        LLLL : 'dddd, MMMM D, YYYY h:mm A'\n    };\n\n    function longDateFormat (key) {\n        var format = this._longDateFormat[key],\n            formatUpper = this._longDateFormat[key.toUpperCase()];\n\n        if (format || !formatUpper) {\n            return format;\n        }\n\n        this._longDateFormat[key] = formatUpper.replace(/MMMM|MM|DD|dddd/g, function (val) {\n            return val.slice(1);\n        });\n\n        return this._longDateFormat[key];\n    }\n\n    var defaultInvalidDate = 'Invalid date';\n\n    function invalidDate () {\n        return this._invalidDate;\n    }\n\n    var defaultOrdinal = '%d';\n    var defaultDayOfMonthOrdinalParse = /\\d{1,2}/;\n\n    function ordinal (number) {\n        return this._ordinal.replace('%d', number);\n    }\n\n    var defaultRelativeTime = {\n        future : 'in %s',\n        past   : '%s ago',\n        s  : 'a few seconds',\n        ss : '%d seconds',\n        m  : 'a minute',\n        mm : '%d minutes',\n        h  : 'an hour',\n        hh : '%d hours',\n        d  : 'a day',\n        dd : '%d days',\n        M  : 'a month',\n        MM : '%d months',\n        y  : 'a year',\n        yy : '%d years'\n    };\n\n    function relativeTime (number, withoutSuffix, string, isFuture) {\n        var output = this._relativeTime[string];\n        return (isFunction(output)) ?\n            output(number, withoutSuffix, string, isFuture) :\n            output.replace(/%d/i, number);\n    }\n\n    function pastFuture (diff, output) {\n        var format = this._relativeTime[diff > 0 ? 'future' : 'past'];\n        return isFunction(format) ? format(output) : format.replace(/%s/i, output);\n    }\n\n    var aliases = {};\n\n    function addUnitAlias (unit, shorthand) {\n        var lowerCase = unit.toLowerCase();\n        aliases[lowerCase] = aliases[lowerCase + 's'] = aliases[shorthand] = unit;\n    }\n\n    function normalizeUnits(units) {\n        return typeof units === 'string' ? aliases[units] || aliases[units.toLowerCase()] : undefined;\n    }\n\n    function normalizeObjectUnits(inputObject) {\n        var normalizedInput = {},\n            normalizedProp,\n            prop;\n\n        for (prop in inputObject) {\n            if (hasOwnProp(inputObject, prop)) {\n                normalizedProp = normalizeUnits(prop);\n                if (normalizedProp) {\n                    normalizedInput[normalizedProp] = inputObject[prop];\n                }\n            }\n        }\n\n        return normalizedInput;\n    }\n\n    var priorities = {};\n\n    function addUnitPriority(unit, priority) {\n        priorities[unit] = priority;\n    }\n\n    function getPrioritizedUnits(unitsObj) {\n        var units = [];\n        for (var u in unitsObj) {\n            units.push({unit: u, priority: priorities[u]});\n        }\n        units.sort(function (a, b) {\n            return a.priority - b.priority;\n        });\n        return units;\n    }\n\n    function zeroFill(number, targetLength, forceSign) {\n        var absNumber = '' + Math.abs(number),\n            zerosToFill = targetLength - absNumber.length,\n            sign = number >= 0;\n        return (sign ? (forceSign ? '+' : '') : '-') +\n            Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) + absNumber;\n    }\n\n    var formattingTokens = /(\\[[^\\[]*\\])|(\\\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;\n\n    var localFormattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g;\n\n    var formatFunctions = {};\n\n    var formatTokenFunctions = {};\n\n    // token:    'M'\n    // padded:   ['MM', 2]\n    // ordinal:  'Mo'\n    // callback: function () { this.month() + 1 }\n    function addFormatToken (token, padded, ordinal, callback) {\n        var func = callback;\n        if (typeof callback === 'string') {\n            func = function () {\n                return this[callback]();\n            };\n        }\n        if (token) {\n            formatTokenFunctions[token] = func;\n        }\n        if (padded) {\n            formatTokenFunctions[padded[0]] = function () {\n                return zeroFill(func.apply(this, arguments), padded[1], padded[2]);\n            };\n        }\n        if (ordinal) {\n            formatTokenFunctions[ordinal] = function () {\n                return this.localeData().ordinal(func.apply(this, arguments), token);\n            };\n        }\n    }\n\n    function removeFormattingTokens(input) {\n        if (input.match(/\\[[\\s\\S]/)) {\n            return input.replace(/^\\[|\\]$/g, '');\n        }\n        return input.replace(/\\\\/g, '');\n    }\n\n    function makeFormatFunction(format) {\n        var array = format.match(formattingTokens), i, length;\n\n        for (i = 0, length = array.length; i < length; i++) {\n            if (formatTokenFunctions[array[i]]) {\n                array[i] = formatTokenFunctions[array[i]];\n            } else {\n                array[i] = removeFormattingTokens(array[i]);\n            }\n        }\n\n        return function (mom) {\n            var output = '', i;\n            for (i = 0; i < length; i++) {\n                output += isFunction(array[i]) ? array[i].call(mom, format) : array[i];\n            }\n            return output;\n        };\n    }\n\n    // format date using native date object\n    function formatMoment(m, format) {\n        if (!m.isValid()) {\n            return m.localeData().invalidDate();\n        }\n\n        format = expandFormat(format, m.localeData());\n        formatFunctions[format] = formatFunctions[format] || makeFormatFunction(format);\n\n        return formatFunctions[format](m);\n    }\n\n    function expandFormat(format, locale) {\n        var i = 5;\n\n        function replaceLongDateFormatTokens(input) {\n            return locale.longDateFormat(input) || input;\n        }\n\n        localFormattingTokens.lastIndex = 0;\n        while (i >= 0 && localFormattingTokens.test(format)) {\n            format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);\n            localFormattingTokens.lastIndex = 0;\n            i -= 1;\n        }\n\n        return format;\n    }\n\n    var match1         = /\\d/;            //       0 - 9\n    var match2         = /\\d\\d/;          //      00 - 99\n    var match3         = /\\d{3}/;         //     000 - 999\n    var match4         = /\\d{4}/;         //    0000 - 9999\n    var match6         = /[+-]?\\d{6}/;    // -999999 - 999999\n    var match1to2      = /\\d\\d?/;         //       0 - 99\n    var match3to4      = /\\d\\d\\d\\d?/;     //     999 - 9999\n    var match5to6      = /\\d\\d\\d\\d\\d\\d?/; //   99999 - 999999\n    var match1to3      = /\\d{1,3}/;       //       0 - 999\n    var match1to4      = /\\d{1,4}/;       //       0 - 9999\n    var match1to6      = /[+-]?\\d{1,6}/;  // -999999 - 999999\n\n    var matchUnsigned  = /\\d+/;           //       0 - inf\n    var matchSigned    = /[+-]?\\d+/;      //    -inf - inf\n\n    var matchOffset    = /Z|[+-]\\d\\d:?\\d\\d/gi; // +00:00 -00:00 +0000 -0000 or Z\n    var matchShortOffset = /Z|[+-]\\d\\d(?::?\\d\\d)?/gi; // +00 -00 +00:00 -00:00 +0000 -0000 or Z\n\n    var matchTimestamp = /[+-]?\\d+(\\.\\d{1,3})?/; // 123456789 123456789.123\n\n    // any word (or two) characters or numbers including two/three word month in arabic.\n    // includes scottish gaelic two word and hyphenated months\n    var matchWord = /[0-9]{0,256}['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFF07\\uFF10-\\uFFEF]{1,256}|[\\u0600-\\u06FF\\/]{1,256}(\\s*?[\\u0600-\\u06FF]{1,256}){1,2}/i;\n\n    var regexes = {};\n\n    function addRegexToken (token, regex, strictRegex) {\n        regexes[token] = isFunction(regex) ? regex : function (isStrict, localeData) {\n            return (isStrict && strictRegex) ? strictRegex : regex;\n        };\n    }\n\n    function getParseRegexForToken (token, config) {\n        if (!hasOwnProp(regexes, token)) {\n            return new RegExp(unescapeFormat(token));\n        }\n\n        return regexes[token](config._strict, config._locale);\n    }\n\n    // Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\n    function unescapeFormat(s) {\n        return regexEscape(s.replace('\\\\', '').replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g, function (matched, p1, p2, p3, p4) {\n            return p1 || p2 || p3 || p4;\n        }));\n    }\n\n    function regexEscape(s) {\n        return s.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n    }\n\n    var tokens = {};\n\n    function addParseToken (token, callback) {\n        var i, func = callback;\n        if (typeof token === 'string') {\n            token = [token];\n        }\n        if (isNumber(callback)) {\n            func = function (input, array) {\n                array[callback] = toInt(input);\n            };\n        }\n        for (i = 0; i < token.length; i++) {\n            tokens[token[i]] = func;\n        }\n    }\n\n    function addWeekParseToken (token, callback) {\n        addParseToken(token, function (input, array, config, token) {\n            config._w = config._w || {};\n            callback(input, config._w, config, token);\n        });\n    }\n\n    function addTimeToArrayFromToken(token, input, config) {\n        if (input != null && hasOwnProp(tokens, token)) {\n            tokens[token](input, config._a, config, token);\n        }\n    }\n\n    var YEAR = 0;\n    var MONTH = 1;\n    var DATE = 2;\n    var HOUR = 3;\n    var MINUTE = 4;\n    var SECOND = 5;\n    var MILLISECOND = 6;\n    var WEEK = 7;\n    var WEEKDAY = 8;\n\n    // FORMATTING\n\n    addFormatToken('Y', 0, 0, function () {\n        var y = this.year();\n        return y <= 9999 ? '' + y : '+' + y;\n    });\n\n    addFormatToken(0, ['YY', 2], 0, function () {\n        return this.year() % 100;\n    });\n\n    addFormatToken(0, ['YYYY',   4],       0, 'year');\n    addFormatToken(0, ['YYYYY',  5],       0, 'year');\n    addFormatToken(0, ['YYYYYY', 6, true], 0, 'year');\n\n    // ALIASES\n\n    addUnitAlias('year', 'y');\n\n    // PRIORITIES\n\n    addUnitPriority('year', 1);\n\n    // PARSING\n\n    addRegexToken('Y',      matchSigned);\n    addRegexToken('YY',     match1to2, match2);\n    addRegexToken('YYYY',   match1to4, match4);\n    addRegexToken('YYYYY',  match1to6, match6);\n    addRegexToken('YYYYYY', match1to6, match6);\n\n    addParseToken(['YYYYY', 'YYYYYY'], YEAR);\n    addParseToken('YYYY', function (input, array) {\n        array[YEAR] = input.length === 2 ? hooks.parseTwoDigitYear(input) : toInt(input);\n    });\n    addParseToken('YY', function (input, array) {\n        array[YEAR] = hooks.parseTwoDigitYear(input);\n    });\n    addParseToken('Y', function (input, array) {\n        array[YEAR] = parseInt(input, 10);\n    });\n\n    // HELPERS\n\n    function daysInYear(year) {\n        return isLeapYear(year) ? 366 : 365;\n    }\n\n    function isLeapYear(year) {\n        return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n    }\n\n    // HOOKS\n\n    hooks.parseTwoDigitYear = function (input) {\n        return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);\n    };\n\n    // MOMENTS\n\n    var getSetYear = makeGetSet('FullYear', true);\n\n    function getIsLeapYear () {\n        return isLeapYear(this.year());\n    }\n\n    function makeGetSet (unit, keepTime) {\n        return function (value) {\n            if (value != null) {\n                set$1(this, unit, value);\n                hooks.updateOffset(this, keepTime);\n                return this;\n            } else {\n                return get(this, unit);\n            }\n        };\n    }\n\n    function get (mom, unit) {\n        return mom.isValid() ?\n            mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]() : NaN;\n    }\n\n    function set$1 (mom, unit, value) {\n        if (mom.isValid() && !isNaN(value)) {\n            if (unit === 'FullYear' && isLeapYear(mom.year()) && mom.month() === 1 && mom.date() === 29) {\n                mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value, mom.month(), daysInMonth(value, mom.month()));\n            }\n            else {\n                mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function stringGet (units) {\n        units = normalizeUnits(units);\n        if (isFunction(this[units])) {\n            return this[units]();\n        }\n        return this;\n    }\n\n\n    function stringSet (units, value) {\n        if (typeof units === 'object') {\n            units = normalizeObjectUnits(units);\n            var prioritized = getPrioritizedUnits(units);\n            for (var i = 0; i < prioritized.length; i++) {\n                this[prioritized[i].unit](units[prioritized[i].unit]);\n            }\n        } else {\n            units = normalizeUnits(units);\n            if (isFunction(this[units])) {\n                return this[units](value);\n            }\n        }\n        return this;\n    }\n\n    function mod(n, x) {\n        return ((n % x) + x) % x;\n    }\n\n    var indexOf;\n\n    if (Array.prototype.indexOf) {\n        indexOf = Array.prototype.indexOf;\n    } else {\n        indexOf = function (o) {\n            // I know\n            var i;\n            for (i = 0; i < this.length; ++i) {\n                if (this[i] === o) {\n                    return i;\n                }\n            }\n            return -1;\n        };\n    }\n\n    function daysInMonth(year, month) {\n        if (isNaN(year) || isNaN(month)) {\n            return NaN;\n        }\n        var modMonth = mod(month, 12);\n        year += (month - modMonth) / 12;\n        return modMonth === 1 ? (isLeapYear(year) ? 29 : 28) : (31 - modMonth % 7 % 2);\n    }\n\n    // FORMATTING\n\n    addFormatToken('M', ['MM', 2], 'Mo', function () {\n        return this.month() + 1;\n    });\n\n    addFormatToken('MMM', 0, 0, function (format) {\n        return this.localeData().monthsShort(this, format);\n    });\n\n    addFormatToken('MMMM', 0, 0, function (format) {\n        return this.localeData().months(this, format);\n    });\n\n    // ALIASES\n\n    addUnitAlias('month', 'M');\n\n    // PRIORITY\n\n    addUnitPriority('month', 8);\n\n    // PARSING\n\n    addRegexToken('M',    match1to2);\n    addRegexToken('MM',   match1to2, match2);\n    addRegexToken('MMM',  function (isStrict, locale) {\n        return locale.monthsShortRegex(isStrict);\n    });\n    addRegexToken('MMMM', function (isStrict, locale) {\n        return locale.monthsRegex(isStrict);\n    });\n\n    addParseToken(['M', 'MM'], function (input, array) {\n        array[MONTH] = toInt(input) - 1;\n    });\n\n    addParseToken(['MMM', 'MMMM'], function (input, array, config, token) {\n        var month = config._locale.monthsParse(input, token, config._strict);\n        // if we didn't find a month name, mark the date as invalid.\n        if (month != null) {\n            array[MONTH] = month;\n        } else {\n            getParsingFlags(config).invalidMonth = input;\n        }\n    });\n\n    // LOCALES\n\n    var MONTHS_IN_FORMAT = /D[oD]?(\\[[^\\[\\]]*\\]|\\s)+MMMM?/;\n    var defaultLocaleMonths = 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_');\n    function localeMonths (m, format) {\n        if (!m) {\n            return isArray(this._months) ? this._months :\n                this._months['standalone'];\n        }\n        return isArray(this._months) ? this._months[m.month()] :\n            this._months[(this._months.isFormat || MONTHS_IN_FORMAT).test(format) ? 'format' : 'standalone'][m.month()];\n    }\n\n    var defaultLocaleMonthsShort = 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_');\n    function localeMonthsShort (m, format) {\n        if (!m) {\n            return isArray(this._monthsShort) ? this._monthsShort :\n                this._monthsShort['standalone'];\n        }\n        return isArray(this._monthsShort) ? this._monthsShort[m.month()] :\n            this._monthsShort[MONTHS_IN_FORMAT.test(format) ? 'format' : 'standalone'][m.month()];\n    }\n\n    function handleStrictParse(monthName, format, strict) {\n        var i, ii, mom, llc = monthName.toLocaleLowerCase();\n        if (!this._monthsParse) {\n            // this is not used\n            this._monthsParse = [];\n            this._longMonthsParse = [];\n            this._shortMonthsParse = [];\n            for (i = 0; i < 12; ++i) {\n                mom = createUTC([2000, i]);\n                this._shortMonthsParse[i] = this.monthsShort(mom, '').toLocaleLowerCase();\n                this._longMonthsParse[i] = this.months(mom, '').toLocaleLowerCase();\n            }\n        }\n\n        if (strict) {\n            if (format === 'MMM') {\n                ii = indexOf.call(this._shortMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._longMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        } else {\n            if (format === 'MMM') {\n                ii = indexOf.call(this._shortMonthsParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._longMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._longMonthsParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._shortMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        }\n    }\n\n    function localeMonthsParse (monthName, format, strict) {\n        var i, mom, regex;\n\n        if (this._monthsParseExact) {\n            return handleStrictParse.call(this, monthName, format, strict);\n        }\n\n        if (!this._monthsParse) {\n            this._monthsParse = [];\n            this._longMonthsParse = [];\n            this._shortMonthsParse = [];\n        }\n\n        // TODO: add sorting\n        // Sorting makes sure if one month (or abbr) is a prefix of another\n        // see sorting in computeMonthsParse\n        for (i = 0; i < 12; i++) {\n            // make the regex if we don't have it already\n            mom = createUTC([2000, i]);\n            if (strict && !this._longMonthsParse[i]) {\n                this._longMonthsParse[i] = new RegExp('^' + this.months(mom, '').replace('.', '') + '$', 'i');\n                this._shortMonthsParse[i] = new RegExp('^' + this.monthsShort(mom, '').replace('.', '') + '$', 'i');\n            }\n            if (!strict && !this._monthsParse[i]) {\n                regex = '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');\n                this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');\n            }\n            // test the regex\n            if (strict && format === 'MMMM' && this._longMonthsParse[i].test(monthName)) {\n                return i;\n            } else if (strict && format === 'MMM' && this._shortMonthsParse[i].test(monthName)) {\n                return i;\n            } else if (!strict && this._monthsParse[i].test(monthName)) {\n                return i;\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function setMonth (mom, value) {\n        var dayOfMonth;\n\n        if (!mom.isValid()) {\n            // No op\n            return mom;\n        }\n\n        if (typeof value === 'string') {\n            if (/^\\d+$/.test(value)) {\n                value = toInt(value);\n            } else {\n                value = mom.localeData().monthsParse(value);\n                // TODO: Another silent failure?\n                if (!isNumber(value)) {\n                    return mom;\n                }\n            }\n        }\n\n        dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));\n        mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);\n        return mom;\n    }\n\n    function getSetMonth (value) {\n        if (value != null) {\n            setMonth(this, value);\n            hooks.updateOffset(this, true);\n            return this;\n        } else {\n            return get(this, 'Month');\n        }\n    }\n\n    function getDaysInMonth () {\n        return daysInMonth(this.year(), this.month());\n    }\n\n    var defaultMonthsShortRegex = matchWord;\n    function monthsShortRegex (isStrict) {\n        if (this._monthsParseExact) {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                computeMonthsParse.call(this);\n            }\n            if (isStrict) {\n                return this._monthsShortStrictRegex;\n            } else {\n                return this._monthsShortRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_monthsShortRegex')) {\n                this._monthsShortRegex = defaultMonthsShortRegex;\n            }\n            return this._monthsShortStrictRegex && isStrict ?\n                this._monthsShortStrictRegex : this._monthsShortRegex;\n        }\n    }\n\n    var defaultMonthsRegex = matchWord;\n    function monthsRegex (isStrict) {\n        if (this._monthsParseExact) {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                computeMonthsParse.call(this);\n            }\n            if (isStrict) {\n                return this._monthsStrictRegex;\n            } else {\n                return this._monthsRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                this._monthsRegex = defaultMonthsRegex;\n            }\n            return this._monthsStrictRegex && isStrict ?\n                this._monthsStrictRegex : this._monthsRegex;\n        }\n    }\n\n    function computeMonthsParse () {\n        function cmpLenRev(a, b) {\n            return b.length - a.length;\n        }\n\n        var shortPieces = [], longPieces = [], mixedPieces = [],\n            i, mom;\n        for (i = 0; i < 12; i++) {\n            // make the regex if we don't have it already\n            mom = createUTC([2000, i]);\n            shortPieces.push(this.monthsShort(mom, ''));\n            longPieces.push(this.months(mom, ''));\n            mixedPieces.push(this.months(mom, ''));\n            mixedPieces.push(this.monthsShort(mom, ''));\n        }\n        // Sorting makes sure if one month (or abbr) is a prefix of another it\n        // will match the longer piece.\n        shortPieces.sort(cmpLenRev);\n        longPieces.sort(cmpLenRev);\n        mixedPieces.sort(cmpLenRev);\n        for (i = 0; i < 12; i++) {\n            shortPieces[i] = regexEscape(shortPieces[i]);\n            longPieces[i] = regexEscape(longPieces[i]);\n        }\n        for (i = 0; i < 24; i++) {\n            mixedPieces[i] = regexEscape(mixedPieces[i]);\n        }\n\n        this._monthsRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n        this._monthsShortRegex = this._monthsRegex;\n        this._monthsStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');\n        this._monthsShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');\n    }\n\n    function createDate (y, m, d, h, M, s, ms) {\n        // can't just apply() to create a date:\n        // https://stackoverflow.com/q/181348\n        var date;\n        // the date constructor remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            // preserve leap years using a full 400 year cycle, then reset\n            date = new Date(y + 400, m, d, h, M, s, ms);\n            if (isFinite(date.getFullYear())) {\n                date.setFullYear(y);\n            }\n        } else {\n            date = new Date(y, m, d, h, M, s, ms);\n        }\n\n        return date;\n    }\n\n    function createUTCDate (y) {\n        var date;\n        // the Date.UTC function remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            var args = Array.prototype.slice.call(arguments);\n            // preserve leap years using a full 400 year cycle, then reset\n            args[0] = y + 400;\n            date = new Date(Date.UTC.apply(null, args));\n            if (isFinite(date.getUTCFullYear())) {\n                date.setUTCFullYear(y);\n            }\n        } else {\n            date = new Date(Date.UTC.apply(null, arguments));\n        }\n\n        return date;\n    }\n\n    // start-of-first-week - start-of-year\n    function firstWeekOffset(year, dow, doy) {\n        var // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n            fwd = 7 + dow - doy,\n            // first-week day local weekday -- which local weekday is fwd\n            fwdlw = (7 + createUTCDate(year, 0, fwd).getUTCDay() - dow) % 7;\n\n        return -fwdlw + fwd - 1;\n    }\n\n    // https://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday\n    function dayOfYearFromWeeks(year, week, weekday, dow, doy) {\n        var localWeekday = (7 + weekday - dow) % 7,\n            weekOffset = firstWeekOffset(year, dow, doy),\n            dayOfYear = 1 + 7 * (week - 1) + localWeekday + weekOffset,\n            resYear, resDayOfYear;\n\n        if (dayOfYear <= 0) {\n            resYear = year - 1;\n            resDayOfYear = daysInYear(resYear) + dayOfYear;\n        } else if (dayOfYear > daysInYear(year)) {\n            resYear = year + 1;\n            resDayOfYear = dayOfYear - daysInYear(year);\n        } else {\n            resYear = year;\n            resDayOfYear = dayOfYear;\n        }\n\n        return {\n            year: resYear,\n            dayOfYear: resDayOfYear\n        };\n    }\n\n    function weekOfYear(mom, dow, doy) {\n        var weekOffset = firstWeekOffset(mom.year(), dow, doy),\n            week = Math.floor((mom.dayOfYear() - weekOffset - 1) / 7) + 1,\n            resWeek, resYear;\n\n        if (week < 1) {\n            resYear = mom.year() - 1;\n            resWeek = week + weeksInYear(resYear, dow, doy);\n        } else if (week > weeksInYear(mom.year(), dow, doy)) {\n            resWeek = week - weeksInYear(mom.year(), dow, doy);\n            resYear = mom.year() + 1;\n        } else {\n            resYear = mom.year();\n            resWeek = week;\n        }\n\n        return {\n            week: resWeek,\n            year: resYear\n        };\n    }\n\n    function weeksInYear(year, dow, doy) {\n        var weekOffset = firstWeekOffset(year, dow, doy),\n            weekOffsetNext = firstWeekOffset(year + 1, dow, doy);\n        return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;\n    }\n\n    // FORMATTING\n\n    addFormatToken('w', ['ww', 2], 'wo', 'week');\n    addFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');\n\n    // ALIASES\n\n    addUnitAlias('week', 'w');\n    addUnitAlias('isoWeek', 'W');\n\n    // PRIORITIES\n\n    addUnitPriority('week', 5);\n    addUnitPriority('isoWeek', 5);\n\n    // PARSING\n\n    addRegexToken('w',  match1to2);\n    addRegexToken('ww', match1to2, match2);\n    addRegexToken('W',  match1to2);\n    addRegexToken('WW', match1to2, match2);\n\n    addWeekParseToken(['w', 'ww', 'W', 'WW'], function (input, week, config, token) {\n        week[token.substr(0, 1)] = toInt(input);\n    });\n\n    // HELPERS\n\n    // LOCALES\n\n    function localeWeek (mom) {\n        return weekOfYear(mom, this._week.dow, this._week.doy).week;\n    }\n\n    var defaultLocaleWeek = {\n        dow : 0, // Sunday is the first day of the week.\n        doy : 6  // The week that contains Jan 6th is the first week of the year.\n    };\n\n    function localeFirstDayOfWeek () {\n        return this._week.dow;\n    }\n\n    function localeFirstDayOfYear () {\n        return this._week.doy;\n    }\n\n    // MOMENTS\n\n    function getSetWeek (input) {\n        var week = this.localeData().week(this);\n        return input == null ? week : this.add((input - week) * 7, 'd');\n    }\n\n    function getSetISOWeek (input) {\n        var week = weekOfYear(this, 1, 4).week;\n        return input == null ? week : this.add((input - week) * 7, 'd');\n    }\n\n    // FORMATTING\n\n    addFormatToken('d', 0, 'do', 'day');\n\n    addFormatToken('dd', 0, 0, function (format) {\n        return this.localeData().weekdaysMin(this, format);\n    });\n\n    addFormatToken('ddd', 0, 0, function (format) {\n        return this.localeData().weekdaysShort(this, format);\n    });\n\n    addFormatToken('dddd', 0, 0, function (format) {\n        return this.localeData().weekdays(this, format);\n    });\n\n    addFormatToken('e', 0, 0, 'weekday');\n    addFormatToken('E', 0, 0, 'isoWeekday');\n\n    // ALIASES\n\n    addUnitAlias('day', 'd');\n    addUnitAlias('weekday', 'e');\n    addUnitAlias('isoWeekday', 'E');\n\n    // PRIORITY\n    addUnitPriority('day', 11);\n    addUnitPriority('weekday', 11);\n    addUnitPriority('isoWeekday', 11);\n\n    // PARSING\n\n    addRegexToken('d',    match1to2);\n    addRegexToken('e',    match1to2);\n    addRegexToken('E',    match1to2);\n    addRegexToken('dd',   function (isStrict, locale) {\n        return locale.weekdaysMinRegex(isStrict);\n    });\n    addRegexToken('ddd',   function (isStrict, locale) {\n        return locale.weekdaysShortRegex(isStrict);\n    });\n    addRegexToken('dddd',   function (isStrict, locale) {\n        return locale.weekdaysRegex(isStrict);\n    });\n\n    addWeekParseToken(['dd', 'ddd', 'dddd'], function (input, week, config, token) {\n        var weekday = config._locale.weekdaysParse(input, token, config._strict);\n        // if we didn't get a weekday name, mark the date as invalid\n        if (weekday != null) {\n            week.d = weekday;\n        } else {\n            getParsingFlags(config).invalidWeekday = input;\n        }\n    });\n\n    addWeekParseToken(['d', 'e', 'E'], function (input, week, config, token) {\n        week[token] = toInt(input);\n    });\n\n    // HELPERS\n\n    function parseWeekday(input, locale) {\n        if (typeof input !== 'string') {\n            return input;\n        }\n\n        if (!isNaN(input)) {\n            return parseInt(input, 10);\n        }\n\n        input = locale.weekdaysParse(input);\n        if (typeof input === 'number') {\n            return input;\n        }\n\n        return null;\n    }\n\n    function parseIsoWeekday(input, locale) {\n        if (typeof input === 'string') {\n            return locale.weekdaysParse(input) % 7 || 7;\n        }\n        return isNaN(input) ? null : input;\n    }\n\n    // LOCALES\n    function shiftWeekdays (ws, n) {\n        return ws.slice(n, 7).concat(ws.slice(0, n));\n    }\n\n    var defaultLocaleWeekdays = 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_');\n    function localeWeekdays (m, format) {\n        var weekdays = isArray(this._weekdays) ? this._weekdays :\n            this._weekdays[(m && m !== true && this._weekdays.isFormat.test(format)) ? 'format' : 'standalone'];\n        return (m === true) ? shiftWeekdays(weekdays, this._week.dow)\n            : (m) ? weekdays[m.day()] : weekdays;\n    }\n\n    var defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_');\n    function localeWeekdaysShort (m) {\n        return (m === true) ? shiftWeekdays(this._weekdaysShort, this._week.dow)\n            : (m) ? this._weekdaysShort[m.day()] : this._weekdaysShort;\n    }\n\n    var defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_');\n    function localeWeekdaysMin (m) {\n        return (m === true) ? shiftWeekdays(this._weekdaysMin, this._week.dow)\n            : (m) ? this._weekdaysMin[m.day()] : this._weekdaysMin;\n    }\n\n    function handleStrictParse$1(weekdayName, format, strict) {\n        var i, ii, mom, llc = weekdayName.toLocaleLowerCase();\n        if (!this._weekdaysParse) {\n            this._weekdaysParse = [];\n            this._shortWeekdaysParse = [];\n            this._minWeekdaysParse = [];\n\n            for (i = 0; i < 7; ++i) {\n                mom = createUTC([2000, 1]).day(i);\n                this._minWeekdaysParse[i] = this.weekdaysMin(mom, '').toLocaleLowerCase();\n                this._shortWeekdaysParse[i] = this.weekdaysShort(mom, '').toLocaleLowerCase();\n                this._weekdaysParse[i] = this.weekdays(mom, '').toLocaleLowerCase();\n            }\n        }\n\n        if (strict) {\n            if (format === 'dddd') {\n                ii = indexOf.call(this._weekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else if (format === 'ddd') {\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        } else {\n            if (format === 'dddd') {\n                ii = indexOf.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else if (format === 'ddd') {\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        }\n    }\n\n    function localeWeekdaysParse (weekdayName, format, strict) {\n        var i, mom, regex;\n\n        if (this._weekdaysParseExact) {\n            return handleStrictParse$1.call(this, weekdayName, format, strict);\n        }\n\n        if (!this._weekdaysParse) {\n            this._weekdaysParse = [];\n            this._minWeekdaysParse = [];\n            this._shortWeekdaysParse = [];\n            this._fullWeekdaysParse = [];\n        }\n\n        for (i = 0; i < 7; i++) {\n            // make the regex if we don't have it already\n\n            mom = createUTC([2000, 1]).day(i);\n            if (strict && !this._fullWeekdaysParse[i]) {\n                this._fullWeekdaysParse[i] = new RegExp('^' + this.weekdays(mom, '').replace('.', '\\\\.?') + '$', 'i');\n                this._shortWeekdaysParse[i] = new RegExp('^' + this.weekdaysShort(mom, '').replace('.', '\\\\.?') + '$', 'i');\n                this._minWeekdaysParse[i] = new RegExp('^' + this.weekdaysMin(mom, '').replace('.', '\\\\.?') + '$', 'i');\n            }\n            if (!this._weekdaysParse[i]) {\n                regex = '^' + this.weekdays(mom, '') + '|^' + this.weekdaysShort(mom, '') + '|^' + this.weekdaysMin(mom, '');\n                this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');\n            }\n            // test the regex\n            if (strict && format === 'dddd' && this._fullWeekdaysParse[i].test(weekdayName)) {\n                return i;\n            } else if (strict && format === 'ddd' && this._shortWeekdaysParse[i].test(weekdayName)) {\n                return i;\n            } else if (strict && format === 'dd' && this._minWeekdaysParse[i].test(weekdayName)) {\n                return i;\n            } else if (!strict && this._weekdaysParse[i].test(weekdayName)) {\n                return i;\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function getSetDayOfWeek (input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n        var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();\n        if (input != null) {\n            input = parseWeekday(input, this.localeData());\n            return this.add(input - day, 'd');\n        } else {\n            return day;\n        }\n    }\n\n    function getSetLocaleDayOfWeek (input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n        var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;\n        return input == null ? weekday : this.add(input - weekday, 'd');\n    }\n\n    function getSetISODayOfWeek (input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n\n        // behaves the same as moment#day except\n        // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)\n        // as a setter, sunday should belong to the previous week.\n\n        if (input != null) {\n            var weekday = parseIsoWeekday(input, this.localeData());\n            return this.day(this.day() % 7 ? weekday : weekday - 7);\n        } else {\n            return this.day() || 7;\n        }\n    }\n\n    var defaultWeekdaysRegex = matchWord;\n    function weekdaysRegex (isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysStrictRegex;\n            } else {\n                return this._weekdaysRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                this._weekdaysRegex = defaultWeekdaysRegex;\n            }\n            return this._weekdaysStrictRegex && isStrict ?\n                this._weekdaysStrictRegex : this._weekdaysRegex;\n        }\n    }\n\n    var defaultWeekdaysShortRegex = matchWord;\n    function weekdaysShortRegex (isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysShortStrictRegex;\n            } else {\n                return this._weekdaysShortRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysShortRegex')) {\n                this._weekdaysShortRegex = defaultWeekdaysShortRegex;\n            }\n            return this._weekdaysShortStrictRegex && isStrict ?\n                this._weekdaysShortStrictRegex : this._weekdaysShortRegex;\n        }\n    }\n\n    var defaultWeekdaysMinRegex = matchWord;\n    function weekdaysMinRegex (isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysMinStrictRegex;\n            } else {\n                return this._weekdaysMinRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysMinRegex')) {\n                this._weekdaysMinRegex = defaultWeekdaysMinRegex;\n            }\n            return this._weekdaysMinStrictRegex && isStrict ?\n                this._weekdaysMinStrictRegex : this._weekdaysMinRegex;\n        }\n    }\n\n\n    function computeWeekdaysParse () {\n        function cmpLenRev(a, b) {\n            return b.length - a.length;\n        }\n\n        var minPieces = [], shortPieces = [], longPieces = [], mixedPieces = [],\n            i, mom, minp, shortp, longp;\n        for (i = 0; i < 7; i++) {\n            // make the regex if we don't have it already\n            mom = createUTC([2000, 1]).day(i);\n            minp = this.weekdaysMin(mom, '');\n            shortp = this.weekdaysShort(mom, '');\n            longp = this.weekdays(mom, '');\n            minPieces.push(minp);\n            shortPieces.push(shortp);\n            longPieces.push(longp);\n            mixedPieces.push(minp);\n            mixedPieces.push(shortp);\n            mixedPieces.push(longp);\n        }\n        // Sorting makes sure if one weekday (or abbr) is a prefix of another it\n        // will match the longer piece.\n        minPieces.sort(cmpLenRev);\n        shortPieces.sort(cmpLenRev);\n        longPieces.sort(cmpLenRev);\n        mixedPieces.sort(cmpLenRev);\n        for (i = 0; i < 7; i++) {\n            shortPieces[i] = regexEscape(shortPieces[i]);\n            longPieces[i] = regexEscape(longPieces[i]);\n            mixedPieces[i] = regexEscape(mixedPieces[i]);\n        }\n\n        this._weekdaysRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n        this._weekdaysShortRegex = this._weekdaysRegex;\n        this._weekdaysMinRegex = this._weekdaysRegex;\n\n        this._weekdaysStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');\n        this._weekdaysShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');\n        this._weekdaysMinStrictRegex = new RegExp('^(' + minPieces.join('|') + ')', 'i');\n    }\n\n    // FORMATTING\n\n    function hFormat() {\n        return this.hours() % 12 || 12;\n    }\n\n    function kFormat() {\n        return this.hours() || 24;\n    }\n\n    addFormatToken('H', ['HH', 2], 0, 'hour');\n    addFormatToken('h', ['hh', 2], 0, hFormat);\n    addFormatToken('k', ['kk', 2], 0, kFormat);\n\n    addFormatToken('hmm', 0, 0, function () {\n        return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2);\n    });\n\n    addFormatToken('hmmss', 0, 0, function () {\n        return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2) +\n            zeroFill(this.seconds(), 2);\n    });\n\n    addFormatToken('Hmm', 0, 0, function () {\n        return '' + this.hours() + zeroFill(this.minutes(), 2);\n    });\n\n    addFormatToken('Hmmss', 0, 0, function () {\n        return '' + this.hours() + zeroFill(this.minutes(), 2) +\n            zeroFill(this.seconds(), 2);\n    });\n\n    function meridiem (token, lowercase) {\n        addFormatToken(token, 0, 0, function () {\n            return this.localeData().meridiem(this.hours(), this.minutes(), lowercase);\n        });\n    }\n\n    meridiem('a', true);\n    meridiem('A', false);\n\n    // ALIASES\n\n    addUnitAlias('hour', 'h');\n\n    // PRIORITY\n    addUnitPriority('hour', 13);\n\n    // PARSING\n\n    function matchMeridiem (isStrict, locale) {\n        return locale._meridiemParse;\n    }\n\n    addRegexToken('a',  matchMeridiem);\n    addRegexToken('A',  matchMeridiem);\n    addRegexToken('H',  match1to2);\n    addRegexToken('h',  match1to2);\n    addRegexToken('k',  match1to2);\n    addRegexToken('HH', match1to2, match2);\n    addRegexToken('hh', match1to2, match2);\n    addRegexToken('kk', match1to2, match2);\n\n    addRegexToken('hmm', match3to4);\n    addRegexToken('hmmss', match5to6);\n    addRegexToken('Hmm', match3to4);\n    addRegexToken('Hmmss', match5to6);\n\n    addParseToken(['H', 'HH'], HOUR);\n    addParseToken(['k', 'kk'], function (input, array, config) {\n        var kInput = toInt(input);\n        array[HOUR] = kInput === 24 ? 0 : kInput;\n    });\n    addParseToken(['a', 'A'], function (input, array, config) {\n        config._isPm = config._locale.isPM(input);\n        config._meridiem = input;\n    });\n    addParseToken(['h', 'hh'], function (input, array, config) {\n        array[HOUR] = toInt(input);\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('hmm', function (input, array, config) {\n        var pos = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos));\n        array[MINUTE] = toInt(input.substr(pos));\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('hmmss', function (input, array, config) {\n        var pos1 = input.length - 4;\n        var pos2 = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos1));\n        array[MINUTE] = toInt(input.substr(pos1, 2));\n        array[SECOND] = toInt(input.substr(pos2));\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('Hmm', function (input, array, config) {\n        var pos = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos));\n        array[MINUTE] = toInt(input.substr(pos));\n    });\n    addParseToken('Hmmss', function (input, array, config) {\n        var pos1 = input.length - 4;\n        var pos2 = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos1));\n        array[MINUTE] = toInt(input.substr(pos1, 2));\n        array[SECOND] = toInt(input.substr(pos2));\n    });\n\n    // LOCALES\n\n    function localeIsPM (input) {\n        // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays\n        // Using charAt should be more compatible.\n        return ((input + '').toLowerCase().charAt(0) === 'p');\n    }\n\n    var defaultLocaleMeridiemParse = /[ap]\\.?m?\\.?/i;\n    function localeMeridiem (hours, minutes, isLower) {\n        if (hours > 11) {\n            return isLower ? 'pm' : 'PM';\n        } else {\n            return isLower ? 'am' : 'AM';\n        }\n    }\n\n\n    // MOMENTS\n\n    // Setting the hour should keep the time, because the user explicitly\n    // specified which hour they want. So trying to maintain the same hour (in\n    // a new timezone) makes sense. Adding/subtracting hours does not follow\n    // this rule.\n    var getSetHour = makeGetSet('Hours', true);\n\n    var baseConfig = {\n        calendar: defaultCalendar,\n        longDateFormat: defaultLongDateFormat,\n        invalidDate: defaultInvalidDate,\n        ordinal: defaultOrdinal,\n        dayOfMonthOrdinalParse: defaultDayOfMonthOrdinalParse,\n        relativeTime: defaultRelativeTime,\n\n        months: defaultLocaleMonths,\n        monthsShort: defaultLocaleMonthsShort,\n\n        week: defaultLocaleWeek,\n\n        weekdays: defaultLocaleWeekdays,\n        weekdaysMin: defaultLocaleWeekdaysMin,\n        weekdaysShort: defaultLocaleWeekdaysShort,\n\n        meridiemParse: defaultLocaleMeridiemParse\n    };\n\n    // internal storage for locale config files\n    var locales = {};\n    var localeFamilies = {};\n    var globalLocale;\n\n    function normalizeLocale(key) {\n        return key ? key.toLowerCase().replace('_', '-') : key;\n    }\n\n    // pick the locale from the array\n    // try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each\n    // substring from most specific to least, but move to the next array item if it's a more specific variant than the current root\n    function chooseLocale(names) {\n        var i = 0, j, next, locale, split;\n\n        while (i < names.length) {\n            split = normalizeLocale(names[i]).split('-');\n            j = split.length;\n            next = normalizeLocale(names[i + 1]);\n            next = next ? next.split('-') : null;\n            while (j > 0) {\n                locale = loadLocale(split.slice(0, j).join('-'));\n                if (locale) {\n                    return locale;\n                }\n                if (next && next.length >= j && compareArrays(split, next, true) >= j - 1) {\n                    //the next array item is better than a shallower substring of this one\n                    break;\n                }\n                j--;\n            }\n            i++;\n        }\n        return globalLocale;\n    }\n\n    function loadLocale(name) {\n        var oldLocale = null;\n        // TODO: Find a better way to register and load all the locales in Node\n        if (!locales[name] && (typeof module !== 'undefined') &&\n                module && module.exports) {\n            try {\n                oldLocale = globalLocale._abbr;\n                var aliasedRequire = require;\n                !(function webpackMissingModule() { var e = new Error(\"Cannot find module 'undefined'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\n                getSetGlobalLocale(oldLocale);\n            } catch (e) {}\n        }\n        return locales[name];\n    }\n\n    // This function will load locale and then set the global locale.  If\n    // no arguments are passed in, it will simply return the current global\n    // locale key.\n    function getSetGlobalLocale (key, values) {\n        var data;\n        if (key) {\n            if (isUndefined(values)) {\n                data = getLocale(key);\n            }\n            else {\n                data = defineLocale(key, values);\n            }\n\n            if (data) {\n                // moment.duration._locale = moment._locale = data;\n                globalLocale = data;\n            }\n            else {\n                if ((typeof console !==  'undefined') && console.warn) {\n                    //warn user if arguments are passed but the locale could not be set\n                    console.warn('Locale ' + key +  ' not found. Did you forget to load it?');\n                }\n            }\n        }\n\n        return globalLocale._abbr;\n    }\n\n    function defineLocale (name, config) {\n        if (config !== null) {\n            var locale, parentConfig = baseConfig;\n            config.abbr = name;\n            if (locales[name] != null) {\n                deprecateSimple('defineLocaleOverride',\n                        'use moment.updateLocale(localeName, config) to change ' +\n                        'an existing locale. moment.defineLocale(localeName, ' +\n                        'config) should only be used for creating a new locale ' +\n                        'See http://momentjs.com/guides/#/warnings/define-locale/ for more info.');\n                parentConfig = locales[name]._config;\n            } else if (config.parentLocale != null) {\n                if (locales[config.parentLocale] != null) {\n                    parentConfig = locales[config.parentLocale]._config;\n                } else {\n                    locale = loadLocale(config.parentLocale);\n                    if (locale != null) {\n                        parentConfig = locale._config;\n                    } else {\n                        if (!localeFamilies[config.parentLocale]) {\n                            localeFamilies[config.parentLocale] = [];\n                        }\n                        localeFamilies[config.parentLocale].push({\n                            name: name,\n                            config: config\n                        });\n                        return null;\n                    }\n                }\n            }\n            locales[name] = new Locale(mergeConfigs(parentConfig, config));\n\n            if (localeFamilies[name]) {\n                localeFamilies[name].forEach(function (x) {\n                    defineLocale(x.name, x.config);\n                });\n            }\n\n            // backwards compat for now: also set the locale\n            // make sure we set the locale AFTER all child locales have been\n            // created, so we won't end up with the child locale set.\n            getSetGlobalLocale(name);\n\n\n            return locales[name];\n        } else {\n            // useful for testing\n            delete locales[name];\n            return null;\n        }\n    }\n\n    function updateLocale(name, config) {\n        if (config != null) {\n            var locale, tmpLocale, parentConfig = baseConfig;\n            // MERGE\n            tmpLocale = loadLocale(name);\n            if (tmpLocale != null) {\n                parentConfig = tmpLocale._config;\n            }\n            config = mergeConfigs(parentConfig, config);\n            locale = new Locale(config);\n            locale.parentLocale = locales[name];\n            locales[name] = locale;\n\n            // backwards compat for now: also set the locale\n            getSetGlobalLocale(name);\n        } else {\n            // pass null for config to unupdate, useful for tests\n            if (locales[name] != null) {\n                if (locales[name].parentLocale != null) {\n                    locales[name] = locales[name].parentLocale;\n                } else if (locales[name] != null) {\n                    delete locales[name];\n                }\n            }\n        }\n        return locales[name];\n    }\n\n    // returns locale data\n    function getLocale (key) {\n        var locale;\n\n        if (key && key._locale && key._locale._abbr) {\n            key = key._locale._abbr;\n        }\n\n        if (!key) {\n            return globalLocale;\n        }\n\n        if (!isArray(key)) {\n            //short-circuit everything else\n            locale = loadLocale(key);\n            if (locale) {\n                return locale;\n            }\n            key = [key];\n        }\n\n        return chooseLocale(key);\n    }\n\n    function listLocales() {\n        return keys(locales);\n    }\n\n    function checkOverflow (m) {\n        var overflow;\n        var a = m._a;\n\n        if (a && getParsingFlags(m).overflow === -2) {\n            overflow =\n                a[MONTH]       < 0 || a[MONTH]       > 11  ? MONTH :\n                a[DATE]        < 1 || a[DATE]        > daysInMonth(a[YEAR], a[MONTH]) ? DATE :\n                a[HOUR]        < 0 || a[HOUR]        > 24 || (a[HOUR] === 24 && (a[MINUTE] !== 0 || a[SECOND] !== 0 || a[MILLISECOND] !== 0)) ? HOUR :\n                a[MINUTE]      < 0 || a[MINUTE]      > 59  ? MINUTE :\n                a[SECOND]      < 0 || a[SECOND]      > 59  ? SECOND :\n                a[MILLISECOND] < 0 || a[MILLISECOND] > 999 ? MILLISECOND :\n                -1;\n\n            if (getParsingFlags(m)._overflowDayOfYear && (overflow < YEAR || overflow > DATE)) {\n                overflow = DATE;\n            }\n            if (getParsingFlags(m)._overflowWeeks && overflow === -1) {\n                overflow = WEEK;\n            }\n            if (getParsingFlags(m)._overflowWeekday && overflow === -1) {\n                overflow = WEEKDAY;\n            }\n\n            getParsingFlags(m).overflow = overflow;\n        }\n\n        return m;\n    }\n\n    // Pick the first defined of two or three arguments.\n    function defaults(a, b, c) {\n        if (a != null) {\n            return a;\n        }\n        if (b != null) {\n            return b;\n        }\n        return c;\n    }\n\n    function currentDateArray(config) {\n        // hooks is actually the exported moment object\n        var nowValue = new Date(hooks.now());\n        if (config._useUTC) {\n            return [nowValue.getUTCFullYear(), nowValue.getUTCMonth(), nowValue.getUTCDate()];\n        }\n        return [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];\n    }\n\n    // convert an array to a date.\n    // the array should mirror the parameters below\n    // note: all values past the year are optional and will default to the lowest possible value.\n    // [year, month, day , hour, minute, second, millisecond]\n    function configFromArray (config) {\n        var i, date, input = [], currentDate, expectedWeekday, yearToUse;\n\n        if (config._d) {\n            return;\n        }\n\n        currentDate = currentDateArray(config);\n\n        //compute day of the year from weeks and weekdays\n        if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {\n            dayOfYearFromWeekInfo(config);\n        }\n\n        //if the day of the year is set, figure out what it is\n        if (config._dayOfYear != null) {\n            yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);\n\n            if (config._dayOfYear > daysInYear(yearToUse) || config._dayOfYear === 0) {\n                getParsingFlags(config)._overflowDayOfYear = true;\n            }\n\n            date = createUTCDate(yearToUse, 0, config._dayOfYear);\n            config._a[MONTH] = date.getUTCMonth();\n            config._a[DATE] = date.getUTCDate();\n        }\n\n        // Default to current date.\n        // * if no year, month, day of month are given, default to today\n        // * if day of month is given, default month and year\n        // * if month is given, default only year\n        // * if year is given, don't default anything\n        for (i = 0; i < 3 && config._a[i] == null; ++i) {\n            config._a[i] = input[i] = currentDate[i];\n        }\n\n        // Zero out whatever was not defaulted, including time\n        for (; i < 7; i++) {\n            config._a[i] = input[i] = (config._a[i] == null) ? (i === 2 ? 1 : 0) : config._a[i];\n        }\n\n        // Check for 24:00:00.000\n        if (config._a[HOUR] === 24 &&\n                config._a[MINUTE] === 0 &&\n                config._a[SECOND] === 0 &&\n                config._a[MILLISECOND] === 0) {\n            config._nextDay = true;\n            config._a[HOUR] = 0;\n        }\n\n        config._d = (config._useUTC ? createUTCDate : createDate).apply(null, input);\n        expectedWeekday = config._useUTC ? config._d.getUTCDay() : config._d.getDay();\n\n        // Apply timezone offset from input. The actual utcOffset can be changed\n        // with parseZone.\n        if (config._tzm != null) {\n            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n        }\n\n        if (config._nextDay) {\n            config._a[HOUR] = 24;\n        }\n\n        // check for mismatching day of week\n        if (config._w && typeof config._w.d !== 'undefined' && config._w.d !== expectedWeekday) {\n            getParsingFlags(config).weekdayMismatch = true;\n        }\n    }\n\n    function dayOfYearFromWeekInfo(config) {\n        var w, weekYear, week, weekday, dow, doy, temp, weekdayOverflow;\n\n        w = config._w;\n        if (w.GG != null || w.W != null || w.E != null) {\n            dow = 1;\n            doy = 4;\n\n            // TODO: We need to take the current isoWeekYear, but that depends on\n            // how we interpret now (local, utc, fixed offset). So create\n            // a now version of current config (take local/utc/offset flags, and\n            // create now).\n            weekYear = defaults(w.GG, config._a[YEAR], weekOfYear(createLocal(), 1, 4).year);\n            week = defaults(w.W, 1);\n            weekday = defaults(w.E, 1);\n            if (weekday < 1 || weekday > 7) {\n                weekdayOverflow = true;\n            }\n        } else {\n            dow = config._locale._week.dow;\n            doy = config._locale._week.doy;\n\n            var curWeek = weekOfYear(createLocal(), dow, doy);\n\n            weekYear = defaults(w.gg, config._a[YEAR], curWeek.year);\n\n            // Default to current week.\n            week = defaults(w.w, curWeek.week);\n\n            if (w.d != null) {\n                // weekday -- low day numbers are considered next week\n                weekday = w.d;\n                if (weekday < 0 || weekday > 6) {\n                    weekdayOverflow = true;\n                }\n            } else if (w.e != null) {\n                // local weekday -- counting starts from beginning of week\n                weekday = w.e + dow;\n                if (w.e < 0 || w.e > 6) {\n                    weekdayOverflow = true;\n                }\n            } else {\n                // default to beginning of week\n                weekday = dow;\n            }\n        }\n        if (week < 1 || week > weeksInYear(weekYear, dow, doy)) {\n            getParsingFlags(config)._overflowWeeks = true;\n        } else if (weekdayOverflow != null) {\n            getParsingFlags(config)._overflowWeekday = true;\n        } else {\n            temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);\n            config._a[YEAR] = temp.year;\n            config._dayOfYear = temp.dayOfYear;\n        }\n    }\n\n    // iso 8601 regex\n    // 0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)\n    var extendedIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/;\n    var basicIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/;\n\n    var tzRegex = /Z|[+-]\\d\\d(?::?\\d\\d)?/;\n\n    var isoDates = [\n        ['YYYYYY-MM-DD', /[+-]\\d{6}-\\d\\d-\\d\\d/],\n        ['YYYY-MM-DD', /\\d{4}-\\d\\d-\\d\\d/],\n        ['GGGG-[W]WW-E', /\\d{4}-W\\d\\d-\\d/],\n        ['GGGG-[W]WW', /\\d{4}-W\\d\\d/, false],\n        ['YYYY-DDD', /\\d{4}-\\d{3}/],\n        ['YYYY-MM', /\\d{4}-\\d\\d/, false],\n        ['YYYYYYMMDD', /[+-]\\d{10}/],\n        ['YYYYMMDD', /\\d{8}/],\n        // YYYYMM is NOT allowed by the standard\n        ['GGGG[W]WWE', /\\d{4}W\\d{3}/],\n        ['GGGG[W]WW', /\\d{4}W\\d{2}/, false],\n        ['YYYYDDD', /\\d{7}/]\n    ];\n\n    // iso time formats and regexes\n    var isoTimes = [\n        ['HH:mm:ss.SSSS', /\\d\\d:\\d\\d:\\d\\d\\.\\d+/],\n        ['HH:mm:ss,SSSS', /\\d\\d:\\d\\d:\\d\\d,\\d+/],\n        ['HH:mm:ss', /\\d\\d:\\d\\d:\\d\\d/],\n        ['HH:mm', /\\d\\d:\\d\\d/],\n        ['HHmmss.SSSS', /\\d\\d\\d\\d\\d\\d\\.\\d+/],\n        ['HHmmss,SSSS', /\\d\\d\\d\\d\\d\\d,\\d+/],\n        ['HHmmss', /\\d\\d\\d\\d\\d\\d/],\n        ['HHmm', /\\d\\d\\d\\d/],\n        ['HH', /\\d\\d/]\n    ];\n\n    var aspNetJsonRegex = /^\\/?Date\\((\\-?\\d+)/i;\n\n    // date from iso format\n    function configFromISO(config) {\n        var i, l,\n            string = config._i,\n            match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string),\n            allowTime, dateFormat, timeFormat, tzFormat;\n\n        if (match) {\n            getParsingFlags(config).iso = true;\n\n            for (i = 0, l = isoDates.length; i < l; i++) {\n                if (isoDates[i][1].exec(match[1])) {\n                    dateFormat = isoDates[i][0];\n                    allowTime = isoDates[i][2] !== false;\n                    break;\n                }\n            }\n            if (dateFormat == null) {\n                config._isValid = false;\n                return;\n            }\n            if (match[3]) {\n                for (i = 0, l = isoTimes.length; i < l; i++) {\n                    if (isoTimes[i][1].exec(match[3])) {\n                        // match[2] should be 'T' or space\n                        timeFormat = (match[2] || ' ') + isoTimes[i][0];\n                        break;\n                    }\n                }\n                if (timeFormat == null) {\n                    config._isValid = false;\n                    return;\n                }\n            }\n            if (!allowTime && timeFormat != null) {\n                config._isValid = false;\n                return;\n            }\n            if (match[4]) {\n                if (tzRegex.exec(match[4])) {\n                    tzFormat = 'Z';\n                } else {\n                    config._isValid = false;\n                    return;\n                }\n            }\n            config._f = dateFormat + (timeFormat || '') + (tzFormat || '');\n            configFromStringAndFormat(config);\n        } else {\n            config._isValid = false;\n        }\n    }\n\n    // RFC 2822 regex: For details see https://tools.ietf.org/html/rfc2822#section-3.3\n    var rfc2822 = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\\s)?(\\d{1,2})\\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(\\d{2,4})\\s(\\d\\d):(\\d\\d)(?::(\\d\\d))?\\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\\d{4}))$/;\n\n    function extractFromRFC2822Strings(yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr) {\n        var result = [\n            untruncateYear(yearStr),\n            defaultLocaleMonthsShort.indexOf(monthStr),\n            parseInt(dayStr, 10),\n            parseInt(hourStr, 10),\n            parseInt(minuteStr, 10)\n        ];\n\n        if (secondStr) {\n            result.push(parseInt(secondStr, 10));\n        }\n\n        return result;\n    }\n\n    function untruncateYear(yearStr) {\n        var year = parseInt(yearStr, 10);\n        if (year <= 49) {\n            return 2000 + year;\n        } else if (year <= 999) {\n            return 1900 + year;\n        }\n        return year;\n    }\n\n    function preprocessRFC2822(s) {\n        // Remove comments and folding whitespace and replace multiple-spaces with a single space\n        return s.replace(/\\([^)]*\\)|[\\n\\t]/g, ' ').replace(/(\\s\\s+)/g, ' ').replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\n    }\n\n    function checkWeekday(weekdayStr, parsedInput, config) {\n        if (weekdayStr) {\n            // TODO: Replace the vanilla JS Date object with an indepentent day-of-week check.\n            var weekdayProvided = defaultLocaleWeekdaysShort.indexOf(weekdayStr),\n                weekdayActual = new Date(parsedInput[0], parsedInput[1], parsedInput[2]).getDay();\n            if (weekdayProvided !== weekdayActual) {\n                getParsingFlags(config).weekdayMismatch = true;\n                config._isValid = false;\n                return false;\n            }\n        }\n        return true;\n    }\n\n    var obsOffsets = {\n        UT: 0,\n        GMT: 0,\n        EDT: -4 * 60,\n        EST: -5 * 60,\n        CDT: -5 * 60,\n        CST: -6 * 60,\n        MDT: -6 * 60,\n        MST: -7 * 60,\n        PDT: -7 * 60,\n        PST: -8 * 60\n    };\n\n    function calculateOffset(obsOffset, militaryOffset, numOffset) {\n        if (obsOffset) {\n            return obsOffsets[obsOffset];\n        } else if (militaryOffset) {\n            // the only allowed military tz is Z\n            return 0;\n        } else {\n            var hm = parseInt(numOffset, 10);\n            var m = hm % 100, h = (hm - m) / 100;\n            return h * 60 + m;\n        }\n    }\n\n    // date and time from ref 2822 format\n    function configFromRFC2822(config) {\n        var match = rfc2822.exec(preprocessRFC2822(config._i));\n        if (match) {\n            var parsedArray = extractFromRFC2822Strings(match[4], match[3], match[2], match[5], match[6], match[7]);\n            if (!checkWeekday(match[1], parsedArray, config)) {\n                return;\n            }\n\n            config._a = parsedArray;\n            config._tzm = calculateOffset(match[8], match[9], match[10]);\n\n            config._d = createUTCDate.apply(null, config._a);\n            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n\n            getParsingFlags(config).rfc2822 = true;\n        } else {\n            config._isValid = false;\n        }\n    }\n\n    // date from iso format or fallback\n    function configFromString(config) {\n        var matched = aspNetJsonRegex.exec(config._i);\n\n        if (matched !== null) {\n            config._d = new Date(+matched[1]);\n            return;\n        }\n\n        configFromISO(config);\n        if (config._isValid === false) {\n            delete config._isValid;\n        } else {\n            return;\n        }\n\n        configFromRFC2822(config);\n        if (config._isValid === false) {\n            delete config._isValid;\n        } else {\n            return;\n        }\n\n        // Final attempt, use Input Fallback\n        hooks.createFromInputFallback(config);\n    }\n\n    hooks.createFromInputFallback = deprecate(\n        'value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), ' +\n        'which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are ' +\n        'discouraged and will be removed in an upcoming major release. Please refer to ' +\n        'http://momentjs.com/guides/#/warnings/js-date/ for more info.',\n        function (config) {\n            config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));\n        }\n    );\n\n    // constant that refers to the ISO standard\n    hooks.ISO_8601 = function () {};\n\n    // constant that refers to the RFC 2822 form\n    hooks.RFC_2822 = function () {};\n\n    // date from string and format string\n    function configFromStringAndFormat(config) {\n        // TODO: Move this to another part of the creation flow to prevent circular deps\n        if (config._f === hooks.ISO_8601) {\n            configFromISO(config);\n            return;\n        }\n        if (config._f === hooks.RFC_2822) {\n            configFromRFC2822(config);\n            return;\n        }\n        config._a = [];\n        getParsingFlags(config).empty = true;\n\n        // This array is used to make a Date, either with `new Date` or `Date.UTC`\n        var string = '' + config._i,\n            i, parsedInput, tokens, token, skipped,\n            stringLength = string.length,\n            totalParsedInputLength = 0;\n\n        tokens = expandFormat(config._f, config._locale).match(formattingTokens) || [];\n\n        for (i = 0; i < tokens.length; i++) {\n            token = tokens[i];\n            parsedInput = (string.match(getParseRegexForToken(token, config)) || [])[0];\n            // console.log('token', token, 'parsedInput', parsedInput,\n            //         'regex', getParseRegexForToken(token, config));\n            if (parsedInput) {\n                skipped = string.substr(0, string.indexOf(parsedInput));\n                if (skipped.length > 0) {\n                    getParsingFlags(config).unusedInput.push(skipped);\n                }\n                string = string.slice(string.indexOf(parsedInput) + parsedInput.length);\n                totalParsedInputLength += parsedInput.length;\n            }\n            // don't parse if it's not a known token\n            if (formatTokenFunctions[token]) {\n                if (parsedInput) {\n                    getParsingFlags(config).empty = false;\n                }\n                else {\n                    getParsingFlags(config).unusedTokens.push(token);\n                }\n                addTimeToArrayFromToken(token, parsedInput, config);\n            }\n            else if (config._strict && !parsedInput) {\n                getParsingFlags(config).unusedTokens.push(token);\n            }\n        }\n\n        // add remaining unparsed input length to the string\n        getParsingFlags(config).charsLeftOver = stringLength - totalParsedInputLength;\n        if (string.length > 0) {\n            getParsingFlags(config).unusedInput.push(string);\n        }\n\n        // clear _12h flag if hour is <= 12\n        if (config._a[HOUR] <= 12 &&\n            getParsingFlags(config).bigHour === true &&\n            config._a[HOUR] > 0) {\n            getParsingFlags(config).bigHour = undefined;\n        }\n\n        getParsingFlags(config).parsedDateParts = config._a.slice(0);\n        getParsingFlags(config).meridiem = config._meridiem;\n        // handle meridiem\n        config._a[HOUR] = meridiemFixWrap(config._locale, config._a[HOUR], config._meridiem);\n\n        configFromArray(config);\n        checkOverflow(config);\n    }\n\n\n    function meridiemFixWrap (locale, hour, meridiem) {\n        var isPm;\n\n        if (meridiem == null) {\n            // nothing to do\n            return hour;\n        }\n        if (locale.meridiemHour != null) {\n            return locale.meridiemHour(hour, meridiem);\n        } else if (locale.isPM != null) {\n            // Fallback\n            isPm = locale.isPM(meridiem);\n            if (isPm && hour < 12) {\n                hour += 12;\n            }\n            if (!isPm && hour === 12) {\n                hour = 0;\n            }\n            return hour;\n        } else {\n            // this is not supposed to happen\n            return hour;\n        }\n    }\n\n    // date from string and array of format strings\n    function configFromStringAndArray(config) {\n        var tempConfig,\n            bestMoment,\n\n            scoreToBeat,\n            i,\n            currentScore;\n\n        if (config._f.length === 0) {\n            getParsingFlags(config).invalidFormat = true;\n            config._d = new Date(NaN);\n            return;\n        }\n\n        for (i = 0; i < config._f.length; i++) {\n            currentScore = 0;\n            tempConfig = copyConfig({}, config);\n            if (config._useUTC != null) {\n                tempConfig._useUTC = config._useUTC;\n            }\n            tempConfig._f = config._f[i];\n            configFromStringAndFormat(tempConfig);\n\n            if (!isValid(tempConfig)) {\n                continue;\n            }\n\n            // if there is any input that was not parsed add a penalty for that format\n            currentScore += getParsingFlags(tempConfig).charsLeftOver;\n\n            //or tokens\n            currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;\n\n            getParsingFlags(tempConfig).score = currentScore;\n\n            if (scoreToBeat == null || currentScore < scoreToBeat) {\n                scoreToBeat = currentScore;\n                bestMoment = tempConfig;\n            }\n        }\n\n        extend(config, bestMoment || tempConfig);\n    }\n\n    function configFromObject(config) {\n        if (config._d) {\n            return;\n        }\n\n        var i = normalizeObjectUnits(config._i);\n        config._a = map([i.year, i.month, i.day || i.date, i.hour, i.minute, i.second, i.millisecond], function (obj) {\n            return obj && parseInt(obj, 10);\n        });\n\n        configFromArray(config);\n    }\n\n    function createFromConfig (config) {\n        var res = new Moment(checkOverflow(prepareConfig(config)));\n        if (res._nextDay) {\n            // Adding is smart enough around DST\n            res.add(1, 'd');\n            res._nextDay = undefined;\n        }\n\n        return res;\n    }\n\n    function prepareConfig (config) {\n        var input = config._i,\n            format = config._f;\n\n        config._locale = config._locale || getLocale(config._l);\n\n        if (input === null || (format === undefined && input === '')) {\n            return createInvalid({nullInput: true});\n        }\n\n        if (typeof input === 'string') {\n            config._i = input = config._locale.preparse(input);\n        }\n\n        if (isMoment(input)) {\n            return new Moment(checkOverflow(input));\n        } else if (isDate(input)) {\n            config._d = input;\n        } else if (isArray(format)) {\n            configFromStringAndArray(config);\n        } else if (format) {\n            configFromStringAndFormat(config);\n        }  else {\n            configFromInput(config);\n        }\n\n        if (!isValid(config)) {\n            config._d = null;\n        }\n\n        return config;\n    }\n\n    function configFromInput(config) {\n        var input = config._i;\n        if (isUndefined(input)) {\n            config._d = new Date(hooks.now());\n        } else if (isDate(input)) {\n            config._d = new Date(input.valueOf());\n        } else if (typeof input === 'string') {\n            configFromString(config);\n        } else if (isArray(input)) {\n            config._a = map(input.slice(0), function (obj) {\n                return parseInt(obj, 10);\n            });\n            configFromArray(config);\n        } else if (isObject(input)) {\n            configFromObject(config);\n        } else if (isNumber(input)) {\n            // from milliseconds\n            config._d = new Date(input);\n        } else {\n            hooks.createFromInputFallback(config);\n        }\n    }\n\n    function createLocalOrUTC (input, format, locale, strict, isUTC) {\n        var c = {};\n\n        if (locale === true || locale === false) {\n            strict = locale;\n            locale = undefined;\n        }\n\n        if ((isObject(input) && isObjectEmpty(input)) ||\n                (isArray(input) && input.length === 0)) {\n            input = undefined;\n        }\n        // object construction must be done this way.\n        // https://github.com/moment/moment/issues/1423\n        c._isAMomentObject = true;\n        c._useUTC = c._isUTC = isUTC;\n        c._l = locale;\n        c._i = input;\n        c._f = format;\n        c._strict = strict;\n\n        return createFromConfig(c);\n    }\n\n    function createLocal (input, format, locale, strict) {\n        return createLocalOrUTC(input, format, locale, strict, false);\n    }\n\n    var prototypeMin = deprecate(\n        'moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/',\n        function () {\n            var other = createLocal.apply(null, arguments);\n            if (this.isValid() && other.isValid()) {\n                return other < this ? this : other;\n            } else {\n                return createInvalid();\n            }\n        }\n    );\n\n    var prototypeMax = deprecate(\n        'moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/',\n        function () {\n            var other = createLocal.apply(null, arguments);\n            if (this.isValid() && other.isValid()) {\n                return other > this ? this : other;\n            } else {\n                return createInvalid();\n            }\n        }\n    );\n\n    // Pick a moment m from moments so that m[fn](other) is true for all\n    // other. This relies on the function fn to be transitive.\n    //\n    // moments should either be an array of moment objects or an array, whose\n    // first element is an array of moment objects.\n    function pickBy(fn, moments) {\n        var res, i;\n        if (moments.length === 1 && isArray(moments[0])) {\n            moments = moments[0];\n        }\n        if (!moments.length) {\n            return createLocal();\n        }\n        res = moments[0];\n        for (i = 1; i < moments.length; ++i) {\n            if (!moments[i].isValid() || moments[i][fn](res)) {\n                res = moments[i];\n            }\n        }\n        return res;\n    }\n\n    // TODO: Use [].sort instead?\n    function min () {\n        var args = [].slice.call(arguments, 0);\n\n        return pickBy('isBefore', args);\n    }\n\n    function max () {\n        var args = [].slice.call(arguments, 0);\n\n        return pickBy('isAfter', args);\n    }\n\n    var now = function () {\n        return Date.now ? Date.now() : +(new Date());\n    };\n\n    var ordering = ['year', 'quarter', 'month', 'week', 'day', 'hour', 'minute', 'second', 'millisecond'];\n\n    function isDurationValid(m) {\n        for (var key in m) {\n            if (!(indexOf.call(ordering, key) !== -1 && (m[key] == null || !isNaN(m[key])))) {\n                return false;\n            }\n        }\n\n        var unitHasDecimal = false;\n        for (var i = 0; i < ordering.length; ++i) {\n            if (m[ordering[i]]) {\n                if (unitHasDecimal) {\n                    return false; // only allow non-integers for smallest unit\n                }\n                if (parseFloat(m[ordering[i]]) !== toInt(m[ordering[i]])) {\n                    unitHasDecimal = true;\n                }\n            }\n        }\n\n        return true;\n    }\n\n    function isValid$1() {\n        return this._isValid;\n    }\n\n    function createInvalid$1() {\n        return createDuration(NaN);\n    }\n\n    function Duration (duration) {\n        var normalizedInput = normalizeObjectUnits(duration),\n            years = normalizedInput.year || 0,\n            quarters = normalizedInput.quarter || 0,\n            months = normalizedInput.month || 0,\n            weeks = normalizedInput.week || normalizedInput.isoWeek || 0,\n            days = normalizedInput.day || 0,\n            hours = normalizedInput.hour || 0,\n            minutes = normalizedInput.minute || 0,\n            seconds = normalizedInput.second || 0,\n            milliseconds = normalizedInput.millisecond || 0;\n\n        this._isValid = isDurationValid(normalizedInput);\n\n        // representation for dateAddRemove\n        this._milliseconds = +milliseconds +\n            seconds * 1e3 + // 1000\n            minutes * 6e4 + // 1000 * 60\n            hours * 1000 * 60 * 60; //using 1000 * 60 * 60 instead of 36e5 to avoid floating point rounding errors https://github.com/moment/moment/issues/2978\n        // Because of dateAddRemove treats 24 hours as different from a\n        // day when working around DST, we need to store them separately\n        this._days = +days +\n            weeks * 7;\n        // It is impossible to translate months into days without knowing\n        // which months you are are talking about, so we have to store\n        // it separately.\n        this._months = +months +\n            quarters * 3 +\n            years * 12;\n\n        this._data = {};\n\n        this._locale = getLocale();\n\n        this._bubble();\n    }\n\n    function isDuration (obj) {\n        return obj instanceof Duration;\n    }\n\n    function absRound (number) {\n        if (number < 0) {\n            return Math.round(-1 * number) * -1;\n        } else {\n            return Math.round(number);\n        }\n    }\n\n    // FORMATTING\n\n    function offset (token, separator) {\n        addFormatToken(token, 0, 0, function () {\n            var offset = this.utcOffset();\n            var sign = '+';\n            if (offset < 0) {\n                offset = -offset;\n                sign = '-';\n            }\n            return sign + zeroFill(~~(offset / 60), 2) + separator + zeroFill(~~(offset) % 60, 2);\n        });\n    }\n\n    offset('Z', ':');\n    offset('ZZ', '');\n\n    // PARSING\n\n    addRegexToken('Z',  matchShortOffset);\n    addRegexToken('ZZ', matchShortOffset);\n    addParseToken(['Z', 'ZZ'], function (input, array, config) {\n        config._useUTC = true;\n        config._tzm = offsetFromString(matchShortOffset, input);\n    });\n\n    // HELPERS\n\n    // timezone chunker\n    // '+10:00' > ['10',  '00']\n    // '-1530'  > ['-15', '30']\n    var chunkOffset = /([\\+\\-]|\\d\\d)/gi;\n\n    function offsetFromString(matcher, string) {\n        var matches = (string || '').match(matcher);\n\n        if (matches === null) {\n            return null;\n        }\n\n        var chunk   = matches[matches.length - 1] || [];\n        var parts   = (chunk + '').match(chunkOffset) || ['-', 0, 0];\n        var minutes = +(parts[1] * 60) + toInt(parts[2]);\n\n        return minutes === 0 ?\n          0 :\n          parts[0] === '+' ? minutes : -minutes;\n    }\n\n    // Return a moment from input, that is local/utc/zone equivalent to model.\n    function cloneWithOffset(input, model) {\n        var res, diff;\n        if (model._isUTC) {\n            res = model.clone();\n            diff = (isMoment(input) || isDate(input) ? input.valueOf() : createLocal(input).valueOf()) - res.valueOf();\n            // Use low-level api, because this fn is low-level api.\n            res._d.setTime(res._d.valueOf() + diff);\n            hooks.updateOffset(res, false);\n            return res;\n        } else {\n            return createLocal(input).local();\n        }\n    }\n\n    function getDateOffset (m) {\n        // On Firefox.24 Date#getTimezoneOffset returns a floating point.\n        // https://github.com/moment/moment/pull/1871\n        return -Math.round(m._d.getTimezoneOffset() / 15) * 15;\n    }\n\n    // HOOKS\n\n    // This function will be called whenever a moment is mutated.\n    // It is intended to keep the offset in sync with the timezone.\n    hooks.updateOffset = function () {};\n\n    // MOMENTS\n\n    // keepLocalTime = true means only change the timezone, without\n    // affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->\n    // 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset\n    // +0200, so we adjust the time as needed, to be valid.\n    //\n    // Keeping the time actually adds/subtracts (one hour)\n    // from the actual represented time. That is why we call updateOffset\n    // a second time. In case it wants us to change the offset again\n    // _changeInProgress == true case, then we have to adjust, because\n    // there is no such time in the given timezone.\n    function getSetOffset (input, keepLocalTime, keepMinutes) {\n        var offset = this._offset || 0,\n            localAdjust;\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n        if (input != null) {\n            if (typeof input === 'string') {\n                input = offsetFromString(matchShortOffset, input);\n                if (input === null) {\n                    return this;\n                }\n            } else if (Math.abs(input) < 16 && !keepMinutes) {\n                input = input * 60;\n            }\n            if (!this._isUTC && keepLocalTime) {\n                localAdjust = getDateOffset(this);\n            }\n            this._offset = input;\n            this._isUTC = true;\n            if (localAdjust != null) {\n                this.add(localAdjust, 'm');\n            }\n            if (offset !== input) {\n                if (!keepLocalTime || this._changeInProgress) {\n                    addSubtract(this, createDuration(input - offset, 'm'), 1, false);\n                } else if (!this._changeInProgress) {\n                    this._changeInProgress = true;\n                    hooks.updateOffset(this, true);\n                    this._changeInProgress = null;\n                }\n            }\n            return this;\n        } else {\n            return this._isUTC ? offset : getDateOffset(this);\n        }\n    }\n\n    function getSetZone (input, keepLocalTime) {\n        if (input != null) {\n            if (typeof input !== 'string') {\n                input = -input;\n            }\n\n            this.utcOffset(input, keepLocalTime);\n\n            return this;\n        } else {\n            return -this.utcOffset();\n        }\n    }\n\n    function setOffsetToUTC (keepLocalTime) {\n        return this.utcOffset(0, keepLocalTime);\n    }\n\n    function setOffsetToLocal (keepLocalTime) {\n        if (this._isUTC) {\n            this.utcOffset(0, keepLocalTime);\n            this._isUTC = false;\n\n            if (keepLocalTime) {\n                this.subtract(getDateOffset(this), 'm');\n            }\n        }\n        return this;\n    }\n\n    function setOffsetToParsedOffset () {\n        if (this._tzm != null) {\n            this.utcOffset(this._tzm, false, true);\n        } else if (typeof this._i === 'string') {\n            var tZone = offsetFromString(matchOffset, this._i);\n            if (tZone != null) {\n                this.utcOffset(tZone);\n            }\n            else {\n                this.utcOffset(0, true);\n            }\n        }\n        return this;\n    }\n\n    function hasAlignedHourOffset (input) {\n        if (!this.isValid()) {\n            return false;\n        }\n        input = input ? createLocal(input).utcOffset() : 0;\n\n        return (this.utcOffset() - input) % 60 === 0;\n    }\n\n    function isDaylightSavingTime () {\n        return (\n            this.utcOffset() > this.clone().month(0).utcOffset() ||\n            this.utcOffset() > this.clone().month(5).utcOffset()\n        );\n    }\n\n    function isDaylightSavingTimeShifted () {\n        if (!isUndefined(this._isDSTShifted)) {\n            return this._isDSTShifted;\n        }\n\n        var c = {};\n\n        copyConfig(c, this);\n        c = prepareConfig(c);\n\n        if (c._a) {\n            var other = c._isUTC ? createUTC(c._a) : createLocal(c._a);\n            this._isDSTShifted = this.isValid() &&\n                compareArrays(c._a, other.toArray()) > 0;\n        } else {\n            this._isDSTShifted = false;\n        }\n\n        return this._isDSTShifted;\n    }\n\n    function isLocal () {\n        return this.isValid() ? !this._isUTC : false;\n    }\n\n    function isUtcOffset () {\n        return this.isValid() ? this._isUTC : false;\n    }\n\n    function isUtc () {\n        return this.isValid() ? this._isUTC && this._offset === 0 : false;\n    }\n\n    // ASP.NET json date format regex\n    var aspNetRegex = /^(\\-|\\+)?(?:(\\d*)[. ])?(\\d+)\\:(\\d+)(?:\\:(\\d+)(\\.\\d*)?)?$/;\n\n    // from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html\n    // somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere\n    // and further modified to allow for strings containing both week and day\n    var isoRegex = /^(-|\\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;\n\n    function createDuration (input, key) {\n        var duration = input,\n            // matching against regexp is expensive, do it on demand\n            match = null,\n            sign,\n            ret,\n            diffRes;\n\n        if (isDuration(input)) {\n            duration = {\n                ms : input._milliseconds,\n                d  : input._days,\n                M  : input._months\n            };\n        } else if (isNumber(input)) {\n            duration = {};\n            if (key) {\n                duration[key] = input;\n            } else {\n                duration.milliseconds = input;\n            }\n        } else if (!!(match = aspNetRegex.exec(input))) {\n            sign = (match[1] === '-') ? -1 : 1;\n            duration = {\n                y  : 0,\n                d  : toInt(match[DATE])                         * sign,\n                h  : toInt(match[HOUR])                         * sign,\n                m  : toInt(match[MINUTE])                       * sign,\n                s  : toInt(match[SECOND])                       * sign,\n                ms : toInt(absRound(match[MILLISECOND] * 1000)) * sign // the millisecond decimal point is included in the match\n            };\n        } else if (!!(match = isoRegex.exec(input))) {\n            sign = (match[1] === '-') ? -1 : 1;\n            duration = {\n                y : parseIso(match[2], sign),\n                M : parseIso(match[3], sign),\n                w : parseIso(match[4], sign),\n                d : parseIso(match[5], sign),\n                h : parseIso(match[6], sign),\n                m : parseIso(match[7], sign),\n                s : parseIso(match[8], sign)\n            };\n        } else if (duration == null) {// checks for null or undefined\n            duration = {};\n        } else if (typeof duration === 'object' && ('from' in duration || 'to' in duration)) {\n            diffRes = momentsDifference(createLocal(duration.from), createLocal(duration.to));\n\n            duration = {};\n            duration.ms = diffRes.milliseconds;\n            duration.M = diffRes.months;\n        }\n\n        ret = new Duration(duration);\n\n        if (isDuration(input) && hasOwnProp(input, '_locale')) {\n            ret._locale = input._locale;\n        }\n\n        return ret;\n    }\n\n    createDuration.fn = Duration.prototype;\n    createDuration.invalid = createInvalid$1;\n\n    function parseIso (inp, sign) {\n        // We'd normally use ~~inp for this, but unfortunately it also\n        // converts floats to ints.\n        // inp may be undefined, so careful calling replace on it.\n        var res = inp && parseFloat(inp.replace(',', '.'));\n        // apply sign while we're at it\n        return (isNaN(res) ? 0 : res) * sign;\n    }\n\n    function positiveMomentsDifference(base, other) {\n        var res = {};\n\n        res.months = other.month() - base.month() +\n            (other.year() - base.year()) * 12;\n        if (base.clone().add(res.months, 'M').isAfter(other)) {\n            --res.months;\n        }\n\n        res.milliseconds = +other - +(base.clone().add(res.months, 'M'));\n\n        return res;\n    }\n\n    function momentsDifference(base, other) {\n        var res;\n        if (!(base.isValid() && other.isValid())) {\n            return {milliseconds: 0, months: 0};\n        }\n\n        other = cloneWithOffset(other, base);\n        if (base.isBefore(other)) {\n            res = positiveMomentsDifference(base, other);\n        } else {\n            res = positiveMomentsDifference(other, base);\n            res.milliseconds = -res.milliseconds;\n            res.months = -res.months;\n        }\n\n        return res;\n    }\n\n    // TODO: remove 'name' arg after deprecation is removed\n    function createAdder(direction, name) {\n        return function (val, period) {\n            var dur, tmp;\n            //invert the arguments, but complain about it\n            if (period !== null && !isNaN(+period)) {\n                deprecateSimple(name, 'moment().' + name  + '(period, number) is deprecated. Please use moment().' + name + '(number, period). ' +\n                'See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.');\n                tmp = val; val = period; period = tmp;\n            }\n\n            val = typeof val === 'string' ? +val : val;\n            dur = createDuration(val, period);\n            addSubtract(this, dur, direction);\n            return this;\n        };\n    }\n\n    function addSubtract (mom, duration, isAdding, updateOffset) {\n        var milliseconds = duration._milliseconds,\n            days = absRound(duration._days),\n            months = absRound(duration._months);\n\n        if (!mom.isValid()) {\n            // No op\n            return;\n        }\n\n        updateOffset = updateOffset == null ? true : updateOffset;\n\n        if (months) {\n            setMonth(mom, get(mom, 'Month') + months * isAdding);\n        }\n        if (days) {\n            set$1(mom, 'Date', get(mom, 'Date') + days * isAdding);\n        }\n        if (milliseconds) {\n            mom._d.setTime(mom._d.valueOf() + milliseconds * isAdding);\n        }\n        if (updateOffset) {\n            hooks.updateOffset(mom, days || months);\n        }\n    }\n\n    var add      = createAdder(1, 'add');\n    var subtract = createAdder(-1, 'subtract');\n\n    function getCalendarFormat(myMoment, now) {\n        var diff = myMoment.diff(now, 'days', true);\n        return diff < -6 ? 'sameElse' :\n                diff < -1 ? 'lastWeek' :\n                diff < 0 ? 'lastDay' :\n                diff < 1 ? 'sameDay' :\n                diff < 2 ? 'nextDay' :\n                diff < 7 ? 'nextWeek' : 'sameElse';\n    }\n\n    function calendar$1 (time, formats) {\n        // We want to compare the start of today, vs this.\n        // Getting start-of-today depends on whether we're local/utc/offset or not.\n        var now = time || createLocal(),\n            sod = cloneWithOffset(now, this).startOf('day'),\n            format = hooks.calendarFormat(this, sod) || 'sameElse';\n\n        var output = formats && (isFunction(formats[format]) ? formats[format].call(this, now) : formats[format]);\n\n        return this.format(output || this.localeData().calendar(format, this, createLocal(now)));\n    }\n\n    function clone () {\n        return new Moment(this);\n    }\n\n    function isAfter (input, units) {\n        var localInput = isMoment(input) ? input : createLocal(input);\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(units) || 'millisecond';\n        if (units === 'millisecond') {\n            return this.valueOf() > localInput.valueOf();\n        } else {\n            return localInput.valueOf() < this.clone().startOf(units).valueOf();\n        }\n    }\n\n    function isBefore (input, units) {\n        var localInput = isMoment(input) ? input : createLocal(input);\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(units) || 'millisecond';\n        if (units === 'millisecond') {\n            return this.valueOf() < localInput.valueOf();\n        } else {\n            return this.clone().endOf(units).valueOf() < localInput.valueOf();\n        }\n    }\n\n    function isBetween (from, to, units, inclusivity) {\n        var localFrom = isMoment(from) ? from : createLocal(from),\n            localTo = isMoment(to) ? to : createLocal(to);\n        if (!(this.isValid() && localFrom.isValid() && localTo.isValid())) {\n            return false;\n        }\n        inclusivity = inclusivity || '()';\n        return (inclusivity[0] === '(' ? this.isAfter(localFrom, units) : !this.isBefore(localFrom, units)) &&\n            (inclusivity[1] === ')' ? this.isBefore(localTo, units) : !this.isAfter(localTo, units));\n    }\n\n    function isSame (input, units) {\n        var localInput = isMoment(input) ? input : createLocal(input),\n            inputMs;\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(units) || 'millisecond';\n        if (units === 'millisecond') {\n            return this.valueOf() === localInput.valueOf();\n        } else {\n            inputMs = localInput.valueOf();\n            return this.clone().startOf(units).valueOf() <= inputMs && inputMs <= this.clone().endOf(units).valueOf();\n        }\n    }\n\n    function isSameOrAfter (input, units) {\n        return this.isSame(input, units) || this.isAfter(input, units);\n    }\n\n    function isSameOrBefore (input, units) {\n        return this.isSame(input, units) || this.isBefore(input, units);\n    }\n\n    function diff (input, units, asFloat) {\n        var that,\n            zoneDelta,\n            output;\n\n        if (!this.isValid()) {\n            return NaN;\n        }\n\n        that = cloneWithOffset(input, this);\n\n        if (!that.isValid()) {\n            return NaN;\n        }\n\n        zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4;\n\n        units = normalizeUnits(units);\n\n        switch (units) {\n            case 'year': output = monthDiff(this, that) / 12; break;\n            case 'month': output = monthDiff(this, that); break;\n            case 'quarter': output = monthDiff(this, that) / 3; break;\n            case 'second': output = (this - that) / 1e3; break; // 1000\n            case 'minute': output = (this - that) / 6e4; break; // 1000 * 60\n            case 'hour': output = (this - that) / 36e5; break; // 1000 * 60 * 60\n            case 'day': output = (this - that - zoneDelta) / 864e5; break; // 1000 * 60 * 60 * 24, negate dst\n            case 'week': output = (this - that - zoneDelta) / 6048e5; break; // 1000 * 60 * 60 * 24 * 7, negate dst\n            default: output = this - that;\n        }\n\n        return asFloat ? output : absFloor(output);\n    }\n\n    function monthDiff (a, b) {\n        // difference in months\n        var wholeMonthDiff = ((b.year() - a.year()) * 12) + (b.month() - a.month()),\n            // b is in (anchor - 1 month, anchor + 1 month)\n            anchor = a.clone().add(wholeMonthDiff, 'months'),\n            anchor2, adjust;\n\n        if (b - anchor < 0) {\n            anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');\n            // linear across the month\n            adjust = (b - anchor) / (anchor - anchor2);\n        } else {\n            anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');\n            // linear across the month\n            adjust = (b - anchor) / (anchor2 - anchor);\n        }\n\n        //check for negative zero, return zero if negative zero\n        return -(wholeMonthDiff + adjust) || 0;\n    }\n\n    hooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';\n    hooks.defaultFormatUtc = 'YYYY-MM-DDTHH:mm:ss[Z]';\n\n    function toString () {\n        return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');\n    }\n\n    function toISOString(keepOffset) {\n        if (!this.isValid()) {\n            return null;\n        }\n        var utc = keepOffset !== true;\n        var m = utc ? this.clone().utc() : this;\n        if (m.year() < 0 || m.year() > 9999) {\n            return formatMoment(m, utc ? 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYYYY-MM-DD[T]HH:mm:ss.SSSZ');\n        }\n        if (isFunction(Date.prototype.toISOString)) {\n            // native implementation is ~50x faster, use it when we can\n            if (utc) {\n                return this.toDate().toISOString();\n            } else {\n                return new Date(this.valueOf() + this.utcOffset() * 60 * 1000).toISOString().replace('Z', formatMoment(m, 'Z'));\n            }\n        }\n        return formatMoment(m, utc ? 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYY-MM-DD[T]HH:mm:ss.SSSZ');\n    }\n\n    /**\n     * Return a human readable representation of a moment that can\n     * also be evaluated to get a new moment which is the same\n     *\n     * @link https://nodejs.org/dist/latest/docs/api/util.html#util_custom_inspect_function_on_objects\n     */\n    function inspect () {\n        if (!this.isValid()) {\n            return 'moment.invalid(/* ' + this._i + ' */)';\n        }\n        var func = 'moment';\n        var zone = '';\n        if (!this.isLocal()) {\n            func = this.utcOffset() === 0 ? 'moment.utc' : 'moment.parseZone';\n            zone = 'Z';\n        }\n        var prefix = '[' + func + '(\"]';\n        var year = (0 <= this.year() && this.year() <= 9999) ? 'YYYY' : 'YYYYYY';\n        var datetime = '-MM-DD[T]HH:mm:ss.SSS';\n        var suffix = zone + '[\")]';\n\n        return this.format(prefix + year + datetime + suffix);\n    }\n\n    function format (inputString) {\n        if (!inputString) {\n            inputString = this.isUtc() ? hooks.defaultFormatUtc : hooks.defaultFormat;\n        }\n        var output = formatMoment(this, inputString);\n        return this.localeData().postformat(output);\n    }\n\n    function from (time, withoutSuffix) {\n        if (this.isValid() &&\n                ((isMoment(time) && time.isValid()) ||\n                 createLocal(time).isValid())) {\n            return createDuration({to: this, from: time}).locale(this.locale()).humanize(!withoutSuffix);\n        } else {\n            return this.localeData().invalidDate();\n        }\n    }\n\n    function fromNow (withoutSuffix) {\n        return this.from(createLocal(), withoutSuffix);\n    }\n\n    function to (time, withoutSuffix) {\n        if (this.isValid() &&\n                ((isMoment(time) && time.isValid()) ||\n                 createLocal(time).isValid())) {\n            return createDuration({from: this, to: time}).locale(this.locale()).humanize(!withoutSuffix);\n        } else {\n            return this.localeData().invalidDate();\n        }\n    }\n\n    function toNow (withoutSuffix) {\n        return this.to(createLocal(), withoutSuffix);\n    }\n\n    // If passed a locale key, it will set the locale for this\n    // instance.  Otherwise, it will return the locale configuration\n    // variables for this instance.\n    function locale (key) {\n        var newLocaleData;\n\n        if (key === undefined) {\n            return this._locale._abbr;\n        } else {\n            newLocaleData = getLocale(key);\n            if (newLocaleData != null) {\n                this._locale = newLocaleData;\n            }\n            return this;\n        }\n    }\n\n    var lang = deprecate(\n        'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',\n        function (key) {\n            if (key === undefined) {\n                return this.localeData();\n            } else {\n                return this.locale(key);\n            }\n        }\n    );\n\n    function localeData () {\n        return this._locale;\n    }\n\n    var MS_PER_SECOND = 1000;\n    var MS_PER_MINUTE = 60 * MS_PER_SECOND;\n    var MS_PER_HOUR = 60 * MS_PER_MINUTE;\n    var MS_PER_400_YEARS = (365 * 400 + 97) * 24 * MS_PER_HOUR;\n\n    // actual modulo - handles negative numbers (for dates before 1970):\n    function mod$1(dividend, divisor) {\n        return (dividend % divisor + divisor) % divisor;\n    }\n\n    function localStartOfDate(y, m, d) {\n        // the date constructor remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            // preserve leap years using a full 400 year cycle, then reset\n            return new Date(y + 400, m, d) - MS_PER_400_YEARS;\n        } else {\n            return new Date(y, m, d).valueOf();\n        }\n    }\n\n    function utcStartOfDate(y, m, d) {\n        // Date.UTC remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            // preserve leap years using a full 400 year cycle, then reset\n            return Date.UTC(y + 400, m, d) - MS_PER_400_YEARS;\n        } else {\n            return Date.UTC(y, m, d);\n        }\n    }\n\n    function startOf (units) {\n        var time;\n        units = normalizeUnits(units);\n        if (units === undefined || units === 'millisecond' || !this.isValid()) {\n            return this;\n        }\n\n        var startOfDate = this._isUTC ? utcStartOfDate : localStartOfDate;\n\n        switch (units) {\n            case 'year':\n                time = startOfDate(this.year(), 0, 1);\n                break;\n            case 'quarter':\n                time = startOfDate(this.year(), this.month() - this.month() % 3, 1);\n                break;\n            case 'month':\n                time = startOfDate(this.year(), this.month(), 1);\n                break;\n            case 'week':\n                time = startOfDate(this.year(), this.month(), this.date() - this.weekday());\n                break;\n            case 'isoWeek':\n                time = startOfDate(this.year(), this.month(), this.date() - (this.isoWeekday() - 1));\n                break;\n            case 'day':\n            case 'date':\n                time = startOfDate(this.year(), this.month(), this.date());\n                break;\n            case 'hour':\n                time = this._d.valueOf();\n                time -= mod$1(time + (this._isUTC ? 0 : this.utcOffset() * MS_PER_MINUTE), MS_PER_HOUR);\n                break;\n            case 'minute':\n                time = this._d.valueOf();\n                time -= mod$1(time, MS_PER_MINUTE);\n                break;\n            case 'second':\n                time = this._d.valueOf();\n                time -= mod$1(time, MS_PER_SECOND);\n                break;\n        }\n\n        this._d.setTime(time);\n        hooks.updateOffset(this, true);\n        return this;\n    }\n\n    function endOf (units) {\n        var time;\n        units = normalizeUnits(units);\n        if (units === undefined || units === 'millisecond' || !this.isValid()) {\n            return this;\n        }\n\n        var startOfDate = this._isUTC ? utcStartOfDate : localStartOfDate;\n\n        switch (units) {\n            case 'year':\n                time = startOfDate(this.year() + 1, 0, 1) - 1;\n                break;\n            case 'quarter':\n                time = startOfDate(this.year(), this.month() - this.month() % 3 + 3, 1) - 1;\n                break;\n            case 'month':\n                time = startOfDate(this.year(), this.month() + 1, 1) - 1;\n                break;\n            case 'week':\n                time = startOfDate(this.year(), this.month(), this.date() - this.weekday() + 7) - 1;\n                break;\n            case 'isoWeek':\n                time = startOfDate(this.year(), this.month(), this.date() - (this.isoWeekday() - 1) + 7) - 1;\n                break;\n            case 'day':\n            case 'date':\n                time = startOfDate(this.year(), this.month(), this.date() + 1) - 1;\n                break;\n            case 'hour':\n                time = this._d.valueOf();\n                time += MS_PER_HOUR - mod$1(time + (this._isUTC ? 0 : this.utcOffset() * MS_PER_MINUTE), MS_PER_HOUR) - 1;\n                break;\n            case 'minute':\n                time = this._d.valueOf();\n                time += MS_PER_MINUTE - mod$1(time, MS_PER_MINUTE) - 1;\n                break;\n            case 'second':\n                time = this._d.valueOf();\n                time += MS_PER_SECOND - mod$1(time, MS_PER_SECOND) - 1;\n                break;\n        }\n\n        this._d.setTime(time);\n        hooks.updateOffset(this, true);\n        return this;\n    }\n\n    function valueOf () {\n        return this._d.valueOf() - ((this._offset || 0) * 60000);\n    }\n\n    function unix () {\n        return Math.floor(this.valueOf() / 1000);\n    }\n\n    function toDate () {\n        return new Date(this.valueOf());\n    }\n\n    function toArray () {\n        var m = this;\n        return [m.year(), m.month(), m.date(), m.hour(), m.minute(), m.second(), m.millisecond()];\n    }\n\n    function toObject () {\n        var m = this;\n        return {\n            years: m.year(),\n            months: m.month(),\n            date: m.date(),\n            hours: m.hours(),\n            minutes: m.minutes(),\n            seconds: m.seconds(),\n            milliseconds: m.milliseconds()\n        };\n    }\n\n    function toJSON () {\n        // new Date(NaN).toJSON() === null\n        return this.isValid() ? this.toISOString() : null;\n    }\n\n    function isValid$2 () {\n        return isValid(this);\n    }\n\n    function parsingFlags () {\n        return extend({}, getParsingFlags(this));\n    }\n\n    function invalidAt () {\n        return getParsingFlags(this).overflow;\n    }\n\n    function creationData() {\n        return {\n            input: this._i,\n            format: this._f,\n            locale: this._locale,\n            isUTC: this._isUTC,\n            strict: this._strict\n        };\n    }\n\n    // FORMATTING\n\n    addFormatToken(0, ['gg', 2], 0, function () {\n        return this.weekYear() % 100;\n    });\n\n    addFormatToken(0, ['GG', 2], 0, function () {\n        return this.isoWeekYear() % 100;\n    });\n\n    function addWeekYearFormatToken (token, getter) {\n        addFormatToken(0, [token, token.length], 0, getter);\n    }\n\n    addWeekYearFormatToken('gggg',     'weekYear');\n    addWeekYearFormatToken('ggggg',    'weekYear');\n    addWeekYearFormatToken('GGGG',  'isoWeekYear');\n    addWeekYearFormatToken('GGGGG', 'isoWeekYear');\n\n    // ALIASES\n\n    addUnitAlias('weekYear', 'gg');\n    addUnitAlias('isoWeekYear', 'GG');\n\n    // PRIORITY\n\n    addUnitPriority('weekYear', 1);\n    addUnitPriority('isoWeekYear', 1);\n\n\n    // PARSING\n\n    addRegexToken('G',      matchSigned);\n    addRegexToken('g',      matchSigned);\n    addRegexToken('GG',     match1to2, match2);\n    addRegexToken('gg',     match1to2, match2);\n    addRegexToken('GGGG',   match1to4, match4);\n    addRegexToken('gggg',   match1to4, match4);\n    addRegexToken('GGGGG',  match1to6, match6);\n    addRegexToken('ggggg',  match1to6, match6);\n\n    addWeekParseToken(['gggg', 'ggggg', 'GGGG', 'GGGGG'], function (input, week, config, token) {\n        week[token.substr(0, 2)] = toInt(input);\n    });\n\n    addWeekParseToken(['gg', 'GG'], function (input, week, config, token) {\n        week[token] = hooks.parseTwoDigitYear(input);\n    });\n\n    // MOMENTS\n\n    function getSetWeekYear (input) {\n        return getSetWeekYearHelper.call(this,\n                input,\n                this.week(),\n                this.weekday(),\n                this.localeData()._week.dow,\n                this.localeData()._week.doy);\n    }\n\n    function getSetISOWeekYear (input) {\n        return getSetWeekYearHelper.call(this,\n                input, this.isoWeek(), this.isoWeekday(), 1, 4);\n    }\n\n    function getISOWeeksInYear () {\n        return weeksInYear(this.year(), 1, 4);\n    }\n\n    function getWeeksInYear () {\n        var weekInfo = this.localeData()._week;\n        return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);\n    }\n\n    function getSetWeekYearHelper(input, week, weekday, dow, doy) {\n        var weeksTarget;\n        if (input == null) {\n            return weekOfYear(this, dow, doy).year;\n        } else {\n            weeksTarget = weeksInYear(input, dow, doy);\n            if (week > weeksTarget) {\n                week = weeksTarget;\n            }\n            return setWeekAll.call(this, input, week, weekday, dow, doy);\n        }\n    }\n\n    function setWeekAll(weekYear, week, weekday, dow, doy) {\n        var dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy),\n            date = createUTCDate(dayOfYearData.year, 0, dayOfYearData.dayOfYear);\n\n        this.year(date.getUTCFullYear());\n        this.month(date.getUTCMonth());\n        this.date(date.getUTCDate());\n        return this;\n    }\n\n    // FORMATTING\n\n    addFormatToken('Q', 0, 'Qo', 'quarter');\n\n    // ALIASES\n\n    addUnitAlias('quarter', 'Q');\n\n    // PRIORITY\n\n    addUnitPriority('quarter', 7);\n\n    // PARSING\n\n    addRegexToken('Q', match1);\n    addParseToken('Q', function (input, array) {\n        array[MONTH] = (toInt(input) - 1) * 3;\n    });\n\n    // MOMENTS\n\n    function getSetQuarter (input) {\n        return input == null ? Math.ceil((this.month() + 1) / 3) : this.month((input - 1) * 3 + this.month() % 3);\n    }\n\n    // FORMATTING\n\n    addFormatToken('D', ['DD', 2], 'Do', 'date');\n\n    // ALIASES\n\n    addUnitAlias('date', 'D');\n\n    // PRIORITY\n    addUnitPriority('date', 9);\n\n    // PARSING\n\n    addRegexToken('D',  match1to2);\n    addRegexToken('DD', match1to2, match2);\n    addRegexToken('Do', function (isStrict, locale) {\n        // TODO: Remove \"ordinalParse\" fallback in next major release.\n        return isStrict ?\n          (locale._dayOfMonthOrdinalParse || locale._ordinalParse) :\n          locale._dayOfMonthOrdinalParseLenient;\n    });\n\n    addParseToken(['D', 'DD'], DATE);\n    addParseToken('Do', function (input, array) {\n        array[DATE] = toInt(input.match(match1to2)[0]);\n    });\n\n    // MOMENTS\n\n    var getSetDayOfMonth = makeGetSet('Date', true);\n\n    // FORMATTING\n\n    addFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');\n\n    // ALIASES\n\n    addUnitAlias('dayOfYear', 'DDD');\n\n    // PRIORITY\n    addUnitPriority('dayOfYear', 4);\n\n    // PARSING\n\n    addRegexToken('DDD',  match1to3);\n    addRegexToken('DDDD', match3);\n    addParseToken(['DDD', 'DDDD'], function (input, array, config) {\n        config._dayOfYear = toInt(input);\n    });\n\n    // HELPERS\n\n    // MOMENTS\n\n    function getSetDayOfYear (input) {\n        var dayOfYear = Math.round((this.clone().startOf('day') - this.clone().startOf('year')) / 864e5) + 1;\n        return input == null ? dayOfYear : this.add((input - dayOfYear), 'd');\n    }\n\n    // FORMATTING\n\n    addFormatToken('m', ['mm', 2], 0, 'minute');\n\n    // ALIASES\n\n    addUnitAlias('minute', 'm');\n\n    // PRIORITY\n\n    addUnitPriority('minute', 14);\n\n    // PARSING\n\n    addRegexToken('m',  match1to2);\n    addRegexToken('mm', match1to2, match2);\n    addParseToken(['m', 'mm'], MINUTE);\n\n    // MOMENTS\n\n    var getSetMinute = makeGetSet('Minutes', false);\n\n    // FORMATTING\n\n    addFormatToken('s', ['ss', 2], 0, 'second');\n\n    // ALIASES\n\n    addUnitAlias('second', 's');\n\n    // PRIORITY\n\n    addUnitPriority('second', 15);\n\n    // PARSING\n\n    addRegexToken('s',  match1to2);\n    addRegexToken('ss', match1to2, match2);\n    addParseToken(['s', 'ss'], SECOND);\n\n    // MOMENTS\n\n    var getSetSecond = makeGetSet('Seconds', false);\n\n    // FORMATTING\n\n    addFormatToken('S', 0, 0, function () {\n        return ~~(this.millisecond() / 100);\n    });\n\n    addFormatToken(0, ['SS', 2], 0, function () {\n        return ~~(this.millisecond() / 10);\n    });\n\n    addFormatToken(0, ['SSS', 3], 0, 'millisecond');\n    addFormatToken(0, ['SSSS', 4], 0, function () {\n        return this.millisecond() * 10;\n    });\n    addFormatToken(0, ['SSSSS', 5], 0, function () {\n        return this.millisecond() * 100;\n    });\n    addFormatToken(0, ['SSSSSS', 6], 0, function () {\n        return this.millisecond() * 1000;\n    });\n    addFormatToken(0, ['SSSSSSS', 7], 0, function () {\n        return this.millisecond() * 10000;\n    });\n    addFormatToken(0, ['SSSSSSSS', 8], 0, function () {\n        return this.millisecond() * 100000;\n    });\n    addFormatToken(0, ['SSSSSSSSS', 9], 0, function () {\n        return this.millisecond() * 1000000;\n    });\n\n\n    // ALIASES\n\n    addUnitAlias('millisecond', 'ms');\n\n    // PRIORITY\n\n    addUnitPriority('millisecond', 16);\n\n    // PARSING\n\n    addRegexToken('S',    match1to3, match1);\n    addRegexToken('SS',   match1to3, match2);\n    addRegexToken('SSS',  match1to3, match3);\n\n    var token;\n    for (token = 'SSSS'; token.length <= 9; token += 'S') {\n        addRegexToken(token, matchUnsigned);\n    }\n\n    function parseMs(input, array) {\n        array[MILLISECOND] = toInt(('0.' + input) * 1000);\n    }\n\n    for (token = 'S'; token.length <= 9; token += 'S') {\n        addParseToken(token, parseMs);\n    }\n    // MOMENTS\n\n    var getSetMillisecond = makeGetSet('Milliseconds', false);\n\n    // FORMATTING\n\n    addFormatToken('z',  0, 0, 'zoneAbbr');\n    addFormatToken('zz', 0, 0, 'zoneName');\n\n    // MOMENTS\n\n    function getZoneAbbr () {\n        return this._isUTC ? 'UTC' : '';\n    }\n\n    function getZoneName () {\n        return this._isUTC ? 'Coordinated Universal Time' : '';\n    }\n\n    var proto = Moment.prototype;\n\n    proto.add               = add;\n    proto.calendar          = calendar$1;\n    proto.clone             = clone;\n    proto.diff              = diff;\n    proto.endOf             = endOf;\n    proto.format            = format;\n    proto.from              = from;\n    proto.fromNow           = fromNow;\n    proto.to                = to;\n    proto.toNow             = toNow;\n    proto.get               = stringGet;\n    proto.invalidAt         = invalidAt;\n    proto.isAfter           = isAfter;\n    proto.isBefore          = isBefore;\n    proto.isBetween         = isBetween;\n    proto.isSame            = isSame;\n    proto.isSameOrAfter     = isSameOrAfter;\n    proto.isSameOrBefore    = isSameOrBefore;\n    proto.isValid           = isValid$2;\n    proto.lang              = lang;\n    proto.locale            = locale;\n    proto.localeData        = localeData;\n    proto.max               = prototypeMax;\n    proto.min               = prototypeMin;\n    proto.parsingFlags      = parsingFlags;\n    proto.set               = stringSet;\n    proto.startOf           = startOf;\n    proto.subtract          = subtract;\n    proto.toArray           = toArray;\n    proto.toObject          = toObject;\n    proto.toDate            = toDate;\n    proto.toISOString       = toISOString;\n    proto.inspect           = inspect;\n    proto.toJSON            = toJSON;\n    proto.toString          = toString;\n    proto.unix              = unix;\n    proto.valueOf           = valueOf;\n    proto.creationData      = creationData;\n    proto.year       = getSetYear;\n    proto.isLeapYear = getIsLeapYear;\n    proto.weekYear    = getSetWeekYear;\n    proto.isoWeekYear = getSetISOWeekYear;\n    proto.quarter = proto.quarters = getSetQuarter;\n    proto.month       = getSetMonth;\n    proto.daysInMonth = getDaysInMonth;\n    proto.week           = proto.weeks        = getSetWeek;\n    proto.isoWeek        = proto.isoWeeks     = getSetISOWeek;\n    proto.weeksInYear    = getWeeksInYear;\n    proto.isoWeeksInYear = getISOWeeksInYear;\n    proto.date       = getSetDayOfMonth;\n    proto.day        = proto.days             = getSetDayOfWeek;\n    proto.weekday    = getSetLocaleDayOfWeek;\n    proto.isoWeekday = getSetISODayOfWeek;\n    proto.dayOfYear  = getSetDayOfYear;\n    proto.hour = proto.hours = getSetHour;\n    proto.minute = proto.minutes = getSetMinute;\n    proto.second = proto.seconds = getSetSecond;\n    proto.millisecond = proto.milliseconds = getSetMillisecond;\n    proto.utcOffset            = getSetOffset;\n    proto.utc                  = setOffsetToUTC;\n    proto.local                = setOffsetToLocal;\n    proto.parseZone            = setOffsetToParsedOffset;\n    proto.hasAlignedHourOffset = hasAlignedHourOffset;\n    proto.isDST                = isDaylightSavingTime;\n    proto.isLocal              = isLocal;\n    proto.isUtcOffset          = isUtcOffset;\n    proto.isUtc                = isUtc;\n    proto.isUTC                = isUtc;\n    proto.zoneAbbr = getZoneAbbr;\n    proto.zoneName = getZoneName;\n    proto.dates  = deprecate('dates accessor is deprecated. Use date instead.', getSetDayOfMonth);\n    proto.months = deprecate('months accessor is deprecated. Use month instead', getSetMonth);\n    proto.years  = deprecate('years accessor is deprecated. Use year instead', getSetYear);\n    proto.zone   = deprecate('moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/', getSetZone);\n    proto.isDSTShifted = deprecate('isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information', isDaylightSavingTimeShifted);\n\n    function createUnix (input) {\n        return createLocal(input * 1000);\n    }\n\n    function createInZone () {\n        return createLocal.apply(null, arguments).parseZone();\n    }\n\n    function preParsePostFormat (string) {\n        return string;\n    }\n\n    var proto$1 = Locale.prototype;\n\n    proto$1.calendar        = calendar;\n    proto$1.longDateFormat  = longDateFormat;\n    proto$1.invalidDate     = invalidDate;\n    proto$1.ordinal         = ordinal;\n    proto$1.preparse        = preParsePostFormat;\n    proto$1.postformat      = preParsePostFormat;\n    proto$1.relativeTime    = relativeTime;\n    proto$1.pastFuture      = pastFuture;\n    proto$1.set             = set;\n\n    proto$1.months            =        localeMonths;\n    proto$1.monthsShort       =        localeMonthsShort;\n    proto$1.monthsParse       =        localeMonthsParse;\n    proto$1.monthsRegex       = monthsRegex;\n    proto$1.monthsShortRegex  = monthsShortRegex;\n    proto$1.week = localeWeek;\n    proto$1.firstDayOfYear = localeFirstDayOfYear;\n    proto$1.firstDayOfWeek = localeFirstDayOfWeek;\n\n    proto$1.weekdays       =        localeWeekdays;\n    proto$1.weekdaysMin    =        localeWeekdaysMin;\n    proto$1.weekdaysShort  =        localeWeekdaysShort;\n    proto$1.weekdaysParse  =        localeWeekdaysParse;\n\n    proto$1.weekdaysRegex       =        weekdaysRegex;\n    proto$1.weekdaysShortRegex  =        weekdaysShortRegex;\n    proto$1.weekdaysMinRegex    =        weekdaysMinRegex;\n\n    proto$1.isPM = localeIsPM;\n    proto$1.meridiem = localeMeridiem;\n\n    function get$1 (format, index, field, setter) {\n        var locale = getLocale();\n        var utc = createUTC().set(setter, index);\n        return locale[field](utc, format);\n    }\n\n    function listMonthsImpl (format, index, field) {\n        if (isNumber(format)) {\n            index = format;\n            format = undefined;\n        }\n\n        format = format || '';\n\n        if (index != null) {\n            return get$1(format, index, field, 'month');\n        }\n\n        var i;\n        var out = [];\n        for (i = 0; i < 12; i++) {\n            out[i] = get$1(format, i, field, 'month');\n        }\n        return out;\n    }\n\n    // ()\n    // (5)\n    // (fmt, 5)\n    // (fmt)\n    // (true)\n    // (true, 5)\n    // (true, fmt, 5)\n    // (true, fmt)\n    function listWeekdaysImpl (localeSorted, format, index, field) {\n        if (typeof localeSorted === 'boolean') {\n            if (isNumber(format)) {\n                index = format;\n                format = undefined;\n            }\n\n            format = format || '';\n        } else {\n            format = localeSorted;\n            index = format;\n            localeSorted = false;\n\n            if (isNumber(format)) {\n                index = format;\n                format = undefined;\n            }\n\n            format = format || '';\n        }\n\n        var locale = getLocale(),\n            shift = localeSorted ? locale._week.dow : 0;\n\n        if (index != null) {\n            return get$1(format, (index + shift) % 7, field, 'day');\n        }\n\n        var i;\n        var out = [];\n        for (i = 0; i < 7; i++) {\n            out[i] = get$1(format, (i + shift) % 7, field, 'day');\n        }\n        return out;\n    }\n\n    function listMonths (format, index) {\n        return listMonthsImpl(format, index, 'months');\n    }\n\n    function listMonthsShort (format, index) {\n        return listMonthsImpl(format, index, 'monthsShort');\n    }\n\n    function listWeekdays (localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdays');\n    }\n\n    function listWeekdaysShort (localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysShort');\n    }\n\n    function listWeekdaysMin (localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysMin');\n    }\n\n    getSetGlobalLocale('en', {\n        dayOfMonthOrdinalParse: /\\d{1,2}(th|st|nd|rd)/,\n        ordinal : function (number) {\n            var b = number % 10,\n                output = (toInt(number % 100 / 10) === 1) ? 'th' :\n                (b === 1) ? 'st' :\n                (b === 2) ? 'nd' :\n                (b === 3) ? 'rd' : 'th';\n            return number + output;\n        }\n    });\n\n    // Side effect imports\n\n    hooks.lang = deprecate('moment.lang is deprecated. Use moment.locale instead.', getSetGlobalLocale);\n    hooks.langData = deprecate('moment.langData is deprecated. Use moment.localeData instead.', getLocale);\n\n    var mathAbs = Math.abs;\n\n    function abs () {\n        var data           = this._data;\n\n        this._milliseconds = mathAbs(this._milliseconds);\n        this._days         = mathAbs(this._days);\n        this._months       = mathAbs(this._months);\n\n        data.milliseconds  = mathAbs(data.milliseconds);\n        data.seconds       = mathAbs(data.seconds);\n        data.minutes       = mathAbs(data.minutes);\n        data.hours         = mathAbs(data.hours);\n        data.months        = mathAbs(data.months);\n        data.years         = mathAbs(data.years);\n\n        return this;\n    }\n\n    function addSubtract$1 (duration, input, value, direction) {\n        var other = createDuration(input, value);\n\n        duration._milliseconds += direction * other._milliseconds;\n        duration._days         += direction * other._days;\n        duration._months       += direction * other._months;\n\n        return duration._bubble();\n    }\n\n    // supports only 2.0-style add(1, 's') or add(duration)\n    function add$1 (input, value) {\n        return addSubtract$1(this, input, value, 1);\n    }\n\n    // supports only 2.0-style subtract(1, 's') or subtract(duration)\n    function subtract$1 (input, value) {\n        return addSubtract$1(this, input, value, -1);\n    }\n\n    function absCeil (number) {\n        if (number < 0) {\n            return Math.floor(number);\n        } else {\n            return Math.ceil(number);\n        }\n    }\n\n    function bubble () {\n        var milliseconds = this._milliseconds;\n        var days         = this._days;\n        var months       = this._months;\n        var data         = this._data;\n        var seconds, minutes, hours, years, monthsFromDays;\n\n        // if we have a mix of positive and negative values, bubble down first\n        // check: https://github.com/moment/moment/issues/2166\n        if (!((milliseconds >= 0 && days >= 0 && months >= 0) ||\n                (milliseconds <= 0 && days <= 0 && months <= 0))) {\n            milliseconds += absCeil(monthsToDays(months) + days) * 864e5;\n            days = 0;\n            months = 0;\n        }\n\n        // The following code bubbles up values, see the tests for\n        // examples of what that means.\n        data.milliseconds = milliseconds % 1000;\n\n        seconds           = absFloor(milliseconds / 1000);\n        data.seconds      = seconds % 60;\n\n        minutes           = absFloor(seconds / 60);\n        data.minutes      = minutes % 60;\n\n        hours             = absFloor(minutes / 60);\n        data.hours        = hours % 24;\n\n        days += absFloor(hours / 24);\n\n        // convert days to months\n        monthsFromDays = absFloor(daysToMonths(days));\n        months += monthsFromDays;\n        days -= absCeil(monthsToDays(monthsFromDays));\n\n        // 12 months -> 1 year\n        years = absFloor(months / 12);\n        months %= 12;\n\n        data.days   = days;\n        data.months = months;\n        data.years  = years;\n\n        return this;\n    }\n\n    function daysToMonths (days) {\n        // 400 years have 146097 days (taking into account leap year rules)\n        // 400 years have 12 months === 4800\n        return days * 4800 / 146097;\n    }\n\n    function monthsToDays (months) {\n        // the reverse of daysToMonths\n        return months * 146097 / 4800;\n    }\n\n    function as (units) {\n        if (!this.isValid()) {\n            return NaN;\n        }\n        var days;\n        var months;\n        var milliseconds = this._milliseconds;\n\n        units = normalizeUnits(units);\n\n        if (units === 'month' || units === 'quarter' || units === 'year') {\n            days = this._days + milliseconds / 864e5;\n            months = this._months + daysToMonths(days);\n            switch (units) {\n                case 'month':   return months;\n                case 'quarter': return months / 3;\n                case 'year':    return months / 12;\n            }\n        } else {\n            // handle milliseconds separately because of floating point math errors (issue #1867)\n            days = this._days + Math.round(monthsToDays(this._months));\n            switch (units) {\n                case 'week'   : return days / 7     + milliseconds / 6048e5;\n                case 'day'    : return days         + milliseconds / 864e5;\n                case 'hour'   : return days * 24    + milliseconds / 36e5;\n                case 'minute' : return days * 1440  + milliseconds / 6e4;\n                case 'second' : return days * 86400 + milliseconds / 1000;\n                // Math.floor prevents floating point math errors here\n                case 'millisecond': return Math.floor(days * 864e5) + milliseconds;\n                default: throw new Error('Unknown unit ' + units);\n            }\n        }\n    }\n\n    // TODO: Use this.as('ms')?\n    function valueOf$1 () {\n        if (!this.isValid()) {\n            return NaN;\n        }\n        return (\n            this._milliseconds +\n            this._days * 864e5 +\n            (this._months % 12) * 2592e6 +\n            toInt(this._months / 12) * 31536e6\n        );\n    }\n\n    function makeAs (alias) {\n        return function () {\n            return this.as(alias);\n        };\n    }\n\n    var asMilliseconds = makeAs('ms');\n    var asSeconds      = makeAs('s');\n    var asMinutes      = makeAs('m');\n    var asHours        = makeAs('h');\n    var asDays         = makeAs('d');\n    var asWeeks        = makeAs('w');\n    var asMonths       = makeAs('M');\n    var asQuarters     = makeAs('Q');\n    var asYears        = makeAs('y');\n\n    function clone$1 () {\n        return createDuration(this);\n    }\n\n    function get$2 (units) {\n        units = normalizeUnits(units);\n        return this.isValid() ? this[units + 's']() : NaN;\n    }\n\n    function makeGetter(name) {\n        return function () {\n            return this.isValid() ? this._data[name] : NaN;\n        };\n    }\n\n    var milliseconds = makeGetter('milliseconds');\n    var seconds      = makeGetter('seconds');\n    var minutes      = makeGetter('minutes');\n    var hours        = makeGetter('hours');\n    var days         = makeGetter('days');\n    var months       = makeGetter('months');\n    var years        = makeGetter('years');\n\n    function weeks () {\n        return absFloor(this.days() / 7);\n    }\n\n    var round = Math.round;\n    var thresholds = {\n        ss: 44,         // a few seconds to seconds\n        s : 45,         // seconds to minute\n        m : 45,         // minutes to hour\n        h : 22,         // hours to day\n        d : 26,         // days to month\n        M : 11          // months to year\n    };\n\n    // helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize\n    function substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {\n        return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);\n    }\n\n    function relativeTime$1 (posNegDuration, withoutSuffix, locale) {\n        var duration = createDuration(posNegDuration).abs();\n        var seconds  = round(duration.as('s'));\n        var minutes  = round(duration.as('m'));\n        var hours    = round(duration.as('h'));\n        var days     = round(duration.as('d'));\n        var months   = round(duration.as('M'));\n        var years    = round(duration.as('y'));\n\n        var a = seconds <= thresholds.ss && ['s', seconds]  ||\n                seconds < thresholds.s   && ['ss', seconds] ||\n                minutes <= 1             && ['m']           ||\n                minutes < thresholds.m   && ['mm', minutes] ||\n                hours   <= 1             && ['h']           ||\n                hours   < thresholds.h   && ['hh', hours]   ||\n                days    <= 1             && ['d']           ||\n                days    < thresholds.d   && ['dd', days]    ||\n                months  <= 1             && ['M']           ||\n                months  < thresholds.M   && ['MM', months]  ||\n                years   <= 1             && ['y']           || ['yy', years];\n\n        a[2] = withoutSuffix;\n        a[3] = +posNegDuration > 0;\n        a[4] = locale;\n        return substituteTimeAgo.apply(null, a);\n    }\n\n    // This function allows you to set the rounding function for relative time strings\n    function getSetRelativeTimeRounding (roundingFunction) {\n        if (roundingFunction === undefined) {\n            return round;\n        }\n        if (typeof(roundingFunction) === 'function') {\n            round = roundingFunction;\n            return true;\n        }\n        return false;\n    }\n\n    // This function allows you to set a threshold for relative time strings\n    function getSetRelativeTimeThreshold (threshold, limit) {\n        if (thresholds[threshold] === undefined) {\n            return false;\n        }\n        if (limit === undefined) {\n            return thresholds[threshold];\n        }\n        thresholds[threshold] = limit;\n        if (threshold === 's') {\n            thresholds.ss = limit - 1;\n        }\n        return true;\n    }\n\n    function humanize (withSuffix) {\n        if (!this.isValid()) {\n            return this.localeData().invalidDate();\n        }\n\n        var locale = this.localeData();\n        var output = relativeTime$1(this, !withSuffix, locale);\n\n        if (withSuffix) {\n            output = locale.pastFuture(+this, output);\n        }\n\n        return locale.postformat(output);\n    }\n\n    var abs$1 = Math.abs;\n\n    function sign(x) {\n        return ((x > 0) - (x < 0)) || +x;\n    }\n\n    function toISOString$1() {\n        // for ISO strings we do not use the normal bubbling rules:\n        //  * milliseconds bubble up until they become hours\n        //  * days do not bubble at all\n        //  * months bubble up until they become years\n        // This is because there is no context-free conversion between hours and days\n        // (think of clock changes)\n        // and also not between days and months (28-31 days per month)\n        if (!this.isValid()) {\n            return this.localeData().invalidDate();\n        }\n\n        var seconds = abs$1(this._milliseconds) / 1000;\n        var days         = abs$1(this._days);\n        var months       = abs$1(this._months);\n        var minutes, hours, years;\n\n        // 3600 seconds -> 60 minutes -> 1 hour\n        minutes           = absFloor(seconds / 60);\n        hours             = absFloor(minutes / 60);\n        seconds %= 60;\n        minutes %= 60;\n\n        // 12 months -> 1 year\n        years  = absFloor(months / 12);\n        months %= 12;\n\n\n        // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js\n        var Y = years;\n        var M = months;\n        var D = days;\n        var h = hours;\n        var m = minutes;\n        var s = seconds ? seconds.toFixed(3).replace(/\\.?0+$/, '') : '';\n        var total = this.asSeconds();\n\n        if (!total) {\n            // this is the same as C#'s (Noda) and python (isodate)...\n            // but not other JS (goog.date)\n            return 'P0D';\n        }\n\n        var totalSign = total < 0 ? '-' : '';\n        var ymSign = sign(this._months) !== sign(total) ? '-' : '';\n        var daysSign = sign(this._days) !== sign(total) ? '-' : '';\n        var hmsSign = sign(this._milliseconds) !== sign(total) ? '-' : '';\n\n        return totalSign + 'P' +\n            (Y ? ymSign + Y + 'Y' : '') +\n            (M ? ymSign + M + 'M' : '') +\n            (D ? daysSign + D + 'D' : '') +\n            ((h || m || s) ? 'T' : '') +\n            (h ? hmsSign + h + 'H' : '') +\n            (m ? hmsSign + m + 'M' : '') +\n            (s ? hmsSign + s + 'S' : '');\n    }\n\n    var proto$2 = Duration.prototype;\n\n    proto$2.isValid        = isValid$1;\n    proto$2.abs            = abs;\n    proto$2.add            = add$1;\n    proto$2.subtract       = subtract$1;\n    proto$2.as             = as;\n    proto$2.asMilliseconds = asMilliseconds;\n    proto$2.asSeconds      = asSeconds;\n    proto$2.asMinutes      = asMinutes;\n    proto$2.asHours        = asHours;\n    proto$2.asDays         = asDays;\n    proto$2.asWeeks        = asWeeks;\n    proto$2.asMonths       = asMonths;\n    proto$2.asQuarters     = asQuarters;\n    proto$2.asYears        = asYears;\n    proto$2.valueOf        = valueOf$1;\n    proto$2._bubble        = bubble;\n    proto$2.clone          = clone$1;\n    proto$2.get            = get$2;\n    proto$2.milliseconds   = milliseconds;\n    proto$2.seconds        = seconds;\n    proto$2.minutes        = minutes;\n    proto$2.hours          = hours;\n    proto$2.days           = days;\n    proto$2.weeks          = weeks;\n    proto$2.months         = months;\n    proto$2.years          = years;\n    proto$2.humanize       = humanize;\n    proto$2.toISOString    = toISOString$1;\n    proto$2.toString       = toISOString$1;\n    proto$2.toJSON         = toISOString$1;\n    proto$2.locale         = locale;\n    proto$2.localeData     = localeData;\n\n    proto$2.toIsoString = deprecate('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)', toISOString$1);\n    proto$2.lang = lang;\n\n    // Side effect imports\n\n    // FORMATTING\n\n    addFormatToken('X', 0, 0, 'unix');\n    addFormatToken('x', 0, 0, 'valueOf');\n\n    // PARSING\n\n    addRegexToken('x', matchSigned);\n    addRegexToken('X', matchTimestamp);\n    addParseToken('X', function (input, array, config) {\n        config._d = new Date(parseFloat(input, 10) * 1000);\n    });\n    addParseToken('x', function (input, array, config) {\n        config._d = new Date(toInt(input));\n    });\n\n    // Side effect imports\n\n\n    hooks.version = '2.24.0';\n\n    setHookCallback(createLocal);\n\n    hooks.fn                    = proto;\n    hooks.min                   = min;\n    hooks.max                   = max;\n    hooks.now                   = now;\n    hooks.utc                   = createUTC;\n    hooks.unix                  = createUnix;\n    hooks.months                = listMonths;\n    hooks.isDate                = isDate;\n    hooks.locale                = getSetGlobalLocale;\n    hooks.invalid               = createInvalid;\n    hooks.duration              = createDuration;\n    hooks.isMoment              = isMoment;\n    hooks.weekdays              = listWeekdays;\n    hooks.parseZone             = createInZone;\n    hooks.localeData            = getLocale;\n    hooks.isDuration            = isDuration;\n    hooks.monthsShort           = listMonthsShort;\n    hooks.weekdaysMin           = listWeekdaysMin;\n    hooks.defineLocale          = defineLocale;\n    hooks.updateLocale          = updateLocale;\n    hooks.locales               = listLocales;\n    hooks.weekdaysShort         = listWeekdaysShort;\n    hooks.normalizeUnits        = normalizeUnits;\n    hooks.relativeTimeRounding  = getSetRelativeTimeRounding;\n    hooks.relativeTimeThreshold = getSetRelativeTimeThreshold;\n    hooks.calendarFormat        = getCalendarFormat;\n    hooks.prototype             = proto;\n\n    // currently HTML5 input type only supports 24-hour formats\n    hooks.HTML5_FMT = {\n        DATETIME_LOCAL: 'YYYY-MM-DDTHH:mm',             // <input type=\"datetime-local\" />\n        DATETIME_LOCAL_SECONDS: 'YYYY-MM-DDTHH:mm:ss',  // <input type=\"datetime-local\" step=\"1\" />\n        DATETIME_LOCAL_MS: 'YYYY-MM-DDTHH:mm:ss.SSS',   // <input type=\"datetime-local\" step=\"0.001\" />\n        DATE: 'YYYY-MM-DD',                             // <input type=\"date\" />\n        TIME: 'HH:mm',                                  // <input type=\"time\" />\n        TIME_SECONDS: 'HH:mm:ss',                       // <input type=\"time\" step=\"1\" />\n        TIME_MS: 'HH:mm:ss.SSS',                        // <input type=\"time\" step=\"0.001\" />\n        WEEK: 'GGGG-[W]WW',                             // <input type=\"week\" />\n        MONTH: 'YYYY-MM'                                // <input type=\"month\" />\n    };\n\n    return hooks;\n\n})));\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../core/node_modules/webpack/buildin/module.js */ \"../node_modules/webpack/buildin/module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vdHJhZGVyL25vZGVfbW9kdWxlcy9tb21lbnQvbW9tZW50LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy9Vc2Vycy9zYW15b25nL0RvY3VtZW50cy9Tb3VyY2VfY29kZS9kZXJpdi1hcHAvcGFja2FnZXMvdHJhZGVyL25vZGVfbW9kdWxlcy9tb21lbnQvbW9tZW50LmpzPzFkNjciXSwic291cmNlc0NvbnRlbnQiOlsiLy8hIG1vbWVudC5qc1xuXG47KGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XG4gICAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcbiAgICBnbG9iYWwubW9tZW50ID0gZmFjdG9yeSgpXG59KHRoaXMsIChmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBob29rQ2FsbGJhY2s7XG5cbiAgICBmdW5jdGlvbiBob29rcyAoKSB7XG4gICAgICAgIHJldHVybiBob29rQ2FsbGJhY2suYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICAvLyBUaGlzIGlzIGRvbmUgdG8gcmVnaXN0ZXIgdGhlIG1ldGhvZCBjYWxsZWQgd2l0aCBtb21lbnQoKVxuICAgIC8vIHdpdGhvdXQgY3JlYXRpbmcgY2lyY3VsYXIgZGVwZW5kZW5jaWVzLlxuICAgIGZ1bmN0aW9uIHNldEhvb2tDYWxsYmFjayAoY2FsbGJhY2spIHtcbiAgICAgICAgaG9va0NhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNBcnJheShpbnB1dCkge1xuICAgICAgICByZXR1cm4gaW5wdXQgaW5zdGFuY2VvZiBBcnJheSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBBcnJheV0nO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzT2JqZWN0KGlucHV0KSB7XG4gICAgICAgIC8vIElFOCB3aWxsIHRyZWF0IHVuZGVmaW5lZCBhbmQgbnVsbCBhcyBvYmplY3QgaWYgaXQgd2Fzbid0IGZvclxuICAgICAgICAvLyBpbnB1dCAhPSBudWxsXG4gICAgICAgIHJldHVybiBpbnB1dCAhPSBudWxsICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IE9iamVjdF0nO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzT2JqZWN0RW1wdHkob2JqKSB7XG4gICAgICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcykge1xuICAgICAgICAgICAgcmV0dXJuIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmopLmxlbmd0aCA9PT0gMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgaztcbiAgICAgICAgICAgIGZvciAoayBpbiBvYmopIHtcbiAgICAgICAgICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGspKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzVW5kZWZpbmVkKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBpbnB1dCA9PT0gdm9pZCAwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzTnVtYmVyKGlucHV0KSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgaW5wdXQgPT09ICdudW1iZXInIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IE51bWJlcl0nO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzRGF0ZShpbnB1dCkge1xuICAgICAgICByZXR1cm4gaW5wdXQgaW5zdGFuY2VvZiBEYXRlIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IERhdGVdJztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYXAoYXJyLCBmbikge1xuICAgICAgICB2YXIgcmVzID0gW10sIGk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHJlcy5wdXNoKGZuKGFycltpXSwgaSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFzT3duUHJvcChhLCBiKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSwgYik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXh0ZW5kKGEsIGIpIHtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBiKSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duUHJvcChiLCBpKSkge1xuICAgICAgICAgICAgICAgIGFbaV0gPSBiW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc093blByb3AoYiwgJ3RvU3RyaW5nJykpIHtcbiAgICAgICAgICAgIGEudG9TdHJpbmcgPSBiLnRvU3RyaW5nO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc093blByb3AoYiwgJ3ZhbHVlT2YnKSkge1xuICAgICAgICAgICAgYS52YWx1ZU9mID0gYi52YWx1ZU9mO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGE7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlVVRDIChpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlTG9jYWxPclVUQyhpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCwgdHJ1ZSkudXRjKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGVmYXVsdFBhcnNpbmdGbGFncygpIHtcbiAgICAgICAgLy8gV2UgbmVlZCB0byBkZWVwIGNsb25lIHRoaXMgb2JqZWN0LlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZW1wdHkgICAgICAgICAgIDogZmFsc2UsXG4gICAgICAgICAgICB1bnVzZWRUb2tlbnMgICAgOiBbXSxcbiAgICAgICAgICAgIHVudXNlZElucHV0ICAgICA6IFtdLFxuICAgICAgICAgICAgb3ZlcmZsb3cgICAgICAgIDogLTIsXG4gICAgICAgICAgICBjaGFyc0xlZnRPdmVyICAgOiAwLFxuICAgICAgICAgICAgbnVsbElucHV0ICAgICAgIDogZmFsc2UsXG4gICAgICAgICAgICBpbnZhbGlkTW9udGggICAgOiBudWxsLFxuICAgICAgICAgICAgaW52YWxpZEZvcm1hdCAgIDogZmFsc2UsXG4gICAgICAgICAgICB1c2VySW52YWxpZGF0ZWQgOiBmYWxzZSxcbiAgICAgICAgICAgIGlzbyAgICAgICAgICAgICA6IGZhbHNlLFxuICAgICAgICAgICAgcGFyc2VkRGF0ZVBhcnRzIDogW10sXG4gICAgICAgICAgICBtZXJpZGllbSAgICAgICAgOiBudWxsLFxuICAgICAgICAgICAgcmZjMjgyMiAgICAgICAgIDogZmFsc2UsXG4gICAgICAgICAgICB3ZWVrZGF5TWlzbWF0Y2ggOiBmYWxzZVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFBhcnNpbmdGbGFncyhtKSB7XG4gICAgICAgIGlmIChtLl9wZiA9PSBudWxsKSB7XG4gICAgICAgICAgICBtLl9wZiA9IGRlZmF1bHRQYXJzaW5nRmxhZ3MoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbS5fcGY7XG4gICAgfVxuXG4gICAgdmFyIHNvbWU7XG4gICAgaWYgKEFycmF5LnByb3RvdHlwZS5zb21lKSB7XG4gICAgICAgIHNvbWUgPSBBcnJheS5wcm90b3R5cGUuc29tZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBzb21lID0gZnVuY3Rpb24gKGZ1bikge1xuICAgICAgICAgICAgdmFyIHQgPSBPYmplY3QodGhpcyk7XG4gICAgICAgICAgICB2YXIgbGVuID0gdC5sZW5ndGggPj4+IDA7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoaSBpbiB0ICYmIGZ1bi5jYWxsKHRoaXMsIHRbaV0sIGksIHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzVmFsaWQobSkge1xuICAgICAgICBpZiAobS5faXNWYWxpZCA9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgZmxhZ3MgPSBnZXRQYXJzaW5nRmxhZ3MobSk7XG4gICAgICAgICAgICB2YXIgcGFyc2VkUGFydHMgPSBzb21lLmNhbGwoZmxhZ3MucGFyc2VkRGF0ZVBhcnRzLCBmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpICE9IG51bGw7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBpc05vd1ZhbGlkID0gIWlzTmFOKG0uX2QuZ2V0VGltZSgpKSAmJlxuICAgICAgICAgICAgICAgIGZsYWdzLm92ZXJmbG93IDwgMCAmJlxuICAgICAgICAgICAgICAgICFmbGFncy5lbXB0eSAmJlxuICAgICAgICAgICAgICAgICFmbGFncy5pbnZhbGlkTW9udGggJiZcbiAgICAgICAgICAgICAgICAhZmxhZ3MuaW52YWxpZFdlZWtkYXkgJiZcbiAgICAgICAgICAgICAgICAhZmxhZ3Mud2Vla2RheU1pc21hdGNoICYmXG4gICAgICAgICAgICAgICAgIWZsYWdzLm51bGxJbnB1dCAmJlxuICAgICAgICAgICAgICAgICFmbGFncy5pbnZhbGlkRm9ybWF0ICYmXG4gICAgICAgICAgICAgICAgIWZsYWdzLnVzZXJJbnZhbGlkYXRlZCAmJlxuICAgICAgICAgICAgICAgICghZmxhZ3MubWVyaWRpZW0gfHwgKGZsYWdzLm1lcmlkaWVtICYmIHBhcnNlZFBhcnRzKSk7XG5cbiAgICAgICAgICAgIGlmIChtLl9zdHJpY3QpIHtcbiAgICAgICAgICAgICAgICBpc05vd1ZhbGlkID0gaXNOb3dWYWxpZCAmJlxuICAgICAgICAgICAgICAgICAgICBmbGFncy5jaGFyc0xlZnRPdmVyID09PSAwICYmXG4gICAgICAgICAgICAgICAgICAgIGZsYWdzLnVudXNlZFRva2Vucy5sZW5ndGggPT09IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgZmxhZ3MuYmlnSG91ciA9PT0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoT2JqZWN0LmlzRnJvemVuID09IG51bGwgfHwgIU9iamVjdC5pc0Zyb3plbihtKSkge1xuICAgICAgICAgICAgICAgIG0uX2lzVmFsaWQgPSBpc05vd1ZhbGlkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzTm93VmFsaWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG0uX2lzVmFsaWQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlSW52YWxpZCAoZmxhZ3MpIHtcbiAgICAgICAgdmFyIG0gPSBjcmVhdGVVVEMoTmFOKTtcbiAgICAgICAgaWYgKGZsYWdzICE9IG51bGwpIHtcbiAgICAgICAgICAgIGV4dGVuZChnZXRQYXJzaW5nRmxhZ3MobSksIGZsYWdzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhtKS51c2VySW52YWxpZGF0ZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG07XG4gICAgfVxuXG4gICAgLy8gUGx1Z2lucyB0aGF0IGFkZCBwcm9wZXJ0aWVzIHNob3VsZCBhbHNvIGFkZCB0aGUga2V5IGhlcmUgKG51bGwgdmFsdWUpLFxuICAgIC8vIHNvIHdlIGNhbiBwcm9wZXJseSBjbG9uZSBvdXJzZWx2ZXMuXG4gICAgdmFyIG1vbWVudFByb3BlcnRpZXMgPSBob29rcy5tb21lbnRQcm9wZXJ0aWVzID0gW107XG5cbiAgICBmdW5jdGlvbiBjb3B5Q29uZmlnKHRvLCBmcm9tKSB7XG4gICAgICAgIHZhciBpLCBwcm9wLCB2YWw7XG5cbiAgICAgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9pc0FNb21lbnRPYmplY3QpKSB7XG4gICAgICAgICAgICB0by5faXNBTW9tZW50T2JqZWN0ID0gZnJvbS5faXNBTW9tZW50T2JqZWN0O1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5faSkpIHtcbiAgICAgICAgICAgIHRvLl9pID0gZnJvbS5faTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2YpKSB7XG4gICAgICAgICAgICB0by5fZiA9IGZyb20uX2Y7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9sKSkge1xuICAgICAgICAgICAgdG8uX2wgPSBmcm9tLl9sO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fc3RyaWN0KSkge1xuICAgICAgICAgICAgdG8uX3N0cmljdCA9IGZyb20uX3N0cmljdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX3R6bSkpIHtcbiAgICAgICAgICAgIHRvLl90em0gPSBmcm9tLl90em07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9pc1VUQykpIHtcbiAgICAgICAgICAgIHRvLl9pc1VUQyA9IGZyb20uX2lzVVRDO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fb2Zmc2V0KSkge1xuICAgICAgICAgICAgdG8uX29mZnNldCA9IGZyb20uX29mZnNldDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX3BmKSkge1xuICAgICAgICAgICAgdG8uX3BmID0gZ2V0UGFyc2luZ0ZsYWdzKGZyb20pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fbG9jYWxlKSkge1xuICAgICAgICAgICAgdG8uX2xvY2FsZSA9IGZyb20uX2xvY2FsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtb21lbnRQcm9wZXJ0aWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBtb21lbnRQcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcHJvcCA9IG1vbWVudFByb3BlcnRpZXNbaV07XG4gICAgICAgICAgICAgICAgdmFsID0gZnJvbVtwcm9wXTtcbiAgICAgICAgICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKHZhbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9bcHJvcF0gPSB2YWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRvO1xuICAgIH1cblxuICAgIHZhciB1cGRhdGVJblByb2dyZXNzID0gZmFsc2U7XG5cbiAgICAvLyBNb21lbnQgcHJvdG90eXBlIG9iamVjdFxuICAgIGZ1bmN0aW9uIE1vbWVudChjb25maWcpIHtcbiAgICAgICAgY29weUNvbmZpZyh0aGlzLCBjb25maWcpO1xuICAgICAgICB0aGlzLl9kID0gbmV3IERhdGUoY29uZmlnLl9kICE9IG51bGwgPyBjb25maWcuX2QuZ2V0VGltZSgpIDogTmFOKTtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgdGhpcy5fZCA9IG5ldyBEYXRlKE5hTik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUHJldmVudCBpbmZpbml0ZSBsb29wIGluIGNhc2UgdXBkYXRlT2Zmc2V0IGNyZWF0ZXMgbmV3IG1vbWVudFxuICAgICAgICAvLyBvYmplY3RzLlxuICAgICAgICBpZiAodXBkYXRlSW5Qcm9ncmVzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHVwZGF0ZUluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHRoaXMpO1xuICAgICAgICAgICAgdXBkYXRlSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNNb21lbnQgKG9iaikge1xuICAgICAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgTW9tZW50IHx8IChvYmogIT0gbnVsbCAmJiBvYmouX2lzQU1vbWVudE9iamVjdCAhPSBudWxsKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhYnNGbG9vciAobnVtYmVyKSB7XG4gICAgICAgIGlmIChudW1iZXIgPCAwKSB7XG4gICAgICAgICAgICAvLyAtMCAtPiAwXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5jZWlsKG51bWJlcikgfHwgMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKG51bWJlcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0b0ludChhcmd1bWVudEZvckNvZXJjaW9uKSB7XG4gICAgICAgIHZhciBjb2VyY2VkTnVtYmVyID0gK2FyZ3VtZW50Rm9yQ29lcmNpb24sXG4gICAgICAgICAgICB2YWx1ZSA9IDA7XG5cbiAgICAgICAgaWYgKGNvZXJjZWROdW1iZXIgIT09IDAgJiYgaXNGaW5pdGUoY29lcmNlZE51bWJlcikpIHtcbiAgICAgICAgICAgIHZhbHVlID0gYWJzRmxvb3IoY29lcmNlZE51bWJlcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLy8gY29tcGFyZSB0d28gYXJyYXlzLCByZXR1cm4gdGhlIG51bWJlciBvZiBkaWZmZXJlbmNlc1xuICAgIGZ1bmN0aW9uIGNvbXBhcmVBcnJheXMoYXJyYXkxLCBhcnJheTIsIGRvbnRDb252ZXJ0KSB7XG4gICAgICAgIHZhciBsZW4gPSBNYXRoLm1pbihhcnJheTEubGVuZ3RoLCBhcnJheTIubGVuZ3RoKSxcbiAgICAgICAgICAgIGxlbmd0aERpZmYgPSBNYXRoLmFicyhhcnJheTEubGVuZ3RoIC0gYXJyYXkyLmxlbmd0aCksXG4gICAgICAgICAgICBkaWZmcyA9IDAsXG4gICAgICAgICAgICBpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGlmICgoZG9udENvbnZlcnQgJiYgYXJyYXkxW2ldICE9PSBhcnJheTJbaV0pIHx8XG4gICAgICAgICAgICAgICAgKCFkb250Q29udmVydCAmJiB0b0ludChhcnJheTFbaV0pICE9PSB0b0ludChhcnJheTJbaV0pKSkge1xuICAgICAgICAgICAgICAgIGRpZmZzKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRpZmZzICsgbGVuZ3RoRGlmZjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB3YXJuKG1zZykge1xuICAgICAgICBpZiAoaG9va3Muc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmdzID09PSBmYWxzZSAmJlxuICAgICAgICAgICAgICAgICh0eXBlb2YgY29uc29sZSAhPT0gICd1bmRlZmluZWQnKSAmJiBjb25zb2xlLndhcm4pIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignRGVwcmVjYXRpb24gd2FybmluZzogJyArIG1zZyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkZXByZWNhdGUobXNnLCBmbikge1xuICAgICAgICB2YXIgZmlyc3RUaW1lID0gdHJ1ZTtcblxuICAgICAgICByZXR1cm4gZXh0ZW5kKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChob29rcy5kZXByZWNhdGlvbkhhbmRsZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlcihudWxsLCBtc2cpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZpcnN0VGltZSkge1xuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgICAgICAgdmFyIGFyZztcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBhcmcgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbaV0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcgKz0gJ1xcblsnICsgaSArICddICc7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gYXJndW1lbnRzWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnICs9IGtleSArICc6ICcgKyBhcmd1bWVudHNbMF1ba2V5XSArICcsICc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcgPSBhcmcuc2xpY2UoMCwgLTIpOyAvLyBSZW1vdmUgdHJhaWxpbmcgY29tbWEgYW5kIHNwYWNlXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYXJncy5wdXNoKGFyZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHdhcm4obXNnICsgJ1xcbkFyZ3VtZW50czogJyArIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3MpLmpvaW4oJycpICsgJ1xcbicgKyAobmV3IEVycm9yKCkpLnN0YWNrKTtcbiAgICAgICAgICAgICAgICBmaXJzdFRpbWUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9LCBmbik7XG4gICAgfVxuXG4gICAgdmFyIGRlcHJlY2F0aW9ucyA9IHt9O1xuXG4gICAgZnVuY3Rpb24gZGVwcmVjYXRlU2ltcGxlKG5hbWUsIG1zZykge1xuICAgICAgICBpZiAoaG9va3MuZGVwcmVjYXRpb25IYW5kbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgIGhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlcihuYW1lLCBtc2cpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZGVwcmVjYXRpb25zW25hbWVdKSB7XG4gICAgICAgICAgICB3YXJuKG1zZyk7XG4gICAgICAgICAgICBkZXByZWNhdGlvbnNbbmFtZV0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaG9va3Muc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmdzID0gZmFsc2U7XG4gICAgaG9va3MuZGVwcmVjYXRpb25IYW5kbGVyID0gbnVsbDtcblxuICAgIGZ1bmN0aW9uIGlzRnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0IGluc3RhbmNlb2YgRnVuY3Rpb24gfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXQgKGNvbmZpZykge1xuICAgICAgICB2YXIgcHJvcCwgaTtcbiAgICAgICAgZm9yIChpIGluIGNvbmZpZykge1xuICAgICAgICAgICAgcHJvcCA9IGNvbmZpZ1tpXTtcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHByb3ApKSB7XG4gICAgICAgICAgICAgICAgdGhpc1tpXSA9IHByb3A7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXNbJ18nICsgaV0gPSBwcm9wO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgLy8gTGVuaWVudCBvcmRpbmFsIHBhcnNpbmcgYWNjZXB0cyBqdXN0IGEgbnVtYmVyIGluIGFkZGl0aW9uIHRvXG4gICAgICAgIC8vIG51bWJlciArIChwb3NzaWJseSkgc3R1ZmYgY29taW5nIGZyb20gX2RheU9mTW9udGhPcmRpbmFsUGFyc2UuXG4gICAgICAgIC8vIFRPRE86IFJlbW92ZSBcIm9yZGluYWxQYXJzZVwiIGZhbGxiYWNrIGluIG5leHQgbWFqb3IgcmVsZWFzZS5cbiAgICAgICAgdGhpcy5fZGF5T2ZNb250aE9yZGluYWxQYXJzZUxlbmllbnQgPSBuZXcgUmVnRXhwKFxuICAgICAgICAgICAgKHRoaXMuX2RheU9mTW9udGhPcmRpbmFsUGFyc2Uuc291cmNlIHx8IHRoaXMuX29yZGluYWxQYXJzZS5zb3VyY2UpICtcbiAgICAgICAgICAgICAgICAnfCcgKyAoL1xcZHsxLDJ9Lykuc291cmNlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtZXJnZUNvbmZpZ3MocGFyZW50Q29uZmlnLCBjaGlsZENvbmZpZykge1xuICAgICAgICB2YXIgcmVzID0gZXh0ZW5kKHt9LCBwYXJlbnRDb25maWcpLCBwcm9wO1xuICAgICAgICBmb3IgKHByb3AgaW4gY2hpbGRDb25maWcpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wKGNoaWxkQ29uZmlnLCBwcm9wKSkge1xuICAgICAgICAgICAgICAgIGlmIChpc09iamVjdChwYXJlbnRDb25maWdbcHJvcF0pICYmIGlzT2JqZWN0KGNoaWxkQ29uZmlnW3Byb3BdKSkge1xuICAgICAgICAgICAgICAgICAgICByZXNbcHJvcF0gPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW5kKHJlc1twcm9wXSwgcGFyZW50Q29uZmlnW3Byb3BdKTtcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW5kKHJlc1twcm9wXSwgY2hpbGRDb25maWdbcHJvcF0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hpbGRDb25maWdbcHJvcF0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXNbcHJvcF0gPSBjaGlsZENvbmZpZ1twcm9wXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgcmVzW3Byb3BdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKHByb3AgaW4gcGFyZW50Q29uZmlnKSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duUHJvcChwYXJlbnRDb25maWcsIHByb3ApICYmXG4gICAgICAgICAgICAgICAgICAgICFoYXNPd25Qcm9wKGNoaWxkQ29uZmlnLCBwcm9wKSAmJlxuICAgICAgICAgICAgICAgICAgICBpc09iamVjdChwYXJlbnRDb25maWdbcHJvcF0pKSB7XG4gICAgICAgICAgICAgICAgLy8gbWFrZSBzdXJlIGNoYW5nZXMgdG8gcHJvcGVydGllcyBkb24ndCBtb2RpZnkgcGFyZW50IGNvbmZpZ1xuICAgICAgICAgICAgICAgIHJlc1twcm9wXSA9IGV4dGVuZCh7fSwgcmVzW3Byb3BdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIExvY2FsZShjb25maWcpIHtcbiAgICAgICAgaWYgKGNvbmZpZyAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnNldChjb25maWcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGtleXM7XG5cbiAgICBpZiAoT2JqZWN0LmtleXMpIHtcbiAgICAgICAga2V5cyA9IE9iamVjdC5rZXlzO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGtleXMgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICB2YXIgaSwgcmVzID0gW107XG4gICAgICAgICAgICBmb3IgKGkgaW4gb2JqKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhc093blByb3Aob2JqLCBpKSkge1xuICAgICAgICAgICAgICAgICAgICByZXMucHVzaChpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0Q2FsZW5kYXIgPSB7XG4gICAgICAgIHNhbWVEYXkgOiAnW1RvZGF5IGF0XSBMVCcsXG4gICAgICAgIG5leHREYXkgOiAnW1RvbW9ycm93IGF0XSBMVCcsXG4gICAgICAgIG5leHRXZWVrIDogJ2RkZGQgW2F0XSBMVCcsXG4gICAgICAgIGxhc3REYXkgOiAnW1llc3RlcmRheSBhdF0gTFQnLFxuICAgICAgICBsYXN0V2VlayA6ICdbTGFzdF0gZGRkZCBbYXRdIExUJyxcbiAgICAgICAgc2FtZUVsc2UgOiAnTCdcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gY2FsZW5kYXIgKGtleSwgbW9tLCBub3cpIHtcbiAgICAgICAgdmFyIG91dHB1dCA9IHRoaXMuX2NhbGVuZGFyW2tleV0gfHwgdGhpcy5fY2FsZW5kYXJbJ3NhbWVFbHNlJ107XG4gICAgICAgIHJldHVybiBpc0Z1bmN0aW9uKG91dHB1dCkgPyBvdXRwdXQuY2FsbChtb20sIG5vdykgOiBvdXRwdXQ7XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRMb25nRGF0ZUZvcm1hdCA9IHtcbiAgICAgICAgTFRTICA6ICdoOm1tOnNzIEEnLFxuICAgICAgICBMVCAgIDogJ2g6bW0gQScsXG4gICAgICAgIEwgICAgOiAnTU0vREQvWVlZWScsXG4gICAgICAgIExMICAgOiAnTU1NTSBELCBZWVlZJyxcbiAgICAgICAgTExMICA6ICdNTU1NIEQsIFlZWVkgaDptbSBBJyxcbiAgICAgICAgTExMTCA6ICdkZGRkLCBNTU1NIEQsIFlZWVkgaDptbSBBJ1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBsb25nRGF0ZUZvcm1hdCAoa2V5KSB7XG4gICAgICAgIHZhciBmb3JtYXQgPSB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXldLFxuICAgICAgICAgICAgZm9ybWF0VXBwZXIgPSB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXkudG9VcHBlckNhc2UoKV07XG5cbiAgICAgICAgaWYgKGZvcm1hdCB8fCAhZm9ybWF0VXBwZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXldID0gZm9ybWF0VXBwZXIucmVwbGFjZSgvTU1NTXxNTXxERHxkZGRkL2csIGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWwuc2xpY2UoMSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXldO1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0SW52YWxpZERhdGUgPSAnSW52YWxpZCBkYXRlJztcblxuICAgIGZ1bmN0aW9uIGludmFsaWREYXRlICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludmFsaWREYXRlO1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0T3JkaW5hbCA9ICclZCc7XG4gICAgdmFyIGRlZmF1bHREYXlPZk1vbnRoT3JkaW5hbFBhcnNlID0gL1xcZHsxLDJ9LztcblxuICAgIGZ1bmN0aW9uIG9yZGluYWwgKG51bWJlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5fb3JkaW5hbC5yZXBsYWNlKCclZCcsIG51bWJlcik7XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRSZWxhdGl2ZVRpbWUgPSB7XG4gICAgICAgIGZ1dHVyZSA6ICdpbiAlcycsXG4gICAgICAgIHBhc3QgICA6ICclcyBhZ28nLFxuICAgICAgICBzICA6ICdhIGZldyBzZWNvbmRzJyxcbiAgICAgICAgc3MgOiAnJWQgc2Vjb25kcycsXG4gICAgICAgIG0gIDogJ2EgbWludXRlJyxcbiAgICAgICAgbW0gOiAnJWQgbWludXRlcycsXG4gICAgICAgIGggIDogJ2FuIGhvdXInLFxuICAgICAgICBoaCA6ICclZCBob3VycycsXG4gICAgICAgIGQgIDogJ2EgZGF5JyxcbiAgICAgICAgZGQgOiAnJWQgZGF5cycsXG4gICAgICAgIE0gIDogJ2EgbW9udGgnLFxuICAgICAgICBNTSA6ICclZCBtb250aHMnLFxuICAgICAgICB5ICA6ICdhIHllYXInLFxuICAgICAgICB5eSA6ICclZCB5ZWFycydcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gcmVsYXRpdmVUaW1lIChudW1iZXIsIHdpdGhvdXRTdWZmaXgsIHN0cmluZywgaXNGdXR1cmUpIHtcbiAgICAgICAgdmFyIG91dHB1dCA9IHRoaXMuX3JlbGF0aXZlVGltZVtzdHJpbmddO1xuICAgICAgICByZXR1cm4gKGlzRnVuY3Rpb24ob3V0cHV0KSkgP1xuICAgICAgICAgICAgb3V0cHV0KG51bWJlciwgd2l0aG91dFN1ZmZpeCwgc3RyaW5nLCBpc0Z1dHVyZSkgOlxuICAgICAgICAgICAgb3V0cHV0LnJlcGxhY2UoLyVkL2ksIG51bWJlcik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFzdEZ1dHVyZSAoZGlmZiwgb3V0cHV0KSB7XG4gICAgICAgIHZhciBmb3JtYXQgPSB0aGlzLl9yZWxhdGl2ZVRpbWVbZGlmZiA+IDAgPyAnZnV0dXJlJyA6ICdwYXN0J107XG4gICAgICAgIHJldHVybiBpc0Z1bmN0aW9uKGZvcm1hdCkgPyBmb3JtYXQob3V0cHV0KSA6IGZvcm1hdC5yZXBsYWNlKC8lcy9pLCBvdXRwdXQpO1xuICAgIH1cblxuICAgIHZhciBhbGlhc2VzID0ge307XG5cbiAgICBmdW5jdGlvbiBhZGRVbml0QWxpYXMgKHVuaXQsIHNob3J0aGFuZCkge1xuICAgICAgICB2YXIgbG93ZXJDYXNlID0gdW5pdC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBhbGlhc2VzW2xvd2VyQ2FzZV0gPSBhbGlhc2VzW2xvd2VyQ2FzZSArICdzJ10gPSBhbGlhc2VzW3Nob3J0aGFuZF0gPSB1bml0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZVVuaXRzKHVuaXRzKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdW5pdHMgPT09ICdzdHJpbmcnID8gYWxpYXNlc1t1bml0c10gfHwgYWxpYXNlc1t1bml0cy50b0xvd2VyQ2FzZSgpXSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBub3JtYWxpemVPYmplY3RVbml0cyhpbnB1dE9iamVjdCkge1xuICAgICAgICB2YXIgbm9ybWFsaXplZElucHV0ID0ge30sXG4gICAgICAgICAgICBub3JtYWxpemVkUHJvcCxcbiAgICAgICAgICAgIHByb3A7XG5cbiAgICAgICAgZm9yIChwcm9wIGluIGlucHV0T2JqZWN0KSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duUHJvcChpbnB1dE9iamVjdCwgcHJvcCkpIHtcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkUHJvcCA9IG5vcm1hbGl6ZVVuaXRzKHByb3ApO1xuICAgICAgICAgICAgICAgIGlmIChub3JtYWxpemVkUHJvcCkge1xuICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVkSW5wdXRbbm9ybWFsaXplZFByb3BdID0gaW5wdXRPYmplY3RbcHJvcF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZWRJbnB1dDtcbiAgICB9XG5cbiAgICB2YXIgcHJpb3JpdGllcyA9IHt9O1xuXG4gICAgZnVuY3Rpb24gYWRkVW5pdFByaW9yaXR5KHVuaXQsIHByaW9yaXR5KSB7XG4gICAgICAgIHByaW9yaXRpZXNbdW5pdF0gPSBwcmlvcml0eTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRQcmlvcml0aXplZFVuaXRzKHVuaXRzT2JqKSB7XG4gICAgICAgIHZhciB1bml0cyA9IFtdO1xuICAgICAgICBmb3IgKHZhciB1IGluIHVuaXRzT2JqKSB7XG4gICAgICAgICAgICB1bml0cy5wdXNoKHt1bml0OiB1LCBwcmlvcml0eTogcHJpb3JpdGllc1t1XX0pO1xuICAgICAgICB9XG4gICAgICAgIHVuaXRzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBhLnByaW9yaXR5IC0gYi5wcmlvcml0eTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB1bml0cztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB6ZXJvRmlsbChudW1iZXIsIHRhcmdldExlbmd0aCwgZm9yY2VTaWduKSB7XG4gICAgICAgIHZhciBhYnNOdW1iZXIgPSAnJyArIE1hdGguYWJzKG51bWJlciksXG4gICAgICAgICAgICB6ZXJvc1RvRmlsbCA9IHRhcmdldExlbmd0aCAtIGFic051bWJlci5sZW5ndGgsXG4gICAgICAgICAgICBzaWduID0gbnVtYmVyID49IDA7XG4gICAgICAgIHJldHVybiAoc2lnbiA/IChmb3JjZVNpZ24gPyAnKycgOiAnJykgOiAnLScpICtcbiAgICAgICAgICAgIE1hdGgucG93KDEwLCBNYXRoLm1heCgwLCB6ZXJvc1RvRmlsbCkpLnRvU3RyaW5nKCkuc3Vic3RyKDEpICsgYWJzTnVtYmVyO1xuICAgIH1cblxuICAgIHZhciBmb3JtYXR0aW5nVG9rZW5zID0gLyhcXFtbXlxcW10qXFxdKXwoXFxcXCk/KFtIaF1tbShzcyk/fE1vfE1NP00/TT98RG98REREb3xERD9EP0Q/fGRkZD9kP3xkbz98d1tvfHddP3xXW298V10/fFFvP3xZWVlZWVl8WVlZWVl8WVlZWXxZWXxnZyhnZ2c/KT98R0coR0dHPyk/fGV8RXxhfEF8aGg/fEhIP3xraz98bW0/fHNzP3xTezEsOX18eHxYfHp6P3xaWj98LikvZztcblxuICAgIHZhciBsb2NhbEZvcm1hdHRpbmdUb2tlbnMgPSAvKFxcW1teXFxbXSpcXF0pfChcXFxcKT8oTFRTfExUfExMP0w/TD98bHsxLDR9KS9nO1xuXG4gICAgdmFyIGZvcm1hdEZ1bmN0aW9ucyA9IHt9O1xuXG4gICAgdmFyIGZvcm1hdFRva2VuRnVuY3Rpb25zID0ge307XG5cbiAgICAvLyB0b2tlbjogICAgJ00nXG4gICAgLy8gcGFkZGVkOiAgIFsnTU0nLCAyXVxuICAgIC8vIG9yZGluYWw6ICAnTW8nXG4gICAgLy8gY2FsbGJhY2s6IGZ1bmN0aW9uICgpIHsgdGhpcy5tb250aCgpICsgMSB9XG4gICAgZnVuY3Rpb24gYWRkRm9ybWF0VG9rZW4gKHRva2VuLCBwYWRkZWQsIG9yZGluYWwsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBmdW5jID0gY2FsbGJhY2s7XG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBmdW5jID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzW2NhbGxiYWNrXSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgICAgIGZvcm1hdFRva2VuRnVuY3Rpb25zW3Rva2VuXSA9IGZ1bmM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhZGRlZCkge1xuICAgICAgICAgICAgZm9ybWF0VG9rZW5GdW5jdGlvbnNbcGFkZGVkWzBdXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gemVyb0ZpbGwoZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpLCBwYWRkZWRbMV0sIHBhZGRlZFsyXSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcmRpbmFsKSB7XG4gICAgICAgICAgICBmb3JtYXRUb2tlbkZ1bmN0aW9uc1tvcmRpbmFsXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkub3JkaW5hbChmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksIHRva2VuKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW1vdmVGb3JtYXR0aW5nVG9rZW5zKGlucHV0KSB7XG4gICAgICAgIGlmIChpbnB1dC5tYXRjaCgvXFxbW1xcc1xcU10vKSkge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0LnJlcGxhY2UoL15cXFt8XFxdJC9nLCAnJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlucHV0LnJlcGxhY2UoL1xcXFwvZywgJycpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1ha2VGb3JtYXRGdW5jdGlvbihmb3JtYXQpIHtcbiAgICAgICAgdmFyIGFycmF5ID0gZm9ybWF0Lm1hdGNoKGZvcm1hdHRpbmdUb2tlbnMpLCBpLCBsZW5ndGg7XG5cbiAgICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0gYXJyYXkubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChmb3JtYXRUb2tlbkZ1bmN0aW9uc1thcnJheVtpXV0pIHtcbiAgICAgICAgICAgICAgICBhcnJheVtpXSA9IGZvcm1hdFRva2VuRnVuY3Rpb25zW2FycmF5W2ldXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYXJyYXlbaV0gPSByZW1vdmVGb3JtYXR0aW5nVG9rZW5zKGFycmF5W2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAobW9tKSB7XG4gICAgICAgICAgICB2YXIgb3V0cHV0ID0gJycsIGk7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBvdXRwdXQgKz0gaXNGdW5jdGlvbihhcnJheVtpXSkgPyBhcnJheVtpXS5jYWxsKG1vbSwgZm9ybWF0KSA6IGFycmF5W2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBmb3JtYXQgZGF0ZSB1c2luZyBuYXRpdmUgZGF0ZSBvYmplY3RcbiAgICBmdW5jdGlvbiBmb3JtYXRNb21lbnQobSwgZm9ybWF0KSB7XG4gICAgICAgIGlmICghbS5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBtLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9ybWF0ID0gZXhwYW5kRm9ybWF0KGZvcm1hdCwgbS5sb2NhbGVEYXRhKCkpO1xuICAgICAgICBmb3JtYXRGdW5jdGlvbnNbZm9ybWF0XSA9IGZvcm1hdEZ1bmN0aW9uc1tmb3JtYXRdIHx8IG1ha2VGb3JtYXRGdW5jdGlvbihmb3JtYXQpO1xuXG4gICAgICAgIHJldHVybiBmb3JtYXRGdW5jdGlvbnNbZm9ybWF0XShtKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBleHBhbmRGb3JtYXQoZm9ybWF0LCBsb2NhbGUpIHtcbiAgICAgICAgdmFyIGkgPSA1O1xuXG4gICAgICAgIGZ1bmN0aW9uIHJlcGxhY2VMb25nRGF0ZUZvcm1hdFRva2VucyhpbnB1dCkge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsZS5sb25nRGF0ZUZvcm1hdChpbnB1dCkgfHwgaW5wdXQ7XG4gICAgICAgIH1cblxuICAgICAgICBsb2NhbEZvcm1hdHRpbmdUb2tlbnMubGFzdEluZGV4ID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPj0gMCAmJiBsb2NhbEZvcm1hdHRpbmdUb2tlbnMudGVzdChmb3JtYXQpKSB7XG4gICAgICAgICAgICBmb3JtYXQgPSBmb3JtYXQucmVwbGFjZShsb2NhbEZvcm1hdHRpbmdUb2tlbnMsIHJlcGxhY2VMb25nRGF0ZUZvcm1hdFRva2Vucyk7XG4gICAgICAgICAgICBsb2NhbEZvcm1hdHRpbmdUb2tlbnMubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICAgIGkgLT0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmb3JtYXQ7XG4gICAgfVxuXG4gICAgdmFyIG1hdGNoMSAgICAgICAgID0gL1xcZC87ICAgICAgICAgICAgLy8gICAgICAgMCAtIDlcbiAgICB2YXIgbWF0Y2gyICAgICAgICAgPSAvXFxkXFxkLzsgICAgICAgICAgLy8gICAgICAwMCAtIDk5XG4gICAgdmFyIG1hdGNoMyAgICAgICAgID0gL1xcZHszfS87ICAgICAgICAgLy8gICAgIDAwMCAtIDk5OVxuICAgIHZhciBtYXRjaDQgICAgICAgICA9IC9cXGR7NH0vOyAgICAgICAgIC8vICAgIDAwMDAgLSA5OTk5XG4gICAgdmFyIG1hdGNoNiAgICAgICAgID0gL1srLV0/XFxkezZ9LzsgICAgLy8gLTk5OTk5OSAtIDk5OTk5OVxuICAgIHZhciBtYXRjaDF0bzIgICAgICA9IC9cXGRcXGQ/LzsgICAgICAgICAvLyAgICAgICAwIC0gOTlcbiAgICB2YXIgbWF0Y2gzdG80ICAgICAgPSAvXFxkXFxkXFxkXFxkPy87ICAgICAvLyAgICAgOTk5IC0gOTk5OVxuICAgIHZhciBtYXRjaDV0bzYgICAgICA9IC9cXGRcXGRcXGRcXGRcXGRcXGQ/LzsgLy8gICA5OTk5OSAtIDk5OTk5OVxuICAgIHZhciBtYXRjaDF0bzMgICAgICA9IC9cXGR7MSwzfS87ICAgICAgIC8vICAgICAgIDAgLSA5OTlcbiAgICB2YXIgbWF0Y2gxdG80ICAgICAgPSAvXFxkezEsNH0vOyAgICAgICAvLyAgICAgICAwIC0gOTk5OVxuICAgIHZhciBtYXRjaDF0bzYgICAgICA9IC9bKy1dP1xcZHsxLDZ9LzsgIC8vIC05OTk5OTkgLSA5OTk5OTlcblxuICAgIHZhciBtYXRjaFVuc2lnbmVkICA9IC9cXGQrLzsgICAgICAgICAgIC8vICAgICAgIDAgLSBpbmZcbiAgICB2YXIgbWF0Y2hTaWduZWQgICAgPSAvWystXT9cXGQrLzsgICAgICAvLyAgICAtaW5mIC0gaW5mXG5cbiAgICB2YXIgbWF0Y2hPZmZzZXQgICAgPSAvWnxbKy1dXFxkXFxkOj9cXGRcXGQvZ2k7IC8vICswMDowMCAtMDA6MDAgKzAwMDAgLTAwMDAgb3IgWlxuICAgIHZhciBtYXRjaFNob3J0T2Zmc2V0ID0gL1p8WystXVxcZFxcZCg/Ojo/XFxkXFxkKT8vZ2k7IC8vICswMCAtMDAgKzAwOjAwIC0wMDowMCArMDAwMCAtMDAwMCBvciBaXG5cbiAgICB2YXIgbWF0Y2hUaW1lc3RhbXAgPSAvWystXT9cXGQrKFxcLlxcZHsxLDN9KT8vOyAvLyAxMjM0NTY3ODkgMTIzNDU2Nzg5LjEyM1xuXG4gICAgLy8gYW55IHdvcmQgKG9yIHR3bykgY2hhcmFjdGVycyBvciBudW1iZXJzIGluY2x1ZGluZyB0d28vdGhyZWUgd29yZCBtb250aCBpbiBhcmFiaWMuXG4gICAgLy8gaW5jbHVkZXMgc2NvdHRpc2ggZ2FlbGljIHR3byB3b3JkIGFuZCBoeXBoZW5hdGVkIG1vbnRoc1xuICAgIHZhciBtYXRjaFdvcmQgPSAvWzAtOV17MCwyNTZ9WydhLXpcXHUwMEEwLVxcdTA1RkZcXHUwNzAwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGMDdcXHVGRjEwLVxcdUZGRUZdezEsMjU2fXxbXFx1MDYwMC1cXHUwNkZGXFwvXXsxLDI1Nn0oXFxzKj9bXFx1MDYwMC1cXHUwNkZGXXsxLDI1Nn0pezEsMn0vaTtcblxuICAgIHZhciByZWdleGVzID0ge307XG5cbiAgICBmdW5jdGlvbiBhZGRSZWdleFRva2VuICh0b2tlbiwgcmVnZXgsIHN0cmljdFJlZ2V4KSB7XG4gICAgICAgIHJlZ2V4ZXNbdG9rZW5dID0gaXNGdW5jdGlvbihyZWdleCkgPyByZWdleCA6IGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlRGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIChpc1N0cmljdCAmJiBzdHJpY3RSZWdleCkgPyBzdHJpY3RSZWdleCA6IHJlZ2V4O1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFBhcnNlUmVnZXhGb3JUb2tlbiAodG9rZW4sIGNvbmZpZykge1xuICAgICAgICBpZiAoIWhhc093blByb3AocmVnZXhlcywgdG9rZW4pKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh1bmVzY2FwZUZvcm1hdCh0b2tlbikpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlZ2V4ZXNbdG9rZW5dKGNvbmZpZy5fc3RyaWN0LCBjb25maWcuX2xvY2FsZSk7XG4gICAgfVxuXG4gICAgLy8gQ29kZSBmcm9tIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzU2MTQ5My9pcy10aGVyZS1hLXJlZ2V4cC1lc2NhcGUtZnVuY3Rpb24taW4tamF2YXNjcmlwdFxuICAgIGZ1bmN0aW9uIHVuZXNjYXBlRm9ybWF0KHMpIHtcbiAgICAgICAgcmV0dXJuIHJlZ2V4RXNjYXBlKHMucmVwbGFjZSgnXFxcXCcsICcnKS5yZXBsYWNlKC9cXFxcKFxcWyl8XFxcXChcXF0pfFxcWyhbXlxcXVxcW10qKVxcXXxcXFxcKC4pL2csIGZ1bmN0aW9uIChtYXRjaGVkLCBwMSwgcDIsIHAzLCBwNCkge1xuICAgICAgICAgICAgcmV0dXJuIHAxIHx8IHAyIHx8IHAzIHx8IHA0O1xuICAgICAgICB9KSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVnZXhFc2NhcGUocykge1xuICAgICAgICByZXR1cm4gcy5yZXBsYWNlKC9bLVxcL1xcXFxeJCorPy4oKXxbXFxde31dL2csICdcXFxcJCYnKTtcbiAgICB9XG5cbiAgICB2YXIgdG9rZW5zID0ge307XG5cbiAgICBmdW5jdGlvbiBhZGRQYXJzZVRva2VuICh0b2tlbiwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIGksIGZ1bmMgPSBjYWxsYmFjaztcbiAgICAgICAgaWYgKHR5cGVvZiB0b2tlbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRva2VuID0gW3Rva2VuXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNOdW1iZXIoY2FsbGJhY2spKSB7XG4gICAgICAgICAgICBmdW5jID0gZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgICAgICAgICAgICAgIGFycmF5W2NhbGxiYWNrXSA9IHRvSW50KGlucHV0KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRva2VuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0b2tlbnNbdG9rZW5baV1dID0gZnVuYztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZFdlZWtQYXJzZVRva2VuICh0b2tlbiwgY2FsbGJhY2spIHtcbiAgICAgICAgYWRkUGFyc2VUb2tlbih0b2tlbiwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnLCB0b2tlbikge1xuICAgICAgICAgICAgY29uZmlnLl93ID0gY29uZmlnLl93IHx8IHt9O1xuICAgICAgICAgICAgY2FsbGJhY2soaW5wdXQsIGNvbmZpZy5fdywgY29uZmlnLCB0b2tlbik7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZFRpbWVUb0FycmF5RnJvbVRva2VuKHRva2VuLCBpbnB1dCwgY29uZmlnKSB7XG4gICAgICAgIGlmIChpbnB1dCAhPSBudWxsICYmIGhhc093blByb3AodG9rZW5zLCB0b2tlbikpIHtcbiAgICAgICAgICAgIHRva2Vuc1t0b2tlbl0oaW5wdXQsIGNvbmZpZy5fYSwgY29uZmlnLCB0b2tlbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgWUVBUiA9IDA7XG4gICAgdmFyIE1PTlRIID0gMTtcbiAgICB2YXIgREFURSA9IDI7XG4gICAgdmFyIEhPVVIgPSAzO1xuICAgIHZhciBNSU5VVEUgPSA0O1xuICAgIHZhciBTRUNPTkQgPSA1O1xuICAgIHZhciBNSUxMSVNFQ09ORCA9IDY7XG4gICAgdmFyIFdFRUsgPSA3O1xuICAgIHZhciBXRUVLREFZID0gODtcblxuICAgIC8vIEZPUk1BVFRJTkdcblxuICAgIGFkZEZvcm1hdFRva2VuKCdZJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgeSA9IHRoaXMueWVhcigpO1xuICAgICAgICByZXR1cm4geSA8PSA5OTk5ID8gJycgKyB5IDogJysnICsgeTtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnWVknLCAyXSwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy55ZWFyKCkgJSAxMDA7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1lZWVknLCAgIDRdLCAgICAgICAwLCAneWVhcicpO1xuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnWVlZWVknLCAgNV0sICAgICAgIDAsICd5ZWFyJyk7XG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgWydZWVlZWVknLCA2LCB0cnVlXSwgMCwgJ3llYXInKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygneWVhcicsICd5Jyk7XG5cbiAgICAvLyBQUklPUklUSUVTXG5cbiAgICBhZGRVbml0UHJpb3JpdHkoJ3llYXInLCAxKTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ1knLCAgICAgIG1hdGNoU2lnbmVkKTtcbiAgICBhZGRSZWdleFRva2VuKCdZWScsICAgICBtYXRjaDF0bzIsIG1hdGNoMik7XG4gICAgYWRkUmVnZXhUb2tlbignWVlZWScsICAgbWF0Y2gxdG80LCBtYXRjaDQpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ1lZWVlZJywgIG1hdGNoMXRvNiwgbWF0Y2g2KTtcbiAgICBhZGRSZWdleFRva2VuKCdZWVlZWVknLCBtYXRjaDF0bzYsIG1hdGNoNik7XG5cbiAgICBhZGRQYXJzZVRva2VuKFsnWVlZWVknLCAnWVlZWVlZJ10sIFlFQVIpO1xuICAgIGFkZFBhcnNlVG9rZW4oJ1lZWVknLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgICAgIGFycmF5W1lFQVJdID0gaW5wdXQubGVuZ3RoID09PSAyID8gaG9va3MucGFyc2VUd29EaWdpdFllYXIoaW5wdXQpIDogdG9JbnQoaW5wdXQpO1xuICAgIH0pO1xuICAgIGFkZFBhcnNlVG9rZW4oJ1lZJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgICAgICBhcnJheVtZRUFSXSA9IGhvb2tzLnBhcnNlVHdvRGlnaXRZZWFyKGlucHV0KTtcbiAgICB9KTtcbiAgICBhZGRQYXJzZVRva2VuKCdZJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgICAgICBhcnJheVtZRUFSXSA9IHBhcnNlSW50KGlucHV0LCAxMCk7XG4gICAgfSk7XG5cbiAgICAvLyBIRUxQRVJTXG5cbiAgICBmdW5jdGlvbiBkYXlzSW5ZZWFyKHllYXIpIHtcbiAgICAgICAgcmV0dXJuIGlzTGVhcFllYXIoeWVhcikgPyAzNjYgOiAzNjU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNMZWFwWWVhcih5ZWFyKSB7XG4gICAgICAgIHJldHVybiAoeWVhciAlIDQgPT09IDAgJiYgeWVhciAlIDEwMCAhPT0gMCkgfHwgeWVhciAlIDQwMCA9PT0gMDtcbiAgICB9XG5cbiAgICAvLyBIT09LU1xuXG4gICAgaG9va3MucGFyc2VUd29EaWdpdFllYXIgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIHRvSW50KGlucHV0KSArICh0b0ludChpbnB1dCkgPiA2OCA/IDE5MDAgOiAyMDAwKTtcbiAgICB9O1xuXG4gICAgLy8gTU9NRU5UU1xuXG4gICAgdmFyIGdldFNldFllYXIgPSBtYWtlR2V0U2V0KCdGdWxsWWVhcicsIHRydWUpO1xuXG4gICAgZnVuY3Rpb24gZ2V0SXNMZWFwWWVhciAoKSB7XG4gICAgICAgIHJldHVybiBpc0xlYXBZZWFyKHRoaXMueWVhcigpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYWtlR2V0U2V0ICh1bml0LCBrZWVwVGltZSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHNldCQxKHRoaXMsIHVuaXQsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBob29rcy51cGRhdGVPZmZzZXQodGhpcywga2VlcFRpbWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0KHRoaXMsIHVuaXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldCAobW9tLCB1bml0KSB7XG4gICAgICAgIHJldHVybiBtb20uaXNWYWxpZCgpID9cbiAgICAgICAgICAgIG1vbS5fZFsnZ2V0JyArIChtb20uX2lzVVRDID8gJ1VUQycgOiAnJykgKyB1bml0XSgpIDogTmFOO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldCQxIChtb20sIHVuaXQsIHZhbHVlKSB7XG4gICAgICAgIGlmIChtb20uaXNWYWxpZCgpICYmICFpc05hTih2YWx1ZSkpIHtcbiAgICAgICAgICAgIGlmICh1bml0ID09PSAnRnVsbFllYXInICYmIGlzTGVhcFllYXIobW9tLnllYXIoKSkgJiYgbW9tLm1vbnRoKCkgPT09IDEgJiYgbW9tLmRhdGUoKSA9PT0gMjkpIHtcbiAgICAgICAgICAgICAgICBtb20uX2RbJ3NldCcgKyAobW9tLl9pc1VUQyA/ICdVVEMnIDogJycpICsgdW5pdF0odmFsdWUsIG1vbS5tb250aCgpLCBkYXlzSW5Nb250aCh2YWx1ZSwgbW9tLm1vbnRoKCkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1vbS5fZFsnc2V0JyArIChtb20uX2lzVVRDID8gJ1VUQycgOiAnJykgKyB1bml0XSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICBmdW5jdGlvbiBzdHJpbmdHZXQgKHVuaXRzKSB7XG4gICAgICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbih0aGlzW3VuaXRzXSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzW3VuaXRzXSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gc3RyaW5nU2V0ICh1bml0cywgdmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB1bml0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHVuaXRzID0gbm9ybWFsaXplT2JqZWN0VW5pdHModW5pdHMpO1xuICAgICAgICAgICAgdmFyIHByaW9yaXRpemVkID0gZ2V0UHJpb3JpdGl6ZWRVbml0cyh1bml0cyk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByaW9yaXRpemVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpc1twcmlvcml0aXplZFtpXS51bml0XSh1bml0c1twcmlvcml0aXplZFtpXS51bml0XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHRoaXNbdW5pdHNdKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzW3VuaXRzXSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbW9kKG4sIHgpIHtcbiAgICAgICAgcmV0dXJuICgobiAlIHgpICsgeCkgJSB4O1xuICAgIH1cblxuICAgIHZhciBpbmRleE9mO1xuXG4gICAgaWYgKEFycmF5LnByb3RvdHlwZS5pbmRleE9mKSB7XG4gICAgICAgIGluZGV4T2YgPSBBcnJheS5wcm90b3R5cGUuaW5kZXhPZjtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpbmRleE9mID0gZnVuY3Rpb24gKG8pIHtcbiAgICAgICAgICAgIC8vIEkga25vd1xuICAgICAgICAgICAgdmFyIGk7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzW2ldID09PSBvKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkYXlzSW5Nb250aCh5ZWFyLCBtb250aCkge1xuICAgICAgICBpZiAoaXNOYU4oeWVhcikgfHwgaXNOYU4obW9udGgpKSB7XG4gICAgICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtb2RNb250aCA9IG1vZChtb250aCwgMTIpO1xuICAgICAgICB5ZWFyICs9IChtb250aCAtIG1vZE1vbnRoKSAvIDEyO1xuICAgICAgICByZXR1cm4gbW9kTW9udGggPT09IDEgPyAoaXNMZWFwWWVhcih5ZWFyKSA/IDI5IDogMjgpIDogKDMxIC0gbW9kTW9udGggJSA3ICUgMik7XG4gICAgfVxuXG4gICAgLy8gRk9STUFUVElOR1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ00nLCBbJ01NJywgMl0sICdNbycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW9udGgoKSArIDE7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbignTU1NJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubW9udGhzU2hvcnQodGhpcywgZm9ybWF0KTtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKCdNTU1NJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubW9udGhzKHRoaXMsIGZvcm1hdCk7XG4gICAgfSk7XG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ21vbnRoJywgJ00nKTtcblxuICAgIC8vIFBSSU9SSVRZXG5cbiAgICBhZGRVbml0UHJpb3JpdHkoJ21vbnRoJywgOCk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdNJywgICAgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdNTScsICAgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ01NTScsICBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgICAgICByZXR1cm4gbG9jYWxlLm1vbnRoc1Nob3J0UmVnZXgoaXNTdHJpY3QpO1xuICAgIH0pO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ01NTU0nLCBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgICAgICByZXR1cm4gbG9jYWxlLm1vbnRoc1JlZ2V4KGlzU3RyaWN0KTtcbiAgICB9KTtcblxuICAgIGFkZFBhcnNlVG9rZW4oWydNJywgJ01NJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICAgICAgYXJyYXlbTU9OVEhdID0gdG9JbnQoaW5wdXQpIC0gMTtcbiAgICB9KTtcblxuICAgIGFkZFBhcnNlVG9rZW4oWydNTU0nLCAnTU1NTSddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcsIHRva2VuKSB7XG4gICAgICAgIHZhciBtb250aCA9IGNvbmZpZy5fbG9jYWxlLm1vbnRoc1BhcnNlKGlucHV0LCB0b2tlbiwgY29uZmlnLl9zdHJpY3QpO1xuICAgICAgICAvLyBpZiB3ZSBkaWRuJ3QgZmluZCBhIG1vbnRoIG5hbWUsIG1hcmsgdGhlIGRhdGUgYXMgaW52YWxpZC5cbiAgICAgICAgaWYgKG1vbnRoICE9IG51bGwpIHtcbiAgICAgICAgICAgIGFycmF5W01PTlRIXSA9IG1vbnRoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuaW52YWxpZE1vbnRoID0gaW5wdXQ7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIExPQ0FMRVNcblxuICAgIHZhciBNT05USFNfSU5fRk9STUFUID0gL0Rbb0RdPyhcXFtbXlxcW1xcXV0qXFxdfFxccykrTU1NTT8vO1xuICAgIHZhciBkZWZhdWx0TG9jYWxlTW9udGhzID0gJ0phbnVhcnlfRmVicnVhcnlfTWFyY2hfQXByaWxfTWF5X0p1bmVfSnVseV9BdWd1c3RfU2VwdGVtYmVyX09jdG9iZXJfTm92ZW1iZXJfRGVjZW1iZXInLnNwbGl0KCdfJyk7XG4gICAgZnVuY3Rpb24gbG9jYWxlTW9udGhzIChtLCBmb3JtYXQpIHtcbiAgICAgICAgaWYgKCFtKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNBcnJheSh0aGlzLl9tb250aHMpID8gdGhpcy5fbW9udGhzIDpcbiAgICAgICAgICAgICAgICB0aGlzLl9tb250aHNbJ3N0YW5kYWxvbmUnXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXNBcnJheSh0aGlzLl9tb250aHMpID8gdGhpcy5fbW9udGhzW20ubW9udGgoKV0gOlxuICAgICAgICAgICAgdGhpcy5fbW9udGhzWyh0aGlzLl9tb250aHMuaXNGb3JtYXQgfHwgTU9OVEhTX0lOX0ZPUk1BVCkudGVzdChmb3JtYXQpID8gJ2Zvcm1hdCcgOiAnc3RhbmRhbG9uZSddW20ubW9udGgoKV07XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRMb2NhbGVNb250aHNTaG9ydCA9ICdKYW5fRmViX01hcl9BcHJfTWF5X0p1bl9KdWxfQXVnX1NlcF9PY3RfTm92X0RlYycuc3BsaXQoJ18nKTtcbiAgICBmdW5jdGlvbiBsb2NhbGVNb250aHNTaG9ydCAobSwgZm9ybWF0KSB7XG4gICAgICAgIGlmICghbSkge1xuICAgICAgICAgICAgcmV0dXJuIGlzQXJyYXkodGhpcy5fbW9udGhzU2hvcnQpID8gdGhpcy5fbW9udGhzU2hvcnQgOlxuICAgICAgICAgICAgICAgIHRoaXMuX21vbnRoc1Nob3J0WydzdGFuZGFsb25lJ107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlzQXJyYXkodGhpcy5fbW9udGhzU2hvcnQpID8gdGhpcy5fbW9udGhzU2hvcnRbbS5tb250aCgpXSA6XG4gICAgICAgICAgICB0aGlzLl9tb250aHNTaG9ydFtNT05USFNfSU5fRk9STUFULnRlc3QoZm9ybWF0KSA/ICdmb3JtYXQnIDogJ3N0YW5kYWxvbmUnXVttLm1vbnRoKCldO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZVN0cmljdFBhcnNlKG1vbnRoTmFtZSwgZm9ybWF0LCBzdHJpY3QpIHtcbiAgICAgICAgdmFyIGksIGlpLCBtb20sIGxsYyA9IG1vbnRoTmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAoIXRoaXMuX21vbnRoc1BhcnNlKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIG5vdCB1c2VkXG4gICAgICAgICAgICB0aGlzLl9tb250aHNQYXJzZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fbG9uZ01vbnRoc1BhcnNlID0gW107XG4gICAgICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlID0gW107XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTI7ICsraSkge1xuICAgICAgICAgICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgaV0pO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Nob3J0TW9udGhzUGFyc2VbaV0gPSB0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2ldID0gdGhpcy5tb250aHMobW9tLCAnJykudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdHJpY3QpIHtcbiAgICAgICAgICAgIGlmIChmb3JtYXQgPT09ICdNTU0nKSB7XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fc2hvcnRNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9sb25nTW9udGhzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChmb3JtYXQgPT09ICdNTU0nKSB7XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fc2hvcnRNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fbG9uZ01vbnRoc1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX2xvbmdNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fc2hvcnRNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9jYWxlTW9udGhzUGFyc2UgKG1vbnRoTmFtZSwgZm9ybWF0LCBzdHJpY3QpIHtcbiAgICAgICAgdmFyIGksIG1vbSwgcmVnZXg7XG5cbiAgICAgICAgaWYgKHRoaXMuX21vbnRoc1BhcnNlRXhhY3QpIHtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVTdHJpY3RQYXJzZS5jYWxsKHRoaXMsIG1vbnRoTmFtZSwgZm9ybWF0LCBzdHJpY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLl9tb250aHNQYXJzZSkge1xuICAgICAgICAgICAgdGhpcy5fbW9udGhzUGFyc2UgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX2xvbmdNb250aHNQYXJzZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fc2hvcnRNb250aHNQYXJzZSA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETzogYWRkIHNvcnRpbmdcbiAgICAgICAgLy8gU29ydGluZyBtYWtlcyBzdXJlIGlmIG9uZSBtb250aCAob3IgYWJicikgaXMgYSBwcmVmaXggb2YgYW5vdGhlclxuICAgICAgICAvLyBzZWUgc29ydGluZyBpbiBjb21wdXRlTW9udGhzUGFyc2VcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuICAgICAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCBpXSk7XG4gICAgICAgICAgICBpZiAoc3RyaWN0ICYmICF0aGlzLl9sb25nTW9udGhzUGFyc2VbaV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb25nTW9udGhzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKCdeJyArIHRoaXMubW9udGhzKG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnJykgKyAnJCcsICdpJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2hvcnRNb250aHNQYXJzZVtpXSA9IG5ldyBSZWdFeHAoJ14nICsgdGhpcy5tb250aHNTaG9ydChtb20sICcnKS5yZXBsYWNlKCcuJywgJycpICsgJyQnLCAnaScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFzdHJpY3QgJiYgIXRoaXMuX21vbnRoc1BhcnNlW2ldKSB7XG4gICAgICAgICAgICAgICAgcmVnZXggPSAnXicgKyB0aGlzLm1vbnRocyhtb20sICcnKSArICd8XicgKyB0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpO1xuICAgICAgICAgICAgICAgIHRoaXMuX21vbnRoc1BhcnNlW2ldID0gbmV3IFJlZ0V4cChyZWdleC5yZXBsYWNlKCcuJywgJycpLCAnaScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdGVzdCB0aGUgcmVnZXhcbiAgICAgICAgICAgIGlmIChzdHJpY3QgJiYgZm9ybWF0ID09PSAnTU1NTScgJiYgdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2ldLnRlc3QobW9udGhOYW1lKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzdHJpY3QgJiYgZm9ybWF0ID09PSAnTU1NJyAmJiB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlW2ldLnRlc3QobW9udGhOYW1lKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghc3RyaWN0ICYmIHRoaXMuX21vbnRoc1BhcnNlW2ldLnRlc3QobW9udGhOYW1lKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gTU9NRU5UU1xuXG4gICAgZnVuY3Rpb24gc2V0TW9udGggKG1vbSwgdmFsdWUpIHtcbiAgICAgICAgdmFyIGRheU9mTW9udGg7XG5cbiAgICAgICAgaWYgKCFtb20uaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICAvLyBObyBvcFxuICAgICAgICAgICAgcmV0dXJuIG1vbTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpZiAoL15cXGQrJC8udGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRvSW50KHZhbHVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBtb20ubG9jYWxlRGF0YSgpLm1vbnRoc1BhcnNlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBBbm90aGVyIHNpbGVudCBmYWlsdXJlP1xuICAgICAgICAgICAgICAgIGlmICghaXNOdW1iZXIodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtb207XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZGF5T2ZNb250aCA9IE1hdGgubWluKG1vbS5kYXRlKCksIGRheXNJbk1vbnRoKG1vbS55ZWFyKCksIHZhbHVlKSk7XG4gICAgICAgIG1vbS5fZFsnc2V0JyArIChtb20uX2lzVVRDID8gJ1VUQycgOiAnJykgKyAnTW9udGgnXSh2YWx1ZSwgZGF5T2ZNb250aCk7XG4gICAgICAgIHJldHVybiBtb207XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0U2V0TW9udGggKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBzZXRNb250aCh0aGlzLCB2YWx1ZSk7XG4gICAgICAgICAgICBob29rcy51cGRhdGVPZmZzZXQodGhpcywgdHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBnZXQodGhpcywgJ01vbnRoJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXREYXlzSW5Nb250aCAoKSB7XG4gICAgICAgIHJldHVybiBkYXlzSW5Nb250aCh0aGlzLnllYXIoKSwgdGhpcy5tb250aCgpKTtcbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdE1vbnRoc1Nob3J0UmVnZXggPSBtYXRjaFdvcmQ7XG4gICAgZnVuY3Rpb24gbW9udGhzU2hvcnRSZWdleCAoaXNTdHJpY3QpIHtcbiAgICAgICAgaWYgKHRoaXMuX21vbnRoc1BhcnNlRXhhY3QpIHtcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX21vbnRoc1JlZ2V4JykpIHtcbiAgICAgICAgICAgICAgICBjb21wdXRlTW9udGhzUGFyc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc1N0cmljdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU2hvcnRSZWdleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX21vbnRoc1Nob3J0UmVnZXgnKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX21vbnRoc1Nob3J0UmVnZXggPSBkZWZhdWx0TW9udGhzU2hvcnRSZWdleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4ICYmIGlzU3RyaWN0ID9cbiAgICAgICAgICAgICAgICB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4IDogdGhpcy5fbW9udGhzU2hvcnRSZWdleDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBkZWZhdWx0TW9udGhzUmVnZXggPSBtYXRjaFdvcmQ7XG4gICAgZnVuY3Rpb24gbW9udGhzUmVnZXggKGlzU3RyaWN0KSB7XG4gICAgICAgIGlmICh0aGlzLl9tb250aHNQYXJzZUV4YWN0KSB7XG4gICAgICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ19tb250aHNSZWdleCcpKSB7XG4gICAgICAgICAgICAgICAgY29tcHV0ZU1vbnRoc1BhcnNlLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNTdHJpY3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU3RyaWN0UmVnZXg7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNSZWdleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX21vbnRoc1JlZ2V4JykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tb250aHNSZWdleCA9IGRlZmF1bHRNb250aHNSZWdleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTdHJpY3RSZWdleCAmJiBpc1N0cmljdCA/XG4gICAgICAgICAgICAgICAgdGhpcy5fbW9udGhzU3RyaWN0UmVnZXggOiB0aGlzLl9tb250aHNSZWdleDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbXB1dGVNb250aHNQYXJzZSAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIGNtcExlblJldihhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYi5sZW5ndGggLSBhLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzaG9ydFBpZWNlcyA9IFtdLCBsb25nUGllY2VzID0gW10sIG1peGVkUGllY2VzID0gW10sXG4gICAgICAgICAgICBpLCBtb207XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG4gICAgICAgICAgICAvLyBtYWtlIHRoZSByZWdleCBpZiB3ZSBkb24ndCBoYXZlIGl0IGFscmVhZHlcbiAgICAgICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgaV0pO1xuICAgICAgICAgICAgc2hvcnRQaWVjZXMucHVzaCh0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpKTtcbiAgICAgICAgICAgIGxvbmdQaWVjZXMucHVzaCh0aGlzLm1vbnRocyhtb20sICcnKSk7XG4gICAgICAgICAgICBtaXhlZFBpZWNlcy5wdXNoKHRoaXMubW9udGhzKG1vbSwgJycpKTtcbiAgICAgICAgICAgIG1peGVkUGllY2VzLnB1c2godGhpcy5tb250aHNTaG9ydChtb20sICcnKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU29ydGluZyBtYWtlcyBzdXJlIGlmIG9uZSBtb250aCAob3IgYWJicikgaXMgYSBwcmVmaXggb2YgYW5vdGhlciBpdFxuICAgICAgICAvLyB3aWxsIG1hdGNoIHRoZSBsb25nZXIgcGllY2UuXG4gICAgICAgIHNob3J0UGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICAgICAgbG9uZ1BpZWNlcy5zb3J0KGNtcExlblJldik7XG4gICAgICAgIG1peGVkUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgICAgIHNob3J0UGllY2VzW2ldID0gcmVnZXhFc2NhcGUoc2hvcnRQaWVjZXNbaV0pO1xuICAgICAgICAgICAgbG9uZ1BpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKGxvbmdQaWVjZXNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCAyNDsgaSsrKSB7XG4gICAgICAgICAgICBtaXhlZFBpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKG1peGVkUGllY2VzW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX21vbnRoc1JlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbWl4ZWRQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuICAgICAgICB0aGlzLl9tb250aHNTaG9ydFJlZ2V4ID0gdGhpcy5fbW9udGhzUmVnZXg7XG4gICAgICAgIHRoaXMuX21vbnRoc1N0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbG9uZ1BpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG4gICAgICAgIHRoaXMuX21vbnRoc1Nob3J0U3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBzaG9ydFBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlRGF0ZSAoeSwgbSwgZCwgaCwgTSwgcywgbXMpIHtcbiAgICAgICAgLy8gY2FuJ3QganVzdCBhcHBseSgpIHRvIGNyZWF0ZSBhIGRhdGU6XG4gICAgICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcS8xODEzNDhcbiAgICAgICAgdmFyIGRhdGU7XG4gICAgICAgIC8vIHRoZSBkYXRlIGNvbnN0cnVjdG9yIHJlbWFwcyB5ZWFycyAwLTk5IHRvIDE5MDAtMTk5OVxuICAgICAgICBpZiAoeSA8IDEwMCAmJiB5ID49IDApIHtcbiAgICAgICAgICAgIC8vIHByZXNlcnZlIGxlYXAgeWVhcnMgdXNpbmcgYSBmdWxsIDQwMCB5ZWFyIGN5Y2xlLCB0aGVuIHJlc2V0XG4gICAgICAgICAgICBkYXRlID0gbmV3IERhdGUoeSArIDQwMCwgbSwgZCwgaCwgTSwgcywgbXMpO1xuICAgICAgICAgICAgaWYgKGlzRmluaXRlKGRhdGUuZ2V0RnVsbFllYXIoKSkpIHtcbiAgICAgICAgICAgICAgICBkYXRlLnNldEZ1bGxZZWFyKHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKHksIG0sIGQsIGgsIE0sIHMsIG1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkYXRlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZVVUQ0RhdGUgKHkpIHtcbiAgICAgICAgdmFyIGRhdGU7XG4gICAgICAgIC8vIHRoZSBEYXRlLlVUQyBmdW5jdGlvbiByZW1hcHMgeWVhcnMgMC05OSB0byAxOTAwLTE5OTlcbiAgICAgICAgaWYgKHkgPCAxMDAgJiYgeSA+PSAwKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAvLyBwcmVzZXJ2ZSBsZWFwIHllYXJzIHVzaW5nIGEgZnVsbCA0MDAgeWVhciBjeWNsZSwgdGhlbiByZXNldFxuICAgICAgICAgICAgYXJnc1swXSA9IHkgKyA0MDA7XG4gICAgICAgICAgICBkYXRlID0gbmV3IERhdGUoRGF0ZS5VVEMuYXBwbHkobnVsbCwgYXJncykpO1xuICAgICAgICAgICAgaWYgKGlzRmluaXRlKGRhdGUuZ2V0VVRDRnVsbFllYXIoKSkpIHtcbiAgICAgICAgICAgICAgICBkYXRlLnNldFVUQ0Z1bGxZZWFyKHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKERhdGUuVVRDLmFwcGx5KG51bGwsIGFyZ3VtZW50cykpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRhdGU7XG4gICAgfVxuXG4gICAgLy8gc3RhcnQtb2YtZmlyc3Qtd2VlayAtIHN0YXJ0LW9mLXllYXJcbiAgICBmdW5jdGlvbiBmaXJzdFdlZWtPZmZzZXQoeWVhciwgZG93LCBkb3kpIHtcbiAgICAgICAgdmFyIC8vIGZpcnN0LXdlZWsgZGF5IC0tIHdoaWNoIGphbnVhcnkgaXMgYWx3YXlzIGluIHRoZSBmaXJzdCB3ZWVrICg0IGZvciBpc28sIDEgZm9yIG90aGVyKVxuICAgICAgICAgICAgZndkID0gNyArIGRvdyAtIGRveSxcbiAgICAgICAgICAgIC8vIGZpcnN0LXdlZWsgZGF5IGxvY2FsIHdlZWtkYXkgLS0gd2hpY2ggbG9jYWwgd2Vla2RheSBpcyBmd2RcbiAgICAgICAgICAgIGZ3ZGx3ID0gKDcgKyBjcmVhdGVVVENEYXRlKHllYXIsIDAsIGZ3ZCkuZ2V0VVRDRGF5KCkgLSBkb3cpICUgNztcblxuICAgICAgICByZXR1cm4gLWZ3ZGx3ICsgZndkIC0gMTtcbiAgICB9XG5cbiAgICAvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JU09fd2Vla19kYXRlI0NhbGN1bGF0aW5nX2FfZGF0ZV9naXZlbl90aGVfeWVhci4yQ193ZWVrX251bWJlcl9hbmRfd2Vla2RheVxuICAgIGZ1bmN0aW9uIGRheU9mWWVhckZyb21XZWVrcyh5ZWFyLCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSkge1xuICAgICAgICB2YXIgbG9jYWxXZWVrZGF5ID0gKDcgKyB3ZWVrZGF5IC0gZG93KSAlIDcsXG4gICAgICAgICAgICB3ZWVrT2Zmc2V0ID0gZmlyc3RXZWVrT2Zmc2V0KHllYXIsIGRvdywgZG95KSxcbiAgICAgICAgICAgIGRheU9mWWVhciA9IDEgKyA3ICogKHdlZWsgLSAxKSArIGxvY2FsV2Vla2RheSArIHdlZWtPZmZzZXQsXG4gICAgICAgICAgICByZXNZZWFyLCByZXNEYXlPZlllYXI7XG5cbiAgICAgICAgaWYgKGRheU9mWWVhciA8PSAwKSB7XG4gICAgICAgICAgICByZXNZZWFyID0geWVhciAtIDE7XG4gICAgICAgICAgICByZXNEYXlPZlllYXIgPSBkYXlzSW5ZZWFyKHJlc1llYXIpICsgZGF5T2ZZZWFyO1xuICAgICAgICB9IGVsc2UgaWYgKGRheU9mWWVhciA+IGRheXNJblllYXIoeWVhcikpIHtcbiAgICAgICAgICAgIHJlc1llYXIgPSB5ZWFyICsgMTtcbiAgICAgICAgICAgIHJlc0RheU9mWWVhciA9IGRheU9mWWVhciAtIGRheXNJblllYXIoeWVhcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNZZWFyID0geWVhcjtcbiAgICAgICAgICAgIHJlc0RheU9mWWVhciA9IGRheU9mWWVhcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB5ZWFyOiByZXNZZWFyLFxuICAgICAgICAgICAgZGF5T2ZZZWFyOiByZXNEYXlPZlllYXJcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB3ZWVrT2ZZZWFyKG1vbSwgZG93LCBkb3kpIHtcbiAgICAgICAgdmFyIHdlZWtPZmZzZXQgPSBmaXJzdFdlZWtPZmZzZXQobW9tLnllYXIoKSwgZG93LCBkb3kpLFxuICAgICAgICAgICAgd2VlayA9IE1hdGguZmxvb3IoKG1vbS5kYXlPZlllYXIoKSAtIHdlZWtPZmZzZXQgLSAxKSAvIDcpICsgMSxcbiAgICAgICAgICAgIHJlc1dlZWssIHJlc1llYXI7XG5cbiAgICAgICAgaWYgKHdlZWsgPCAxKSB7XG4gICAgICAgICAgICByZXNZZWFyID0gbW9tLnllYXIoKSAtIDE7XG4gICAgICAgICAgICByZXNXZWVrID0gd2VlayArIHdlZWtzSW5ZZWFyKHJlc1llYXIsIGRvdywgZG95KTtcbiAgICAgICAgfSBlbHNlIGlmICh3ZWVrID4gd2Vla3NJblllYXIobW9tLnllYXIoKSwgZG93LCBkb3kpKSB7XG4gICAgICAgICAgICByZXNXZWVrID0gd2VlayAtIHdlZWtzSW5ZZWFyKG1vbS55ZWFyKCksIGRvdywgZG95KTtcbiAgICAgICAgICAgIHJlc1llYXIgPSBtb20ueWVhcigpICsgMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc1llYXIgPSBtb20ueWVhcigpO1xuICAgICAgICAgICAgcmVzV2VlayA9IHdlZWs7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgd2VlazogcmVzV2VlayxcbiAgICAgICAgICAgIHllYXI6IHJlc1llYXJcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB3ZWVrc0luWWVhcih5ZWFyLCBkb3csIGRveSkge1xuICAgICAgICB2YXIgd2Vla09mZnNldCA9IGZpcnN0V2Vla09mZnNldCh5ZWFyLCBkb3csIGRveSksXG4gICAgICAgICAgICB3ZWVrT2Zmc2V0TmV4dCA9IGZpcnN0V2Vla09mZnNldCh5ZWFyICsgMSwgZG93LCBkb3kpO1xuICAgICAgICByZXR1cm4gKGRheXNJblllYXIoeWVhcikgLSB3ZWVrT2Zmc2V0ICsgd2Vla09mZnNldE5leHQpIC8gNztcbiAgICB9XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBhZGRGb3JtYXRUb2tlbigndycsIFsnd3cnLCAyXSwgJ3dvJywgJ3dlZWsnKTtcbiAgICBhZGRGb3JtYXRUb2tlbignVycsIFsnV1cnLCAyXSwgJ1dvJywgJ2lzb1dlZWsnKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygnd2VlaycsICd3Jyk7XG4gICAgYWRkVW5pdEFsaWFzKCdpc29XZWVrJywgJ1cnKTtcblxuICAgIC8vIFBSSU9SSVRJRVNcblxuICAgIGFkZFVuaXRQcmlvcml0eSgnd2VlaycsIDUpO1xuICAgIGFkZFVuaXRQcmlvcml0eSgnaXNvV2VlaycsIDUpO1xuXG4gICAgLy8gUEFSU0lOR1xuXG4gICAgYWRkUmVnZXhUb2tlbigndycsICBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ3d3JywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ1cnLCAgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdXVycsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcblxuICAgIGFkZFdlZWtQYXJzZVRva2VuKFsndycsICd3dycsICdXJywgJ1dXJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuICAgICAgICB3ZWVrW3Rva2VuLnN1YnN0cigwLCAxKV0gPSB0b0ludChpbnB1dCk7XG4gICAgfSk7XG5cbiAgICAvLyBIRUxQRVJTXG5cbiAgICAvLyBMT0NBTEVTXG5cbiAgICBmdW5jdGlvbiBsb2NhbGVXZWVrIChtb20pIHtcbiAgICAgICAgcmV0dXJuIHdlZWtPZlllYXIobW9tLCB0aGlzLl93ZWVrLmRvdywgdGhpcy5fd2Vlay5kb3kpLndlZWs7XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRMb2NhbGVXZWVrID0ge1xuICAgICAgICBkb3cgOiAwLCAvLyBTdW5kYXkgaXMgdGhlIGZpcnN0IGRheSBvZiB0aGUgd2Vlay5cbiAgICAgICAgZG95IDogNiAgLy8gVGhlIHdlZWsgdGhhdCBjb250YWlucyBKYW4gNnRoIGlzIHRoZSBmaXJzdCB3ZWVrIG9mIHRoZSB5ZWFyLlxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBsb2NhbGVGaXJzdERheU9mV2VlayAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl93ZWVrLmRvdztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsb2NhbGVGaXJzdERheU9mWWVhciAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl93ZWVrLmRveTtcbiAgICB9XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICBmdW5jdGlvbiBnZXRTZXRXZWVrIChpbnB1dCkge1xuICAgICAgICB2YXIgd2VlayA9IHRoaXMubG9jYWxlRGF0YSgpLndlZWsodGhpcyk7XG4gICAgICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gd2VlayA6IHRoaXMuYWRkKChpbnB1dCAtIHdlZWspICogNywgJ2QnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRTZXRJU09XZWVrIChpbnB1dCkge1xuICAgICAgICB2YXIgd2VlayA9IHdlZWtPZlllYXIodGhpcywgMSwgNCkud2VlaztcbiAgICAgICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyB3ZWVrIDogdGhpcy5hZGQoKGlucHV0IC0gd2VlaykgKiA3LCAnZCcpO1xuICAgIH1cblxuICAgIC8vIEZPUk1BVFRJTkdcblxuICAgIGFkZEZvcm1hdFRva2VuKCdkJywgMCwgJ2RvJywgJ2RheScpO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ2RkJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkud2Vla2RheXNNaW4odGhpcywgZm9ybWF0KTtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKCdkZGQnLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS53ZWVrZGF5c1Nob3J0KHRoaXMsIGZvcm1hdCk7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbignZGRkZCcsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLndlZWtkYXlzKHRoaXMsIGZvcm1hdCk7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbignZScsIDAsIDAsICd3ZWVrZGF5Jyk7XG4gICAgYWRkRm9ybWF0VG9rZW4oJ0UnLCAwLCAwLCAnaXNvV2Vla2RheScpO1xuXG4gICAgLy8gQUxJQVNFU1xuXG4gICAgYWRkVW5pdEFsaWFzKCdkYXknLCAnZCcpO1xuICAgIGFkZFVuaXRBbGlhcygnd2Vla2RheScsICdlJyk7XG4gICAgYWRkVW5pdEFsaWFzKCdpc29XZWVrZGF5JywgJ0UnKTtcblxuICAgIC8vIFBSSU9SSVRZXG4gICAgYWRkVW5pdFByaW9yaXR5KCdkYXknLCAxMSk7XG4gICAgYWRkVW5pdFByaW9yaXR5KCd3ZWVrZGF5JywgMTEpO1xuICAgIGFkZFVuaXRQcmlvcml0eSgnaXNvV2Vla2RheScsIDExKTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ2QnLCAgICBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2UnLCAgICBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0UnLCAgICBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2RkJywgICBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgICAgICByZXR1cm4gbG9jYWxlLndlZWtkYXlzTWluUmVnZXgoaXNTdHJpY3QpO1xuICAgIH0pO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2RkZCcsICAgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsZS53ZWVrZGF5c1Nob3J0UmVnZXgoaXNTdHJpY3QpO1xuICAgIH0pO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2RkZGQnLCAgIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGUud2Vla2RheXNSZWdleChpc1N0cmljdCk7XG4gICAgfSk7XG5cbiAgICBhZGRXZWVrUGFyc2VUb2tlbihbJ2RkJywgJ2RkZCcsICdkZGRkJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuICAgICAgICB2YXIgd2Vla2RheSA9IGNvbmZpZy5fbG9jYWxlLndlZWtkYXlzUGFyc2UoaW5wdXQsIHRva2VuLCBjb25maWcuX3N0cmljdCk7XG4gICAgICAgIC8vIGlmIHdlIGRpZG4ndCBnZXQgYSB3ZWVrZGF5IG5hbWUsIG1hcmsgdGhlIGRhdGUgYXMgaW52YWxpZFxuICAgICAgICBpZiAod2Vla2RheSAhPSBudWxsKSB7XG4gICAgICAgICAgICB3ZWVrLmQgPSB3ZWVrZGF5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuaW52YWxpZFdlZWtkYXkgPSBpbnB1dDtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgYWRkV2Vla1BhcnNlVG9rZW4oWydkJywgJ2UnLCAnRSddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcbiAgICAgICAgd2Vla1t0b2tlbl0gPSB0b0ludChpbnB1dCk7XG4gICAgfSk7XG5cbiAgICAvLyBIRUxQRVJTXG5cbiAgICBmdW5jdGlvbiBwYXJzZVdlZWtkYXkoaW5wdXQsIGxvY2FsZSkge1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc05hTihpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludChpbnB1dCwgMTApO1xuICAgICAgICB9XG5cbiAgICAgICAgaW5wdXQgPSBsb2NhbGUud2Vla2RheXNQYXJzZShpbnB1dCk7XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXJzZUlzb1dlZWtkYXkoaW5wdXQsIGxvY2FsZSkge1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsZS53ZWVrZGF5c1BhcnNlKGlucHV0KSAlIDcgfHwgNztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXNOYU4oaW5wdXQpID8gbnVsbCA6IGlucHV0O1xuICAgIH1cblxuICAgIC8vIExPQ0FMRVNcbiAgICBmdW5jdGlvbiBzaGlmdFdlZWtkYXlzICh3cywgbikge1xuICAgICAgICByZXR1cm4gd3Muc2xpY2UobiwgNykuY29uY2F0KHdzLnNsaWNlKDAsIG4pKTtcbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdExvY2FsZVdlZWtkYXlzID0gJ1N1bmRheV9Nb25kYXlfVHVlc2RheV9XZWRuZXNkYXlfVGh1cnNkYXlfRnJpZGF5X1NhdHVyZGF5Jy5zcGxpdCgnXycpO1xuICAgIGZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzIChtLCBmb3JtYXQpIHtcbiAgICAgICAgdmFyIHdlZWtkYXlzID0gaXNBcnJheSh0aGlzLl93ZWVrZGF5cykgPyB0aGlzLl93ZWVrZGF5cyA6XG4gICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1sobSAmJiBtICE9PSB0cnVlICYmIHRoaXMuX3dlZWtkYXlzLmlzRm9ybWF0LnRlc3QoZm9ybWF0KSkgPyAnZm9ybWF0JyA6ICdzdGFuZGFsb25lJ107XG4gICAgICAgIHJldHVybiAobSA9PT0gdHJ1ZSkgPyBzaGlmdFdlZWtkYXlzKHdlZWtkYXlzLCB0aGlzLl93ZWVrLmRvdylcbiAgICAgICAgICAgIDogKG0pID8gd2Vla2RheXNbbS5kYXkoKV0gOiB3ZWVrZGF5cztcbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdExvY2FsZVdlZWtkYXlzU2hvcnQgPSAnU3VuX01vbl9UdWVfV2VkX1RodV9GcmlfU2F0Jy5zcGxpdCgnXycpO1xuICAgIGZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzU2hvcnQgKG0pIHtcbiAgICAgICAgcmV0dXJuIChtID09PSB0cnVlKSA/IHNoaWZ0V2Vla2RheXModGhpcy5fd2Vla2RheXNTaG9ydCwgdGhpcy5fd2Vlay5kb3cpXG4gICAgICAgICAgICA6IChtKSA/IHRoaXMuX3dlZWtkYXlzU2hvcnRbbS5kYXkoKV0gOiB0aGlzLl93ZWVrZGF5c1Nob3J0O1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0TG9jYWxlV2Vla2RheXNNaW4gPSAnU3VfTW9fVHVfV2VfVGhfRnJfU2EnLnNwbGl0KCdfJyk7XG4gICAgZnVuY3Rpb24gbG9jYWxlV2Vla2RheXNNaW4gKG0pIHtcbiAgICAgICAgcmV0dXJuIChtID09PSB0cnVlKSA/IHNoaWZ0V2Vla2RheXModGhpcy5fd2Vla2RheXNNaW4sIHRoaXMuX3dlZWsuZG93KVxuICAgICAgICAgICAgOiAobSkgPyB0aGlzLl93ZWVrZGF5c01pblttLmRheSgpXSA6IHRoaXMuX3dlZWtkYXlzTWluO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZVN0cmljdFBhcnNlJDEod2Vla2RheU5hbWUsIGZvcm1hdCwgc3RyaWN0KSB7XG4gICAgICAgIHZhciBpLCBpaSwgbW9tLCBsbGMgPSB3ZWVrZGF5TmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAoIXRoaXMuX3dlZWtkYXlzUGFyc2UpIHtcbiAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fbWluV2Vla2RheXNQYXJzZSA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNzsgKytpKSB7XG4gICAgICAgICAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCAxXSkuZGF5KGkpO1xuICAgICAgICAgICAgICAgIHRoaXMuX21pbldlZWtkYXlzUGFyc2VbaV0gPSB0aGlzLndlZWtkYXlzTWluKG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlW2ldID0gdGhpcy53ZWVrZGF5c1Nob3J0KG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNQYXJzZVtpXSA9IHRoaXMud2Vla2RheXMobW9tLCAnJykudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdHJpY3QpIHtcbiAgICAgICAgICAgIGlmIChmb3JtYXQgPT09ICdkZGRkJykge1xuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX3dlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZm9ybWF0ID09PSAnZGRkJykge1xuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9taW5XZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoZm9ybWF0ID09PSAnZGRkZCcpIHtcbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl93ZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX21pbldlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZm9ybWF0ID09PSAnZGRkJykge1xuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fd2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fbWluV2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9taW5XZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl93ZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzUGFyc2UgKHdlZWtkYXlOYW1lLCBmb3JtYXQsIHN0cmljdCkge1xuICAgICAgICB2YXIgaSwgbW9tLCByZWdleDtcblxuICAgICAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlU3RyaWN0UGFyc2UkMS5jYWxsKHRoaXMsIHdlZWtkYXlOYW1lLCBmb3JtYXQsIHN0cmljdCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX3dlZWtkYXlzUGFyc2UpIHtcbiAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX21pbldlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fZnVsbFdlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuXG4gICAgICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIDFdKS5kYXkoaSk7XG4gICAgICAgICAgICBpZiAoc3RyaWN0ICYmICF0aGlzLl9mdWxsV2Vla2RheXNQYXJzZVtpXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Z1bGxXZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLndlZWtkYXlzKG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnXFxcXC4/JykgKyAnJCcsICdpJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLndlZWtkYXlzU2hvcnQobW9tLCAnJykucmVwbGFjZSgnLicsICdcXFxcLj8nKSArICckJywgJ2knKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9taW5XZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLndlZWtkYXlzTWluKG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnXFxcXC4/JykgKyAnJCcsICdpJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3dlZWtkYXlzUGFyc2VbaV0pIHtcbiAgICAgICAgICAgICAgICByZWdleCA9ICdeJyArIHRoaXMud2Vla2RheXMobW9tLCAnJykgKyAnfF4nICsgdGhpcy53ZWVrZGF5c1Nob3J0KG1vbSwgJycpICsgJ3xeJyArIHRoaXMud2Vla2RheXNNaW4obW9tLCAnJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNQYXJzZVtpXSA9IG5ldyBSZWdFeHAocmVnZXgucmVwbGFjZSgnLicsICcnKSwgJ2knKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRlc3QgdGhlIHJlZ2V4XG4gICAgICAgICAgICBpZiAoc3RyaWN0ICYmIGZvcm1hdCA9PT0gJ2RkZGQnICYmIHRoaXMuX2Z1bGxXZWVrZGF5c1BhcnNlW2ldLnRlc3Qod2Vla2RheU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN0cmljdCAmJiBmb3JtYXQgPT09ICdkZGQnICYmIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZVtpXS50ZXN0KHdlZWtkYXlOYW1lKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzdHJpY3QgJiYgZm9ybWF0ID09PSAnZGQnICYmIHRoaXMuX21pbldlZWtkYXlzUGFyc2VbaV0udGVzdCh3ZWVrZGF5TmFtZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXN0cmljdCAmJiB0aGlzLl93ZWVrZGF5c1BhcnNlW2ldLnRlc3Qod2Vla2RheU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICBmdW5jdGlvbiBnZXRTZXREYXlPZldlZWsgKGlucHV0KSB7XG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dCAhPSBudWxsID8gdGhpcyA6IE5hTjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGF5ID0gdGhpcy5faXNVVEMgPyB0aGlzLl9kLmdldFVUQ0RheSgpIDogdGhpcy5fZC5nZXREYXkoKTtcbiAgICAgICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlucHV0ID0gcGFyc2VXZWVrZGF5KGlucHV0LCB0aGlzLmxvY2FsZURhdGEoKSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hZGQoaW5wdXQgLSBkYXksICdkJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZGF5O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0U2V0TG9jYWxlRGF5T2ZXZWVrIChpbnB1dCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCA/IHRoaXMgOiBOYU47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdlZWtkYXkgPSAodGhpcy5kYXkoKSArIDcgLSB0aGlzLmxvY2FsZURhdGEoKS5fd2Vlay5kb3cpICUgNztcbiAgICAgICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyB3ZWVrZGF5IDogdGhpcy5hZGQoaW5wdXQgLSB3ZWVrZGF5LCAnZCcpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFNldElTT0RheU9mV2VlayAoaW5wdXQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgPyB0aGlzIDogTmFOO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYmVoYXZlcyB0aGUgc2FtZSBhcyBtb21lbnQjZGF5IGV4Y2VwdFxuICAgICAgICAvLyBhcyBhIGdldHRlciwgcmV0dXJucyA3IGluc3RlYWQgb2YgMCAoMS03IHJhbmdlIGluc3RlYWQgb2YgMC02KVxuICAgICAgICAvLyBhcyBhIHNldHRlciwgc3VuZGF5IHNob3VsZCBiZWxvbmcgdG8gdGhlIHByZXZpb3VzIHdlZWsuXG5cbiAgICAgICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHZhciB3ZWVrZGF5ID0gcGFyc2VJc29XZWVrZGF5KGlucHV0LCB0aGlzLmxvY2FsZURhdGEoKSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYXkodGhpcy5kYXkoKSAlIDcgPyB3ZWVrZGF5IDogd2Vla2RheSAtIDcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF5KCkgfHwgNztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBkZWZhdWx0V2Vla2RheXNSZWdleCA9IG1hdGNoV29yZDtcbiAgICBmdW5jdGlvbiB3ZWVrZGF5c1JlZ2V4IChpc1N0cmljdCkge1xuICAgICAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG4gICAgICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1JlZ2V4JykpIHtcbiAgICAgICAgICAgICAgICBjb21wdXRlV2Vla2RheXNQYXJzZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXg7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1JlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNSZWdleCcpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNSZWdleCA9IGRlZmF1bHRXZWVrZGF5c1JlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuICAgICAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXggOiB0aGlzLl93ZWVrZGF5c1JlZ2V4O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRXZWVrZGF5c1Nob3J0UmVnZXggPSBtYXRjaFdvcmQ7XG4gICAgZnVuY3Rpb24gd2Vla2RheXNTaG9ydFJlZ2V4IChpc1N0cmljdCkge1xuICAgICAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG4gICAgICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1JlZ2V4JykpIHtcbiAgICAgICAgICAgICAgICBjb21wdXRlV2Vla2RheXNQYXJzZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU2hvcnRTdHJpY3RSZWdleDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU2hvcnRSZWdleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzU2hvcnRSZWdleCcpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNTaG9ydFJlZ2V4ID0gZGVmYXVsdFdlZWtkYXlzU2hvcnRSZWdleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1Nob3J0U3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuICAgICAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzU2hvcnRTdHJpY3RSZWdleCA6IHRoaXMuX3dlZWtkYXlzU2hvcnRSZWdleDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBkZWZhdWx0V2Vla2RheXNNaW5SZWdleCA9IG1hdGNoV29yZDtcbiAgICBmdW5jdGlvbiB3ZWVrZGF5c01pblJlZ2V4IChpc1N0cmljdCkge1xuICAgICAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG4gICAgICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1JlZ2V4JykpIHtcbiAgICAgICAgICAgICAgICBjb21wdXRlV2Vla2RheXNQYXJzZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXg7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c01pblJlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNNaW5SZWdleCcpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNNaW5SZWdleCA9IGRlZmF1bHRXZWVrZGF5c01pblJlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuICAgICAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXggOiB0aGlzLl93ZWVrZGF5c01pblJlZ2V4O1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBjb21wdXRlV2Vla2RheXNQYXJzZSAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIGNtcExlblJldihhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYi5sZW5ndGggLSBhLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtaW5QaWVjZXMgPSBbXSwgc2hvcnRQaWVjZXMgPSBbXSwgbG9uZ1BpZWNlcyA9IFtdLCBtaXhlZFBpZWNlcyA9IFtdLFxuICAgICAgICAgICAgaSwgbW9tLCBtaW5wLCBzaG9ydHAsIGxvbmdwO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XG4gICAgICAgICAgICAvLyBtYWtlIHRoZSByZWdleCBpZiB3ZSBkb24ndCBoYXZlIGl0IGFscmVhZHlcbiAgICAgICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgMV0pLmRheShpKTtcbiAgICAgICAgICAgIG1pbnAgPSB0aGlzLndlZWtkYXlzTWluKG1vbSwgJycpO1xuICAgICAgICAgICAgc2hvcnRwID0gdGhpcy53ZWVrZGF5c1Nob3J0KG1vbSwgJycpO1xuICAgICAgICAgICAgbG9uZ3AgPSB0aGlzLndlZWtkYXlzKG1vbSwgJycpO1xuICAgICAgICAgICAgbWluUGllY2VzLnB1c2gobWlucCk7XG4gICAgICAgICAgICBzaG9ydFBpZWNlcy5wdXNoKHNob3J0cCk7XG4gICAgICAgICAgICBsb25nUGllY2VzLnB1c2gobG9uZ3ApO1xuICAgICAgICAgICAgbWl4ZWRQaWVjZXMucHVzaChtaW5wKTtcbiAgICAgICAgICAgIG1peGVkUGllY2VzLnB1c2goc2hvcnRwKTtcbiAgICAgICAgICAgIG1peGVkUGllY2VzLnB1c2gobG9uZ3ApO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNvcnRpbmcgbWFrZXMgc3VyZSBpZiBvbmUgd2Vla2RheSAob3IgYWJicikgaXMgYSBwcmVmaXggb2YgYW5vdGhlciBpdFxuICAgICAgICAvLyB3aWxsIG1hdGNoIHRoZSBsb25nZXIgcGllY2UuXG4gICAgICAgIG1pblBpZWNlcy5zb3J0KGNtcExlblJldik7XG4gICAgICAgIHNob3J0UGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICAgICAgbG9uZ1BpZWNlcy5zb3J0KGNtcExlblJldik7XG4gICAgICAgIG1peGVkUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDc7IGkrKykge1xuICAgICAgICAgICAgc2hvcnRQaWVjZXNbaV0gPSByZWdleEVzY2FwZShzaG9ydFBpZWNlc1tpXSk7XG4gICAgICAgICAgICBsb25nUGllY2VzW2ldID0gcmVnZXhFc2NhcGUobG9uZ1BpZWNlc1tpXSk7XG4gICAgICAgICAgICBtaXhlZFBpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKG1peGVkUGllY2VzW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3dlZWtkYXlzUmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBtaXhlZFBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG4gICAgICAgIHRoaXMuX3dlZWtkYXlzU2hvcnRSZWdleCA9IHRoaXMuX3dlZWtkYXlzUmVnZXg7XG4gICAgICAgIHRoaXMuX3dlZWtkYXlzTWluUmVnZXggPSB0aGlzLl93ZWVrZGF5c1JlZ2V4O1xuXG4gICAgICAgIHRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBsb25nUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbiAgICAgICAgdGhpcy5fd2Vla2RheXNTaG9ydFN0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgc2hvcnRQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuICAgICAgICB0aGlzLl93ZWVrZGF5c01pblN0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbWluUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbiAgICB9XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBmdW5jdGlvbiBoRm9ybWF0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ob3VycygpICUgMTIgfHwgMTI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24ga0Zvcm1hdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaG91cnMoKSB8fCAyNDtcbiAgICB9XG5cbiAgICBhZGRGb3JtYXRUb2tlbignSCcsIFsnSEgnLCAyXSwgMCwgJ2hvdXInKTtcbiAgICBhZGRGb3JtYXRUb2tlbignaCcsIFsnaGgnLCAyXSwgMCwgaEZvcm1hdCk7XG4gICAgYWRkRm9ybWF0VG9rZW4oJ2snLCBbJ2trJywgMl0sIDAsIGtGb3JtYXQpO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ2htbScsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICcnICsgaEZvcm1hdC5hcHBseSh0aGlzKSArIHplcm9GaWxsKHRoaXMubWludXRlcygpLCAyKTtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKCdobW1zcycsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICcnICsgaEZvcm1hdC5hcHBseSh0aGlzKSArIHplcm9GaWxsKHRoaXMubWludXRlcygpLCAyKSArXG4gICAgICAgICAgICB6ZXJvRmlsbCh0aGlzLnNlY29uZHMoKSwgMik7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbignSG1tJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gJycgKyB0aGlzLmhvdXJzKCkgKyB6ZXJvRmlsbCh0aGlzLm1pbnV0ZXMoKSwgMik7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbignSG1tc3MnLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAnJyArIHRoaXMuaG91cnMoKSArIHplcm9GaWxsKHRoaXMubWludXRlcygpLCAyKSArXG4gICAgICAgICAgICB6ZXJvRmlsbCh0aGlzLnNlY29uZHMoKSwgMik7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBtZXJpZGllbSAodG9rZW4sIGxvd2VyY2FzZSkge1xuICAgICAgICBhZGRGb3JtYXRUb2tlbih0b2tlbiwgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm1lcmlkaWVtKHRoaXMuaG91cnMoKSwgdGhpcy5taW51dGVzKCksIGxvd2VyY2FzZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG1lcmlkaWVtKCdhJywgdHJ1ZSk7XG4gICAgbWVyaWRpZW0oJ0EnLCBmYWxzZSk7XG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ2hvdXInLCAnaCcpO1xuXG4gICAgLy8gUFJJT1JJVFlcbiAgICBhZGRVbml0UHJpb3JpdHkoJ2hvdXInLCAxMyk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBmdW5jdGlvbiBtYXRjaE1lcmlkaWVtIChpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGUuX21lcmlkaWVtUGFyc2U7XG4gICAgfVxuXG4gICAgYWRkUmVnZXhUb2tlbignYScsICBtYXRjaE1lcmlkaWVtKTtcbiAgICBhZGRSZWdleFRva2VuKCdBJywgIG1hdGNoTWVyaWRpZW0pO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0gnLCAgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdoJywgIG1hdGNoMXRvMik7XG4gICAgYWRkUmVnZXhUb2tlbignaycsICBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0hIJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2hoJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2trJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuXG4gICAgYWRkUmVnZXhUb2tlbignaG1tJywgbWF0Y2gzdG80KTtcbiAgICBhZGRSZWdleFRva2VuKCdobW1zcycsIG1hdGNoNXRvNik7XG4gICAgYWRkUmVnZXhUb2tlbignSG1tJywgbWF0Y2gzdG80KTtcbiAgICBhZGRSZWdleFRva2VuKCdIbW1zcycsIG1hdGNoNXRvNik7XG5cbiAgICBhZGRQYXJzZVRva2VuKFsnSCcsICdISCddLCBIT1VSKTtcbiAgICBhZGRQYXJzZVRva2VuKFsnaycsICdrayddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICAgICAgdmFyIGtJbnB1dCA9IHRvSW50KGlucHV0KTtcbiAgICAgICAgYXJyYXlbSE9VUl0gPSBrSW5wdXQgPT09IDI0ID8gMCA6IGtJbnB1dDtcbiAgICB9KTtcbiAgICBhZGRQYXJzZVRva2VuKFsnYScsICdBJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgICAgICBjb25maWcuX2lzUG0gPSBjb25maWcuX2xvY2FsZS5pc1BNKGlucHV0KTtcbiAgICAgICAgY29uZmlnLl9tZXJpZGllbSA9IGlucHV0O1xuICAgIH0pO1xuICAgIGFkZFBhcnNlVG9rZW4oWydoJywgJ2hoJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgICAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0KTtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuYmlnSG91ciA9IHRydWU7XG4gICAgfSk7XG4gICAgYWRkUGFyc2VUb2tlbignaG1tJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgICAgIHZhciBwb3MgPSBpbnB1dC5sZW5ndGggLSAyO1xuICAgICAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0LnN1YnN0cigwLCBwb3MpKTtcbiAgICAgICAgYXJyYXlbTUlOVVRFXSA9IHRvSW50KGlucHV0LnN1YnN0cihwb3MpKTtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuYmlnSG91ciA9IHRydWU7XG4gICAgfSk7XG4gICAgYWRkUGFyc2VUb2tlbignaG1tc3MnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICAgICAgdmFyIHBvczEgPSBpbnB1dC5sZW5ndGggLSA0O1xuICAgICAgICB2YXIgcG9zMiA9IGlucHV0Lmxlbmd0aCAtIDI7XG4gICAgICAgIGFycmF5W0hPVVJdID0gdG9JbnQoaW5wdXQuc3Vic3RyKDAsIHBvczEpKTtcbiAgICAgICAgYXJyYXlbTUlOVVRFXSA9IHRvSW50KGlucHV0LnN1YnN0cihwb3MxLCAyKSk7XG4gICAgICAgIGFycmF5W1NFQ09ORF0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zMikpO1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID0gdHJ1ZTtcbiAgICB9KTtcbiAgICBhZGRQYXJzZVRva2VuKCdIbW0nLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICAgICAgdmFyIHBvcyA9IGlucHV0Lmxlbmd0aCAtIDI7XG4gICAgICAgIGFycmF5W0hPVVJdID0gdG9JbnQoaW5wdXQuc3Vic3RyKDAsIHBvcykpO1xuICAgICAgICBhcnJheVtNSU5VVEVdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvcykpO1xuICAgIH0pO1xuICAgIGFkZFBhcnNlVG9rZW4oJ0htbXNzJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgICAgIHZhciBwb3MxID0gaW5wdXQubGVuZ3RoIC0gNDtcbiAgICAgICAgdmFyIHBvczIgPSBpbnB1dC5sZW5ndGggLSAyO1xuICAgICAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0LnN1YnN0cigwLCBwb3MxKSk7XG4gICAgICAgIGFycmF5W01JTlVURV0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zMSwgMikpO1xuICAgICAgICBhcnJheVtTRUNPTkRdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvczIpKTtcbiAgICB9KTtcblxuICAgIC8vIExPQ0FMRVNcblxuICAgIGZ1bmN0aW9uIGxvY2FsZUlzUE0gKGlucHV0KSB7XG4gICAgICAgIC8vIElFOCBRdWlya3MgTW9kZSAmIElFNyBTdGFuZGFyZHMgTW9kZSBkbyBub3QgYWxsb3cgYWNjZXNzaW5nIHN0cmluZ3MgbGlrZSBhcnJheXNcbiAgICAgICAgLy8gVXNpbmcgY2hhckF0IHNob3VsZCBiZSBtb3JlIGNvbXBhdGlibGUuXG4gICAgICAgIHJldHVybiAoKGlucHV0ICsgJycpLnRvTG93ZXJDYXNlKCkuY2hhckF0KDApID09PSAncCcpO1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0TG9jYWxlTWVyaWRpZW1QYXJzZSA9IC9bYXBdXFwuP20/XFwuPy9pO1xuICAgIGZ1bmN0aW9uIGxvY2FsZU1lcmlkaWVtIChob3VycywgbWludXRlcywgaXNMb3dlcikge1xuICAgICAgICBpZiAoaG91cnMgPiAxMSkge1xuICAgICAgICAgICAgcmV0dXJuIGlzTG93ZXIgPyAncG0nIDogJ1BNJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBpc0xvd2VyID8gJ2FtJyA6ICdBTSc7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8vIE1PTUVOVFNcblxuICAgIC8vIFNldHRpbmcgdGhlIGhvdXIgc2hvdWxkIGtlZXAgdGhlIHRpbWUsIGJlY2F1c2UgdGhlIHVzZXIgZXhwbGljaXRseVxuICAgIC8vIHNwZWNpZmllZCB3aGljaCBob3VyIHRoZXkgd2FudC4gU28gdHJ5aW5nIHRvIG1haW50YWluIHRoZSBzYW1lIGhvdXIgKGluXG4gICAgLy8gYSBuZXcgdGltZXpvbmUpIG1ha2VzIHNlbnNlLiBBZGRpbmcvc3VidHJhY3RpbmcgaG91cnMgZG9lcyBub3QgZm9sbG93XG4gICAgLy8gdGhpcyBydWxlLlxuICAgIHZhciBnZXRTZXRIb3VyID0gbWFrZUdldFNldCgnSG91cnMnLCB0cnVlKTtcblxuICAgIHZhciBiYXNlQ29uZmlnID0ge1xuICAgICAgICBjYWxlbmRhcjogZGVmYXVsdENhbGVuZGFyLFxuICAgICAgICBsb25nRGF0ZUZvcm1hdDogZGVmYXVsdExvbmdEYXRlRm9ybWF0LFxuICAgICAgICBpbnZhbGlkRGF0ZTogZGVmYXVsdEludmFsaWREYXRlLFxuICAgICAgICBvcmRpbmFsOiBkZWZhdWx0T3JkaW5hbCxcbiAgICAgICAgZGF5T2ZNb250aE9yZGluYWxQYXJzZTogZGVmYXVsdERheU9mTW9udGhPcmRpbmFsUGFyc2UsXG4gICAgICAgIHJlbGF0aXZlVGltZTogZGVmYXVsdFJlbGF0aXZlVGltZSxcblxuICAgICAgICBtb250aHM6IGRlZmF1bHRMb2NhbGVNb250aHMsXG4gICAgICAgIG1vbnRoc1Nob3J0OiBkZWZhdWx0TG9jYWxlTW9udGhzU2hvcnQsXG5cbiAgICAgICAgd2VlazogZGVmYXVsdExvY2FsZVdlZWssXG5cbiAgICAgICAgd2Vla2RheXM6IGRlZmF1bHRMb2NhbGVXZWVrZGF5cyxcbiAgICAgICAgd2Vla2RheXNNaW46IGRlZmF1bHRMb2NhbGVXZWVrZGF5c01pbixcbiAgICAgICAgd2Vla2RheXNTaG9ydDogZGVmYXVsdExvY2FsZVdlZWtkYXlzU2hvcnQsXG5cbiAgICAgICAgbWVyaWRpZW1QYXJzZTogZGVmYXVsdExvY2FsZU1lcmlkaWVtUGFyc2VcbiAgICB9O1xuXG4gICAgLy8gaW50ZXJuYWwgc3RvcmFnZSBmb3IgbG9jYWxlIGNvbmZpZyBmaWxlc1xuICAgIHZhciBsb2NhbGVzID0ge307XG4gICAgdmFyIGxvY2FsZUZhbWlsaWVzID0ge307XG4gICAgdmFyIGdsb2JhbExvY2FsZTtcblxuICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZUxvY2FsZShrZXkpIHtcbiAgICAgICAgcmV0dXJuIGtleSA/IGtleS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoJ18nLCAnLScpIDoga2V5O1xuICAgIH1cblxuICAgIC8vIHBpY2sgdGhlIGxvY2FsZSBmcm9tIHRoZSBhcnJheVxuICAgIC8vIHRyeSBbJ2VuLWF1JywgJ2VuLWdiJ10gYXMgJ2VuLWF1JywgJ2VuLWdiJywgJ2VuJywgYXMgaW4gbW92ZSB0aHJvdWdoIHRoZSBsaXN0IHRyeWluZyBlYWNoXG4gICAgLy8gc3Vic3RyaW5nIGZyb20gbW9zdCBzcGVjaWZpYyB0byBsZWFzdCwgYnV0IG1vdmUgdG8gdGhlIG5leHQgYXJyYXkgaXRlbSBpZiBpdCdzIGEgbW9yZSBzcGVjaWZpYyB2YXJpYW50IHRoYW4gdGhlIGN1cnJlbnQgcm9vdFxuICAgIGZ1bmN0aW9uIGNob29zZUxvY2FsZShuYW1lcykge1xuICAgICAgICB2YXIgaSA9IDAsIGosIG5leHQsIGxvY2FsZSwgc3BsaXQ7XG5cbiAgICAgICAgd2hpbGUgKGkgPCBuYW1lcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHNwbGl0ID0gbm9ybWFsaXplTG9jYWxlKG5hbWVzW2ldKS5zcGxpdCgnLScpO1xuICAgICAgICAgICAgaiA9IHNwbGl0Lmxlbmd0aDtcbiAgICAgICAgICAgIG5leHQgPSBub3JtYWxpemVMb2NhbGUobmFtZXNbaSArIDFdKTtcbiAgICAgICAgICAgIG5leHQgPSBuZXh0ID8gbmV4dC5zcGxpdCgnLScpIDogbnVsbDtcbiAgICAgICAgICAgIHdoaWxlIChqID4gMCkge1xuICAgICAgICAgICAgICAgIGxvY2FsZSA9IGxvYWRMb2NhbGUoc3BsaXQuc2xpY2UoMCwgaikuam9pbignLScpKTtcbiAgICAgICAgICAgICAgICBpZiAobG9jYWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChuZXh0ICYmIG5leHQubGVuZ3RoID49IGogJiYgY29tcGFyZUFycmF5cyhzcGxpdCwgbmV4dCwgdHJ1ZSkgPj0gaiAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy90aGUgbmV4dCBhcnJheSBpdGVtIGlzIGJldHRlciB0aGFuIGEgc2hhbGxvd2VyIHN1YnN0cmluZyBvZiB0aGlzIG9uZVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgai0tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnbG9iYWxMb2NhbGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9hZExvY2FsZShuYW1lKSB7XG4gICAgICAgIHZhciBvbGRMb2NhbGUgPSBudWxsO1xuICAgICAgICAvLyBUT0RPOiBGaW5kIGEgYmV0dGVyIHdheSB0byByZWdpc3RlciBhbmQgbG9hZCBhbGwgdGhlIGxvY2FsZXMgaW4gTm9kZVxuICAgICAgICBpZiAoIWxvY2FsZXNbbmFtZV0gJiYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnKSAmJlxuICAgICAgICAgICAgICAgIG1vZHVsZSAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBvbGRMb2NhbGUgPSBnbG9iYWxMb2NhbGUuX2FiYnI7XG4gICAgICAgICAgICAgICAgdmFyIGFsaWFzZWRSZXF1aXJlID0gcmVxdWlyZTtcbiAgICAgICAgICAgICAgICBhbGlhc2VkUmVxdWlyZSgnLi9sb2NhbGUvJyArIG5hbWUpO1xuICAgICAgICAgICAgICAgIGdldFNldEdsb2JhbExvY2FsZShvbGRMb2NhbGUpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbG9jYWxlc1tuYW1lXTtcbiAgICB9XG5cbiAgICAvLyBUaGlzIGZ1bmN0aW9uIHdpbGwgbG9hZCBsb2NhbGUgYW5kIHRoZW4gc2V0IHRoZSBnbG9iYWwgbG9jYWxlLiAgSWZcbiAgICAvLyBubyBhcmd1bWVudHMgYXJlIHBhc3NlZCBpbiwgaXQgd2lsbCBzaW1wbHkgcmV0dXJuIHRoZSBjdXJyZW50IGdsb2JhbFxuICAgIC8vIGxvY2FsZSBrZXkuXG4gICAgZnVuY3Rpb24gZ2V0U2V0R2xvYmFsTG9jYWxlIChrZXksIHZhbHVlcykge1xuICAgICAgICB2YXIgZGF0YTtcbiAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlcykpIHtcbiAgICAgICAgICAgICAgICBkYXRhID0gZ2V0TG9jYWxlKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkYXRhID0gZGVmaW5lTG9jYWxlKGtleSwgdmFsdWVzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAvLyBtb21lbnQuZHVyYXRpb24uX2xvY2FsZSA9IG1vbWVudC5fbG9jYWxlID0gZGF0YTtcbiAgICAgICAgICAgICAgICBnbG9iYWxMb2NhbGUgPSBkYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCh0eXBlb2YgY29uc29sZSAhPT0gICd1bmRlZmluZWQnKSAmJiBjb25zb2xlLndhcm4pIHtcbiAgICAgICAgICAgICAgICAgICAgLy93YXJuIHVzZXIgaWYgYXJndW1lbnRzIGFyZSBwYXNzZWQgYnV0IHRoZSBsb2NhbGUgY291bGQgbm90IGJlIHNldFxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0xvY2FsZSAnICsga2V5ICsgICcgbm90IGZvdW5kLiBEaWQgeW91IGZvcmdldCB0byBsb2FkIGl0PycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBnbG9iYWxMb2NhbGUuX2FiYnI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGVmaW5lTG9jYWxlIChuYW1lLCBjb25maWcpIHtcbiAgICAgICAgaWYgKGNvbmZpZyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGxvY2FsZSwgcGFyZW50Q29uZmlnID0gYmFzZUNvbmZpZztcbiAgICAgICAgICAgIGNvbmZpZy5hYmJyID0gbmFtZTtcbiAgICAgICAgICAgIGlmIChsb2NhbGVzW25hbWVdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGVTaW1wbGUoJ2RlZmluZUxvY2FsZU92ZXJyaWRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICd1c2UgbW9tZW50LnVwZGF0ZUxvY2FsZShsb2NhbGVOYW1lLCBjb25maWcpIHRvIGNoYW5nZSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdhbiBleGlzdGluZyBsb2NhbGUuIG1vbWVudC5kZWZpbmVMb2NhbGUobG9jYWxlTmFtZSwgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnY29uZmlnKSBzaG91bGQgb25seSBiZSB1c2VkIGZvciBjcmVhdGluZyBhIG5ldyBsb2NhbGUgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnU2VlIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvZGVmaW5lLWxvY2FsZS8gZm9yIG1vcmUgaW5mby4nKTtcbiAgICAgICAgICAgICAgICBwYXJlbnRDb25maWcgPSBsb2NhbGVzW25hbWVdLl9jb25maWc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvbmZpZy5wYXJlbnRMb2NhbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChsb2NhbGVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50Q29uZmlnID0gbG9jYWxlc1tjb25maWcucGFyZW50TG9jYWxlXS5fY29uZmlnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsZSA9IGxvYWRMb2NhbGUoY29uZmlnLnBhcmVudExvY2FsZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsb2NhbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50Q29uZmlnID0gbG9jYWxlLl9jb25maWc7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWxvY2FsZUZhbWlsaWVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxlRmFtaWxpZXNbY29uZmlnLnBhcmVudExvY2FsZV0gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsZUZhbWlsaWVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnOiBjb25maWdcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb2NhbGVzW25hbWVdID0gbmV3IExvY2FsZShtZXJnZUNvbmZpZ3MocGFyZW50Q29uZmlnLCBjb25maWcpKTtcblxuICAgICAgICAgICAgaWYgKGxvY2FsZUZhbWlsaWVzW25hbWVdKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxlRmFtaWxpZXNbbmFtZV0uZm9yRWFjaChmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgICAgICBkZWZpbmVMb2NhbGUoeC5uYW1lLCB4LmNvbmZpZyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGJhY2t3YXJkcyBjb21wYXQgZm9yIG5vdzogYWxzbyBzZXQgdGhlIGxvY2FsZVxuICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHdlIHNldCB0aGUgbG9jYWxlIEFGVEVSIGFsbCBjaGlsZCBsb2NhbGVzIGhhdmUgYmVlblxuICAgICAgICAgICAgLy8gY3JlYXRlZCwgc28gd2Ugd29uJ3QgZW5kIHVwIHdpdGggdGhlIGNoaWxkIGxvY2FsZSBzZXQuXG4gICAgICAgICAgICBnZXRTZXRHbG9iYWxMb2NhbGUobmFtZSk7XG5cblxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsZXNbbmFtZV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyB1c2VmdWwgZm9yIHRlc3RpbmdcbiAgICAgICAgICAgIGRlbGV0ZSBsb2NhbGVzW25hbWVdO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1cGRhdGVMb2NhbGUobmFtZSwgY29uZmlnKSB7XG4gICAgICAgIGlmIChjb25maWcgIT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGxvY2FsZSwgdG1wTG9jYWxlLCBwYXJlbnRDb25maWcgPSBiYXNlQ29uZmlnO1xuICAgICAgICAgICAgLy8gTUVSR0VcbiAgICAgICAgICAgIHRtcExvY2FsZSA9IGxvYWRMb2NhbGUobmFtZSk7XG4gICAgICAgICAgICBpZiAodG1wTG9jYWxlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnRDb25maWcgPSB0bXBMb2NhbGUuX2NvbmZpZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbmZpZyA9IG1lcmdlQ29uZmlncyhwYXJlbnRDb25maWcsIGNvbmZpZyk7XG4gICAgICAgICAgICBsb2NhbGUgPSBuZXcgTG9jYWxlKGNvbmZpZyk7XG4gICAgICAgICAgICBsb2NhbGUucGFyZW50TG9jYWxlID0gbG9jYWxlc1tuYW1lXTtcbiAgICAgICAgICAgIGxvY2FsZXNbbmFtZV0gPSBsb2NhbGU7XG5cbiAgICAgICAgICAgIC8vIGJhY2t3YXJkcyBjb21wYXQgZm9yIG5vdzogYWxzbyBzZXQgdGhlIGxvY2FsZVxuICAgICAgICAgICAgZ2V0U2V0R2xvYmFsTG9jYWxlKG5hbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gcGFzcyBudWxsIGZvciBjb25maWcgdG8gdW51cGRhdGUsIHVzZWZ1bCBmb3IgdGVzdHNcbiAgICAgICAgICAgIGlmIChsb2NhbGVzW25hbWVdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAobG9jYWxlc1tuYW1lXS5wYXJlbnRMb2NhbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBsb2NhbGVzW25hbWVdID0gbG9jYWxlc1tuYW1lXS5wYXJlbnRMb2NhbGU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhbGVzW25hbWVdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGxvY2FsZXNbbmFtZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsb2NhbGVzW25hbWVdO1xuICAgIH1cblxuICAgIC8vIHJldHVybnMgbG9jYWxlIGRhdGFcbiAgICBmdW5jdGlvbiBnZXRMb2NhbGUgKGtleSkge1xuICAgICAgICB2YXIgbG9jYWxlO1xuXG4gICAgICAgIGlmIChrZXkgJiYga2V5Ll9sb2NhbGUgJiYga2V5Ll9sb2NhbGUuX2FiYnIpIHtcbiAgICAgICAgICAgIGtleSA9IGtleS5fbG9jYWxlLl9hYmJyO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBnbG9iYWxMb2NhbGU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWlzQXJyYXkoa2V5KSkge1xuICAgICAgICAgICAgLy9zaG9ydC1jaXJjdWl0IGV2ZXJ5dGhpbmcgZWxzZVxuICAgICAgICAgICAgbG9jYWxlID0gbG9hZExvY2FsZShrZXkpO1xuICAgICAgICAgICAgaWYgKGxvY2FsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBrZXkgPSBba2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjaG9vc2VMb2NhbGUoa2V5KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaXN0TG9jYWxlcygpIHtcbiAgICAgICAgcmV0dXJuIGtleXMobG9jYWxlcyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2hlY2tPdmVyZmxvdyAobSkge1xuICAgICAgICB2YXIgb3ZlcmZsb3c7XG4gICAgICAgIHZhciBhID0gbS5fYTtcblxuICAgICAgICBpZiAoYSAmJiBnZXRQYXJzaW5nRmxhZ3MobSkub3ZlcmZsb3cgPT09IC0yKSB7XG4gICAgICAgICAgICBvdmVyZmxvdyA9XG4gICAgICAgICAgICAgICAgYVtNT05USF0gICAgICAgPCAwIHx8IGFbTU9OVEhdICAgICAgID4gMTEgID8gTU9OVEggOlxuICAgICAgICAgICAgICAgIGFbREFURV0gICAgICAgIDwgMSB8fCBhW0RBVEVdICAgICAgICA+IGRheXNJbk1vbnRoKGFbWUVBUl0sIGFbTU9OVEhdKSA/IERBVEUgOlxuICAgICAgICAgICAgICAgIGFbSE9VUl0gICAgICAgIDwgMCB8fCBhW0hPVVJdICAgICAgICA+IDI0IHx8IChhW0hPVVJdID09PSAyNCAmJiAoYVtNSU5VVEVdICE9PSAwIHx8IGFbU0VDT05EXSAhPT0gMCB8fCBhW01JTExJU0VDT05EXSAhPT0gMCkpID8gSE9VUiA6XG4gICAgICAgICAgICAgICAgYVtNSU5VVEVdICAgICAgPCAwIHx8IGFbTUlOVVRFXSAgICAgID4gNTkgID8gTUlOVVRFIDpcbiAgICAgICAgICAgICAgICBhW1NFQ09ORF0gICAgICA8IDAgfHwgYVtTRUNPTkRdICAgICAgPiA1OSAgPyBTRUNPTkQgOlxuICAgICAgICAgICAgICAgIGFbTUlMTElTRUNPTkRdIDwgMCB8fCBhW01JTExJU0VDT05EXSA+IDk5OSA/IE1JTExJU0VDT05EIDpcbiAgICAgICAgICAgICAgICAtMTtcblxuICAgICAgICAgICAgaWYgKGdldFBhcnNpbmdGbGFncyhtKS5fb3ZlcmZsb3dEYXlPZlllYXIgJiYgKG92ZXJmbG93IDwgWUVBUiB8fCBvdmVyZmxvdyA+IERBVEUpKSB7XG4gICAgICAgICAgICAgICAgb3ZlcmZsb3cgPSBEQVRFO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGdldFBhcnNpbmdGbGFncyhtKS5fb3ZlcmZsb3dXZWVrcyAmJiBvdmVyZmxvdyA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBvdmVyZmxvdyA9IFdFRUs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZ2V0UGFyc2luZ0ZsYWdzKG0pLl9vdmVyZmxvd1dlZWtkYXkgJiYgb3ZlcmZsb3cgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgb3ZlcmZsb3cgPSBXRUVLREFZO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MobSkub3ZlcmZsb3cgPSBvdmVyZmxvdztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtO1xuICAgIH1cblxuICAgIC8vIFBpY2sgdGhlIGZpcnN0IGRlZmluZWQgb2YgdHdvIG9yIHRocmVlIGFyZ3VtZW50cy5cbiAgICBmdW5jdGlvbiBkZWZhdWx0cyhhLCBiLCBjKSB7XG4gICAgICAgIGlmIChhICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICB9XG4gICAgICAgIGlmIChiICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGN1cnJlbnREYXRlQXJyYXkoY29uZmlnKSB7XG4gICAgICAgIC8vIGhvb2tzIGlzIGFjdHVhbGx5IHRoZSBleHBvcnRlZCBtb21lbnQgb2JqZWN0XG4gICAgICAgIHZhciBub3dWYWx1ZSA9IG5ldyBEYXRlKGhvb2tzLm5vdygpKTtcbiAgICAgICAgaWYgKGNvbmZpZy5fdXNlVVRDKSB7XG4gICAgICAgICAgICByZXR1cm4gW25vd1ZhbHVlLmdldFVUQ0Z1bGxZZWFyKCksIG5vd1ZhbHVlLmdldFVUQ01vbnRoKCksIG5vd1ZhbHVlLmdldFVUQ0RhdGUoKV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtub3dWYWx1ZS5nZXRGdWxsWWVhcigpLCBub3dWYWx1ZS5nZXRNb250aCgpLCBub3dWYWx1ZS5nZXREYXRlKCldO1xuICAgIH1cblxuICAgIC8vIGNvbnZlcnQgYW4gYXJyYXkgdG8gYSBkYXRlLlxuICAgIC8vIHRoZSBhcnJheSBzaG91bGQgbWlycm9yIHRoZSBwYXJhbWV0ZXJzIGJlbG93XG4gICAgLy8gbm90ZTogYWxsIHZhbHVlcyBwYXN0IHRoZSB5ZWFyIGFyZSBvcHRpb25hbCBhbmQgd2lsbCBkZWZhdWx0IHRvIHRoZSBsb3dlc3QgcG9zc2libGUgdmFsdWUuXG4gICAgLy8gW3llYXIsIG1vbnRoLCBkYXkgLCBob3VyLCBtaW51dGUsIHNlY29uZCwgbWlsbGlzZWNvbmRdXG4gICAgZnVuY3Rpb24gY29uZmlnRnJvbUFycmF5IChjb25maWcpIHtcbiAgICAgICAgdmFyIGksIGRhdGUsIGlucHV0ID0gW10sIGN1cnJlbnREYXRlLCBleHBlY3RlZFdlZWtkYXksIHllYXJUb1VzZTtcblxuICAgICAgICBpZiAoY29uZmlnLl9kKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjdXJyZW50RGF0ZSA9IGN1cnJlbnREYXRlQXJyYXkoY29uZmlnKTtcblxuICAgICAgICAvL2NvbXB1dGUgZGF5IG9mIHRoZSB5ZWFyIGZyb20gd2Vla3MgYW5kIHdlZWtkYXlzXG4gICAgICAgIGlmIChjb25maWcuX3cgJiYgY29uZmlnLl9hW0RBVEVdID09IG51bGwgJiYgY29uZmlnLl9hW01PTlRIXSA9PSBudWxsKSB7XG4gICAgICAgICAgICBkYXlPZlllYXJGcm9tV2Vla0luZm8oY29uZmlnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vaWYgdGhlIGRheSBvZiB0aGUgeWVhciBpcyBzZXQsIGZpZ3VyZSBvdXQgd2hhdCBpdCBpc1xuICAgICAgICBpZiAoY29uZmlnLl9kYXlPZlllYXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgeWVhclRvVXNlID0gZGVmYXVsdHMoY29uZmlnLl9hW1lFQVJdLCBjdXJyZW50RGF0ZVtZRUFSXSk7XG5cbiAgICAgICAgICAgIGlmIChjb25maWcuX2RheU9mWWVhciA+IGRheXNJblllYXIoeWVhclRvVXNlKSB8fCBjb25maWcuX2RheU9mWWVhciA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLl9vdmVyZmxvd0RheU9mWWVhciA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRhdGUgPSBjcmVhdGVVVENEYXRlKHllYXJUb1VzZSwgMCwgY29uZmlnLl9kYXlPZlllYXIpO1xuICAgICAgICAgICAgY29uZmlnLl9hW01PTlRIXSA9IGRhdGUuZ2V0VVRDTW9udGgoKTtcbiAgICAgICAgICAgIGNvbmZpZy5fYVtEQVRFXSA9IGRhdGUuZ2V0VVRDRGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGVmYXVsdCB0byBjdXJyZW50IGRhdGUuXG4gICAgICAgIC8vICogaWYgbm8geWVhciwgbW9udGgsIGRheSBvZiBtb250aCBhcmUgZ2l2ZW4sIGRlZmF1bHQgdG8gdG9kYXlcbiAgICAgICAgLy8gKiBpZiBkYXkgb2YgbW9udGggaXMgZ2l2ZW4sIGRlZmF1bHQgbW9udGggYW5kIHllYXJcbiAgICAgICAgLy8gKiBpZiBtb250aCBpcyBnaXZlbiwgZGVmYXVsdCBvbmx5IHllYXJcbiAgICAgICAgLy8gKiBpZiB5ZWFyIGlzIGdpdmVuLCBkb24ndCBkZWZhdWx0IGFueXRoaW5nXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCAzICYmIGNvbmZpZy5fYVtpXSA9PSBudWxsOyArK2kpIHtcbiAgICAgICAgICAgIGNvbmZpZy5fYVtpXSA9IGlucHV0W2ldID0gY3VycmVudERhdGVbaV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBaZXJvIG91dCB3aGF0ZXZlciB3YXMgbm90IGRlZmF1bHRlZCwgaW5jbHVkaW5nIHRpbWVcbiAgICAgICAgZm9yICg7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgICAgIGNvbmZpZy5fYVtpXSA9IGlucHV0W2ldID0gKGNvbmZpZy5fYVtpXSA9PSBudWxsKSA/IChpID09PSAyID8gMSA6IDApIDogY29uZmlnLl9hW2ldO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIDI0OjAwOjAwLjAwMFxuICAgICAgICBpZiAoY29uZmlnLl9hW0hPVVJdID09PSAyNCAmJlxuICAgICAgICAgICAgICAgIGNvbmZpZy5fYVtNSU5VVEVdID09PSAwICYmXG4gICAgICAgICAgICAgICAgY29uZmlnLl9hW1NFQ09ORF0gPT09IDAgJiZcbiAgICAgICAgICAgICAgICBjb25maWcuX2FbTUlMTElTRUNPTkRdID09PSAwKSB7XG4gICAgICAgICAgICBjb25maWcuX25leHREYXkgPSB0cnVlO1xuICAgICAgICAgICAgY29uZmlnLl9hW0hPVVJdID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbmZpZy5fZCA9IChjb25maWcuX3VzZVVUQyA/IGNyZWF0ZVVUQ0RhdGUgOiBjcmVhdGVEYXRlKS5hcHBseShudWxsLCBpbnB1dCk7XG4gICAgICAgIGV4cGVjdGVkV2Vla2RheSA9IGNvbmZpZy5fdXNlVVRDID8gY29uZmlnLl9kLmdldFVUQ0RheSgpIDogY29uZmlnLl9kLmdldERheSgpO1xuXG4gICAgICAgIC8vIEFwcGx5IHRpbWV6b25lIG9mZnNldCBmcm9tIGlucHV0LiBUaGUgYWN0dWFsIHV0Y09mZnNldCBjYW4gYmUgY2hhbmdlZFxuICAgICAgICAvLyB3aXRoIHBhcnNlWm9uZS5cbiAgICAgICAgaWYgKGNvbmZpZy5fdHptICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbmZpZy5fZC5zZXRVVENNaW51dGVzKGNvbmZpZy5fZC5nZXRVVENNaW51dGVzKCkgLSBjb25maWcuX3R6bSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29uZmlnLl9uZXh0RGF5KSB7XG4gICAgICAgICAgICBjb25maWcuX2FbSE9VUl0gPSAyNDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNoZWNrIGZvciBtaXNtYXRjaGluZyBkYXkgb2Ygd2Vla1xuICAgICAgICBpZiAoY29uZmlnLl93ICYmIHR5cGVvZiBjb25maWcuX3cuZCAhPT0gJ3VuZGVmaW5lZCcgJiYgY29uZmlnLl93LmQgIT09IGV4cGVjdGVkV2Vla2RheSkge1xuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykud2Vla2RheU1pc21hdGNoID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRheU9mWWVhckZyb21XZWVrSW5mbyhjb25maWcpIHtcbiAgICAgICAgdmFyIHcsIHdlZWtZZWFyLCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSwgdGVtcCwgd2Vla2RheU92ZXJmbG93O1xuXG4gICAgICAgIHcgPSBjb25maWcuX3c7XG4gICAgICAgIGlmICh3LkdHICE9IG51bGwgfHwgdy5XICE9IG51bGwgfHwgdy5FICE9IG51bGwpIHtcbiAgICAgICAgICAgIGRvdyA9IDE7XG4gICAgICAgICAgICBkb3kgPSA0O1xuXG4gICAgICAgICAgICAvLyBUT0RPOiBXZSBuZWVkIHRvIHRha2UgdGhlIGN1cnJlbnQgaXNvV2Vla1llYXIsIGJ1dCB0aGF0IGRlcGVuZHMgb25cbiAgICAgICAgICAgIC8vIGhvdyB3ZSBpbnRlcnByZXQgbm93IChsb2NhbCwgdXRjLCBmaXhlZCBvZmZzZXQpLiBTbyBjcmVhdGVcbiAgICAgICAgICAgIC8vIGEgbm93IHZlcnNpb24gb2YgY3VycmVudCBjb25maWcgKHRha2UgbG9jYWwvdXRjL29mZnNldCBmbGFncywgYW5kXG4gICAgICAgICAgICAvLyBjcmVhdGUgbm93KS5cbiAgICAgICAgICAgIHdlZWtZZWFyID0gZGVmYXVsdHMody5HRywgY29uZmlnLl9hW1lFQVJdLCB3ZWVrT2ZZZWFyKGNyZWF0ZUxvY2FsKCksIDEsIDQpLnllYXIpO1xuICAgICAgICAgICAgd2VlayA9IGRlZmF1bHRzKHcuVywgMSk7XG4gICAgICAgICAgICB3ZWVrZGF5ID0gZGVmYXVsdHMody5FLCAxKTtcbiAgICAgICAgICAgIGlmICh3ZWVrZGF5IDwgMSB8fCB3ZWVrZGF5ID4gNykge1xuICAgICAgICAgICAgICAgIHdlZWtkYXlPdmVyZmxvdyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkb3cgPSBjb25maWcuX2xvY2FsZS5fd2Vlay5kb3c7XG4gICAgICAgICAgICBkb3kgPSBjb25maWcuX2xvY2FsZS5fd2Vlay5kb3k7XG5cbiAgICAgICAgICAgIHZhciBjdXJXZWVrID0gd2Vla09mWWVhcihjcmVhdGVMb2NhbCgpLCBkb3csIGRveSk7XG5cbiAgICAgICAgICAgIHdlZWtZZWFyID0gZGVmYXVsdHMody5nZywgY29uZmlnLl9hW1lFQVJdLCBjdXJXZWVrLnllYXIpO1xuXG4gICAgICAgICAgICAvLyBEZWZhdWx0IHRvIGN1cnJlbnQgd2Vlay5cbiAgICAgICAgICAgIHdlZWsgPSBkZWZhdWx0cyh3LncsIGN1cldlZWsud2Vlayk7XG5cbiAgICAgICAgICAgIGlmICh3LmQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIHdlZWtkYXkgLS0gbG93IGRheSBudW1iZXJzIGFyZSBjb25zaWRlcmVkIG5leHQgd2Vla1xuICAgICAgICAgICAgICAgIHdlZWtkYXkgPSB3LmQ7XG4gICAgICAgICAgICAgICAgaWYgKHdlZWtkYXkgPCAwIHx8IHdlZWtkYXkgPiA2KSB7XG4gICAgICAgICAgICAgICAgICAgIHdlZWtkYXlPdmVyZmxvdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICh3LmUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIGxvY2FsIHdlZWtkYXkgLS0gY291bnRpbmcgc3RhcnRzIGZyb20gYmVnaW5uaW5nIG9mIHdlZWtcbiAgICAgICAgICAgICAgICB3ZWVrZGF5ID0gdy5lICsgZG93O1xuICAgICAgICAgICAgICAgIGlmICh3LmUgPCAwIHx8IHcuZSA+IDYpIHtcbiAgICAgICAgICAgICAgICAgICAgd2Vla2RheU92ZXJmbG93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGRlZmF1bHQgdG8gYmVnaW5uaW5nIG9mIHdlZWtcbiAgICAgICAgICAgICAgICB3ZWVrZGF5ID0gZG93O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh3ZWVrIDwgMSB8fCB3ZWVrID4gd2Vla3NJblllYXIod2Vla1llYXIsIGRvdywgZG95KSkge1xuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuX292ZXJmbG93V2Vla3MgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHdlZWtkYXlPdmVyZmxvdyAhPSBudWxsKSB7XG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5fb3ZlcmZsb3dXZWVrZGF5ID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRlbXAgPSBkYXlPZlllYXJGcm9tV2Vla3Mod2Vla1llYXIsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KTtcbiAgICAgICAgICAgIGNvbmZpZy5fYVtZRUFSXSA9IHRlbXAueWVhcjtcbiAgICAgICAgICAgIGNvbmZpZy5fZGF5T2ZZZWFyID0gdGVtcC5kYXlPZlllYXI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBpc28gODYwMSByZWdleFxuICAgIC8vIDAwMDAtMDAtMDAgMDAwMC1XMDAgb3IgMDAwMC1XMDAtMCArIFQgKyAwMCBvciAwMDowMCBvciAwMDowMDowMCBvciAwMDowMDowMC4wMDAgKyArMDA6MDAgb3IgKzAwMDAgb3IgKzAwKVxuICAgIHZhciBleHRlbmRlZElzb1JlZ2V4ID0gL15cXHMqKCg/OlsrLV1cXGR7Nn18XFxkezR9KS0oPzpcXGRcXGQtXFxkXFxkfFdcXGRcXGQtXFxkfFdcXGRcXGR8XFxkXFxkXFxkfFxcZFxcZCkpKD86KFR8ICkoXFxkXFxkKD86OlxcZFxcZCg/OjpcXGRcXGQoPzpbLixdXFxkKyk/KT8pPykoW1xcK1xcLV1cXGRcXGQoPzo6P1xcZFxcZCk/fFxccypaKT8pPyQvO1xuICAgIHZhciBiYXNpY0lzb1JlZ2V4ID0gL15cXHMqKCg/OlsrLV1cXGR7Nn18XFxkezR9KSg/OlxcZFxcZFxcZFxcZHxXXFxkXFxkXFxkfFdcXGRcXGR8XFxkXFxkXFxkfFxcZFxcZCkpKD86KFR8ICkoXFxkXFxkKD86XFxkXFxkKD86XFxkXFxkKD86Wy4sXVxcZCspPyk/KT8pKFtcXCtcXC1dXFxkXFxkKD86Oj9cXGRcXGQpP3xcXHMqWik/KT8kLztcblxuICAgIHZhciB0elJlZ2V4ID0gL1p8WystXVxcZFxcZCg/Ojo/XFxkXFxkKT8vO1xuXG4gICAgdmFyIGlzb0RhdGVzID0gW1xuICAgICAgICBbJ1lZWVlZWS1NTS1ERCcsIC9bKy1dXFxkezZ9LVxcZFxcZC1cXGRcXGQvXSxcbiAgICAgICAgWydZWVlZLU1NLUREJywgL1xcZHs0fS1cXGRcXGQtXFxkXFxkL10sXG4gICAgICAgIFsnR0dHRy1bV11XVy1FJywgL1xcZHs0fS1XXFxkXFxkLVxcZC9dLFxuICAgICAgICBbJ0dHR0ctW1ddV1cnLCAvXFxkezR9LVdcXGRcXGQvLCBmYWxzZV0sXG4gICAgICAgIFsnWVlZWS1EREQnLCAvXFxkezR9LVxcZHszfS9dLFxuICAgICAgICBbJ1lZWVktTU0nLCAvXFxkezR9LVxcZFxcZC8sIGZhbHNlXSxcbiAgICAgICAgWydZWVlZWVlNTUREJywgL1srLV1cXGR7MTB9L10sXG4gICAgICAgIFsnWVlZWU1NREQnLCAvXFxkezh9L10sXG4gICAgICAgIC8vIFlZWVlNTSBpcyBOT1QgYWxsb3dlZCBieSB0aGUgc3RhbmRhcmRcbiAgICAgICAgWydHR0dHW1ddV1dFJywgL1xcZHs0fVdcXGR7M30vXSxcbiAgICAgICAgWydHR0dHW1ddV1cnLCAvXFxkezR9V1xcZHsyfS8sIGZhbHNlXSxcbiAgICAgICAgWydZWVlZREREJywgL1xcZHs3fS9dXG4gICAgXTtcblxuICAgIC8vIGlzbyB0aW1lIGZvcm1hdHMgYW5kIHJlZ2V4ZXNcbiAgICB2YXIgaXNvVGltZXMgPSBbXG4gICAgICAgIFsnSEg6bW06c3MuU1NTUycsIC9cXGRcXGQ6XFxkXFxkOlxcZFxcZFxcLlxcZCsvXSxcbiAgICAgICAgWydISDptbTpzcyxTU1NTJywgL1xcZFxcZDpcXGRcXGQ6XFxkXFxkLFxcZCsvXSxcbiAgICAgICAgWydISDptbTpzcycsIC9cXGRcXGQ6XFxkXFxkOlxcZFxcZC9dLFxuICAgICAgICBbJ0hIOm1tJywgL1xcZFxcZDpcXGRcXGQvXSxcbiAgICAgICAgWydISG1tc3MuU1NTUycsIC9cXGRcXGRcXGRcXGRcXGRcXGRcXC5cXGQrL10sXG4gICAgICAgIFsnSEhtbXNzLFNTU1MnLCAvXFxkXFxkXFxkXFxkXFxkXFxkLFxcZCsvXSxcbiAgICAgICAgWydISG1tc3MnLCAvXFxkXFxkXFxkXFxkXFxkXFxkL10sXG4gICAgICAgIFsnSEhtbScsIC9cXGRcXGRcXGRcXGQvXSxcbiAgICAgICAgWydISCcsIC9cXGRcXGQvXVxuICAgIF07XG5cbiAgICB2YXIgYXNwTmV0SnNvblJlZ2V4ID0gL15cXC8/RGF0ZVxcKChcXC0/XFxkKykvaTtcblxuICAgIC8vIGRhdGUgZnJvbSBpc28gZm9ybWF0XG4gICAgZnVuY3Rpb24gY29uZmlnRnJvbUlTTyhjb25maWcpIHtcbiAgICAgICAgdmFyIGksIGwsXG4gICAgICAgICAgICBzdHJpbmcgPSBjb25maWcuX2ksXG4gICAgICAgICAgICBtYXRjaCA9IGV4dGVuZGVkSXNvUmVnZXguZXhlYyhzdHJpbmcpIHx8IGJhc2ljSXNvUmVnZXguZXhlYyhzdHJpbmcpLFxuICAgICAgICAgICAgYWxsb3dUaW1lLCBkYXRlRm9ybWF0LCB0aW1lRm9ybWF0LCB0ekZvcm1hdDtcblxuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmlzbyA9IHRydWU7XG5cbiAgICAgICAgICAgIGZvciAoaSA9IDAsIGwgPSBpc29EYXRlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNvRGF0ZXNbaV1bMV0uZXhlYyhtYXRjaFsxXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZUZvcm1hdCA9IGlzb0RhdGVzW2ldWzBdO1xuICAgICAgICAgICAgICAgICAgICBhbGxvd1RpbWUgPSBpc29EYXRlc1tpXVsyXSAhPT0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRlRm9ybWF0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWF0Y2hbM10pIHtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwLCBsID0gaXNvVGltZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc29UaW1lc1tpXVsxXS5leGVjKG1hdGNoWzNdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWF0Y2hbMl0gc2hvdWxkIGJlICdUJyBvciBzcGFjZVxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZUZvcm1hdCA9IChtYXRjaFsyXSB8fCAnICcpICsgaXNvVGltZXNbaV1bMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGltZUZvcm1hdCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFhbGxvd1RpbWUgJiYgdGltZUZvcm1hdCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1hdGNoWzRdKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR6UmVnZXguZXhlYyhtYXRjaFs0XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdHpGb3JtYXQgPSAnWic7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25maWcuX2YgPSBkYXRlRm9ybWF0ICsgKHRpbWVGb3JtYXQgfHwgJycpICsgKHR6Rm9ybWF0IHx8ICcnKTtcbiAgICAgICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQoY29uZmlnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gUkZDIDI4MjIgcmVnZXg6IEZvciBkZXRhaWxzIHNlZSBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMjgyMiNzZWN0aW9uLTMuM1xuICAgIHZhciByZmMyODIyID0gL14oPzooTW9ufFR1ZXxXZWR8VGh1fEZyaXxTYXR8U3VuKSw/XFxzKT8oXFxkezEsMn0pXFxzKEphbnxGZWJ8TWFyfEFwcnxNYXl8SnVufEp1bHxBdWd8U2VwfE9jdHxOb3Z8RGVjKVxccyhcXGR7Miw0fSlcXHMoXFxkXFxkKTooXFxkXFxkKSg/OjooXFxkXFxkKSk/XFxzKD86KFVUfEdNVHxbRUNNUF1bU0RdVCl8KFtael0pfChbKy1dXFxkezR9KSkkLztcblxuICAgIGZ1bmN0aW9uIGV4dHJhY3RGcm9tUkZDMjgyMlN0cmluZ3MoeWVhclN0ciwgbW9udGhTdHIsIGRheVN0ciwgaG91clN0ciwgbWludXRlU3RyLCBzZWNvbmRTdHIpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtcbiAgICAgICAgICAgIHVudHJ1bmNhdGVZZWFyKHllYXJTdHIpLFxuICAgICAgICAgICAgZGVmYXVsdExvY2FsZU1vbnRoc1Nob3J0LmluZGV4T2YobW9udGhTdHIpLFxuICAgICAgICAgICAgcGFyc2VJbnQoZGF5U3RyLCAxMCksXG4gICAgICAgICAgICBwYXJzZUludChob3VyU3RyLCAxMCksXG4gICAgICAgICAgICBwYXJzZUludChtaW51dGVTdHIsIDEwKVxuICAgICAgICBdO1xuXG4gICAgICAgIGlmIChzZWNvbmRTdHIpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHBhcnNlSW50KHNlY29uZFN0ciwgMTApKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdW50cnVuY2F0ZVllYXIoeWVhclN0cikge1xuICAgICAgICB2YXIgeWVhciA9IHBhcnNlSW50KHllYXJTdHIsIDEwKTtcbiAgICAgICAgaWYgKHllYXIgPD0gNDkpIHtcbiAgICAgICAgICAgIHJldHVybiAyMDAwICsgeWVhcjtcbiAgICAgICAgfSBlbHNlIGlmICh5ZWFyIDw9IDk5OSkge1xuICAgICAgICAgICAgcmV0dXJuIDE5MDAgKyB5ZWFyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB5ZWFyO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHByZXByb2Nlc3NSRkMyODIyKHMpIHtcbiAgICAgICAgLy8gUmVtb3ZlIGNvbW1lbnRzIGFuZCBmb2xkaW5nIHdoaXRlc3BhY2UgYW5kIHJlcGxhY2UgbXVsdGlwbGUtc3BhY2VzIHdpdGggYSBzaW5nbGUgc3BhY2VcbiAgICAgICAgcmV0dXJuIHMucmVwbGFjZSgvXFwoW14pXSpcXCl8W1xcblxcdF0vZywgJyAnKS5yZXBsYWNlKC8oXFxzXFxzKykvZywgJyAnKS5yZXBsYWNlKC9eXFxzXFxzKi8sICcnKS5yZXBsYWNlKC9cXHNcXHMqJC8sICcnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjaGVja1dlZWtkYXkod2Vla2RheVN0ciwgcGFyc2VkSW5wdXQsIGNvbmZpZykge1xuICAgICAgICBpZiAod2Vla2RheVN0cikge1xuICAgICAgICAgICAgLy8gVE9ETzogUmVwbGFjZSB0aGUgdmFuaWxsYSBKUyBEYXRlIG9iamVjdCB3aXRoIGFuIGluZGVwZW50ZW50IGRheS1vZi13ZWVrIGNoZWNrLlxuICAgICAgICAgICAgdmFyIHdlZWtkYXlQcm92aWRlZCA9IGRlZmF1bHRMb2NhbGVXZWVrZGF5c1Nob3J0LmluZGV4T2Yod2Vla2RheVN0ciksXG4gICAgICAgICAgICAgICAgd2Vla2RheUFjdHVhbCA9IG5ldyBEYXRlKHBhcnNlZElucHV0WzBdLCBwYXJzZWRJbnB1dFsxXSwgcGFyc2VkSW5wdXRbMl0pLmdldERheSgpO1xuICAgICAgICAgICAgaWYgKHdlZWtkYXlQcm92aWRlZCAhPT0gd2Vla2RheUFjdHVhbCkge1xuICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLndlZWtkYXlNaXNtYXRjaCA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHZhciBvYnNPZmZzZXRzID0ge1xuICAgICAgICBVVDogMCxcbiAgICAgICAgR01UOiAwLFxuICAgICAgICBFRFQ6IC00ICogNjAsXG4gICAgICAgIEVTVDogLTUgKiA2MCxcbiAgICAgICAgQ0RUOiAtNSAqIDYwLFxuICAgICAgICBDU1Q6IC02ICogNjAsXG4gICAgICAgIE1EVDogLTYgKiA2MCxcbiAgICAgICAgTVNUOiAtNyAqIDYwLFxuICAgICAgICBQRFQ6IC03ICogNjAsXG4gICAgICAgIFBTVDogLTggKiA2MFxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBjYWxjdWxhdGVPZmZzZXQob2JzT2Zmc2V0LCBtaWxpdGFyeU9mZnNldCwgbnVtT2Zmc2V0KSB7XG4gICAgICAgIGlmIChvYnNPZmZzZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBvYnNPZmZzZXRzW29ic09mZnNldF07XG4gICAgICAgIH0gZWxzZSBpZiAobWlsaXRhcnlPZmZzZXQpIHtcbiAgICAgICAgICAgIC8vIHRoZSBvbmx5IGFsbG93ZWQgbWlsaXRhcnkgdHogaXMgWlxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgaG0gPSBwYXJzZUludChudW1PZmZzZXQsIDEwKTtcbiAgICAgICAgICAgIHZhciBtID0gaG0gJSAxMDAsIGggPSAoaG0gLSBtKSAvIDEwMDtcbiAgICAgICAgICAgIHJldHVybiBoICogNjAgKyBtO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gZGF0ZSBhbmQgdGltZSBmcm9tIHJlZiAyODIyIGZvcm1hdFxuICAgIGZ1bmN0aW9uIGNvbmZpZ0Zyb21SRkMyODIyKGNvbmZpZykge1xuICAgICAgICB2YXIgbWF0Y2ggPSByZmMyODIyLmV4ZWMocHJlcHJvY2Vzc1JGQzI4MjIoY29uZmlnLl9pKSk7XG4gICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgdmFyIHBhcnNlZEFycmF5ID0gZXh0cmFjdEZyb21SRkMyODIyU3RyaW5ncyhtYXRjaFs0XSwgbWF0Y2hbM10sIG1hdGNoWzJdLCBtYXRjaFs1XSwgbWF0Y2hbNl0sIG1hdGNoWzddKTtcbiAgICAgICAgICAgIGlmICghY2hlY2tXZWVrZGF5KG1hdGNoWzFdLCBwYXJzZWRBcnJheSwgY29uZmlnKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uZmlnLl9hID0gcGFyc2VkQXJyYXk7XG4gICAgICAgICAgICBjb25maWcuX3R6bSA9IGNhbGN1bGF0ZU9mZnNldChtYXRjaFs4XSwgbWF0Y2hbOV0sIG1hdGNoWzEwXSk7XG5cbiAgICAgICAgICAgIGNvbmZpZy5fZCA9IGNyZWF0ZVVUQ0RhdGUuYXBwbHkobnVsbCwgY29uZmlnLl9hKTtcbiAgICAgICAgICAgIGNvbmZpZy5fZC5zZXRVVENNaW51dGVzKGNvbmZpZy5fZC5nZXRVVENNaW51dGVzKCkgLSBjb25maWcuX3R6bSk7XG5cbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnJmYzI4MjIgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBkYXRlIGZyb20gaXNvIGZvcm1hdCBvciBmYWxsYmFja1xuICAgIGZ1bmN0aW9uIGNvbmZpZ0Zyb21TdHJpbmcoY29uZmlnKSB7XG4gICAgICAgIHZhciBtYXRjaGVkID0gYXNwTmV0SnNvblJlZ2V4LmV4ZWMoY29uZmlnLl9pKTtcblxuICAgICAgICBpZiAobWF0Y2hlZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoK21hdGNoZWRbMV0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uZmlnRnJvbUlTTyhjb25maWcpO1xuICAgICAgICBpZiAoY29uZmlnLl9pc1ZhbGlkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgZGVsZXRlIGNvbmZpZy5faXNWYWxpZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbmZpZ0Zyb21SRkMyODIyKGNvbmZpZyk7XG4gICAgICAgIGlmIChjb25maWcuX2lzVmFsaWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBkZWxldGUgY29uZmlnLl9pc1ZhbGlkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmluYWwgYXR0ZW1wdCwgdXNlIElucHV0IEZhbGxiYWNrXG4gICAgICAgIGhvb2tzLmNyZWF0ZUZyb21JbnB1dEZhbGxiYWNrKGNvbmZpZyk7XG4gICAgfVxuXG4gICAgaG9va3MuY3JlYXRlRnJvbUlucHV0RmFsbGJhY2sgPSBkZXByZWNhdGUoXG4gICAgICAgICd2YWx1ZSBwcm92aWRlZCBpcyBub3QgaW4gYSByZWNvZ25pemVkIFJGQzI4MjIgb3IgSVNPIGZvcm1hdC4gbW9tZW50IGNvbnN0cnVjdGlvbiBmYWxscyBiYWNrIHRvIGpzIERhdGUoKSwgJyArXG4gICAgICAgICd3aGljaCBpcyBub3QgcmVsaWFibGUgYWNyb3NzIGFsbCBicm93c2VycyBhbmQgdmVyc2lvbnMuIE5vbiBSRkMyODIyL0lTTyBkYXRlIGZvcm1hdHMgYXJlICcgK1xuICAgICAgICAnZGlzY291cmFnZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBhbiB1cGNvbWluZyBtYWpvciByZWxlYXNlLiBQbGVhc2UgcmVmZXIgdG8gJyArXG4gICAgICAgICdodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL2pzLWRhdGUvIGZvciBtb3JlIGluZm8uJyxcbiAgICAgICAgZnVuY3Rpb24gKGNvbmZpZykge1xuICAgICAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoY29uZmlnLl9pICsgKGNvbmZpZy5fdXNlVVRDID8gJyBVVEMnIDogJycpKTtcbiAgICAgICAgfVxuICAgICk7XG5cbiAgICAvLyBjb25zdGFudCB0aGF0IHJlZmVycyB0byB0aGUgSVNPIHN0YW5kYXJkXG4gICAgaG9va3MuSVNPXzg2MDEgPSBmdW5jdGlvbiAoKSB7fTtcblxuICAgIC8vIGNvbnN0YW50IHRoYXQgcmVmZXJzIHRvIHRoZSBSRkMgMjgyMiBmb3JtXG4gICAgaG9va3MuUkZDXzI4MjIgPSBmdW5jdGlvbiAoKSB7fTtcblxuICAgIC8vIGRhdGUgZnJvbSBzdHJpbmcgYW5kIGZvcm1hdCBzdHJpbmdcbiAgICBmdW5jdGlvbiBjb25maWdGcm9tU3RyaW5nQW5kRm9ybWF0KGNvbmZpZykge1xuICAgICAgICAvLyBUT0RPOiBNb3ZlIHRoaXMgdG8gYW5vdGhlciBwYXJ0IG9mIHRoZSBjcmVhdGlvbiBmbG93IHRvIHByZXZlbnQgY2lyY3VsYXIgZGVwc1xuICAgICAgICBpZiAoY29uZmlnLl9mID09PSBob29rcy5JU09fODYwMSkge1xuICAgICAgICAgICAgY29uZmlnRnJvbUlTTyhjb25maWcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWcuX2YgPT09IGhvb2tzLlJGQ18yODIyKSB7XG4gICAgICAgICAgICBjb25maWdGcm9tUkZDMjgyMihjb25maWcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbmZpZy5fYSA9IFtdO1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5lbXB0eSA9IHRydWU7XG5cbiAgICAgICAgLy8gVGhpcyBhcnJheSBpcyB1c2VkIHRvIG1ha2UgYSBEYXRlLCBlaXRoZXIgd2l0aCBgbmV3IERhdGVgIG9yIGBEYXRlLlVUQ2BcbiAgICAgICAgdmFyIHN0cmluZyA9ICcnICsgY29uZmlnLl9pLFxuICAgICAgICAgICAgaSwgcGFyc2VkSW5wdXQsIHRva2VucywgdG9rZW4sIHNraXBwZWQsXG4gICAgICAgICAgICBzdHJpbmdMZW5ndGggPSBzdHJpbmcubGVuZ3RoLFxuICAgICAgICAgICAgdG90YWxQYXJzZWRJbnB1dExlbmd0aCA9IDA7XG5cbiAgICAgICAgdG9rZW5zID0gZXhwYW5kRm9ybWF0KGNvbmZpZy5fZiwgY29uZmlnLl9sb2NhbGUpLm1hdGNoKGZvcm1hdHRpbmdUb2tlbnMpIHx8IFtdO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRva2VuID0gdG9rZW5zW2ldO1xuICAgICAgICAgICAgcGFyc2VkSW5wdXQgPSAoc3RyaW5nLm1hdGNoKGdldFBhcnNlUmVnZXhGb3JUb2tlbih0b2tlbiwgY29uZmlnKSkgfHwgW10pWzBdO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3Rva2VuJywgdG9rZW4sICdwYXJzZWRJbnB1dCcsIHBhcnNlZElucHV0LFxuICAgICAgICAgICAgLy8gICAgICAgICAncmVnZXgnLCBnZXRQYXJzZVJlZ2V4Rm9yVG9rZW4odG9rZW4sIGNvbmZpZykpO1xuICAgICAgICAgICAgaWYgKHBhcnNlZElucHV0KSB7XG4gICAgICAgICAgICAgICAgc2tpcHBlZCA9IHN0cmluZy5zdWJzdHIoMCwgc3RyaW5nLmluZGV4T2YocGFyc2VkSW5wdXQpKTtcbiAgICAgICAgICAgICAgICBpZiAoc2tpcHBlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnVudXNlZElucHV0LnB1c2goc2tpcHBlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN0cmluZyA9IHN0cmluZy5zbGljZShzdHJpbmcuaW5kZXhPZihwYXJzZWRJbnB1dCkgKyBwYXJzZWRJbnB1dC5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIHRvdGFsUGFyc2VkSW5wdXRMZW5ndGggKz0gcGFyc2VkSW5wdXQubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZG9uJ3QgcGFyc2UgaWYgaXQncyBub3QgYSBrbm93biB0b2tlblxuICAgICAgICAgICAgaWYgKGZvcm1hdFRva2VuRnVuY3Rpb25zW3Rva2VuXSkge1xuICAgICAgICAgICAgICAgIGlmIChwYXJzZWRJbnB1dCkge1xuICAgICAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5lbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykudW51c2VkVG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhZGRUaW1lVG9BcnJheUZyb21Ub2tlbih0b2tlbiwgcGFyc2VkSW5wdXQsIGNvbmZpZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjb25maWcuX3N0cmljdCAmJiAhcGFyc2VkSW5wdXQpIHtcbiAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS51bnVzZWRUb2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGQgcmVtYWluaW5nIHVucGFyc2VkIGlucHV0IGxlbmd0aCB0byB0aGUgc3RyaW5nXG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmNoYXJzTGVmdE92ZXIgPSBzdHJpbmdMZW5ndGggLSB0b3RhbFBhcnNlZElucHV0TGVuZ3RoO1xuICAgICAgICBpZiAoc3RyaW5nLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnVudXNlZElucHV0LnB1c2goc3RyaW5nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNsZWFyIF8xMmggZmxhZyBpZiBob3VyIGlzIDw9IDEyXG4gICAgICAgIGlmIChjb25maWcuX2FbSE9VUl0gPD0gMTIgJiZcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPT09IHRydWUgJiZcbiAgICAgICAgICAgIGNvbmZpZy5fYVtIT1VSXSA+IDApIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5wYXJzZWREYXRlUGFydHMgPSBjb25maWcuX2Euc2xpY2UoMCk7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLm1lcmlkaWVtID0gY29uZmlnLl9tZXJpZGllbTtcbiAgICAgICAgLy8gaGFuZGxlIG1lcmlkaWVtXG4gICAgICAgIGNvbmZpZy5fYVtIT1VSXSA9IG1lcmlkaWVtRml4V3JhcChjb25maWcuX2xvY2FsZSwgY29uZmlnLl9hW0hPVVJdLCBjb25maWcuX21lcmlkaWVtKTtcblxuICAgICAgICBjb25maWdGcm9tQXJyYXkoY29uZmlnKTtcbiAgICAgICAgY2hlY2tPdmVyZmxvdyhjb25maWcpO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gbWVyaWRpZW1GaXhXcmFwIChsb2NhbGUsIGhvdXIsIG1lcmlkaWVtKSB7XG4gICAgICAgIHZhciBpc1BtO1xuXG4gICAgICAgIGlmIChtZXJpZGllbSA9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBub3RoaW5nIHRvIGRvXG4gICAgICAgICAgICByZXR1cm4gaG91cjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobG9jYWxlLm1lcmlkaWVtSG91ciAhPSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxlLm1lcmlkaWVtSG91cihob3VyLCBtZXJpZGllbSk7XG4gICAgICAgIH0gZWxzZSBpZiAobG9jYWxlLmlzUE0gIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gRmFsbGJhY2tcbiAgICAgICAgICAgIGlzUG0gPSBsb2NhbGUuaXNQTShtZXJpZGllbSk7XG4gICAgICAgICAgICBpZiAoaXNQbSAmJiBob3VyIDwgMTIpIHtcbiAgICAgICAgICAgICAgICBob3VyICs9IDEyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpc1BtICYmIGhvdXIgPT09IDEyKSB7XG4gICAgICAgICAgICAgICAgaG91ciA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaG91cjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgbm90IHN1cHBvc2VkIHRvIGhhcHBlblxuICAgICAgICAgICAgcmV0dXJuIGhvdXI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBkYXRlIGZyb20gc3RyaW5nIGFuZCBhcnJheSBvZiBmb3JtYXQgc3RyaW5nc1xuICAgIGZ1bmN0aW9uIGNvbmZpZ0Zyb21TdHJpbmdBbmRBcnJheShjb25maWcpIHtcbiAgICAgICAgdmFyIHRlbXBDb25maWcsXG4gICAgICAgICAgICBiZXN0TW9tZW50LFxuXG4gICAgICAgICAgICBzY29yZVRvQmVhdCxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBjdXJyZW50U2NvcmU7XG5cbiAgICAgICAgaWYgKGNvbmZpZy5fZi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmludmFsaWRGb3JtYXQgPSB0cnVlO1xuICAgICAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoTmFOKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBjb25maWcuX2YubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGN1cnJlbnRTY29yZSA9IDA7XG4gICAgICAgICAgICB0ZW1wQ29uZmlnID0gY29weUNvbmZpZyh7fSwgY29uZmlnKTtcbiAgICAgICAgICAgIGlmIChjb25maWcuX3VzZVVUQyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGVtcENvbmZpZy5fdXNlVVRDID0gY29uZmlnLl91c2VVVEM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZW1wQ29uZmlnLl9mID0gY29uZmlnLl9mW2ldO1xuICAgICAgICAgICAgY29uZmlnRnJvbVN0cmluZ0FuZEZvcm1hdCh0ZW1wQ29uZmlnKTtcblxuICAgICAgICAgICAgaWYgKCFpc1ZhbGlkKHRlbXBDb25maWcpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIGFueSBpbnB1dCB0aGF0IHdhcyBub3QgcGFyc2VkIGFkZCBhIHBlbmFsdHkgZm9yIHRoYXQgZm9ybWF0XG4gICAgICAgICAgICBjdXJyZW50U2NvcmUgKz0gZ2V0UGFyc2luZ0ZsYWdzKHRlbXBDb25maWcpLmNoYXJzTGVmdE92ZXI7XG5cbiAgICAgICAgICAgIC8vb3IgdG9rZW5zXG4gICAgICAgICAgICBjdXJyZW50U2NvcmUgKz0gZ2V0UGFyc2luZ0ZsYWdzKHRlbXBDb25maWcpLnVudXNlZFRva2Vucy5sZW5ndGggKiAxMDtcblxuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKHRlbXBDb25maWcpLnNjb3JlID0gY3VycmVudFNjb3JlO1xuXG4gICAgICAgICAgICBpZiAoc2NvcmVUb0JlYXQgPT0gbnVsbCB8fCBjdXJyZW50U2NvcmUgPCBzY29yZVRvQmVhdCkge1xuICAgICAgICAgICAgICAgIHNjb3JlVG9CZWF0ID0gY3VycmVudFNjb3JlO1xuICAgICAgICAgICAgICAgIGJlc3RNb21lbnQgPSB0ZW1wQ29uZmlnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZXh0ZW5kKGNvbmZpZywgYmVzdE1vbWVudCB8fCB0ZW1wQ29uZmlnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb25maWdGcm9tT2JqZWN0KGNvbmZpZykge1xuICAgICAgICBpZiAoY29uZmlnLl9kKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaSA9IG5vcm1hbGl6ZU9iamVjdFVuaXRzKGNvbmZpZy5faSk7XG4gICAgICAgIGNvbmZpZy5fYSA9IG1hcChbaS55ZWFyLCBpLm1vbnRoLCBpLmRheSB8fCBpLmRhdGUsIGkuaG91ciwgaS5taW51dGUsIGkuc2Vjb25kLCBpLm1pbGxpc2Vjb25kXSwgZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIG9iaiAmJiBwYXJzZUludChvYmosIDEwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uZmlnRnJvbUFycmF5KGNvbmZpZyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlRnJvbUNvbmZpZyAoY29uZmlnKSB7XG4gICAgICAgIHZhciByZXMgPSBuZXcgTW9tZW50KGNoZWNrT3ZlcmZsb3cocHJlcGFyZUNvbmZpZyhjb25maWcpKSk7XG4gICAgICAgIGlmIChyZXMuX25leHREYXkpIHtcbiAgICAgICAgICAgIC8vIEFkZGluZyBpcyBzbWFydCBlbm91Z2ggYXJvdW5kIERTVFxuICAgICAgICAgICAgcmVzLmFkZCgxLCAnZCcpO1xuICAgICAgICAgICAgcmVzLl9uZXh0RGF5ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcmVwYXJlQ29uZmlnIChjb25maWcpIHtcbiAgICAgICAgdmFyIGlucHV0ID0gY29uZmlnLl9pLFxuICAgICAgICAgICAgZm9ybWF0ID0gY29uZmlnLl9mO1xuXG4gICAgICAgIGNvbmZpZy5fbG9jYWxlID0gY29uZmlnLl9sb2NhbGUgfHwgZ2V0TG9jYWxlKGNvbmZpZy5fbCk7XG5cbiAgICAgICAgaWYgKGlucHV0ID09PSBudWxsIHx8IChmb3JtYXQgPT09IHVuZGVmaW5lZCAmJiBpbnB1dCA9PT0gJycpKSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlSW52YWxpZCh7bnVsbElucHV0OiB0cnVlfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgY29uZmlnLl9pID0gaW5wdXQgPSBjb25maWcuX2xvY2FsZS5wcmVwYXJzZShpbnB1dCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNNb21lbnQoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE1vbWVudChjaGVja092ZXJmbG93KGlucHV0KSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNEYXRlKGlucHV0KSkge1xuICAgICAgICAgICAgY29uZmlnLl9kID0gaW5wdXQ7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheShmb3JtYXQpKSB7XG4gICAgICAgICAgICBjb25maWdGcm9tU3RyaW5nQW5kQXJyYXkoY29uZmlnKTtcbiAgICAgICAgfSBlbHNlIGlmIChmb3JtYXQpIHtcbiAgICAgICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQoY29uZmlnKTtcbiAgICAgICAgfSAgZWxzZSB7XG4gICAgICAgICAgICBjb25maWdGcm9tSW5wdXQoY29uZmlnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaXNWYWxpZChjb25maWcpKSB7XG4gICAgICAgICAgICBjb25maWcuX2QgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb25maWdGcm9tSW5wdXQoY29uZmlnKSB7XG4gICAgICAgIHZhciBpbnB1dCA9IGNvbmZpZy5faTtcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKGlucHV0KSkge1xuICAgICAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoaG9va3Mubm93KCkpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzRGF0ZShpbnB1dCkpIHtcbiAgICAgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGlucHV0LnZhbHVlT2YoKSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgY29uZmlnRnJvbVN0cmluZyhjb25maWcpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXkoaW5wdXQpKSB7XG4gICAgICAgICAgICBjb25maWcuX2EgPSBtYXAoaW5wdXQuc2xpY2UoMCksIGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQob2JqLCAxMCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbmZpZ0Zyb21BcnJheShjb25maWcpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KGlucHV0KSkge1xuICAgICAgICAgICAgY29uZmlnRnJvbU9iamVjdChjb25maWcpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKGlucHV0KSkge1xuICAgICAgICAgICAgLy8gZnJvbSBtaWxsaXNlY29uZHNcbiAgICAgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGlucHV0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhvb2tzLmNyZWF0ZUZyb21JbnB1dEZhbGxiYWNrKGNvbmZpZyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVMb2NhbE9yVVRDIChpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCwgaXNVVEMpIHtcbiAgICAgICAgdmFyIGMgPSB7fTtcblxuICAgICAgICBpZiAobG9jYWxlID09PSB0cnVlIHx8IGxvY2FsZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHN0cmljdCA9IGxvY2FsZTtcbiAgICAgICAgICAgIGxvY2FsZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgoaXNPYmplY3QoaW5wdXQpICYmIGlzT2JqZWN0RW1wdHkoaW5wdXQpKSB8fFxuICAgICAgICAgICAgICAgIChpc0FycmF5KGlucHV0KSAmJiBpbnB1dC5sZW5ndGggPT09IDApKSB7XG4gICAgICAgICAgICBpbnB1dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBvYmplY3QgY29uc3RydWN0aW9uIG11c3QgYmUgZG9uZSB0aGlzIHdheS5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzE0MjNcbiAgICAgICAgYy5faXNBTW9tZW50T2JqZWN0ID0gdHJ1ZTtcbiAgICAgICAgYy5fdXNlVVRDID0gYy5faXNVVEMgPSBpc1VUQztcbiAgICAgICAgYy5fbCA9IGxvY2FsZTtcbiAgICAgICAgYy5faSA9IGlucHV0O1xuICAgICAgICBjLl9mID0gZm9ybWF0O1xuICAgICAgICBjLl9zdHJpY3QgPSBzdHJpY3Q7XG5cbiAgICAgICAgcmV0dXJuIGNyZWF0ZUZyb21Db25maWcoYyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlTG9jYWwgKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0KSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVMb2NhbE9yVVRDKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0LCBmYWxzZSk7XG4gICAgfVxuXG4gICAgdmFyIHByb3RvdHlwZU1pbiA9IGRlcHJlY2F0ZShcbiAgICAgICAgJ21vbWVudCgpLm1pbiBpcyBkZXByZWNhdGVkLCB1c2UgbW9tZW50Lm1heCBpbnN0ZWFkLiBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL21pbi1tYXgvJyxcbiAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG90aGVyID0gY3JlYXRlTG9jYWwuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzVmFsaWQoKSAmJiBvdGhlci5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3RoZXIgPCB0aGlzID8gdGhpcyA6IG90aGVyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlSW52YWxpZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgKTtcblxuICAgIHZhciBwcm90b3R5cGVNYXggPSBkZXByZWNhdGUoXG4gICAgICAgICdtb21lbnQoKS5tYXggaXMgZGVwcmVjYXRlZCwgdXNlIG1vbWVudC5taW4gaW5zdGVhZC4gaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9taW4tbWF4LycsXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBvdGhlciA9IGNyZWF0ZUxvY2FsLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1ZhbGlkKCkgJiYgb3RoZXIuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG90aGVyID4gdGhpcyA/IHRoaXMgOiBvdGhlcjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUludmFsaWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICk7XG5cbiAgICAvLyBQaWNrIGEgbW9tZW50IG0gZnJvbSBtb21lbnRzIHNvIHRoYXQgbVtmbl0ob3RoZXIpIGlzIHRydWUgZm9yIGFsbFxuICAgIC8vIG90aGVyLiBUaGlzIHJlbGllcyBvbiB0aGUgZnVuY3Rpb24gZm4gdG8gYmUgdHJhbnNpdGl2ZS5cbiAgICAvL1xuICAgIC8vIG1vbWVudHMgc2hvdWxkIGVpdGhlciBiZSBhbiBhcnJheSBvZiBtb21lbnQgb2JqZWN0cyBvciBhbiBhcnJheSwgd2hvc2VcbiAgICAvLyBmaXJzdCBlbGVtZW50IGlzIGFuIGFycmF5IG9mIG1vbWVudCBvYmplY3RzLlxuICAgIGZ1bmN0aW9uIHBpY2tCeShmbiwgbW9tZW50cykge1xuICAgICAgICB2YXIgcmVzLCBpO1xuICAgICAgICBpZiAobW9tZW50cy5sZW5ndGggPT09IDEgJiYgaXNBcnJheShtb21lbnRzWzBdKSkge1xuICAgICAgICAgICAgbW9tZW50cyA9IG1vbWVudHNbMF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFtb21lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUxvY2FsKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzID0gbW9tZW50c1swXTtcbiAgICAgICAgZm9yIChpID0gMTsgaSA8IG1vbWVudHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmICghbW9tZW50c1tpXS5pc1ZhbGlkKCkgfHwgbW9tZW50c1tpXVtmbl0ocmVzKSkge1xuICAgICAgICAgICAgICAgIHJlcyA9IG1vbWVudHNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICAvLyBUT0RPOiBVc2UgW10uc29ydCBpbnN0ZWFkP1xuICAgIGZ1bmN0aW9uIG1pbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuXG4gICAgICAgIHJldHVybiBwaWNrQnkoJ2lzQmVmb3JlJywgYXJncyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWF4ICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XG5cbiAgICAgICAgcmV0dXJuIHBpY2tCeSgnaXNBZnRlcicsIGFyZ3MpO1xuICAgIH1cblxuICAgIHZhciBub3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBEYXRlLm5vdyA/IERhdGUubm93KCkgOiArKG5ldyBEYXRlKCkpO1xuICAgIH07XG5cbiAgICB2YXIgb3JkZXJpbmcgPSBbJ3llYXInLCAncXVhcnRlcicsICdtb250aCcsICd3ZWVrJywgJ2RheScsICdob3VyJywgJ21pbnV0ZScsICdzZWNvbmQnLCAnbWlsbGlzZWNvbmQnXTtcblxuICAgIGZ1bmN0aW9uIGlzRHVyYXRpb25WYWxpZChtKSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBtKSB7XG4gICAgICAgICAgICBpZiAoIShpbmRleE9mLmNhbGwob3JkZXJpbmcsIGtleSkgIT09IC0xICYmIChtW2tleV0gPT0gbnVsbCB8fCAhaXNOYU4obVtrZXldKSkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHVuaXRIYXNEZWNpbWFsID0gZmFsc2U7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3JkZXJpbmcubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmIChtW29yZGVyaW5nW2ldXSkge1xuICAgICAgICAgICAgICAgIGlmICh1bml0SGFzRGVjaW1hbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIG9ubHkgYWxsb3cgbm9uLWludGVnZXJzIGZvciBzbWFsbGVzdCB1bml0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwYXJzZUZsb2F0KG1bb3JkZXJpbmdbaV1dKSAhPT0gdG9JbnQobVtvcmRlcmluZ1tpXV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHVuaXRIYXNEZWNpbWFsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1ZhbGlkJDEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1ZhbGlkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUludmFsaWQkMSgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUR1cmF0aW9uKE5hTik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gRHVyYXRpb24gKGR1cmF0aW9uKSB7XG4gICAgICAgIHZhciBub3JtYWxpemVkSW5wdXQgPSBub3JtYWxpemVPYmplY3RVbml0cyhkdXJhdGlvbiksXG4gICAgICAgICAgICB5ZWFycyA9IG5vcm1hbGl6ZWRJbnB1dC55ZWFyIHx8IDAsXG4gICAgICAgICAgICBxdWFydGVycyA9IG5vcm1hbGl6ZWRJbnB1dC5xdWFydGVyIHx8IDAsXG4gICAgICAgICAgICBtb250aHMgPSBub3JtYWxpemVkSW5wdXQubW9udGggfHwgMCxcbiAgICAgICAgICAgIHdlZWtzID0gbm9ybWFsaXplZElucHV0LndlZWsgfHwgbm9ybWFsaXplZElucHV0Lmlzb1dlZWsgfHwgMCxcbiAgICAgICAgICAgIGRheXMgPSBub3JtYWxpemVkSW5wdXQuZGF5IHx8IDAsXG4gICAgICAgICAgICBob3VycyA9IG5vcm1hbGl6ZWRJbnB1dC5ob3VyIHx8IDAsXG4gICAgICAgICAgICBtaW51dGVzID0gbm9ybWFsaXplZElucHV0Lm1pbnV0ZSB8fCAwLFxuICAgICAgICAgICAgc2Vjb25kcyA9IG5vcm1hbGl6ZWRJbnB1dC5zZWNvbmQgfHwgMCxcbiAgICAgICAgICAgIG1pbGxpc2Vjb25kcyA9IG5vcm1hbGl6ZWRJbnB1dC5taWxsaXNlY29uZCB8fCAwO1xuXG4gICAgICAgIHRoaXMuX2lzVmFsaWQgPSBpc0R1cmF0aW9uVmFsaWQobm9ybWFsaXplZElucHV0KTtcblxuICAgICAgICAvLyByZXByZXNlbnRhdGlvbiBmb3IgZGF0ZUFkZFJlbW92ZVxuICAgICAgICB0aGlzLl9taWxsaXNlY29uZHMgPSArbWlsbGlzZWNvbmRzICtcbiAgICAgICAgICAgIHNlY29uZHMgKiAxZTMgKyAvLyAxMDAwXG4gICAgICAgICAgICBtaW51dGVzICogNmU0ICsgLy8gMTAwMCAqIDYwXG4gICAgICAgICAgICBob3VycyAqIDEwMDAgKiA2MCAqIDYwOyAvL3VzaW5nIDEwMDAgKiA2MCAqIDYwIGluc3RlYWQgb2YgMzZlNSB0byBhdm9pZCBmbG9hdGluZyBwb2ludCByb3VuZGluZyBlcnJvcnMgaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzI5NzhcbiAgICAgICAgLy8gQmVjYXVzZSBvZiBkYXRlQWRkUmVtb3ZlIHRyZWF0cyAyNCBob3VycyBhcyBkaWZmZXJlbnQgZnJvbSBhXG4gICAgICAgIC8vIGRheSB3aGVuIHdvcmtpbmcgYXJvdW5kIERTVCwgd2UgbmVlZCB0byBzdG9yZSB0aGVtIHNlcGFyYXRlbHlcbiAgICAgICAgdGhpcy5fZGF5cyA9ICtkYXlzICtcbiAgICAgICAgICAgIHdlZWtzICogNztcbiAgICAgICAgLy8gSXQgaXMgaW1wb3NzaWJsZSB0byB0cmFuc2xhdGUgbW9udGhzIGludG8gZGF5cyB3aXRob3V0IGtub3dpbmdcbiAgICAgICAgLy8gd2hpY2ggbW9udGhzIHlvdSBhcmUgYXJlIHRhbGtpbmcgYWJvdXQsIHNvIHdlIGhhdmUgdG8gc3RvcmVcbiAgICAgICAgLy8gaXQgc2VwYXJhdGVseS5cbiAgICAgICAgdGhpcy5fbW9udGhzID0gK21vbnRocyArXG4gICAgICAgICAgICBxdWFydGVycyAqIDMgK1xuICAgICAgICAgICAgeWVhcnMgKiAxMjtcblxuICAgICAgICB0aGlzLl9kYXRhID0ge307XG5cbiAgICAgICAgdGhpcy5fbG9jYWxlID0gZ2V0TG9jYWxlKCk7XG5cbiAgICAgICAgdGhpcy5fYnViYmxlKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNEdXJhdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBEdXJhdGlvbjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhYnNSb3VuZCAobnVtYmVyKSB7XG4gICAgICAgIGlmIChudW1iZXIgPCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCgtMSAqIG51bWJlcikgKiAtMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKG51bWJlcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBmdW5jdGlvbiBvZmZzZXQgKHRva2VuLCBzZXBhcmF0b3IpIHtcbiAgICAgICAgYWRkRm9ybWF0VG9rZW4odG9rZW4sIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSB0aGlzLnV0Y09mZnNldCgpO1xuICAgICAgICAgICAgdmFyIHNpZ24gPSAnKyc7XG4gICAgICAgICAgICBpZiAob2Zmc2V0IDwgMCkge1xuICAgICAgICAgICAgICAgIG9mZnNldCA9IC1vZmZzZXQ7XG4gICAgICAgICAgICAgICAgc2lnbiA9ICctJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzaWduICsgemVyb0ZpbGwofn4ob2Zmc2V0IC8gNjApLCAyKSArIHNlcGFyYXRvciArIHplcm9GaWxsKH5+KG9mZnNldCkgJSA2MCwgMik7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9mZnNldCgnWicsICc6Jyk7XG4gICAgb2Zmc2V0KCdaWicsICcnKTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ1onLCAgbWF0Y2hTaG9ydE9mZnNldCk7XG4gICAgYWRkUmVnZXhUb2tlbignWlonLCBtYXRjaFNob3J0T2Zmc2V0KTtcbiAgICBhZGRQYXJzZVRva2VuKFsnWicsICdaWiddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICAgICAgY29uZmlnLl91c2VVVEMgPSB0cnVlO1xuICAgICAgICBjb25maWcuX3R6bSA9IG9mZnNldEZyb21TdHJpbmcobWF0Y2hTaG9ydE9mZnNldCwgaW5wdXQpO1xuICAgIH0pO1xuXG4gICAgLy8gSEVMUEVSU1xuXG4gICAgLy8gdGltZXpvbmUgY2h1bmtlclxuICAgIC8vICcrMTA6MDAnID4gWycxMCcsICAnMDAnXVxuICAgIC8vICctMTUzMCcgID4gWyctMTUnLCAnMzAnXVxuICAgIHZhciBjaHVua09mZnNldCA9IC8oW1xcK1xcLV18XFxkXFxkKS9naTtcblxuICAgIGZ1bmN0aW9uIG9mZnNldEZyb21TdHJpbmcobWF0Y2hlciwgc3RyaW5nKSB7XG4gICAgICAgIHZhciBtYXRjaGVzID0gKHN0cmluZyB8fCAnJykubWF0Y2gobWF0Y2hlcik7XG5cbiAgICAgICAgaWYgKG1hdGNoZXMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNodW5rICAgPSBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV0gfHwgW107XG4gICAgICAgIHZhciBwYXJ0cyAgID0gKGNodW5rICsgJycpLm1hdGNoKGNodW5rT2Zmc2V0KSB8fCBbJy0nLCAwLCAwXTtcbiAgICAgICAgdmFyIG1pbnV0ZXMgPSArKHBhcnRzWzFdICogNjApICsgdG9JbnQocGFydHNbMl0pO1xuXG4gICAgICAgIHJldHVybiBtaW51dGVzID09PSAwID9cbiAgICAgICAgICAwIDpcbiAgICAgICAgICBwYXJ0c1swXSA9PT0gJysnID8gbWludXRlcyA6IC1taW51dGVzO1xuICAgIH1cblxuICAgIC8vIFJldHVybiBhIG1vbWVudCBmcm9tIGlucHV0LCB0aGF0IGlzIGxvY2FsL3V0Yy96b25lIGVxdWl2YWxlbnQgdG8gbW9kZWwuXG4gICAgZnVuY3Rpb24gY2xvbmVXaXRoT2Zmc2V0KGlucHV0LCBtb2RlbCkge1xuICAgICAgICB2YXIgcmVzLCBkaWZmO1xuICAgICAgICBpZiAobW9kZWwuX2lzVVRDKSB7XG4gICAgICAgICAgICByZXMgPSBtb2RlbC5jbG9uZSgpO1xuICAgICAgICAgICAgZGlmZiA9IChpc01vbWVudChpbnB1dCkgfHwgaXNEYXRlKGlucHV0KSA/IGlucHV0LnZhbHVlT2YoKSA6IGNyZWF0ZUxvY2FsKGlucHV0KS52YWx1ZU9mKCkpIC0gcmVzLnZhbHVlT2YoKTtcbiAgICAgICAgICAgIC8vIFVzZSBsb3ctbGV2ZWwgYXBpLCBiZWNhdXNlIHRoaXMgZm4gaXMgbG93LWxldmVsIGFwaS5cbiAgICAgICAgICAgIHJlcy5fZC5zZXRUaW1lKHJlcy5fZC52YWx1ZU9mKCkgKyBkaWZmKTtcbiAgICAgICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldChyZXMsIGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlTG9jYWwoaW5wdXQpLmxvY2FsKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXREYXRlT2Zmc2V0IChtKSB7XG4gICAgICAgIC8vIE9uIEZpcmVmb3guMjQgRGF0ZSNnZXRUaW1lem9uZU9mZnNldCByZXR1cm5zIGEgZmxvYXRpbmcgcG9pbnQuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L3B1bGwvMTg3MVxuICAgICAgICByZXR1cm4gLU1hdGgucm91bmQobS5fZC5nZXRUaW1lem9uZU9mZnNldCgpIC8gMTUpICogMTU7XG4gICAgfVxuXG4gICAgLy8gSE9PS1NcblxuICAgIC8vIFRoaXMgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgd2hlbmV2ZXIgYSBtb21lbnQgaXMgbXV0YXRlZC5cbiAgICAvLyBJdCBpcyBpbnRlbmRlZCB0byBrZWVwIHRoZSBvZmZzZXQgaW4gc3luYyB3aXRoIHRoZSB0aW1lem9uZS5cbiAgICBob29rcy51cGRhdGVPZmZzZXQgPSBmdW5jdGlvbiAoKSB7fTtcblxuICAgIC8vIE1PTUVOVFNcblxuICAgIC8vIGtlZXBMb2NhbFRpbWUgPSB0cnVlIG1lYW5zIG9ubHkgY2hhbmdlIHRoZSB0aW1lem9uZSwgd2l0aG91dFxuICAgIC8vIGFmZmVjdGluZyB0aGUgbG9jYWwgaG91ci4gU28gNTozMToyNiArMDMwMCAtLVt1dGNPZmZzZXQoMiwgdHJ1ZSldLS0+XG4gICAgLy8gNTozMToyNiArMDIwMCBJdCBpcyBwb3NzaWJsZSB0aGF0IDU6MzE6MjYgZG9lc24ndCBleGlzdCB3aXRoIG9mZnNldFxuICAgIC8vICswMjAwLCBzbyB3ZSBhZGp1c3QgdGhlIHRpbWUgYXMgbmVlZGVkLCB0byBiZSB2YWxpZC5cbiAgICAvL1xuICAgIC8vIEtlZXBpbmcgdGhlIHRpbWUgYWN0dWFsbHkgYWRkcy9zdWJ0cmFjdHMgKG9uZSBob3VyKVxuICAgIC8vIGZyb20gdGhlIGFjdHVhbCByZXByZXNlbnRlZCB0aW1lLiBUaGF0IGlzIHdoeSB3ZSBjYWxsIHVwZGF0ZU9mZnNldFxuICAgIC8vIGEgc2Vjb25kIHRpbWUuIEluIGNhc2UgaXQgd2FudHMgdXMgdG8gY2hhbmdlIHRoZSBvZmZzZXQgYWdhaW5cbiAgICAvLyBfY2hhbmdlSW5Qcm9ncmVzcyA9PSB0cnVlIGNhc2UsIHRoZW4gd2UgaGF2ZSB0byBhZGp1c3QsIGJlY2F1c2VcbiAgICAvLyB0aGVyZSBpcyBubyBzdWNoIHRpbWUgaW4gdGhlIGdpdmVuIHRpbWV6b25lLlxuICAgIGZ1bmN0aW9uIGdldFNldE9mZnNldCAoaW5wdXQsIGtlZXBMb2NhbFRpbWUsIGtlZXBNaW51dGVzKSB7XG4gICAgICAgIHZhciBvZmZzZXQgPSB0aGlzLl9vZmZzZXQgfHwgMCxcbiAgICAgICAgICAgIGxvY2FsQWRqdXN0O1xuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCA/IHRoaXMgOiBOYU47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQgPSBvZmZzZXRGcm9tU3RyaW5nKG1hdGNoU2hvcnRPZmZzZXQsIGlucHV0KTtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChNYXRoLmFicyhpbnB1dCkgPCAxNiAmJiAha2VlcE1pbnV0ZXMpIHtcbiAgICAgICAgICAgICAgICBpbnB1dCA9IGlucHV0ICogNjA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2lzVVRDICYmIGtlZXBMb2NhbFRpbWUpIHtcbiAgICAgICAgICAgICAgICBsb2NhbEFkanVzdCA9IGdldERhdGVPZmZzZXQodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9vZmZzZXQgPSBpbnB1dDtcbiAgICAgICAgICAgIHRoaXMuX2lzVVRDID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChsb2NhbEFkanVzdCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGQobG9jYWxBZGp1c3QsICdtJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob2Zmc2V0ICE9PSBpbnB1dCkge1xuICAgICAgICAgICAgICAgIGlmICgha2VlcExvY2FsVGltZSB8fCB0aGlzLl9jaGFuZ2VJblByb2dyZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZFN1YnRyYWN0KHRoaXMsIGNyZWF0ZUR1cmF0aW9uKGlucHV0IC0gb2Zmc2V0LCAnbScpLCAxLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghdGhpcy5fY2hhbmdlSW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jaGFuZ2VJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHRoaXMsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jaGFuZ2VJblByb2dyZXNzID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pc1VUQyA/IG9mZnNldCA6IGdldERhdGVPZmZzZXQodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRTZXRab25lIChpbnB1dCwga2VlcExvY2FsVGltZSkge1xuICAgICAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBpbnB1dCA9IC1pbnB1dDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQoaW5wdXQsIGtlZXBMb2NhbFRpbWUpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAtdGhpcy51dGNPZmZzZXQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldE9mZnNldFRvVVRDIChrZWVwTG9jYWxUaW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnV0Y09mZnNldCgwLCBrZWVwTG9jYWxUaW1lKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRPZmZzZXRUb0xvY2FsIChrZWVwTG9jYWxUaW1lKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc1VUQykge1xuICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQoMCwga2VlcExvY2FsVGltZSk7XG4gICAgICAgICAgICB0aGlzLl9pc1VUQyA9IGZhbHNlO1xuXG4gICAgICAgICAgICBpZiAoa2VlcExvY2FsVGltZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3VidHJhY3QoZ2V0RGF0ZU9mZnNldCh0aGlzKSwgJ20nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRPZmZzZXRUb1BhcnNlZE9mZnNldCAoKSB7XG4gICAgICAgIGlmICh0aGlzLl90em0gIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQodGhpcy5fdHptLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoaXMuX2kgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YXIgdFpvbmUgPSBvZmZzZXRGcm9tU3RyaW5nKG1hdGNoT2Zmc2V0LCB0aGlzLl9pKTtcbiAgICAgICAgICAgIGlmICh0Wm9uZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQodFpvbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQoMCwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFzQWxpZ25lZEhvdXJPZmZzZXQgKGlucHV0KSB7XG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpbnB1dCA9IGlucHV0ID8gY3JlYXRlTG9jYWwoaW5wdXQpLnV0Y09mZnNldCgpIDogMDtcblxuICAgICAgICByZXR1cm4gKHRoaXMudXRjT2Zmc2V0KCkgLSBpbnB1dCkgJSA2MCA9PT0gMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0RheWxpZ2h0U2F2aW5nVGltZSAoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICB0aGlzLnV0Y09mZnNldCgpID4gdGhpcy5jbG9uZSgpLm1vbnRoKDApLnV0Y09mZnNldCgpIHx8XG4gICAgICAgICAgICB0aGlzLnV0Y09mZnNldCgpID4gdGhpcy5jbG9uZSgpLm1vbnRoKDUpLnV0Y09mZnNldCgpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNEYXlsaWdodFNhdmluZ1RpbWVTaGlmdGVkICgpIHtcbiAgICAgICAgaWYgKCFpc1VuZGVmaW5lZCh0aGlzLl9pc0RTVFNoaWZ0ZWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faXNEU1RTaGlmdGVkO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGMgPSB7fTtcblxuICAgICAgICBjb3B5Q29uZmlnKGMsIHRoaXMpO1xuICAgICAgICBjID0gcHJlcGFyZUNvbmZpZyhjKTtcblxuICAgICAgICBpZiAoYy5fYSkge1xuICAgICAgICAgICAgdmFyIG90aGVyID0gYy5faXNVVEMgPyBjcmVhdGVVVEMoYy5fYSkgOiBjcmVhdGVMb2NhbChjLl9hKTtcbiAgICAgICAgICAgIHRoaXMuX2lzRFNUU2hpZnRlZCA9IHRoaXMuaXNWYWxpZCgpICYmXG4gICAgICAgICAgICAgICAgY29tcGFyZUFycmF5cyhjLl9hLCBvdGhlci50b0FycmF5KCkpID4gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2lzRFNUU2hpZnRlZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRFNUU2hpZnRlZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0xvY2FsICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gIXRoaXMuX2lzVVRDIDogZmFsc2U7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNVdGNPZmZzZXQgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyB0aGlzLl9pc1VUQyA6IGZhbHNlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzVXRjICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gdGhpcy5faXNVVEMgJiYgdGhpcy5fb2Zmc2V0ID09PSAwIDogZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gQVNQLk5FVCBqc29uIGRhdGUgZm9ybWF0IHJlZ2V4XG4gICAgdmFyIGFzcE5ldFJlZ2V4ID0gL14oXFwtfFxcKyk/KD86KFxcZCopWy4gXSk/KFxcZCspXFw6KFxcZCspKD86XFw6KFxcZCspKFxcLlxcZCopPyk/JC87XG5cbiAgICAvLyBmcm9tIGh0dHA6Ly9kb2NzLmNsb3N1cmUtbGlicmFyeS5nb29nbGVjb2RlLmNvbS9naXQvY2xvc3VyZV9nb29nX2RhdGVfZGF0ZS5qcy5zb3VyY2UuaHRtbFxuICAgIC8vIHNvbWV3aGF0IG1vcmUgaW4gbGluZSB3aXRoIDQuNC4zLjIgMjAwNCBzcGVjLCBidXQgYWxsb3dzIGRlY2ltYWwgYW55d2hlcmVcbiAgICAvLyBhbmQgZnVydGhlciBtb2RpZmllZCB0byBhbGxvdyBmb3Igc3RyaW5ncyBjb250YWluaW5nIGJvdGggd2VlayBhbmQgZGF5XG4gICAgdmFyIGlzb1JlZ2V4ID0gL14oLXxcXCspP1AoPzooWy0rXT9bMC05LC5dKilZKT8oPzooWy0rXT9bMC05LC5dKilNKT8oPzooWy0rXT9bMC05LC5dKilXKT8oPzooWy0rXT9bMC05LC5dKilEKT8oPzpUKD86KFstK10/WzAtOSwuXSopSCk/KD86KFstK10/WzAtOSwuXSopTSk/KD86KFstK10/WzAtOSwuXSopUyk/KT8kLztcblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUR1cmF0aW9uIChpbnB1dCwga2V5KSB7XG4gICAgICAgIHZhciBkdXJhdGlvbiA9IGlucHV0LFxuICAgICAgICAgICAgLy8gbWF0Y2hpbmcgYWdhaW5zdCByZWdleHAgaXMgZXhwZW5zaXZlLCBkbyBpdCBvbiBkZW1hbmRcbiAgICAgICAgICAgIG1hdGNoID0gbnVsbCxcbiAgICAgICAgICAgIHNpZ24sXG4gICAgICAgICAgICByZXQsXG4gICAgICAgICAgICBkaWZmUmVzO1xuXG4gICAgICAgIGlmIChpc0R1cmF0aW9uKGlucHV0KSkge1xuICAgICAgICAgICAgZHVyYXRpb24gPSB7XG4gICAgICAgICAgICAgICAgbXMgOiBpbnB1dC5fbWlsbGlzZWNvbmRzLFxuICAgICAgICAgICAgICAgIGQgIDogaW5wdXQuX2RheXMsXG4gICAgICAgICAgICAgICAgTSAgOiBpbnB1dC5fbW9udGhzXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKGlucHV0KSkge1xuICAgICAgICAgICAgZHVyYXRpb24gPSB7fTtcbiAgICAgICAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgICAgICAgICBkdXJhdGlvbltrZXldID0gaW5wdXQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGR1cmF0aW9uLm1pbGxpc2Vjb25kcyA9IGlucHV0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCEhKG1hdGNoID0gYXNwTmV0UmVnZXguZXhlYyhpbnB1dCkpKSB7XG4gICAgICAgICAgICBzaWduID0gKG1hdGNoWzFdID09PSAnLScpID8gLTEgOiAxO1xuICAgICAgICAgICAgZHVyYXRpb24gPSB7XG4gICAgICAgICAgICAgICAgeSAgOiAwLFxuICAgICAgICAgICAgICAgIGQgIDogdG9JbnQobWF0Y2hbREFURV0pICAgICAgICAgICAgICAgICAgICAgICAgICogc2lnbixcbiAgICAgICAgICAgICAgICBoICA6IHRvSW50KG1hdGNoW0hPVVJdKSAgICAgICAgICAgICAgICAgICAgICAgICAqIHNpZ24sXG4gICAgICAgICAgICAgICAgbSAgOiB0b0ludChtYXRjaFtNSU5VVEVdKSAgICAgICAgICAgICAgICAgICAgICAgKiBzaWduLFxuICAgICAgICAgICAgICAgIHMgIDogdG9JbnQobWF0Y2hbU0VDT05EXSkgICAgICAgICAgICAgICAgICAgICAgICogc2lnbixcbiAgICAgICAgICAgICAgICBtcyA6IHRvSW50KGFic1JvdW5kKG1hdGNoW01JTExJU0VDT05EXSAqIDEwMDApKSAqIHNpZ24gLy8gdGhlIG1pbGxpc2Vjb25kIGRlY2ltYWwgcG9pbnQgaXMgaW5jbHVkZWQgaW4gdGhlIG1hdGNoXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKCEhKG1hdGNoID0gaXNvUmVnZXguZXhlYyhpbnB1dCkpKSB7XG4gICAgICAgICAgICBzaWduID0gKG1hdGNoWzFdID09PSAnLScpID8gLTEgOiAxO1xuICAgICAgICAgICAgZHVyYXRpb24gPSB7XG4gICAgICAgICAgICAgICAgeSA6IHBhcnNlSXNvKG1hdGNoWzJdLCBzaWduKSxcbiAgICAgICAgICAgICAgICBNIDogcGFyc2VJc28obWF0Y2hbM10sIHNpZ24pLFxuICAgICAgICAgICAgICAgIHcgOiBwYXJzZUlzbyhtYXRjaFs0XSwgc2lnbiksXG4gICAgICAgICAgICAgICAgZCA6IHBhcnNlSXNvKG1hdGNoWzVdLCBzaWduKSxcbiAgICAgICAgICAgICAgICBoIDogcGFyc2VJc28obWF0Y2hbNl0sIHNpZ24pLFxuICAgICAgICAgICAgICAgIG0gOiBwYXJzZUlzbyhtYXRjaFs3XSwgc2lnbiksXG4gICAgICAgICAgICAgICAgcyA6IHBhcnNlSXNvKG1hdGNoWzhdLCBzaWduKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChkdXJhdGlvbiA9PSBudWxsKSB7Ly8gY2hlY2tzIGZvciBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICAgICAgZHVyYXRpb24gPSB7fTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZHVyYXRpb24gPT09ICdvYmplY3QnICYmICgnZnJvbScgaW4gZHVyYXRpb24gfHwgJ3RvJyBpbiBkdXJhdGlvbikpIHtcbiAgICAgICAgICAgIGRpZmZSZXMgPSBtb21lbnRzRGlmZmVyZW5jZShjcmVhdGVMb2NhbChkdXJhdGlvbi5mcm9tKSwgY3JlYXRlTG9jYWwoZHVyYXRpb24udG8pKTtcblxuICAgICAgICAgICAgZHVyYXRpb24gPSB7fTtcbiAgICAgICAgICAgIGR1cmF0aW9uLm1zID0gZGlmZlJlcy5taWxsaXNlY29uZHM7XG4gICAgICAgICAgICBkdXJhdGlvbi5NID0gZGlmZlJlcy5tb250aHM7XG4gICAgICAgIH1cblxuICAgICAgICByZXQgPSBuZXcgRHVyYXRpb24oZHVyYXRpb24pO1xuXG4gICAgICAgIGlmIChpc0R1cmF0aW9uKGlucHV0KSAmJiBoYXNPd25Qcm9wKGlucHV0LCAnX2xvY2FsZScpKSB7XG4gICAgICAgICAgICByZXQuX2xvY2FsZSA9IGlucHV0Ll9sb2NhbGU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cblxuICAgIGNyZWF0ZUR1cmF0aW9uLmZuID0gRHVyYXRpb24ucHJvdG90eXBlO1xuICAgIGNyZWF0ZUR1cmF0aW9uLmludmFsaWQgPSBjcmVhdGVJbnZhbGlkJDE7XG5cbiAgICBmdW5jdGlvbiBwYXJzZUlzbyAoaW5wLCBzaWduKSB7XG4gICAgICAgIC8vIFdlJ2Qgbm9ybWFsbHkgdXNlIH5+aW5wIGZvciB0aGlzLCBidXQgdW5mb3J0dW5hdGVseSBpdCBhbHNvXG4gICAgICAgIC8vIGNvbnZlcnRzIGZsb2F0cyB0byBpbnRzLlxuICAgICAgICAvLyBpbnAgbWF5IGJlIHVuZGVmaW5lZCwgc28gY2FyZWZ1bCBjYWxsaW5nIHJlcGxhY2Ugb24gaXQuXG4gICAgICAgIHZhciByZXMgPSBpbnAgJiYgcGFyc2VGbG9hdChpbnAucmVwbGFjZSgnLCcsICcuJykpO1xuICAgICAgICAvLyBhcHBseSBzaWduIHdoaWxlIHdlJ3JlIGF0IGl0XG4gICAgICAgIHJldHVybiAoaXNOYU4ocmVzKSA/IDAgOiByZXMpICogc2lnbjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwb3NpdGl2ZU1vbWVudHNEaWZmZXJlbmNlKGJhc2UsIG90aGVyKSB7XG4gICAgICAgIHZhciByZXMgPSB7fTtcblxuICAgICAgICByZXMubW9udGhzID0gb3RoZXIubW9udGgoKSAtIGJhc2UubW9udGgoKSArXG4gICAgICAgICAgICAob3RoZXIueWVhcigpIC0gYmFzZS55ZWFyKCkpICogMTI7XG4gICAgICAgIGlmIChiYXNlLmNsb25lKCkuYWRkKHJlcy5tb250aHMsICdNJykuaXNBZnRlcihvdGhlcikpIHtcbiAgICAgICAgICAgIC0tcmVzLm1vbnRocztcbiAgICAgICAgfVxuXG4gICAgICAgIHJlcy5taWxsaXNlY29uZHMgPSArb3RoZXIgLSArKGJhc2UuY2xvbmUoKS5hZGQocmVzLm1vbnRocywgJ00nKSk7XG5cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtb21lbnRzRGlmZmVyZW5jZShiYXNlLCBvdGhlcikge1xuICAgICAgICB2YXIgcmVzO1xuICAgICAgICBpZiAoIShiYXNlLmlzVmFsaWQoKSAmJiBvdGhlci5pc1ZhbGlkKCkpKSB7XG4gICAgICAgICAgICByZXR1cm4ge21pbGxpc2Vjb25kczogMCwgbW9udGhzOiAwfTtcbiAgICAgICAgfVxuXG4gICAgICAgIG90aGVyID0gY2xvbmVXaXRoT2Zmc2V0KG90aGVyLCBiYXNlKTtcbiAgICAgICAgaWYgKGJhc2UuaXNCZWZvcmUob3RoZXIpKSB7XG4gICAgICAgICAgICByZXMgPSBwb3NpdGl2ZU1vbWVudHNEaWZmZXJlbmNlKGJhc2UsIG90aGVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlcyA9IHBvc2l0aXZlTW9tZW50c0RpZmZlcmVuY2Uob3RoZXIsIGJhc2UpO1xuICAgICAgICAgICAgcmVzLm1pbGxpc2Vjb25kcyA9IC1yZXMubWlsbGlzZWNvbmRzO1xuICAgICAgICAgICAgcmVzLm1vbnRocyA9IC1yZXMubW9udGhzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICAvLyBUT0RPOiByZW1vdmUgJ25hbWUnIGFyZyBhZnRlciBkZXByZWNhdGlvbiBpcyByZW1vdmVkXG4gICAgZnVuY3Rpb24gY3JlYXRlQWRkZXIoZGlyZWN0aW9uLCBuYW1lKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodmFsLCBwZXJpb2QpIHtcbiAgICAgICAgICAgIHZhciBkdXIsIHRtcDtcbiAgICAgICAgICAgIC8vaW52ZXJ0IHRoZSBhcmd1bWVudHMsIGJ1dCBjb21wbGFpbiBhYm91dCBpdFxuICAgICAgICAgICAgaWYgKHBlcmlvZCAhPT0gbnVsbCAmJiAhaXNOYU4oK3BlcmlvZCkpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGVTaW1wbGUobmFtZSwgJ21vbWVudCgpLicgKyBuYW1lICArICcocGVyaW9kLCBudW1iZXIpIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgbW9tZW50KCkuJyArIG5hbWUgKyAnKG51bWJlciwgcGVyaW9kKS4gJyArXG4gICAgICAgICAgICAgICAgJ1NlZSBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL2FkZC1pbnZlcnRlZC1wYXJhbS8gZm9yIG1vcmUgaW5mby4nKTtcbiAgICAgICAgICAgICAgICB0bXAgPSB2YWw7IHZhbCA9IHBlcmlvZDsgcGVyaW9kID0gdG1wO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YWwgPSB0eXBlb2YgdmFsID09PSAnc3RyaW5nJyA/ICt2YWwgOiB2YWw7XG4gICAgICAgICAgICBkdXIgPSBjcmVhdGVEdXJhdGlvbih2YWwsIHBlcmlvZCk7XG4gICAgICAgICAgICBhZGRTdWJ0cmFjdCh0aGlzLCBkdXIsIGRpcmVjdGlvbik7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRTdWJ0cmFjdCAobW9tLCBkdXJhdGlvbiwgaXNBZGRpbmcsIHVwZGF0ZU9mZnNldCkge1xuICAgICAgICB2YXIgbWlsbGlzZWNvbmRzID0gZHVyYXRpb24uX21pbGxpc2Vjb25kcyxcbiAgICAgICAgICAgIGRheXMgPSBhYnNSb3VuZChkdXJhdGlvbi5fZGF5cyksXG4gICAgICAgICAgICBtb250aHMgPSBhYnNSb3VuZChkdXJhdGlvbi5fbW9udGhzKTtcblxuICAgICAgICBpZiAoIW1vbS5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIC8vIE5vIG9wXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB1cGRhdGVPZmZzZXQgPSB1cGRhdGVPZmZzZXQgPT0gbnVsbCA/IHRydWUgOiB1cGRhdGVPZmZzZXQ7XG5cbiAgICAgICAgaWYgKG1vbnRocykge1xuICAgICAgICAgICAgc2V0TW9udGgobW9tLCBnZXQobW9tLCAnTW9udGgnKSArIG1vbnRocyAqIGlzQWRkaW5nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF5cykge1xuICAgICAgICAgICAgc2V0JDEobW9tLCAnRGF0ZScsIGdldChtb20sICdEYXRlJykgKyBkYXlzICogaXNBZGRpbmcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtaWxsaXNlY29uZHMpIHtcbiAgICAgICAgICAgIG1vbS5fZC5zZXRUaW1lKG1vbS5fZC52YWx1ZU9mKCkgKyBtaWxsaXNlY29uZHMgKiBpc0FkZGluZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVwZGF0ZU9mZnNldCkge1xuICAgICAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KG1vbSwgZGF5cyB8fCBtb250aHMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGFkZCAgICAgID0gY3JlYXRlQWRkZXIoMSwgJ2FkZCcpO1xuICAgIHZhciBzdWJ0cmFjdCA9IGNyZWF0ZUFkZGVyKC0xLCAnc3VidHJhY3QnKTtcblxuICAgIGZ1bmN0aW9uIGdldENhbGVuZGFyRm9ybWF0KG15TW9tZW50LCBub3cpIHtcbiAgICAgICAgdmFyIGRpZmYgPSBteU1vbWVudC5kaWZmKG5vdywgJ2RheXMnLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIGRpZmYgPCAtNiA/ICdzYW1lRWxzZScgOlxuICAgICAgICAgICAgICAgIGRpZmYgPCAtMSA/ICdsYXN0V2VlaycgOlxuICAgICAgICAgICAgICAgIGRpZmYgPCAwID8gJ2xhc3REYXknIDpcbiAgICAgICAgICAgICAgICBkaWZmIDwgMSA/ICdzYW1lRGF5JyA6XG4gICAgICAgICAgICAgICAgZGlmZiA8IDIgPyAnbmV4dERheScgOlxuICAgICAgICAgICAgICAgIGRpZmYgPCA3ID8gJ25leHRXZWVrJyA6ICdzYW1lRWxzZSc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2FsZW5kYXIkMSAodGltZSwgZm9ybWF0cykge1xuICAgICAgICAvLyBXZSB3YW50IHRvIGNvbXBhcmUgdGhlIHN0YXJ0IG9mIHRvZGF5LCB2cyB0aGlzLlxuICAgICAgICAvLyBHZXR0aW5nIHN0YXJ0LW9mLXRvZGF5IGRlcGVuZHMgb24gd2hldGhlciB3ZSdyZSBsb2NhbC91dGMvb2Zmc2V0IG9yIG5vdC5cbiAgICAgICAgdmFyIG5vdyA9IHRpbWUgfHwgY3JlYXRlTG9jYWwoKSxcbiAgICAgICAgICAgIHNvZCA9IGNsb25lV2l0aE9mZnNldChub3csIHRoaXMpLnN0YXJ0T2YoJ2RheScpLFxuICAgICAgICAgICAgZm9ybWF0ID0gaG9va3MuY2FsZW5kYXJGb3JtYXQodGhpcywgc29kKSB8fCAnc2FtZUVsc2UnO1xuXG4gICAgICAgIHZhciBvdXRwdXQgPSBmb3JtYXRzICYmIChpc0Z1bmN0aW9uKGZvcm1hdHNbZm9ybWF0XSkgPyBmb3JtYXRzW2Zvcm1hdF0uY2FsbCh0aGlzLCBub3cpIDogZm9ybWF0c1tmb3JtYXRdKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXQob3V0cHV0IHx8IHRoaXMubG9jYWxlRGF0YSgpLmNhbGVuZGFyKGZvcm1hdCwgdGhpcywgY3JlYXRlTG9jYWwobm93KSkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsb25lICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNb21lbnQodGhpcyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNBZnRlciAoaW5wdXQsIHVuaXRzKSB7XG4gICAgICAgIHZhciBsb2NhbElucHV0ID0gaXNNb21lbnQoaW5wdXQpID8gaW5wdXQgOiBjcmVhdGVMb2NhbChpbnB1dCk7XG4gICAgICAgIGlmICghKHRoaXMuaXNWYWxpZCgpICYmIGxvY2FsSW5wdXQuaXNWYWxpZCgpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpIHx8ICdtaWxsaXNlY29uZCc7XG4gICAgICAgIGlmICh1bml0cyA9PT0gJ21pbGxpc2Vjb25kJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVPZigpID4gbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxJbnB1dC52YWx1ZU9mKCkgPCB0aGlzLmNsb25lKCkuc3RhcnRPZih1bml0cykudmFsdWVPZigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNCZWZvcmUgKGlucHV0LCB1bml0cykge1xuICAgICAgICB2YXIgbG9jYWxJbnB1dCA9IGlzTW9tZW50KGlucHV0KSA/IGlucHV0IDogY3JlYXRlTG9jYWwoaW5wdXQpO1xuICAgICAgICBpZiAoISh0aGlzLmlzVmFsaWQoKSAmJiBsb2NhbElucHV0LmlzVmFsaWQoKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKSB8fCAnbWlsbGlzZWNvbmQnO1xuICAgICAgICBpZiAodW5pdHMgPT09ICdtaWxsaXNlY29uZCcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlT2YoKSA8IGxvY2FsSW5wdXQudmFsdWVPZigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5lbmRPZih1bml0cykudmFsdWVPZigpIDwgbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0JldHdlZW4gKGZyb20sIHRvLCB1bml0cywgaW5jbHVzaXZpdHkpIHtcbiAgICAgICAgdmFyIGxvY2FsRnJvbSA9IGlzTW9tZW50KGZyb20pID8gZnJvbSA6IGNyZWF0ZUxvY2FsKGZyb20pLFxuICAgICAgICAgICAgbG9jYWxUbyA9IGlzTW9tZW50KHRvKSA/IHRvIDogY3JlYXRlTG9jYWwodG8pO1xuICAgICAgICBpZiAoISh0aGlzLmlzVmFsaWQoKSAmJiBsb2NhbEZyb20uaXNWYWxpZCgpICYmIGxvY2FsVG8uaXNWYWxpZCgpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGluY2x1c2l2aXR5ID0gaW5jbHVzaXZpdHkgfHwgJygpJztcbiAgICAgICAgcmV0dXJuIChpbmNsdXNpdml0eVswXSA9PT0gJygnID8gdGhpcy5pc0FmdGVyKGxvY2FsRnJvbSwgdW5pdHMpIDogIXRoaXMuaXNCZWZvcmUobG9jYWxGcm9tLCB1bml0cykpICYmXG4gICAgICAgICAgICAoaW5jbHVzaXZpdHlbMV0gPT09ICcpJyA/IHRoaXMuaXNCZWZvcmUobG9jYWxUbywgdW5pdHMpIDogIXRoaXMuaXNBZnRlcihsb2NhbFRvLCB1bml0cykpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzU2FtZSAoaW5wdXQsIHVuaXRzKSB7XG4gICAgICAgIHZhciBsb2NhbElucHV0ID0gaXNNb21lbnQoaW5wdXQpID8gaW5wdXQgOiBjcmVhdGVMb2NhbChpbnB1dCksXG4gICAgICAgICAgICBpbnB1dE1zO1xuICAgICAgICBpZiAoISh0aGlzLmlzVmFsaWQoKSAmJiBsb2NhbElucHV0LmlzVmFsaWQoKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKSB8fCAnbWlsbGlzZWNvbmQnO1xuICAgICAgICBpZiAodW5pdHMgPT09ICdtaWxsaXNlY29uZCcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlT2YoKSA9PT0gbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbnB1dE1zID0gbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jbG9uZSgpLnN0YXJ0T2YodW5pdHMpLnZhbHVlT2YoKSA8PSBpbnB1dE1zICYmIGlucHV0TXMgPD0gdGhpcy5jbG9uZSgpLmVuZE9mKHVuaXRzKS52YWx1ZU9mKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1NhbWVPckFmdGVyIChpbnB1dCwgdW5pdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNTYW1lKGlucHV0LCB1bml0cykgfHwgdGhpcy5pc0FmdGVyKGlucHV0LCB1bml0cyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNTYW1lT3JCZWZvcmUgKGlucHV0LCB1bml0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5pc1NhbWUoaW5wdXQsIHVuaXRzKSB8fCB0aGlzLmlzQmVmb3JlKGlucHV0LCB1bml0cyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGlmZiAoaW5wdXQsIHVuaXRzLCBhc0Zsb2F0KSB7XG4gICAgICAgIHZhciB0aGF0LFxuICAgICAgICAgICAgem9uZURlbHRhLFxuICAgICAgICAgICAgb3V0cHV0O1xuXG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBOYU47XG4gICAgICAgIH1cblxuICAgICAgICB0aGF0ID0gY2xvbmVXaXRoT2Zmc2V0KGlucHV0LCB0aGlzKTtcblxuICAgICAgICBpZiAoIXRoYXQuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgICB9XG5cbiAgICAgICAgem9uZURlbHRhID0gKHRoYXQudXRjT2Zmc2V0KCkgLSB0aGlzLnV0Y09mZnNldCgpKSAqIDZlNDtcblxuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcblxuICAgICAgICBzd2l0Y2ggKHVuaXRzKSB7XG4gICAgICAgICAgICBjYXNlICd5ZWFyJzogb3V0cHV0ID0gbW9udGhEaWZmKHRoaXMsIHRoYXQpIC8gMTI7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbW9udGgnOiBvdXRwdXQgPSBtb250aERpZmYodGhpcywgdGhhdCk7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncXVhcnRlcic6IG91dHB1dCA9IG1vbnRoRGlmZih0aGlzLCB0aGF0KSAvIDM7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc2Vjb25kJzogb3V0cHV0ID0gKHRoaXMgLSB0aGF0KSAvIDFlMzsgYnJlYWs7IC8vIDEwMDBcbiAgICAgICAgICAgIGNhc2UgJ21pbnV0ZSc6IG91dHB1dCA9ICh0aGlzIC0gdGhhdCkgLyA2ZTQ7IGJyZWFrOyAvLyAxMDAwICogNjBcbiAgICAgICAgICAgIGNhc2UgJ2hvdXInOiBvdXRwdXQgPSAodGhpcyAtIHRoYXQpIC8gMzZlNTsgYnJlYWs7IC8vIDEwMDAgKiA2MCAqIDYwXG4gICAgICAgICAgICBjYXNlICdkYXknOiBvdXRwdXQgPSAodGhpcyAtIHRoYXQgLSB6b25lRGVsdGEpIC8gODY0ZTU7IGJyZWFrOyAvLyAxMDAwICogNjAgKiA2MCAqIDI0LCBuZWdhdGUgZHN0XG4gICAgICAgICAgICBjYXNlICd3ZWVrJzogb3V0cHV0ID0gKHRoaXMgLSB0aGF0IC0gem9uZURlbHRhKSAvIDYwNDhlNTsgYnJlYWs7IC8vIDEwMDAgKiA2MCAqIDYwICogMjQgKiA3LCBuZWdhdGUgZHN0XG4gICAgICAgICAgICBkZWZhdWx0OiBvdXRwdXQgPSB0aGlzIC0gdGhhdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhc0Zsb2F0ID8gb3V0cHV0IDogYWJzRmxvb3Iob3V0cHV0KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtb250aERpZmYgKGEsIGIpIHtcbiAgICAgICAgLy8gZGlmZmVyZW5jZSBpbiBtb250aHNcbiAgICAgICAgdmFyIHdob2xlTW9udGhEaWZmID0gKChiLnllYXIoKSAtIGEueWVhcigpKSAqIDEyKSArIChiLm1vbnRoKCkgLSBhLm1vbnRoKCkpLFxuICAgICAgICAgICAgLy8gYiBpcyBpbiAoYW5jaG9yIC0gMSBtb250aCwgYW5jaG9yICsgMSBtb250aClcbiAgICAgICAgICAgIGFuY2hvciA9IGEuY2xvbmUoKS5hZGQod2hvbGVNb250aERpZmYsICdtb250aHMnKSxcbiAgICAgICAgICAgIGFuY2hvcjIsIGFkanVzdDtcblxuICAgICAgICBpZiAoYiAtIGFuY2hvciA8IDApIHtcbiAgICAgICAgICAgIGFuY2hvcjIgPSBhLmNsb25lKCkuYWRkKHdob2xlTW9udGhEaWZmIC0gMSwgJ21vbnRocycpO1xuICAgICAgICAgICAgLy8gbGluZWFyIGFjcm9zcyB0aGUgbW9udGhcbiAgICAgICAgICAgIGFkanVzdCA9IChiIC0gYW5jaG9yKSAvIChhbmNob3IgLSBhbmNob3IyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFuY2hvcjIgPSBhLmNsb25lKCkuYWRkKHdob2xlTW9udGhEaWZmICsgMSwgJ21vbnRocycpO1xuICAgICAgICAgICAgLy8gbGluZWFyIGFjcm9zcyB0aGUgbW9udGhcbiAgICAgICAgICAgIGFkanVzdCA9IChiIC0gYW5jaG9yKSAvIChhbmNob3IyIC0gYW5jaG9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vY2hlY2sgZm9yIG5lZ2F0aXZlIHplcm8sIHJldHVybiB6ZXJvIGlmIG5lZ2F0aXZlIHplcm9cbiAgICAgICAgcmV0dXJuIC0od2hvbGVNb250aERpZmYgKyBhZGp1c3QpIHx8IDA7XG4gICAgfVxuXG4gICAgaG9va3MuZGVmYXVsdEZvcm1hdCA9ICdZWVlZLU1NLUREVEhIOm1tOnNzWic7XG4gICAgaG9va3MuZGVmYXVsdEZvcm1hdFV0YyA9ICdZWVlZLU1NLUREVEhIOm1tOnNzW1pdJztcblxuICAgIGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5sb2NhbGUoJ2VuJykuZm9ybWF0KCdkZGQgTU1NIEREIFlZWVkgSEg6bW06c3MgW0dNVF1aWicpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRvSVNPU3RyaW5nKGtlZXBPZmZzZXQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHV0YyA9IGtlZXBPZmZzZXQgIT09IHRydWU7XG4gICAgICAgIHZhciBtID0gdXRjID8gdGhpcy5jbG9uZSgpLnV0YygpIDogdGhpcztcbiAgICAgICAgaWYgKG0ueWVhcigpIDwgMCB8fCBtLnllYXIoKSA+IDk5OTkpIHtcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXRNb21lbnQobSwgdXRjID8gJ1lZWVlZWS1NTS1ERFtUXUhIOm1tOnNzLlNTU1taXScgOiAnWVlZWVlZLU1NLUREW1RdSEg6bW06c3MuU1NTWicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKERhdGUucHJvdG90eXBlLnRvSVNPU3RyaW5nKSkge1xuICAgICAgICAgICAgLy8gbmF0aXZlIGltcGxlbWVudGF0aW9uIGlzIH41MHggZmFzdGVyLCB1c2UgaXQgd2hlbiB3ZSBjYW5cbiAgICAgICAgICAgIGlmICh1dGMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50b0RhdGUoKS50b0lTT1N0cmluZygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IERhdGUodGhpcy52YWx1ZU9mKCkgKyB0aGlzLnV0Y09mZnNldCgpICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpLnJlcGxhY2UoJ1onLCBmb3JtYXRNb21lbnQobSwgJ1onKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZvcm1hdE1vbWVudChtLCB1dGMgPyAnWVlZWS1NTS1ERFtUXUhIOm1tOnNzLlNTU1taXScgOiAnWVlZWS1NTS1ERFtUXUhIOm1tOnNzLlNTU1onKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYSBodW1hbiByZWFkYWJsZSByZXByZXNlbnRhdGlvbiBvZiBhIG1vbWVudCB0aGF0IGNhblxuICAgICAqIGFsc28gYmUgZXZhbHVhdGVkIHRvIGdldCBhIG5ldyBtb21lbnQgd2hpY2ggaXMgdGhlIHNhbWVcbiAgICAgKlxuICAgICAqIEBsaW5rIGh0dHBzOi8vbm9kZWpzLm9yZy9kaXN0L2xhdGVzdC9kb2NzL2FwaS91dGlsLmh0bWwjdXRpbF9jdXN0b21faW5zcGVjdF9mdW5jdGlvbl9vbl9vYmplY3RzXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5zcGVjdCAoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiAnbW9tZW50LmludmFsaWQoLyogJyArIHRoaXMuX2kgKyAnICovKSc7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZ1bmMgPSAnbW9tZW50JztcbiAgICAgICAgdmFyIHpvbmUgPSAnJztcbiAgICAgICAgaWYgKCF0aGlzLmlzTG9jYWwoKSkge1xuICAgICAgICAgICAgZnVuYyA9IHRoaXMudXRjT2Zmc2V0KCkgPT09IDAgPyAnbW9tZW50LnV0YycgOiAnbW9tZW50LnBhcnNlWm9uZSc7XG4gICAgICAgICAgICB6b25lID0gJ1onO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcmVmaXggPSAnWycgKyBmdW5jICsgJyhcIl0nO1xuICAgICAgICB2YXIgeWVhciA9ICgwIDw9IHRoaXMueWVhcigpICYmIHRoaXMueWVhcigpIDw9IDk5OTkpID8gJ1lZWVknIDogJ1lZWVlZWSc7XG4gICAgICAgIHZhciBkYXRldGltZSA9ICctTU0tRERbVF1ISDptbTpzcy5TU1MnO1xuICAgICAgICB2YXIgc3VmZml4ID0gem9uZSArICdbXCIpXSc7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0KHByZWZpeCArIHllYXIgKyBkYXRldGltZSArIHN1ZmZpeCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZm9ybWF0IChpbnB1dFN0cmluZykge1xuICAgICAgICBpZiAoIWlucHV0U3RyaW5nKSB7XG4gICAgICAgICAgICBpbnB1dFN0cmluZyA9IHRoaXMuaXNVdGMoKSA/IGhvb2tzLmRlZmF1bHRGb3JtYXRVdGMgOiBob29rcy5kZWZhdWx0Rm9ybWF0O1xuICAgICAgICB9XG4gICAgICAgIHZhciBvdXRwdXQgPSBmb3JtYXRNb21lbnQodGhpcywgaW5wdXRTdHJpbmcpO1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkucG9zdGZvcm1hdChvdXRwdXQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZyb20gKHRpbWUsIHdpdGhvdXRTdWZmaXgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNWYWxpZCgpICYmXG4gICAgICAgICAgICAgICAgKChpc01vbWVudCh0aW1lKSAmJiB0aW1lLmlzVmFsaWQoKSkgfHxcbiAgICAgICAgICAgICAgICAgY3JlYXRlTG9jYWwodGltZSkuaXNWYWxpZCgpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUR1cmF0aW9uKHt0bzogdGhpcywgZnJvbTogdGltZX0pLmxvY2FsZSh0aGlzLmxvY2FsZSgpKS5odW1hbml6ZSghd2l0aG91dFN1ZmZpeCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkuaW52YWxpZERhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZyb21Ob3cgKHdpdGhvdXRTdWZmaXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnJvbShjcmVhdGVMb2NhbCgpLCB3aXRob3V0U3VmZml4KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0byAodGltZSwgd2l0aG91dFN1ZmZpeCkge1xuICAgICAgICBpZiAodGhpcy5pc1ZhbGlkKCkgJiZcbiAgICAgICAgICAgICAgICAoKGlzTW9tZW50KHRpbWUpICYmIHRpbWUuaXNWYWxpZCgpKSB8fFxuICAgICAgICAgICAgICAgICBjcmVhdGVMb2NhbCh0aW1lKS5pc1ZhbGlkKCkpKSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlRHVyYXRpb24oe2Zyb206IHRoaXMsIHRvOiB0aW1lfSkubG9jYWxlKHRoaXMubG9jYWxlKCkpLmh1bWFuaXplKCF3aXRob3V0U3VmZml4KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9Ob3cgKHdpdGhvdXRTdWZmaXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG8oY3JlYXRlTG9jYWwoKSwgd2l0aG91dFN1ZmZpeCk7XG4gICAgfVxuXG4gICAgLy8gSWYgcGFzc2VkIGEgbG9jYWxlIGtleSwgaXQgd2lsbCBzZXQgdGhlIGxvY2FsZSBmb3IgdGhpc1xuICAgIC8vIGluc3RhbmNlLiAgT3RoZXJ3aXNlLCBpdCB3aWxsIHJldHVybiB0aGUgbG9jYWxlIGNvbmZpZ3VyYXRpb25cbiAgICAvLyB2YXJpYWJsZXMgZm9yIHRoaXMgaW5zdGFuY2UuXG4gICAgZnVuY3Rpb24gbG9jYWxlIChrZXkpIHtcbiAgICAgICAgdmFyIG5ld0xvY2FsZURhdGE7XG5cbiAgICAgICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9jYWxlLl9hYmJyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3TG9jYWxlRGF0YSA9IGdldExvY2FsZShrZXkpO1xuICAgICAgICAgICAgaWYgKG5ld0xvY2FsZURhdGEgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvY2FsZSA9IG5ld0xvY2FsZURhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBsYW5nID0gZGVwcmVjYXRlKFxuICAgICAgICAnbW9tZW50KCkubGFuZygpIGlzIGRlcHJlY2F0ZWQuIEluc3RlYWQsIHVzZSBtb21lbnQoKS5sb2NhbGVEYXRhKCkgdG8gZ2V0IHRoZSBsYW5ndWFnZSBjb25maWd1cmF0aW9uLiBVc2UgbW9tZW50KCkubG9jYWxlKCkgdG8gY2hhbmdlIGxhbmd1YWdlcy4nLFxuICAgICAgICBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZShrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgKTtcblxuICAgIGZ1bmN0aW9uIGxvY2FsZURhdGEgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbG9jYWxlO1xuICAgIH1cblxuICAgIHZhciBNU19QRVJfU0VDT05EID0gMTAwMDtcbiAgICB2YXIgTVNfUEVSX01JTlVURSA9IDYwICogTVNfUEVSX1NFQ09ORDtcbiAgICB2YXIgTVNfUEVSX0hPVVIgPSA2MCAqIE1TX1BFUl9NSU5VVEU7XG4gICAgdmFyIE1TX1BFUl80MDBfWUVBUlMgPSAoMzY1ICogNDAwICsgOTcpICogMjQgKiBNU19QRVJfSE9VUjtcblxuICAgIC8vIGFjdHVhbCBtb2R1bG8gLSBoYW5kbGVzIG5lZ2F0aXZlIG51bWJlcnMgKGZvciBkYXRlcyBiZWZvcmUgMTk3MCk6XG4gICAgZnVuY3Rpb24gbW9kJDEoZGl2aWRlbmQsIGRpdmlzb3IpIHtcbiAgICAgICAgcmV0dXJuIChkaXZpZGVuZCAlIGRpdmlzb3IgKyBkaXZpc29yKSAlIGRpdmlzb3I7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9jYWxTdGFydE9mRGF0ZSh5LCBtLCBkKSB7XG4gICAgICAgIC8vIHRoZSBkYXRlIGNvbnN0cnVjdG9yIHJlbWFwcyB5ZWFycyAwLTk5IHRvIDE5MDAtMTk5OVxuICAgICAgICBpZiAoeSA8IDEwMCAmJiB5ID49IDApIHtcbiAgICAgICAgICAgIC8vIHByZXNlcnZlIGxlYXAgeWVhcnMgdXNpbmcgYSBmdWxsIDQwMCB5ZWFyIGN5Y2xlLCB0aGVuIHJlc2V0XG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoeSArIDQwMCwgbSwgZCkgLSBNU19QRVJfNDAwX1lFQVJTO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHksIG0sIGQpLnZhbHVlT2YoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHV0Y1N0YXJ0T2ZEYXRlKHksIG0sIGQpIHtcbiAgICAgICAgLy8gRGF0ZS5VVEMgcmVtYXBzIHllYXJzIDAtOTkgdG8gMTkwMC0xOTk5XG4gICAgICAgIGlmICh5IDwgMTAwICYmIHkgPj0gMCkge1xuICAgICAgICAgICAgLy8gcHJlc2VydmUgbGVhcCB5ZWFycyB1c2luZyBhIGZ1bGwgNDAwIHllYXIgY3ljbGUsIHRoZW4gcmVzZXRcbiAgICAgICAgICAgIHJldHVybiBEYXRlLlVUQyh5ICsgNDAwLCBtLCBkKSAtIE1TX1BFUl80MDBfWUVBUlM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gRGF0ZS5VVEMoeSwgbSwgZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzdGFydE9mICh1bml0cykge1xuICAgICAgICB2YXIgdGltZTtcbiAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG4gICAgICAgIGlmICh1bml0cyA9PT0gdW5kZWZpbmVkIHx8IHVuaXRzID09PSAnbWlsbGlzZWNvbmQnIHx8ICF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3RhcnRPZkRhdGUgPSB0aGlzLl9pc1VUQyA/IHV0Y1N0YXJ0T2ZEYXRlIDogbG9jYWxTdGFydE9mRGF0ZTtcblxuICAgICAgICBzd2l0Y2ggKHVuaXRzKSB7XG4gICAgICAgICAgICBjYXNlICd5ZWFyJzpcbiAgICAgICAgICAgICAgICB0aW1lID0gc3RhcnRPZkRhdGUodGhpcy55ZWFyKCksIDAsIDEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncXVhcnRlcic6XG4gICAgICAgICAgICAgICAgdGltZSA9IHN0YXJ0T2ZEYXRlKHRoaXMueWVhcigpLCB0aGlzLm1vbnRoKCkgLSB0aGlzLm1vbnRoKCkgJSAzLCAxKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ21vbnRoJzpcbiAgICAgICAgICAgICAgICB0aW1lID0gc3RhcnRPZkRhdGUodGhpcy55ZWFyKCksIHRoaXMubW9udGgoKSwgMSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd3ZWVrJzpcbiAgICAgICAgICAgICAgICB0aW1lID0gc3RhcnRPZkRhdGUodGhpcy55ZWFyKCksIHRoaXMubW9udGgoKSwgdGhpcy5kYXRlKCkgLSB0aGlzLndlZWtkYXkoKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdpc29XZWVrJzpcbiAgICAgICAgICAgICAgICB0aW1lID0gc3RhcnRPZkRhdGUodGhpcy55ZWFyKCksIHRoaXMubW9udGgoKSwgdGhpcy5kYXRlKCkgLSAodGhpcy5pc29XZWVrZGF5KCkgLSAxKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdkYXknOlxuICAgICAgICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICAgICAgICAgICAgdGltZSA9IHN0YXJ0T2ZEYXRlKHRoaXMueWVhcigpLCB0aGlzLm1vbnRoKCksIHRoaXMuZGF0ZSgpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2hvdXInOlxuICAgICAgICAgICAgICAgIHRpbWUgPSB0aGlzLl9kLnZhbHVlT2YoKTtcbiAgICAgICAgICAgICAgICB0aW1lIC09IG1vZCQxKHRpbWUgKyAodGhpcy5faXNVVEMgPyAwIDogdGhpcy51dGNPZmZzZXQoKSAqIE1TX1BFUl9NSU5VVEUpLCBNU19QRVJfSE9VUik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdtaW51dGUnOlxuICAgICAgICAgICAgICAgIHRpbWUgPSB0aGlzLl9kLnZhbHVlT2YoKTtcbiAgICAgICAgICAgICAgICB0aW1lIC09IG1vZCQxKHRpbWUsIE1TX1BFUl9NSU5VVEUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc2Vjb25kJzpcbiAgICAgICAgICAgICAgICB0aW1lID0gdGhpcy5fZC52YWx1ZU9mKCk7XG4gICAgICAgICAgICAgICAgdGltZSAtPSBtb2QkMSh0aW1lLCBNU19QRVJfU0VDT05EKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2Quc2V0VGltZSh0aW1lKTtcbiAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHRoaXMsIHRydWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBlbmRPZiAodW5pdHMpIHtcbiAgICAgICAgdmFyIHRpbWU7XG4gICAgICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuICAgICAgICBpZiAodW5pdHMgPT09IHVuZGVmaW5lZCB8fCB1bml0cyA9PT0gJ21pbGxpc2Vjb25kJyB8fCAhdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN0YXJ0T2ZEYXRlID0gdGhpcy5faXNVVEMgPyB1dGNTdGFydE9mRGF0ZSA6IGxvY2FsU3RhcnRPZkRhdGU7XG5cbiAgICAgICAgc3dpdGNoICh1bml0cykge1xuICAgICAgICAgICAgY2FzZSAneWVhcic6XG4gICAgICAgICAgICAgICAgdGltZSA9IHN0YXJ0T2ZEYXRlKHRoaXMueWVhcigpICsgMSwgMCwgMSkgLSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncXVhcnRlcic6XG4gICAgICAgICAgICAgICAgdGltZSA9IHN0YXJ0T2ZEYXRlKHRoaXMueWVhcigpLCB0aGlzLm1vbnRoKCkgLSB0aGlzLm1vbnRoKCkgJSAzICsgMywgMSkgLSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbW9udGgnOlxuICAgICAgICAgICAgICAgIHRpbWUgPSBzdGFydE9mRGF0ZSh0aGlzLnllYXIoKSwgdGhpcy5tb250aCgpICsgMSwgMSkgLSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnd2Vlayc6XG4gICAgICAgICAgICAgICAgdGltZSA9IHN0YXJ0T2ZEYXRlKHRoaXMueWVhcigpLCB0aGlzLm1vbnRoKCksIHRoaXMuZGF0ZSgpIC0gdGhpcy53ZWVrZGF5KCkgKyA3KSAtIDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdpc29XZWVrJzpcbiAgICAgICAgICAgICAgICB0aW1lID0gc3RhcnRPZkRhdGUodGhpcy55ZWFyKCksIHRoaXMubW9udGgoKSwgdGhpcy5kYXRlKCkgLSAodGhpcy5pc29XZWVrZGF5KCkgLSAxKSArIDcpIC0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2RheSc6XG4gICAgICAgICAgICBjYXNlICdkYXRlJzpcbiAgICAgICAgICAgICAgICB0aW1lID0gc3RhcnRPZkRhdGUodGhpcy55ZWFyKCksIHRoaXMubW9udGgoKSwgdGhpcy5kYXRlKCkgKyAxKSAtIDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdob3VyJzpcbiAgICAgICAgICAgICAgICB0aW1lID0gdGhpcy5fZC52YWx1ZU9mKCk7XG4gICAgICAgICAgICAgICAgdGltZSArPSBNU19QRVJfSE9VUiAtIG1vZCQxKHRpbWUgKyAodGhpcy5faXNVVEMgPyAwIDogdGhpcy51dGNPZmZzZXQoKSAqIE1TX1BFUl9NSU5VVEUpLCBNU19QRVJfSE9VUikgLSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbWludXRlJzpcbiAgICAgICAgICAgICAgICB0aW1lID0gdGhpcy5fZC52YWx1ZU9mKCk7XG4gICAgICAgICAgICAgICAgdGltZSArPSBNU19QRVJfTUlOVVRFIC0gbW9kJDEodGltZSwgTVNfUEVSX01JTlVURSkgLSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc2Vjb25kJzpcbiAgICAgICAgICAgICAgICB0aW1lID0gdGhpcy5fZC52YWx1ZU9mKCk7XG4gICAgICAgICAgICAgICAgdGltZSArPSBNU19QRVJfU0VDT05EIC0gbW9kJDEodGltZSwgTVNfUEVSX1NFQ09ORCkgLSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZC5zZXRUaW1lKHRpbWUpO1xuICAgICAgICBob29rcy51cGRhdGVPZmZzZXQodGhpcywgdHJ1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHZhbHVlT2YgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZC52YWx1ZU9mKCkgLSAoKHRoaXMuX29mZnNldCB8fCAwKSAqIDYwMDAwKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1bml4ICgpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IodGhpcy52YWx1ZU9mKCkgLyAxMDAwKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0b0RhdGUgKCkge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUodGhpcy52YWx1ZU9mKCkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRvQXJyYXkgKCkge1xuICAgICAgICB2YXIgbSA9IHRoaXM7XG4gICAgICAgIHJldHVybiBbbS55ZWFyKCksIG0ubW9udGgoKSwgbS5kYXRlKCksIG0uaG91cigpLCBtLm1pbnV0ZSgpLCBtLnNlY29uZCgpLCBtLm1pbGxpc2Vjb25kKCldO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRvT2JqZWN0ICgpIHtcbiAgICAgICAgdmFyIG0gPSB0aGlzO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeWVhcnM6IG0ueWVhcigpLFxuICAgICAgICAgICAgbW9udGhzOiBtLm1vbnRoKCksXG4gICAgICAgICAgICBkYXRlOiBtLmRhdGUoKSxcbiAgICAgICAgICAgIGhvdXJzOiBtLmhvdXJzKCksXG4gICAgICAgICAgICBtaW51dGVzOiBtLm1pbnV0ZXMoKSxcbiAgICAgICAgICAgIHNlY29uZHM6IG0uc2Vjb25kcygpLFxuICAgICAgICAgICAgbWlsbGlzZWNvbmRzOiBtLm1pbGxpc2Vjb25kcygpXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9KU09OICgpIHtcbiAgICAgICAgLy8gbmV3IERhdGUoTmFOKS50b0pTT04oKSA9PT0gbnVsbFxuICAgICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyB0aGlzLnRvSVNPU3RyaW5nKCkgOiBudWxsO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzVmFsaWQkMiAoKSB7XG4gICAgICAgIHJldHVybiBpc1ZhbGlkKHRoaXMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNpbmdGbGFncyAoKSB7XG4gICAgICAgIHJldHVybiBleHRlbmQoe30sIGdldFBhcnNpbmdGbGFncyh0aGlzKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW52YWxpZEF0ICgpIHtcbiAgICAgICAgcmV0dXJuIGdldFBhcnNpbmdGbGFncyh0aGlzKS5vdmVyZmxvdztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGlvbkRhdGEoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpbnB1dDogdGhpcy5faSxcbiAgICAgICAgICAgIGZvcm1hdDogdGhpcy5fZixcbiAgICAgICAgICAgIGxvY2FsZTogdGhpcy5fbG9jYWxlLFxuICAgICAgICAgICAgaXNVVEM6IHRoaXMuX2lzVVRDLFxuICAgICAgICAgICAgc3RyaWN0OiB0aGlzLl9zdHJpY3RcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ2dnJywgMl0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2Vla1llYXIoKSAlIDEwMDtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnR0cnLCAyXSwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc29XZWVrWWVhcigpICUgMTAwO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gYWRkV2Vla1llYXJGb3JtYXRUb2tlbiAodG9rZW4sIGdldHRlcikge1xuICAgICAgICBhZGRGb3JtYXRUb2tlbigwLCBbdG9rZW4sIHRva2VuLmxlbmd0aF0sIDAsIGdldHRlcik7XG4gICAgfVxuXG4gICAgYWRkV2Vla1llYXJGb3JtYXRUb2tlbignZ2dnZycsICAgICAnd2Vla1llYXInKTtcbiAgICBhZGRXZWVrWWVhckZvcm1hdFRva2VuKCdnZ2dnZycsICAgICd3ZWVrWWVhcicpO1xuICAgIGFkZFdlZWtZZWFyRm9ybWF0VG9rZW4oJ0dHR0cnLCAgJ2lzb1dlZWtZZWFyJyk7XG4gICAgYWRkV2Vla1llYXJGb3JtYXRUb2tlbignR0dHR0cnLCAnaXNvV2Vla1llYXInKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygnd2Vla1llYXInLCAnZ2cnKTtcbiAgICBhZGRVbml0QWxpYXMoJ2lzb1dlZWtZZWFyJywgJ0dHJyk7XG5cbiAgICAvLyBQUklPUklUWVxuXG4gICAgYWRkVW5pdFByaW9yaXR5KCd3ZWVrWWVhcicsIDEpO1xuICAgIGFkZFVuaXRQcmlvcml0eSgnaXNvV2Vla1llYXInLCAxKTtcblxuXG4gICAgLy8gUEFSU0lOR1xuXG4gICAgYWRkUmVnZXhUb2tlbignRycsICAgICAgbWF0Y2hTaWduZWQpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2cnLCAgICAgIG1hdGNoU2lnbmVkKTtcbiAgICBhZGRSZWdleFRva2VuKCdHRycsICAgICBtYXRjaDF0bzIsIG1hdGNoMik7XG4gICAgYWRkUmVnZXhUb2tlbignZ2cnLCAgICAgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0dHR0cnLCAgIG1hdGNoMXRvNCwgbWF0Y2g0KTtcbiAgICBhZGRSZWdleFRva2VuKCdnZ2dnJywgICBtYXRjaDF0bzQsIG1hdGNoNCk7XG4gICAgYWRkUmVnZXhUb2tlbignR0dHR0cnLCAgbWF0Y2gxdG82LCBtYXRjaDYpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2dnZ2dnJywgIG1hdGNoMXRvNiwgbWF0Y2g2KTtcblxuICAgIGFkZFdlZWtQYXJzZVRva2VuKFsnZ2dnZycsICdnZ2dnZycsICdHR0dHJywgJ0dHR0dHJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuICAgICAgICB3ZWVrW3Rva2VuLnN1YnN0cigwLCAyKV0gPSB0b0ludChpbnB1dCk7XG4gICAgfSk7XG5cbiAgICBhZGRXZWVrUGFyc2VUb2tlbihbJ2dnJywgJ0dHJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuICAgICAgICB3ZWVrW3Rva2VuXSA9IGhvb2tzLnBhcnNlVHdvRGlnaXRZZWFyKGlucHV0KTtcbiAgICB9KTtcblxuICAgIC8vIE1PTUVOVFNcblxuICAgIGZ1bmN0aW9uIGdldFNldFdlZWtZZWFyIChpbnB1dCkge1xuICAgICAgICByZXR1cm4gZ2V0U2V0V2Vla1llYXJIZWxwZXIuY2FsbCh0aGlzLFxuICAgICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICAgIHRoaXMud2VlaygpLFxuICAgICAgICAgICAgICAgIHRoaXMud2Vla2RheSgpLFxuICAgICAgICAgICAgICAgIHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrLmRvdyxcbiAgICAgICAgICAgICAgICB0aGlzLmxvY2FsZURhdGEoKS5fd2Vlay5kb3kpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFNldElTT1dlZWtZZWFyIChpbnB1dCkge1xuICAgICAgICByZXR1cm4gZ2V0U2V0V2Vla1llYXJIZWxwZXIuY2FsbCh0aGlzLFxuICAgICAgICAgICAgICAgIGlucHV0LCB0aGlzLmlzb1dlZWsoKSwgdGhpcy5pc29XZWVrZGF5KCksIDEsIDQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldElTT1dlZWtzSW5ZZWFyICgpIHtcbiAgICAgICAgcmV0dXJuIHdlZWtzSW5ZZWFyKHRoaXMueWVhcigpLCAxLCA0KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRXZWVrc0luWWVhciAoKSB7XG4gICAgICAgIHZhciB3ZWVrSW5mbyA9IHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrO1xuICAgICAgICByZXR1cm4gd2Vla3NJblllYXIodGhpcy55ZWFyKCksIHdlZWtJbmZvLmRvdywgd2Vla0luZm8uZG95KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRTZXRXZWVrWWVhckhlbHBlcihpbnB1dCwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpIHtcbiAgICAgICAgdmFyIHdlZWtzVGFyZ2V0O1xuICAgICAgICBpZiAoaW5wdXQgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHdlZWtPZlllYXIodGhpcywgZG93LCBkb3kpLnllYXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3ZWVrc1RhcmdldCA9IHdlZWtzSW5ZZWFyKGlucHV0LCBkb3csIGRveSk7XG4gICAgICAgICAgICBpZiAod2VlayA+IHdlZWtzVGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgd2VlayA9IHdlZWtzVGFyZ2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHNldFdlZWtBbGwuY2FsbCh0aGlzLCBpbnB1dCwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0V2Vla0FsbCh3ZWVrWWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpIHtcbiAgICAgICAgdmFyIGRheU9mWWVhckRhdGEgPSBkYXlPZlllYXJGcm9tV2Vla3Mod2Vla1llYXIsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KSxcbiAgICAgICAgICAgIGRhdGUgPSBjcmVhdGVVVENEYXRlKGRheU9mWWVhckRhdGEueWVhciwgMCwgZGF5T2ZZZWFyRGF0YS5kYXlPZlllYXIpO1xuXG4gICAgICAgIHRoaXMueWVhcihkYXRlLmdldFVUQ0Z1bGxZZWFyKCkpO1xuICAgICAgICB0aGlzLm1vbnRoKGRhdGUuZ2V0VVRDTW9udGgoKSk7XG4gICAgICAgIHRoaXMuZGF0ZShkYXRlLmdldFVUQ0RhdGUoKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEZPUk1BVFRJTkdcblxuICAgIGFkZEZvcm1hdFRva2VuKCdRJywgMCwgJ1FvJywgJ3F1YXJ0ZXInKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygncXVhcnRlcicsICdRJyk7XG5cbiAgICAvLyBQUklPUklUWVxuXG4gICAgYWRkVW5pdFByaW9yaXR5KCdxdWFydGVyJywgNyk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdRJywgbWF0Y2gxKTtcbiAgICBhZGRQYXJzZVRva2VuKCdRJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgICAgICBhcnJheVtNT05USF0gPSAodG9JbnQoaW5wdXQpIC0gMSkgKiAzO1xuICAgIH0pO1xuXG4gICAgLy8gTU9NRU5UU1xuXG4gICAgZnVuY3Rpb24gZ2V0U2V0UXVhcnRlciAoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyBNYXRoLmNlaWwoKHRoaXMubW9udGgoKSArIDEpIC8gMykgOiB0aGlzLm1vbnRoKChpbnB1dCAtIDEpICogMyArIHRoaXMubW9udGgoKSAlIDMpO1xuICAgIH1cblxuICAgIC8vIEZPUk1BVFRJTkdcblxuICAgIGFkZEZvcm1hdFRva2VuKCdEJywgWydERCcsIDJdLCAnRG8nLCAnZGF0ZScpO1xuXG4gICAgLy8gQUxJQVNFU1xuXG4gICAgYWRkVW5pdEFsaWFzKCdkYXRlJywgJ0QnKTtcblxuICAgIC8vIFBSSU9SSVRZXG4gICAgYWRkVW5pdFByaW9yaXR5KCdkYXRlJywgOSk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdEJywgIG1hdGNoMXRvMik7XG4gICAgYWRkUmVnZXhUb2tlbignREQnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG4gICAgYWRkUmVnZXhUb2tlbignRG8nLCBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgICAgICAvLyBUT0RPOiBSZW1vdmUgXCJvcmRpbmFsUGFyc2VcIiBmYWxsYmFjayBpbiBuZXh0IG1ham9yIHJlbGVhc2UuXG4gICAgICAgIHJldHVybiBpc1N0cmljdCA/XG4gICAgICAgICAgKGxvY2FsZS5fZGF5T2ZNb250aE9yZGluYWxQYXJzZSB8fCBsb2NhbGUuX29yZGluYWxQYXJzZSkgOlxuICAgICAgICAgIGxvY2FsZS5fZGF5T2ZNb250aE9yZGluYWxQYXJzZUxlbmllbnQ7XG4gICAgfSk7XG5cbiAgICBhZGRQYXJzZVRva2VuKFsnRCcsICdERCddLCBEQVRFKTtcbiAgICBhZGRQYXJzZVRva2VuKCdEbycsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICAgICAgYXJyYXlbREFURV0gPSB0b0ludChpbnB1dC5tYXRjaChtYXRjaDF0bzIpWzBdKTtcbiAgICB9KTtcblxuICAgIC8vIE1PTUVOVFNcblxuICAgIHZhciBnZXRTZXREYXlPZk1vbnRoID0gbWFrZUdldFNldCgnRGF0ZScsIHRydWUpO1xuXG4gICAgLy8gRk9STUFUVElOR1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ0RERCcsIFsnRERERCcsIDNdLCAnREREbycsICdkYXlPZlllYXInKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygnZGF5T2ZZZWFyJywgJ0RERCcpO1xuXG4gICAgLy8gUFJJT1JJVFlcbiAgICBhZGRVbml0UHJpb3JpdHkoJ2RheU9mWWVhcicsIDQpO1xuXG4gICAgLy8gUEFSU0lOR1xuXG4gICAgYWRkUmVnZXhUb2tlbignREREJywgIG1hdGNoMXRvMyk7XG4gICAgYWRkUmVnZXhUb2tlbignRERERCcsIG1hdGNoMyk7XG4gICAgYWRkUGFyc2VUb2tlbihbJ0RERCcsICdEREREJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgICAgICBjb25maWcuX2RheU9mWWVhciA9IHRvSW50KGlucHV0KTtcbiAgICB9KTtcblxuICAgIC8vIEhFTFBFUlNcblxuICAgIC8vIE1PTUVOVFNcblxuICAgIGZ1bmN0aW9uIGdldFNldERheU9mWWVhciAoaW5wdXQpIHtcbiAgICAgICAgdmFyIGRheU9mWWVhciA9IE1hdGgucm91bmQoKHRoaXMuY2xvbmUoKS5zdGFydE9mKCdkYXknKSAtIHRoaXMuY2xvbmUoKS5zdGFydE9mKCd5ZWFyJykpIC8gODY0ZTUpICsgMTtcbiAgICAgICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyBkYXlPZlllYXIgOiB0aGlzLmFkZCgoaW5wdXQgLSBkYXlPZlllYXIpLCAnZCcpO1xuICAgIH1cblxuICAgIC8vIEZPUk1BVFRJTkdcblxuICAgIGFkZEZvcm1hdFRva2VuKCdtJywgWydtbScsIDJdLCAwLCAnbWludXRlJyk7XG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ21pbnV0ZScsICdtJyk7XG5cbiAgICAvLyBQUklPUklUWVxuXG4gICAgYWRkVW5pdFByaW9yaXR5KCdtaW51dGUnLCAxNCk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdtJywgIG1hdGNoMXRvMik7XG4gICAgYWRkUmVnZXhUb2tlbignbW0nLCBtYXRjaDF0bzIsIG1hdGNoMik7XG4gICAgYWRkUGFyc2VUb2tlbihbJ20nLCAnbW0nXSwgTUlOVVRFKTtcblxuICAgIC8vIE1PTUVOVFNcblxuICAgIHZhciBnZXRTZXRNaW51dGUgPSBtYWtlR2V0U2V0KCdNaW51dGVzJywgZmFsc2UpO1xuXG4gICAgLy8gRk9STUFUVElOR1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ3MnLCBbJ3NzJywgMl0sIDAsICdzZWNvbmQnKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygnc2Vjb25kJywgJ3MnKTtcblxuICAgIC8vIFBSSU9SSVRZXG5cbiAgICBhZGRVbml0UHJpb3JpdHkoJ3NlY29uZCcsIDE1KTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ3MnLCAgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdzcycsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbiAgICBhZGRQYXJzZVRva2VuKFsncycsICdzcyddLCBTRUNPTkQpO1xuXG4gICAgLy8gTU9NRU5UU1xuXG4gICAgdmFyIGdldFNldFNlY29uZCA9IG1ha2VHZXRTZXQoJ1NlY29uZHMnLCBmYWxzZSk7XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBhZGRGb3JtYXRUb2tlbignUycsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIH5+KHRoaXMubWlsbGlzZWNvbmQoKSAvIDEwMCk7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTJywgMl0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIH5+KHRoaXMubWlsbGlzZWNvbmQoKSAvIDEwKTtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnU1NTJywgM10sIDAsICdtaWxsaXNlY29uZCcpO1xuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnU1NTUycsIDRdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDtcbiAgICB9KTtcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTJywgNV0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDtcbiAgICB9KTtcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTUycsIDZdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDAwO1xuICAgIH0pO1xuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnU1NTU1NTUycsIDddLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDAwMDtcbiAgICB9KTtcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTU1NTJywgOF0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDAwMDtcbiAgICB9KTtcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTU1NTUycsIDldLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDAwMDAwO1xuICAgIH0pO1xuXG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ21pbGxpc2Vjb25kJywgJ21zJyk7XG5cbiAgICAvLyBQUklPUklUWVxuXG4gICAgYWRkVW5pdFByaW9yaXR5KCdtaWxsaXNlY29uZCcsIDE2KTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ1MnLCAgICBtYXRjaDF0bzMsIG1hdGNoMSk7XG4gICAgYWRkUmVnZXhUb2tlbignU1MnLCAgIG1hdGNoMXRvMywgbWF0Y2gyKTtcbiAgICBhZGRSZWdleFRva2VuKCdTU1MnLCAgbWF0Y2gxdG8zLCBtYXRjaDMpO1xuXG4gICAgdmFyIHRva2VuO1xuICAgIGZvciAodG9rZW4gPSAnU1NTUyc7IHRva2VuLmxlbmd0aCA8PSA5OyB0b2tlbiArPSAnUycpIHtcbiAgICAgICAgYWRkUmVnZXhUb2tlbih0b2tlbiwgbWF0Y2hVbnNpZ25lZCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VNcyhpbnB1dCwgYXJyYXkpIHtcbiAgICAgICAgYXJyYXlbTUlMTElTRUNPTkRdID0gdG9JbnQoKCcwLicgKyBpbnB1dCkgKiAxMDAwKTtcbiAgICB9XG5cbiAgICBmb3IgKHRva2VuID0gJ1MnOyB0b2tlbi5sZW5ndGggPD0gOTsgdG9rZW4gKz0gJ1MnKSB7XG4gICAgICAgIGFkZFBhcnNlVG9rZW4odG9rZW4sIHBhcnNlTXMpO1xuICAgIH1cbiAgICAvLyBNT01FTlRTXG5cbiAgICB2YXIgZ2V0U2V0TWlsbGlzZWNvbmQgPSBtYWtlR2V0U2V0KCdNaWxsaXNlY29uZHMnLCBmYWxzZSk7XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBhZGRGb3JtYXRUb2tlbigneicsICAwLCAwLCAnem9uZUFiYnInKTtcbiAgICBhZGRGb3JtYXRUb2tlbignenonLCAwLCAwLCAnem9uZU5hbWUnKTtcblxuICAgIC8vIE1PTUVOVFNcblxuICAgIGZ1bmN0aW9uIGdldFpvbmVBYmJyICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzVVRDID8gJ1VUQycgOiAnJztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRab25lTmFtZSAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1VUQyA/ICdDb29yZGluYXRlZCBVbml2ZXJzYWwgVGltZScgOiAnJztcbiAgICB9XG5cbiAgICB2YXIgcHJvdG8gPSBNb21lbnQucHJvdG90eXBlO1xuXG4gICAgcHJvdG8uYWRkICAgICAgICAgICAgICAgPSBhZGQ7XG4gICAgcHJvdG8uY2FsZW5kYXIgICAgICAgICAgPSBjYWxlbmRhciQxO1xuICAgIHByb3RvLmNsb25lICAgICAgICAgICAgID0gY2xvbmU7XG4gICAgcHJvdG8uZGlmZiAgICAgICAgICAgICAgPSBkaWZmO1xuICAgIHByb3RvLmVuZE9mICAgICAgICAgICAgID0gZW5kT2Y7XG4gICAgcHJvdG8uZm9ybWF0ICAgICAgICAgICAgPSBmb3JtYXQ7XG4gICAgcHJvdG8uZnJvbSAgICAgICAgICAgICAgPSBmcm9tO1xuICAgIHByb3RvLmZyb21Ob3cgICAgICAgICAgID0gZnJvbU5vdztcbiAgICBwcm90by50byAgICAgICAgICAgICAgICA9IHRvO1xuICAgIHByb3RvLnRvTm93ICAgICAgICAgICAgID0gdG9Ob3c7XG4gICAgcHJvdG8uZ2V0ICAgICAgICAgICAgICAgPSBzdHJpbmdHZXQ7XG4gICAgcHJvdG8uaW52YWxpZEF0ICAgICAgICAgPSBpbnZhbGlkQXQ7XG4gICAgcHJvdG8uaXNBZnRlciAgICAgICAgICAgPSBpc0FmdGVyO1xuICAgIHByb3RvLmlzQmVmb3JlICAgICAgICAgID0gaXNCZWZvcmU7XG4gICAgcHJvdG8uaXNCZXR3ZWVuICAgICAgICAgPSBpc0JldHdlZW47XG4gICAgcHJvdG8uaXNTYW1lICAgICAgICAgICAgPSBpc1NhbWU7XG4gICAgcHJvdG8uaXNTYW1lT3JBZnRlciAgICAgPSBpc1NhbWVPckFmdGVyO1xuICAgIHByb3RvLmlzU2FtZU9yQmVmb3JlICAgID0gaXNTYW1lT3JCZWZvcmU7XG4gICAgcHJvdG8uaXNWYWxpZCAgICAgICAgICAgPSBpc1ZhbGlkJDI7XG4gICAgcHJvdG8ubGFuZyAgICAgICAgICAgICAgPSBsYW5nO1xuICAgIHByb3RvLmxvY2FsZSAgICAgICAgICAgID0gbG9jYWxlO1xuICAgIHByb3RvLmxvY2FsZURhdGEgICAgICAgID0gbG9jYWxlRGF0YTtcbiAgICBwcm90by5tYXggICAgICAgICAgICAgICA9IHByb3RvdHlwZU1heDtcbiAgICBwcm90by5taW4gICAgICAgICAgICAgICA9IHByb3RvdHlwZU1pbjtcbiAgICBwcm90by5wYXJzaW5nRmxhZ3MgICAgICA9IHBhcnNpbmdGbGFncztcbiAgICBwcm90by5zZXQgICAgICAgICAgICAgICA9IHN0cmluZ1NldDtcbiAgICBwcm90by5zdGFydE9mICAgICAgICAgICA9IHN0YXJ0T2Y7XG4gICAgcHJvdG8uc3VidHJhY3QgICAgICAgICAgPSBzdWJ0cmFjdDtcbiAgICBwcm90by50b0FycmF5ICAgICAgICAgICA9IHRvQXJyYXk7XG4gICAgcHJvdG8udG9PYmplY3QgICAgICAgICAgPSB0b09iamVjdDtcbiAgICBwcm90by50b0RhdGUgICAgICAgICAgICA9IHRvRGF0ZTtcbiAgICBwcm90by50b0lTT1N0cmluZyAgICAgICA9IHRvSVNPU3RyaW5nO1xuICAgIHByb3RvLmluc3BlY3QgICAgICAgICAgID0gaW5zcGVjdDtcbiAgICBwcm90by50b0pTT04gICAgICAgICAgICA9IHRvSlNPTjtcbiAgICBwcm90by50b1N0cmluZyAgICAgICAgICA9IHRvU3RyaW5nO1xuICAgIHByb3RvLnVuaXggICAgICAgICAgICAgID0gdW5peDtcbiAgICBwcm90by52YWx1ZU9mICAgICAgICAgICA9IHZhbHVlT2Y7XG4gICAgcHJvdG8uY3JlYXRpb25EYXRhICAgICAgPSBjcmVhdGlvbkRhdGE7XG4gICAgcHJvdG8ueWVhciAgICAgICA9IGdldFNldFllYXI7XG4gICAgcHJvdG8uaXNMZWFwWWVhciA9IGdldElzTGVhcFllYXI7XG4gICAgcHJvdG8ud2Vla1llYXIgICAgPSBnZXRTZXRXZWVrWWVhcjtcbiAgICBwcm90by5pc29XZWVrWWVhciA9IGdldFNldElTT1dlZWtZZWFyO1xuICAgIHByb3RvLnF1YXJ0ZXIgPSBwcm90by5xdWFydGVycyA9IGdldFNldFF1YXJ0ZXI7XG4gICAgcHJvdG8ubW9udGggICAgICAgPSBnZXRTZXRNb250aDtcbiAgICBwcm90by5kYXlzSW5Nb250aCA9IGdldERheXNJbk1vbnRoO1xuICAgIHByb3RvLndlZWsgICAgICAgICAgID0gcHJvdG8ud2Vla3MgICAgICAgID0gZ2V0U2V0V2VlaztcbiAgICBwcm90by5pc29XZWVrICAgICAgICA9IHByb3RvLmlzb1dlZWtzICAgICA9IGdldFNldElTT1dlZWs7XG4gICAgcHJvdG8ud2Vla3NJblllYXIgICAgPSBnZXRXZWVrc0luWWVhcjtcbiAgICBwcm90by5pc29XZWVrc0luWWVhciA9IGdldElTT1dlZWtzSW5ZZWFyO1xuICAgIHByb3RvLmRhdGUgICAgICAgPSBnZXRTZXREYXlPZk1vbnRoO1xuICAgIHByb3RvLmRheSAgICAgICAgPSBwcm90by5kYXlzICAgICAgICAgICAgID0gZ2V0U2V0RGF5T2ZXZWVrO1xuICAgIHByb3RvLndlZWtkYXkgICAgPSBnZXRTZXRMb2NhbGVEYXlPZldlZWs7XG4gICAgcHJvdG8uaXNvV2Vla2RheSA9IGdldFNldElTT0RheU9mV2VlaztcbiAgICBwcm90by5kYXlPZlllYXIgID0gZ2V0U2V0RGF5T2ZZZWFyO1xuICAgIHByb3RvLmhvdXIgPSBwcm90by5ob3VycyA9IGdldFNldEhvdXI7XG4gICAgcHJvdG8ubWludXRlID0gcHJvdG8ubWludXRlcyA9IGdldFNldE1pbnV0ZTtcbiAgICBwcm90by5zZWNvbmQgPSBwcm90by5zZWNvbmRzID0gZ2V0U2V0U2Vjb25kO1xuICAgIHByb3RvLm1pbGxpc2Vjb25kID0gcHJvdG8ubWlsbGlzZWNvbmRzID0gZ2V0U2V0TWlsbGlzZWNvbmQ7XG4gICAgcHJvdG8udXRjT2Zmc2V0ICAgICAgICAgICAgPSBnZXRTZXRPZmZzZXQ7XG4gICAgcHJvdG8udXRjICAgICAgICAgICAgICAgICAgPSBzZXRPZmZzZXRUb1VUQztcbiAgICBwcm90by5sb2NhbCAgICAgICAgICAgICAgICA9IHNldE9mZnNldFRvTG9jYWw7XG4gICAgcHJvdG8ucGFyc2Vab25lICAgICAgICAgICAgPSBzZXRPZmZzZXRUb1BhcnNlZE9mZnNldDtcbiAgICBwcm90by5oYXNBbGlnbmVkSG91ck9mZnNldCA9IGhhc0FsaWduZWRIb3VyT2Zmc2V0O1xuICAgIHByb3RvLmlzRFNUICAgICAgICAgICAgICAgID0gaXNEYXlsaWdodFNhdmluZ1RpbWU7XG4gICAgcHJvdG8uaXNMb2NhbCAgICAgICAgICAgICAgPSBpc0xvY2FsO1xuICAgIHByb3RvLmlzVXRjT2Zmc2V0ICAgICAgICAgID0gaXNVdGNPZmZzZXQ7XG4gICAgcHJvdG8uaXNVdGMgICAgICAgICAgICAgICAgPSBpc1V0YztcbiAgICBwcm90by5pc1VUQyAgICAgICAgICAgICAgICA9IGlzVXRjO1xuICAgIHByb3RvLnpvbmVBYmJyID0gZ2V0Wm9uZUFiYnI7XG4gICAgcHJvdG8uem9uZU5hbWUgPSBnZXRab25lTmFtZTtcbiAgICBwcm90by5kYXRlcyAgPSBkZXByZWNhdGUoJ2RhdGVzIGFjY2Vzc29yIGlzIGRlcHJlY2F0ZWQuIFVzZSBkYXRlIGluc3RlYWQuJywgZ2V0U2V0RGF5T2ZNb250aCk7XG4gICAgcHJvdG8ubW9udGhzID0gZGVwcmVjYXRlKCdtb250aHMgYWNjZXNzb3IgaXMgZGVwcmVjYXRlZC4gVXNlIG1vbnRoIGluc3RlYWQnLCBnZXRTZXRNb250aCk7XG4gICAgcHJvdG8ueWVhcnMgID0gZGVwcmVjYXRlKCd5ZWFycyBhY2Nlc3NvciBpcyBkZXByZWNhdGVkLiBVc2UgeWVhciBpbnN0ZWFkJywgZ2V0U2V0WWVhcik7XG4gICAgcHJvdG8uem9uZSAgID0gZGVwcmVjYXRlKCdtb21lbnQoKS56b25lIGlzIGRlcHJlY2F0ZWQsIHVzZSBtb21lbnQoKS51dGNPZmZzZXQgaW5zdGVhZC4gaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy96b25lLycsIGdldFNldFpvbmUpO1xuICAgIHByb3RvLmlzRFNUU2hpZnRlZCA9IGRlcHJlY2F0ZSgnaXNEU1RTaGlmdGVkIGlzIGRlcHJlY2F0ZWQuIFNlZSBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL2RzdC1zaGlmdGVkLyBmb3IgbW9yZSBpbmZvcm1hdGlvbicsIGlzRGF5bGlnaHRTYXZpbmdUaW1lU2hpZnRlZCk7XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVVbml4IChpbnB1dCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlTG9jYWwoaW5wdXQgKiAxMDAwKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVJblpvbmUgKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlTG9jYWwuYXBwbHkobnVsbCwgYXJndW1lbnRzKS5wYXJzZVpvbmUoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcmVQYXJzZVBvc3RGb3JtYXQgKHN0cmluZykge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgIH1cblxuICAgIHZhciBwcm90byQxID0gTG9jYWxlLnByb3RvdHlwZTtcblxuICAgIHByb3RvJDEuY2FsZW5kYXIgICAgICAgID0gY2FsZW5kYXI7XG4gICAgcHJvdG8kMS5sb25nRGF0ZUZvcm1hdCAgPSBsb25nRGF0ZUZvcm1hdDtcbiAgICBwcm90byQxLmludmFsaWREYXRlICAgICA9IGludmFsaWREYXRlO1xuICAgIHByb3RvJDEub3JkaW5hbCAgICAgICAgID0gb3JkaW5hbDtcbiAgICBwcm90byQxLnByZXBhcnNlICAgICAgICA9IHByZVBhcnNlUG9zdEZvcm1hdDtcbiAgICBwcm90byQxLnBvc3Rmb3JtYXQgICAgICA9IHByZVBhcnNlUG9zdEZvcm1hdDtcbiAgICBwcm90byQxLnJlbGF0aXZlVGltZSAgICA9IHJlbGF0aXZlVGltZTtcbiAgICBwcm90byQxLnBhc3RGdXR1cmUgICAgICA9IHBhc3RGdXR1cmU7XG4gICAgcHJvdG8kMS5zZXQgICAgICAgICAgICAgPSBzZXQ7XG5cbiAgICBwcm90byQxLm1vbnRocyAgICAgICAgICAgID0gICAgICAgIGxvY2FsZU1vbnRocztcbiAgICBwcm90byQxLm1vbnRoc1Nob3J0ICAgICAgID0gICAgICAgIGxvY2FsZU1vbnRoc1Nob3J0O1xuICAgIHByb3RvJDEubW9udGhzUGFyc2UgICAgICAgPSAgICAgICAgbG9jYWxlTW9udGhzUGFyc2U7XG4gICAgcHJvdG8kMS5tb250aHNSZWdleCAgICAgICA9IG1vbnRoc1JlZ2V4O1xuICAgIHByb3RvJDEubW9udGhzU2hvcnRSZWdleCAgPSBtb250aHNTaG9ydFJlZ2V4O1xuICAgIHByb3RvJDEud2VlayA9IGxvY2FsZVdlZWs7XG4gICAgcHJvdG8kMS5maXJzdERheU9mWWVhciA9IGxvY2FsZUZpcnN0RGF5T2ZZZWFyO1xuICAgIHByb3RvJDEuZmlyc3REYXlPZldlZWsgPSBsb2NhbGVGaXJzdERheU9mV2VlaztcblxuICAgIHByb3RvJDEud2Vla2RheXMgICAgICAgPSAgICAgICAgbG9jYWxlV2Vla2RheXM7XG4gICAgcHJvdG8kMS53ZWVrZGF5c01pbiAgICA9ICAgICAgICBsb2NhbGVXZWVrZGF5c01pbjtcbiAgICBwcm90byQxLndlZWtkYXlzU2hvcnQgID0gICAgICAgIGxvY2FsZVdlZWtkYXlzU2hvcnQ7XG4gICAgcHJvdG8kMS53ZWVrZGF5c1BhcnNlICA9ICAgICAgICBsb2NhbGVXZWVrZGF5c1BhcnNlO1xuXG4gICAgcHJvdG8kMS53ZWVrZGF5c1JlZ2V4ICAgICAgID0gICAgICAgIHdlZWtkYXlzUmVnZXg7XG4gICAgcHJvdG8kMS53ZWVrZGF5c1Nob3J0UmVnZXggID0gICAgICAgIHdlZWtkYXlzU2hvcnRSZWdleDtcbiAgICBwcm90byQxLndlZWtkYXlzTWluUmVnZXggICAgPSAgICAgICAgd2Vla2RheXNNaW5SZWdleDtcblxuICAgIHByb3RvJDEuaXNQTSA9IGxvY2FsZUlzUE07XG4gICAgcHJvdG8kMS5tZXJpZGllbSA9IGxvY2FsZU1lcmlkaWVtO1xuXG4gICAgZnVuY3Rpb24gZ2V0JDEgKGZvcm1hdCwgaW5kZXgsIGZpZWxkLCBzZXR0ZXIpIHtcbiAgICAgICAgdmFyIGxvY2FsZSA9IGdldExvY2FsZSgpO1xuICAgICAgICB2YXIgdXRjID0gY3JlYXRlVVRDKCkuc2V0KHNldHRlciwgaW5kZXgpO1xuICAgICAgICByZXR1cm4gbG9jYWxlW2ZpZWxkXSh1dGMsIGZvcm1hdCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGlzdE1vbnRoc0ltcGwgKGZvcm1hdCwgaW5kZXgsIGZpZWxkKSB7XG4gICAgICAgIGlmIChpc051bWJlcihmb3JtYXQpKSB7XG4gICAgICAgICAgICBpbmRleCA9IGZvcm1hdDtcbiAgICAgICAgICAgIGZvcm1hdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvcm1hdCA9IGZvcm1hdCB8fCAnJztcblxuICAgICAgICBpZiAoaW5kZXggIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldCQxKGZvcm1hdCwgaW5kZXgsIGZpZWxkLCAnbW9udGgnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpO1xuICAgICAgICB2YXIgb3V0ID0gW107XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG4gICAgICAgICAgICBvdXRbaV0gPSBnZXQkMShmb3JtYXQsIGksIGZpZWxkLCAnbW9udGgnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cblxuICAgIC8vICgpXG4gICAgLy8gKDUpXG4gICAgLy8gKGZtdCwgNSlcbiAgICAvLyAoZm10KVxuICAgIC8vICh0cnVlKVxuICAgIC8vICh0cnVlLCA1KVxuICAgIC8vICh0cnVlLCBmbXQsIDUpXG4gICAgLy8gKHRydWUsIGZtdClcbiAgICBmdW5jdGlvbiBsaXN0V2Vla2RheXNJbXBsIChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgsIGZpZWxkKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbG9jYWxlU29ydGVkID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIGlmIChpc051bWJlcihmb3JtYXQpKSB7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBmb3JtYXQ7XG4gICAgICAgICAgICAgICAgZm9ybWF0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3JtYXQgPSBmb3JtYXQgfHwgJyc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3JtYXQgPSBsb2NhbGVTb3J0ZWQ7XG4gICAgICAgICAgICBpbmRleCA9IGZvcm1hdDtcbiAgICAgICAgICAgIGxvY2FsZVNvcnRlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICBpZiAoaXNOdW1iZXIoZm9ybWF0KSkge1xuICAgICAgICAgICAgICAgIGluZGV4ID0gZm9ybWF0O1xuICAgICAgICAgICAgICAgIGZvcm1hdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9ybWF0ID0gZm9ybWF0IHx8ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxvY2FsZSA9IGdldExvY2FsZSgpLFxuICAgICAgICAgICAgc2hpZnQgPSBsb2NhbGVTb3J0ZWQgPyBsb2NhbGUuX3dlZWsuZG93IDogMDtcblxuICAgICAgICBpZiAoaW5kZXggIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldCQxKGZvcm1hdCwgKGluZGV4ICsgc2hpZnQpICUgNywgZmllbGQsICdkYXknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpO1xuICAgICAgICB2YXIgb3V0ID0gW107XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgICAgIG91dFtpXSA9IGdldCQxKGZvcm1hdCwgKGkgKyBzaGlmdCkgJSA3LCBmaWVsZCwgJ2RheScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGlzdE1vbnRocyAoZm9ybWF0LCBpbmRleCkge1xuICAgICAgICByZXR1cm4gbGlzdE1vbnRoc0ltcGwoZm9ybWF0LCBpbmRleCwgJ21vbnRocycpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpc3RNb250aHNTaG9ydCAoZm9ybWF0LCBpbmRleCkge1xuICAgICAgICByZXR1cm4gbGlzdE1vbnRoc0ltcGwoZm9ybWF0LCBpbmRleCwgJ21vbnRoc1Nob3J0Jyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGlzdFdlZWtkYXlzIChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGxpc3RXZWVrZGF5c0ltcGwobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4LCAnd2Vla2RheXMnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaXN0V2Vla2RheXNTaG9ydCAobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4KSB7XG4gICAgICAgIHJldHVybiBsaXN0V2Vla2RheXNJbXBsKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCwgJ3dlZWtkYXlzU2hvcnQnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaXN0V2Vla2RheXNNaW4gKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCkge1xuICAgICAgICByZXR1cm4gbGlzdFdlZWtkYXlzSW1wbChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgsICd3ZWVrZGF5c01pbicpO1xuICAgIH1cblxuICAgIGdldFNldEdsb2JhbExvY2FsZSgnZW4nLCB7XG4gICAgICAgIGRheU9mTW9udGhPcmRpbmFsUGFyc2U6IC9cXGR7MSwyfSh0aHxzdHxuZHxyZCkvLFxuICAgICAgICBvcmRpbmFsIDogZnVuY3Rpb24gKG51bWJlcikge1xuICAgICAgICAgICAgdmFyIGIgPSBudW1iZXIgJSAxMCxcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSAodG9JbnQobnVtYmVyICUgMTAwIC8gMTApID09PSAxKSA/ICd0aCcgOlxuICAgICAgICAgICAgICAgIChiID09PSAxKSA/ICdzdCcgOlxuICAgICAgICAgICAgICAgIChiID09PSAyKSA/ICduZCcgOlxuICAgICAgICAgICAgICAgIChiID09PSAzKSA/ICdyZCcgOiAndGgnO1xuICAgICAgICAgICAgcmV0dXJuIG51bWJlciArIG91dHB1dDtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gU2lkZSBlZmZlY3QgaW1wb3J0c1xuXG4gICAgaG9va3MubGFuZyA9IGRlcHJlY2F0ZSgnbW9tZW50LmxhbmcgaXMgZGVwcmVjYXRlZC4gVXNlIG1vbWVudC5sb2NhbGUgaW5zdGVhZC4nLCBnZXRTZXRHbG9iYWxMb2NhbGUpO1xuICAgIGhvb2tzLmxhbmdEYXRhID0gZGVwcmVjYXRlKCdtb21lbnQubGFuZ0RhdGEgaXMgZGVwcmVjYXRlZC4gVXNlIG1vbWVudC5sb2NhbGVEYXRhIGluc3RlYWQuJywgZ2V0TG9jYWxlKTtcblxuICAgIHZhciBtYXRoQWJzID0gTWF0aC5hYnM7XG5cbiAgICBmdW5jdGlvbiBhYnMgKCkge1xuICAgICAgICB2YXIgZGF0YSAgICAgICAgICAgPSB0aGlzLl9kYXRhO1xuXG4gICAgICAgIHRoaXMuX21pbGxpc2Vjb25kcyA9IG1hdGhBYnModGhpcy5fbWlsbGlzZWNvbmRzKTtcbiAgICAgICAgdGhpcy5fZGF5cyAgICAgICAgID0gbWF0aEFicyh0aGlzLl9kYXlzKTtcbiAgICAgICAgdGhpcy5fbW9udGhzICAgICAgID0gbWF0aEFicyh0aGlzLl9tb250aHMpO1xuXG4gICAgICAgIGRhdGEubWlsbGlzZWNvbmRzICA9IG1hdGhBYnMoZGF0YS5taWxsaXNlY29uZHMpO1xuICAgICAgICBkYXRhLnNlY29uZHMgICAgICAgPSBtYXRoQWJzKGRhdGEuc2Vjb25kcyk7XG4gICAgICAgIGRhdGEubWludXRlcyAgICAgICA9IG1hdGhBYnMoZGF0YS5taW51dGVzKTtcbiAgICAgICAgZGF0YS5ob3VycyAgICAgICAgID0gbWF0aEFicyhkYXRhLmhvdXJzKTtcbiAgICAgICAgZGF0YS5tb250aHMgICAgICAgID0gbWF0aEFicyhkYXRhLm1vbnRocyk7XG4gICAgICAgIGRhdGEueWVhcnMgICAgICAgICA9IG1hdGhBYnMoZGF0YS55ZWFycyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkU3VidHJhY3QkMSAoZHVyYXRpb24sIGlucHV0LCB2YWx1ZSwgZGlyZWN0aW9uKSB7XG4gICAgICAgIHZhciBvdGhlciA9IGNyZWF0ZUR1cmF0aW9uKGlucHV0LCB2YWx1ZSk7XG5cbiAgICAgICAgZHVyYXRpb24uX21pbGxpc2Vjb25kcyArPSBkaXJlY3Rpb24gKiBvdGhlci5fbWlsbGlzZWNvbmRzO1xuICAgICAgICBkdXJhdGlvbi5fZGF5cyAgICAgICAgICs9IGRpcmVjdGlvbiAqIG90aGVyLl9kYXlzO1xuICAgICAgICBkdXJhdGlvbi5fbW9udGhzICAgICAgICs9IGRpcmVjdGlvbiAqIG90aGVyLl9tb250aHM7XG5cbiAgICAgICAgcmV0dXJuIGR1cmF0aW9uLl9idWJibGUoKTtcbiAgICB9XG5cbiAgICAvLyBzdXBwb3J0cyBvbmx5IDIuMC1zdHlsZSBhZGQoMSwgJ3MnKSBvciBhZGQoZHVyYXRpb24pXG4gICAgZnVuY3Rpb24gYWRkJDEgKGlucHV0LCB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gYWRkU3VidHJhY3QkMSh0aGlzLCBpbnB1dCwgdmFsdWUsIDEpO1xuICAgIH1cblxuICAgIC8vIHN1cHBvcnRzIG9ubHkgMi4wLXN0eWxlIHN1YnRyYWN0KDEsICdzJykgb3Igc3VidHJhY3QoZHVyYXRpb24pXG4gICAgZnVuY3Rpb24gc3VidHJhY3QkMSAoaW5wdXQsIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBhZGRTdWJ0cmFjdCQxKHRoaXMsIGlucHV0LCB2YWx1ZSwgLTEpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFic0NlaWwgKG51bWJlcikge1xuICAgICAgICBpZiAobnVtYmVyIDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IobnVtYmVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmNlaWwobnVtYmVyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGJ1YmJsZSAoKSB7XG4gICAgICAgIHZhciBtaWxsaXNlY29uZHMgPSB0aGlzLl9taWxsaXNlY29uZHM7XG4gICAgICAgIHZhciBkYXlzICAgICAgICAgPSB0aGlzLl9kYXlzO1xuICAgICAgICB2YXIgbW9udGhzICAgICAgID0gdGhpcy5fbW9udGhzO1xuICAgICAgICB2YXIgZGF0YSAgICAgICAgID0gdGhpcy5fZGF0YTtcbiAgICAgICAgdmFyIHNlY29uZHMsIG1pbnV0ZXMsIGhvdXJzLCB5ZWFycywgbW9udGhzRnJvbURheXM7XG5cbiAgICAgICAgLy8gaWYgd2UgaGF2ZSBhIG1peCBvZiBwb3NpdGl2ZSBhbmQgbmVnYXRpdmUgdmFsdWVzLCBidWJibGUgZG93biBmaXJzdFxuICAgICAgICAvLyBjaGVjazogaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzIxNjZcbiAgICAgICAgaWYgKCEoKG1pbGxpc2Vjb25kcyA+PSAwICYmIGRheXMgPj0gMCAmJiBtb250aHMgPj0gMCkgfHxcbiAgICAgICAgICAgICAgICAobWlsbGlzZWNvbmRzIDw9IDAgJiYgZGF5cyA8PSAwICYmIG1vbnRocyA8PSAwKSkpIHtcbiAgICAgICAgICAgIG1pbGxpc2Vjb25kcyArPSBhYnNDZWlsKG1vbnRoc1RvRGF5cyhtb250aHMpICsgZGF5cykgKiA4NjRlNTtcbiAgICAgICAgICAgIGRheXMgPSAwO1xuICAgICAgICAgICAgbW9udGhzID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgY29kZSBidWJibGVzIHVwIHZhbHVlcywgc2VlIHRoZSB0ZXN0cyBmb3JcbiAgICAgICAgLy8gZXhhbXBsZXMgb2Ygd2hhdCB0aGF0IG1lYW5zLlxuICAgICAgICBkYXRhLm1pbGxpc2Vjb25kcyA9IG1pbGxpc2Vjb25kcyAlIDEwMDA7XG5cbiAgICAgICAgc2Vjb25kcyAgICAgICAgICAgPSBhYnNGbG9vcihtaWxsaXNlY29uZHMgLyAxMDAwKTtcbiAgICAgICAgZGF0YS5zZWNvbmRzICAgICAgPSBzZWNvbmRzICUgNjA7XG5cbiAgICAgICAgbWludXRlcyAgICAgICAgICAgPSBhYnNGbG9vcihzZWNvbmRzIC8gNjApO1xuICAgICAgICBkYXRhLm1pbnV0ZXMgICAgICA9IG1pbnV0ZXMgJSA2MDtcblxuICAgICAgICBob3VycyAgICAgICAgICAgICA9IGFic0Zsb29yKG1pbnV0ZXMgLyA2MCk7XG4gICAgICAgIGRhdGEuaG91cnMgICAgICAgID0gaG91cnMgJSAyNDtcblxuICAgICAgICBkYXlzICs9IGFic0Zsb29yKGhvdXJzIC8gMjQpO1xuXG4gICAgICAgIC8vIGNvbnZlcnQgZGF5cyB0byBtb250aHNcbiAgICAgICAgbW9udGhzRnJvbURheXMgPSBhYnNGbG9vcihkYXlzVG9Nb250aHMoZGF5cykpO1xuICAgICAgICBtb250aHMgKz0gbW9udGhzRnJvbURheXM7XG4gICAgICAgIGRheXMgLT0gYWJzQ2VpbChtb250aHNUb0RheXMobW9udGhzRnJvbURheXMpKTtcblxuICAgICAgICAvLyAxMiBtb250aHMgLT4gMSB5ZWFyXG4gICAgICAgIHllYXJzID0gYWJzRmxvb3IobW9udGhzIC8gMTIpO1xuICAgICAgICBtb250aHMgJT0gMTI7XG5cbiAgICAgICAgZGF0YS5kYXlzICAgPSBkYXlzO1xuICAgICAgICBkYXRhLm1vbnRocyA9IG1vbnRocztcbiAgICAgICAgZGF0YS55ZWFycyAgPSB5ZWFycztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkYXlzVG9Nb250aHMgKGRheXMpIHtcbiAgICAgICAgLy8gNDAwIHllYXJzIGhhdmUgMTQ2MDk3IGRheXMgKHRha2luZyBpbnRvIGFjY291bnQgbGVhcCB5ZWFyIHJ1bGVzKVxuICAgICAgICAvLyA0MDAgeWVhcnMgaGF2ZSAxMiBtb250aHMgPT09IDQ4MDBcbiAgICAgICAgcmV0dXJuIGRheXMgKiA0ODAwIC8gMTQ2MDk3O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1vbnRoc1RvRGF5cyAobW9udGhzKSB7XG4gICAgICAgIC8vIHRoZSByZXZlcnNlIG9mIGRheXNUb01vbnRoc1xuICAgICAgICByZXR1cm4gbW9udGhzICogMTQ2MDk3IC8gNDgwMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhcyAodW5pdHMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGF5cztcbiAgICAgICAgdmFyIG1vbnRocztcbiAgICAgICAgdmFyIG1pbGxpc2Vjb25kcyA9IHRoaXMuX21pbGxpc2Vjb25kcztcblxuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcblxuICAgICAgICBpZiAodW5pdHMgPT09ICdtb250aCcgfHwgdW5pdHMgPT09ICdxdWFydGVyJyB8fCB1bml0cyA9PT0gJ3llYXInKSB7XG4gICAgICAgICAgICBkYXlzID0gdGhpcy5fZGF5cyArIG1pbGxpc2Vjb25kcyAvIDg2NGU1O1xuICAgICAgICAgICAgbW9udGhzID0gdGhpcy5fbW9udGhzICsgZGF5c1RvTW9udGhzKGRheXMpO1xuICAgICAgICAgICAgc3dpdGNoICh1bml0cykge1xuICAgICAgICAgICAgICAgIGNhc2UgJ21vbnRoJzogICByZXR1cm4gbW9udGhzO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3F1YXJ0ZXInOiByZXR1cm4gbW9udGhzIC8gMztcbiAgICAgICAgICAgICAgICBjYXNlICd5ZWFyJzogICAgcmV0dXJuIG1vbnRocyAvIDEyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gaGFuZGxlIG1pbGxpc2Vjb25kcyBzZXBhcmF0ZWx5IGJlY2F1c2Ugb2YgZmxvYXRpbmcgcG9pbnQgbWF0aCBlcnJvcnMgKGlzc3VlICMxODY3KVxuICAgICAgICAgICAgZGF5cyA9IHRoaXMuX2RheXMgKyBNYXRoLnJvdW5kKG1vbnRoc1RvRGF5cyh0aGlzLl9tb250aHMpKTtcbiAgICAgICAgICAgIHN3aXRjaCAodW5pdHMpIHtcbiAgICAgICAgICAgICAgICBjYXNlICd3ZWVrJyAgIDogcmV0dXJuIGRheXMgLyA3ICAgICArIG1pbGxpc2Vjb25kcyAvIDYwNDhlNTtcbiAgICAgICAgICAgICAgICBjYXNlICdkYXknICAgIDogcmV0dXJuIGRheXMgICAgICAgICArIG1pbGxpc2Vjb25kcyAvIDg2NGU1O1xuICAgICAgICAgICAgICAgIGNhc2UgJ2hvdXInICAgOiByZXR1cm4gZGF5cyAqIDI0ICAgICsgbWlsbGlzZWNvbmRzIC8gMzZlNTtcbiAgICAgICAgICAgICAgICBjYXNlICdtaW51dGUnIDogcmV0dXJuIGRheXMgKiAxNDQwICArIG1pbGxpc2Vjb25kcyAvIDZlNDtcbiAgICAgICAgICAgICAgICBjYXNlICdzZWNvbmQnIDogcmV0dXJuIGRheXMgKiA4NjQwMCArIG1pbGxpc2Vjb25kcyAvIDEwMDA7XG4gICAgICAgICAgICAgICAgLy8gTWF0aC5mbG9vciBwcmV2ZW50cyBmbG9hdGluZyBwb2ludCBtYXRoIGVycm9ycyBoZXJlXG4gICAgICAgICAgICAgICAgY2FzZSAnbWlsbGlzZWNvbmQnOiByZXR1cm4gTWF0aC5mbG9vcihkYXlzICogODY0ZTUpICsgbWlsbGlzZWNvbmRzO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcignVW5rbm93biB1bml0ICcgKyB1bml0cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUT0RPOiBVc2UgdGhpcy5hcygnbXMnKT9cbiAgICBmdW5jdGlvbiB2YWx1ZU9mJDEgKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICB0aGlzLl9taWxsaXNlY29uZHMgK1xuICAgICAgICAgICAgdGhpcy5fZGF5cyAqIDg2NGU1ICtcbiAgICAgICAgICAgICh0aGlzLl9tb250aHMgJSAxMikgKiAyNTkyZTYgK1xuICAgICAgICAgICAgdG9JbnQodGhpcy5fbW9udGhzIC8gMTIpICogMzE1MzZlNlxuICAgICAgICApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1ha2VBcyAoYWxpYXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFzKGFsaWFzKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgYXNNaWxsaXNlY29uZHMgPSBtYWtlQXMoJ21zJyk7XG4gICAgdmFyIGFzU2Vjb25kcyAgICAgID0gbWFrZUFzKCdzJyk7XG4gICAgdmFyIGFzTWludXRlcyAgICAgID0gbWFrZUFzKCdtJyk7XG4gICAgdmFyIGFzSG91cnMgICAgICAgID0gbWFrZUFzKCdoJyk7XG4gICAgdmFyIGFzRGF5cyAgICAgICAgID0gbWFrZUFzKCdkJyk7XG4gICAgdmFyIGFzV2Vla3MgICAgICAgID0gbWFrZUFzKCd3Jyk7XG4gICAgdmFyIGFzTW9udGhzICAgICAgID0gbWFrZUFzKCdNJyk7XG4gICAgdmFyIGFzUXVhcnRlcnMgICAgID0gbWFrZUFzKCdRJyk7XG4gICAgdmFyIGFzWWVhcnMgICAgICAgID0gbWFrZUFzKCd5Jyk7XG5cbiAgICBmdW5jdGlvbiBjbG9uZSQxICgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUR1cmF0aW9uKHRoaXMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldCQyICh1bml0cykge1xuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gdGhpc1t1bml0cyArICdzJ10oKSA6IE5hTjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYWtlR2V0dGVyKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQoKSA/IHRoaXMuX2RhdGFbbmFtZV0gOiBOYU47XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIG1pbGxpc2Vjb25kcyA9IG1ha2VHZXR0ZXIoJ21pbGxpc2Vjb25kcycpO1xuICAgIHZhciBzZWNvbmRzICAgICAgPSBtYWtlR2V0dGVyKCdzZWNvbmRzJyk7XG4gICAgdmFyIG1pbnV0ZXMgICAgICA9IG1ha2VHZXR0ZXIoJ21pbnV0ZXMnKTtcbiAgICB2YXIgaG91cnMgICAgICAgID0gbWFrZUdldHRlcignaG91cnMnKTtcbiAgICB2YXIgZGF5cyAgICAgICAgID0gbWFrZUdldHRlcignZGF5cycpO1xuICAgIHZhciBtb250aHMgICAgICAgPSBtYWtlR2V0dGVyKCdtb250aHMnKTtcbiAgICB2YXIgeWVhcnMgICAgICAgID0gbWFrZUdldHRlcigneWVhcnMnKTtcblxuICAgIGZ1bmN0aW9uIHdlZWtzICgpIHtcbiAgICAgICAgcmV0dXJuIGFic0Zsb29yKHRoaXMuZGF5cygpIC8gNyk7XG4gICAgfVxuXG4gICAgdmFyIHJvdW5kID0gTWF0aC5yb3VuZDtcbiAgICB2YXIgdGhyZXNob2xkcyA9IHtcbiAgICAgICAgc3M6IDQ0LCAgICAgICAgIC8vIGEgZmV3IHNlY29uZHMgdG8gc2Vjb25kc1xuICAgICAgICBzIDogNDUsICAgICAgICAgLy8gc2Vjb25kcyB0byBtaW51dGVcbiAgICAgICAgbSA6IDQ1LCAgICAgICAgIC8vIG1pbnV0ZXMgdG8gaG91clxuICAgICAgICBoIDogMjIsICAgICAgICAgLy8gaG91cnMgdG8gZGF5XG4gICAgICAgIGQgOiAyNiwgICAgICAgICAvLyBkYXlzIHRvIG1vbnRoXG4gICAgICAgIE0gOiAxMSAgICAgICAgICAvLyBtb250aHMgdG8geWVhclxuICAgIH07XG5cbiAgICAvLyBoZWxwZXIgZnVuY3Rpb24gZm9yIG1vbWVudC5mbi5mcm9tLCBtb21lbnQuZm4uZnJvbU5vdywgYW5kIG1vbWVudC5kdXJhdGlvbi5mbi5odW1hbml6ZVxuICAgIGZ1bmN0aW9uIHN1YnN0aXR1dGVUaW1lQWdvKHN0cmluZywgbnVtYmVyLCB3aXRob3V0U3VmZml4LCBpc0Z1dHVyZSwgbG9jYWxlKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGUucmVsYXRpdmVUaW1lKG51bWJlciB8fCAxLCAhIXdpdGhvdXRTdWZmaXgsIHN0cmluZywgaXNGdXR1cmUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbGF0aXZlVGltZSQxIChwb3NOZWdEdXJhdGlvbiwgd2l0aG91dFN1ZmZpeCwgbG9jYWxlKSB7XG4gICAgICAgIHZhciBkdXJhdGlvbiA9IGNyZWF0ZUR1cmF0aW9uKHBvc05lZ0R1cmF0aW9uKS5hYnMoKTtcbiAgICAgICAgdmFyIHNlY29uZHMgID0gcm91bmQoZHVyYXRpb24uYXMoJ3MnKSk7XG4gICAgICAgIHZhciBtaW51dGVzICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdtJykpO1xuICAgICAgICB2YXIgaG91cnMgICAgPSByb3VuZChkdXJhdGlvbi5hcygnaCcpKTtcbiAgICAgICAgdmFyIGRheXMgICAgID0gcm91bmQoZHVyYXRpb24uYXMoJ2QnKSk7XG4gICAgICAgIHZhciBtb250aHMgICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdNJykpO1xuICAgICAgICB2YXIgeWVhcnMgICAgPSByb3VuZChkdXJhdGlvbi5hcygneScpKTtcblxuICAgICAgICB2YXIgYSA9IHNlY29uZHMgPD0gdGhyZXNob2xkcy5zcyAmJiBbJ3MnLCBzZWNvbmRzXSAgfHxcbiAgICAgICAgICAgICAgICBzZWNvbmRzIDwgdGhyZXNob2xkcy5zICAgJiYgWydzcycsIHNlY29uZHNdIHx8XG4gICAgICAgICAgICAgICAgbWludXRlcyA8PSAxICAgICAgICAgICAgICYmIFsnbSddICAgICAgICAgICB8fFxuICAgICAgICAgICAgICAgIG1pbnV0ZXMgPCB0aHJlc2hvbGRzLm0gICAmJiBbJ21tJywgbWludXRlc10gfHxcbiAgICAgICAgICAgICAgICBob3VycyAgIDw9IDEgICAgICAgICAgICAgJiYgWydoJ10gICAgICAgICAgIHx8XG4gICAgICAgICAgICAgICAgaG91cnMgICA8IHRocmVzaG9sZHMuaCAgICYmIFsnaGgnLCBob3Vyc10gICB8fFxuICAgICAgICAgICAgICAgIGRheXMgICAgPD0gMSAgICAgICAgICAgICAmJiBbJ2QnXSAgICAgICAgICAgfHxcbiAgICAgICAgICAgICAgICBkYXlzICAgIDwgdGhyZXNob2xkcy5kICAgJiYgWydkZCcsIGRheXNdICAgIHx8XG4gICAgICAgICAgICAgICAgbW9udGhzICA8PSAxICAgICAgICAgICAgICYmIFsnTSddICAgICAgICAgICB8fFxuICAgICAgICAgICAgICAgIG1vbnRocyAgPCB0aHJlc2hvbGRzLk0gICAmJiBbJ01NJywgbW9udGhzXSAgfHxcbiAgICAgICAgICAgICAgICB5ZWFycyAgIDw9IDEgICAgICAgICAgICAgJiYgWyd5J10gICAgICAgICAgIHx8IFsneXknLCB5ZWFyc107XG5cbiAgICAgICAgYVsyXSA9IHdpdGhvdXRTdWZmaXg7XG4gICAgICAgIGFbM10gPSArcG9zTmVnRHVyYXRpb24gPiAwO1xuICAgICAgICBhWzRdID0gbG9jYWxlO1xuICAgICAgICByZXR1cm4gc3Vic3RpdHV0ZVRpbWVBZ28uYXBwbHkobnVsbCwgYSk7XG4gICAgfVxuXG4gICAgLy8gVGhpcyBmdW5jdGlvbiBhbGxvd3MgeW91IHRvIHNldCB0aGUgcm91bmRpbmcgZnVuY3Rpb24gZm9yIHJlbGF0aXZlIHRpbWUgc3RyaW5nc1xuICAgIGZ1bmN0aW9uIGdldFNldFJlbGF0aXZlVGltZVJvdW5kaW5nIChyb3VuZGluZ0Z1bmN0aW9uKSB7XG4gICAgICAgIGlmIChyb3VuZGluZ0Z1bmN0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiByb3VuZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mKHJvdW5kaW5nRnVuY3Rpb24pID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByb3VuZCA9IHJvdW5kaW5nRnVuY3Rpb247XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gVGhpcyBmdW5jdGlvbiBhbGxvd3MgeW91IHRvIHNldCBhIHRocmVzaG9sZCBmb3IgcmVsYXRpdmUgdGltZSBzdHJpbmdzXG4gICAgZnVuY3Rpb24gZ2V0U2V0UmVsYXRpdmVUaW1lVGhyZXNob2xkICh0aHJlc2hvbGQsIGxpbWl0KSB7XG4gICAgICAgIGlmICh0aHJlc2hvbGRzW3RocmVzaG9sZF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsaW1pdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhyZXNob2xkc1t0aHJlc2hvbGRdO1xuICAgICAgICB9XG4gICAgICAgIHRocmVzaG9sZHNbdGhyZXNob2xkXSA9IGxpbWl0O1xuICAgICAgICBpZiAodGhyZXNob2xkID09PSAncycpIHtcbiAgICAgICAgICAgIHRocmVzaG9sZHMuc3MgPSBsaW1pdCAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaHVtYW5pemUgKHdpdGhTdWZmaXgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbG9jYWxlID0gdGhpcy5sb2NhbGVEYXRhKCk7XG4gICAgICAgIHZhciBvdXRwdXQgPSByZWxhdGl2ZVRpbWUkMSh0aGlzLCAhd2l0aFN1ZmZpeCwgbG9jYWxlKTtcblxuICAgICAgICBpZiAod2l0aFN1ZmZpeCkge1xuICAgICAgICAgICAgb3V0cHV0ID0gbG9jYWxlLnBhc3RGdXR1cmUoK3RoaXMsIG91dHB1dCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbG9jYWxlLnBvc3Rmb3JtYXQob3V0cHV0KTtcbiAgICB9XG5cbiAgICB2YXIgYWJzJDEgPSBNYXRoLmFicztcblxuICAgIGZ1bmN0aW9uIHNpZ24oeCkge1xuICAgICAgICByZXR1cm4gKCh4ID4gMCkgLSAoeCA8IDApKSB8fCAreDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0b0lTT1N0cmluZyQxKCkge1xuICAgICAgICAvLyBmb3IgSVNPIHN0cmluZ3Mgd2UgZG8gbm90IHVzZSB0aGUgbm9ybWFsIGJ1YmJsaW5nIHJ1bGVzOlxuICAgICAgICAvLyAgKiBtaWxsaXNlY29uZHMgYnViYmxlIHVwIHVudGlsIHRoZXkgYmVjb21lIGhvdXJzXG4gICAgICAgIC8vICAqIGRheXMgZG8gbm90IGJ1YmJsZSBhdCBhbGxcbiAgICAgICAgLy8gICogbW9udGhzIGJ1YmJsZSB1cCB1bnRpbCB0aGV5IGJlY29tZSB5ZWFyc1xuICAgICAgICAvLyBUaGlzIGlzIGJlY2F1c2UgdGhlcmUgaXMgbm8gY29udGV4dC1mcmVlIGNvbnZlcnNpb24gYmV0d2VlbiBob3VycyBhbmQgZGF5c1xuICAgICAgICAvLyAodGhpbmsgb2YgY2xvY2sgY2hhbmdlcylcbiAgICAgICAgLy8gYW5kIGFsc28gbm90IGJldHdlZW4gZGF5cyBhbmQgbW9udGhzICgyOC0zMSBkYXlzIHBlciBtb250aClcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2Vjb25kcyA9IGFicyQxKHRoaXMuX21pbGxpc2Vjb25kcykgLyAxMDAwO1xuICAgICAgICB2YXIgZGF5cyAgICAgICAgID0gYWJzJDEodGhpcy5fZGF5cyk7XG4gICAgICAgIHZhciBtb250aHMgICAgICAgPSBhYnMkMSh0aGlzLl9tb250aHMpO1xuICAgICAgICB2YXIgbWludXRlcywgaG91cnMsIHllYXJzO1xuXG4gICAgICAgIC8vIDM2MDAgc2Vjb25kcyAtPiA2MCBtaW51dGVzIC0+IDEgaG91clxuICAgICAgICBtaW51dGVzICAgICAgICAgICA9IGFic0Zsb29yKHNlY29uZHMgLyA2MCk7XG4gICAgICAgIGhvdXJzICAgICAgICAgICAgID0gYWJzRmxvb3IobWludXRlcyAvIDYwKTtcbiAgICAgICAgc2Vjb25kcyAlPSA2MDtcbiAgICAgICAgbWludXRlcyAlPSA2MDtcblxuICAgICAgICAvLyAxMiBtb250aHMgLT4gMSB5ZWFyXG4gICAgICAgIHllYXJzICA9IGFic0Zsb29yKG1vbnRocyAvIDEyKTtcbiAgICAgICAgbW9udGhzICU9IDEyO1xuXG5cbiAgICAgICAgLy8gaW5zcGlyZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL2RvcmRpbGxlL21vbWVudC1pc29kdXJhdGlvbi9ibG9iL21hc3Rlci9tb21lbnQuaXNvZHVyYXRpb24uanNcbiAgICAgICAgdmFyIFkgPSB5ZWFycztcbiAgICAgICAgdmFyIE0gPSBtb250aHM7XG4gICAgICAgIHZhciBEID0gZGF5cztcbiAgICAgICAgdmFyIGggPSBob3VycztcbiAgICAgICAgdmFyIG0gPSBtaW51dGVzO1xuICAgICAgICB2YXIgcyA9IHNlY29uZHMgPyBzZWNvbmRzLnRvRml4ZWQoMykucmVwbGFjZSgvXFwuPzArJC8sICcnKSA6ICcnO1xuICAgICAgICB2YXIgdG90YWwgPSB0aGlzLmFzU2Vjb25kcygpO1xuXG4gICAgICAgIGlmICghdG90YWwpIHtcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgdGhlIHNhbWUgYXMgQyMncyAoTm9kYSkgYW5kIHB5dGhvbiAoaXNvZGF0ZSkuLi5cbiAgICAgICAgICAgIC8vIGJ1dCBub3Qgb3RoZXIgSlMgKGdvb2cuZGF0ZSlcbiAgICAgICAgICAgIHJldHVybiAnUDBEJztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0b3RhbFNpZ24gPSB0b3RhbCA8IDAgPyAnLScgOiAnJztcbiAgICAgICAgdmFyIHltU2lnbiA9IHNpZ24odGhpcy5fbW9udGhzKSAhPT0gc2lnbih0b3RhbCkgPyAnLScgOiAnJztcbiAgICAgICAgdmFyIGRheXNTaWduID0gc2lnbih0aGlzLl9kYXlzKSAhPT0gc2lnbih0b3RhbCkgPyAnLScgOiAnJztcbiAgICAgICAgdmFyIGhtc1NpZ24gPSBzaWduKHRoaXMuX21pbGxpc2Vjb25kcykgIT09IHNpZ24odG90YWwpID8gJy0nIDogJyc7XG5cbiAgICAgICAgcmV0dXJuIHRvdGFsU2lnbiArICdQJyArXG4gICAgICAgICAgICAoWSA/IHltU2lnbiArIFkgKyAnWScgOiAnJykgK1xuICAgICAgICAgICAgKE0gPyB5bVNpZ24gKyBNICsgJ00nIDogJycpICtcbiAgICAgICAgICAgIChEID8gZGF5c1NpZ24gKyBEICsgJ0QnIDogJycpICtcbiAgICAgICAgICAgICgoaCB8fCBtIHx8IHMpID8gJ1QnIDogJycpICtcbiAgICAgICAgICAgIChoID8gaG1zU2lnbiArIGggKyAnSCcgOiAnJykgK1xuICAgICAgICAgICAgKG0gPyBobXNTaWduICsgbSArICdNJyA6ICcnKSArXG4gICAgICAgICAgICAocyA/IGhtc1NpZ24gKyBzICsgJ1MnIDogJycpO1xuICAgIH1cblxuICAgIHZhciBwcm90byQyID0gRHVyYXRpb24ucHJvdG90eXBlO1xuXG4gICAgcHJvdG8kMi5pc1ZhbGlkICAgICAgICA9IGlzVmFsaWQkMTtcbiAgICBwcm90byQyLmFicyAgICAgICAgICAgID0gYWJzO1xuICAgIHByb3RvJDIuYWRkICAgICAgICAgICAgPSBhZGQkMTtcbiAgICBwcm90byQyLnN1YnRyYWN0ICAgICAgID0gc3VidHJhY3QkMTtcbiAgICBwcm90byQyLmFzICAgICAgICAgICAgID0gYXM7XG4gICAgcHJvdG8kMi5hc01pbGxpc2Vjb25kcyA9IGFzTWlsbGlzZWNvbmRzO1xuICAgIHByb3RvJDIuYXNTZWNvbmRzICAgICAgPSBhc1NlY29uZHM7XG4gICAgcHJvdG8kMi5hc01pbnV0ZXMgICAgICA9IGFzTWludXRlcztcbiAgICBwcm90byQyLmFzSG91cnMgICAgICAgID0gYXNIb3VycztcbiAgICBwcm90byQyLmFzRGF5cyAgICAgICAgID0gYXNEYXlzO1xuICAgIHByb3RvJDIuYXNXZWVrcyAgICAgICAgPSBhc1dlZWtzO1xuICAgIHByb3RvJDIuYXNNb250aHMgICAgICAgPSBhc01vbnRocztcbiAgICBwcm90byQyLmFzUXVhcnRlcnMgICAgID0gYXNRdWFydGVycztcbiAgICBwcm90byQyLmFzWWVhcnMgICAgICAgID0gYXNZZWFycztcbiAgICBwcm90byQyLnZhbHVlT2YgICAgICAgID0gdmFsdWVPZiQxO1xuICAgIHByb3RvJDIuX2J1YmJsZSAgICAgICAgPSBidWJibGU7XG4gICAgcHJvdG8kMi5jbG9uZSAgICAgICAgICA9IGNsb25lJDE7XG4gICAgcHJvdG8kMi5nZXQgICAgICAgICAgICA9IGdldCQyO1xuICAgIHByb3RvJDIubWlsbGlzZWNvbmRzICAgPSBtaWxsaXNlY29uZHM7XG4gICAgcHJvdG8kMi5zZWNvbmRzICAgICAgICA9IHNlY29uZHM7XG4gICAgcHJvdG8kMi5taW51dGVzICAgICAgICA9IG1pbnV0ZXM7XG4gICAgcHJvdG8kMi5ob3VycyAgICAgICAgICA9IGhvdXJzO1xuICAgIHByb3RvJDIuZGF5cyAgICAgICAgICAgPSBkYXlzO1xuICAgIHByb3RvJDIud2Vla3MgICAgICAgICAgPSB3ZWVrcztcbiAgICBwcm90byQyLm1vbnRocyAgICAgICAgID0gbW9udGhzO1xuICAgIHByb3RvJDIueWVhcnMgICAgICAgICAgPSB5ZWFycztcbiAgICBwcm90byQyLmh1bWFuaXplICAgICAgID0gaHVtYW5pemU7XG4gICAgcHJvdG8kMi50b0lTT1N0cmluZyAgICA9IHRvSVNPU3RyaW5nJDE7XG4gICAgcHJvdG8kMi50b1N0cmluZyAgICAgICA9IHRvSVNPU3RyaW5nJDE7XG4gICAgcHJvdG8kMi50b0pTT04gICAgICAgICA9IHRvSVNPU3RyaW5nJDE7XG4gICAgcHJvdG8kMi5sb2NhbGUgICAgICAgICA9IGxvY2FsZTtcbiAgICBwcm90byQyLmxvY2FsZURhdGEgICAgID0gbG9jYWxlRGF0YTtcblxuICAgIHByb3RvJDIudG9Jc29TdHJpbmcgPSBkZXByZWNhdGUoJ3RvSXNvU3RyaW5nKCkgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSB0b0lTT1N0cmluZygpIGluc3RlYWQgKG5vdGljZSB0aGUgY2FwaXRhbHMpJywgdG9JU09TdHJpbmckMSk7XG4gICAgcHJvdG8kMi5sYW5nID0gbGFuZztcblxuICAgIC8vIFNpZGUgZWZmZWN0IGltcG9ydHNcblxuICAgIC8vIEZPUk1BVFRJTkdcblxuICAgIGFkZEZvcm1hdFRva2VuKCdYJywgMCwgMCwgJ3VuaXgnKTtcbiAgICBhZGRGb3JtYXRUb2tlbigneCcsIDAsIDAsICd2YWx1ZU9mJyk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCd4JywgbWF0Y2hTaWduZWQpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ1gnLCBtYXRjaFRpbWVzdGFtcCk7XG4gICAgYWRkUGFyc2VUb2tlbignWCcsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShwYXJzZUZsb2F0KGlucHV0LCAxMCkgKiAxMDAwKTtcbiAgICB9KTtcbiAgICBhZGRQYXJzZVRva2VuKCd4JywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKHRvSW50KGlucHV0KSk7XG4gICAgfSk7XG5cbiAgICAvLyBTaWRlIGVmZmVjdCBpbXBvcnRzXG5cblxuICAgIGhvb2tzLnZlcnNpb24gPSAnMi4yNC4wJztcblxuICAgIHNldEhvb2tDYWxsYmFjayhjcmVhdGVMb2NhbCk7XG5cbiAgICBob29rcy5mbiAgICAgICAgICAgICAgICAgICAgPSBwcm90bztcbiAgICBob29rcy5taW4gICAgICAgICAgICAgICAgICAgPSBtaW47XG4gICAgaG9va3MubWF4ICAgICAgICAgICAgICAgICAgID0gbWF4O1xuICAgIGhvb2tzLm5vdyAgICAgICAgICAgICAgICAgICA9IG5vdztcbiAgICBob29rcy51dGMgICAgICAgICAgICAgICAgICAgPSBjcmVhdGVVVEM7XG4gICAgaG9va3MudW5peCAgICAgICAgICAgICAgICAgID0gY3JlYXRlVW5peDtcbiAgICBob29rcy5tb250aHMgICAgICAgICAgICAgICAgPSBsaXN0TW9udGhzO1xuICAgIGhvb2tzLmlzRGF0ZSAgICAgICAgICAgICAgICA9IGlzRGF0ZTtcbiAgICBob29rcy5sb2NhbGUgICAgICAgICAgICAgICAgPSBnZXRTZXRHbG9iYWxMb2NhbGU7XG4gICAgaG9va3MuaW52YWxpZCAgICAgICAgICAgICAgID0gY3JlYXRlSW52YWxpZDtcbiAgICBob29rcy5kdXJhdGlvbiAgICAgICAgICAgICAgPSBjcmVhdGVEdXJhdGlvbjtcbiAgICBob29rcy5pc01vbWVudCAgICAgICAgICAgICAgPSBpc01vbWVudDtcbiAgICBob29rcy53ZWVrZGF5cyAgICAgICAgICAgICAgPSBsaXN0V2Vla2RheXM7XG4gICAgaG9va3MucGFyc2Vab25lICAgICAgICAgICAgID0gY3JlYXRlSW5ab25lO1xuICAgIGhvb2tzLmxvY2FsZURhdGEgICAgICAgICAgICA9IGdldExvY2FsZTtcbiAgICBob29rcy5pc0R1cmF0aW9uICAgICAgICAgICAgPSBpc0R1cmF0aW9uO1xuICAgIGhvb2tzLm1vbnRoc1Nob3J0ICAgICAgICAgICA9IGxpc3RNb250aHNTaG9ydDtcbiAgICBob29rcy53ZWVrZGF5c01pbiAgICAgICAgICAgPSBsaXN0V2Vla2RheXNNaW47XG4gICAgaG9va3MuZGVmaW5lTG9jYWxlICAgICAgICAgID0gZGVmaW5lTG9jYWxlO1xuICAgIGhvb2tzLnVwZGF0ZUxvY2FsZSAgICAgICAgICA9IHVwZGF0ZUxvY2FsZTtcbiAgICBob29rcy5sb2NhbGVzICAgICAgICAgICAgICAgPSBsaXN0TG9jYWxlcztcbiAgICBob29rcy53ZWVrZGF5c1Nob3J0ICAgICAgICAgPSBsaXN0V2Vla2RheXNTaG9ydDtcbiAgICBob29rcy5ub3JtYWxpemVVbml0cyAgICAgICAgPSBub3JtYWxpemVVbml0cztcbiAgICBob29rcy5yZWxhdGl2ZVRpbWVSb3VuZGluZyAgPSBnZXRTZXRSZWxhdGl2ZVRpbWVSb3VuZGluZztcbiAgICBob29rcy5yZWxhdGl2ZVRpbWVUaHJlc2hvbGQgPSBnZXRTZXRSZWxhdGl2ZVRpbWVUaHJlc2hvbGQ7XG4gICAgaG9va3MuY2FsZW5kYXJGb3JtYXQgICAgICAgID0gZ2V0Q2FsZW5kYXJGb3JtYXQ7XG4gICAgaG9va3MucHJvdG90eXBlICAgICAgICAgICAgID0gcHJvdG87XG5cbiAgICAvLyBjdXJyZW50bHkgSFRNTDUgaW5wdXQgdHlwZSBvbmx5IHN1cHBvcnRzIDI0LWhvdXIgZm9ybWF0c1xuICAgIGhvb2tzLkhUTUw1X0ZNVCA9IHtcbiAgICAgICAgREFURVRJTUVfTE9DQUw6ICdZWVlZLU1NLUREVEhIOm1tJywgICAgICAgICAgICAgLy8gPGlucHV0IHR5cGU9XCJkYXRldGltZS1sb2NhbFwiIC8+XG4gICAgICAgIERBVEVUSU1FX0xPQ0FMX1NFQ09ORFM6ICdZWVlZLU1NLUREVEhIOm1tOnNzJywgIC8vIDxpbnB1dCB0eXBlPVwiZGF0ZXRpbWUtbG9jYWxcIiBzdGVwPVwiMVwiIC8+XG4gICAgICAgIERBVEVUSU1FX0xPQ0FMX01TOiAnWVlZWS1NTS1ERFRISDptbTpzcy5TU1MnLCAgIC8vIDxpbnB1dCB0eXBlPVwiZGF0ZXRpbWUtbG9jYWxcIiBzdGVwPVwiMC4wMDFcIiAvPlxuICAgICAgICBEQVRFOiAnWVlZWS1NTS1ERCcsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8aW5wdXQgdHlwZT1cImRhdGVcIiAvPlxuICAgICAgICBUSU1FOiAnSEg6bW0nLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8aW5wdXQgdHlwZT1cInRpbWVcIiAvPlxuICAgICAgICBUSU1FX1NFQ09ORFM6ICdISDptbTpzcycsICAgICAgICAgICAgICAgICAgICAgICAvLyA8aW5wdXQgdHlwZT1cInRpbWVcIiBzdGVwPVwiMVwiIC8+XG4gICAgICAgIFRJTUVfTVM6ICdISDptbTpzcy5TU1MnLCAgICAgICAgICAgICAgICAgICAgICAgIC8vIDxpbnB1dCB0eXBlPVwidGltZVwiIHN0ZXA9XCIwLjAwMVwiIC8+XG4gICAgICAgIFdFRUs6ICdHR0dHLVtXXVdXJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDxpbnB1dCB0eXBlPVwid2Vla1wiIC8+XG4gICAgICAgIE1PTlRIOiAnWVlZWS1NTScgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDxpbnB1dCB0eXBlPVwibW9udGhcIiAvPlxuICAgIH07XG5cbiAgICByZXR1cm4gaG9va3M7XG5cbn0pKSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../trader/node_modules/moment/moment.js\n");

/***/ }),

/***/ "../../trader/node_modules/object-assign/index.js":
/*!**********************************************************************************************************!*\
  !*** /Users/samyong/Documents/Source_code/deriv-app/packages/trader/node_modules/object-assign/index.js ***!
  \**********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vdHJhZGVyL25vZGVfbW9kdWxlcy9vYmplY3QtYXNzaWduL2luZGV4LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy9Vc2Vycy9zYW15b25nL0RvY3VtZW50cy9Tb3VyY2VfY29kZS9kZXJpdi1hcHAvcGFja2FnZXMvdHJhZGVyL25vZGVfbW9kdWxlcy9vYmplY3QtYXNzaWduL2luZGV4LmpzPzBjZmMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbm9iamVjdC1hc3NpZ25cbihjKSBTaW5kcmUgU29yaHVzXG5AbGljZW5zZSBNSVRcbiovXG5cbid1c2Ugc3RyaWN0Jztcbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG52YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgcHJvcElzRW51bWVyYWJsZSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG5cbmZ1bmN0aW9uIHRvT2JqZWN0KHZhbCkge1xuXHRpZiAodmFsID09PSBudWxsIHx8IHZhbCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0LmFzc2lnbiBjYW5ub3QgYmUgY2FsbGVkIHdpdGggbnVsbCBvciB1bmRlZmluZWQnKTtcblx0fVxuXG5cdHJldHVybiBPYmplY3QodmFsKTtcbn1cblxuZnVuY3Rpb24gc2hvdWxkVXNlTmF0aXZlKCkge1xuXHR0cnkge1xuXHRcdGlmICghT2JqZWN0LmFzc2lnbikge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIERldGVjdCBidWdneSBwcm9wZXJ0eSBlbnVtZXJhdGlvbiBvcmRlciBpbiBvbGRlciBWOCB2ZXJzaW9ucy5cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTQxMThcblx0XHR2YXIgdGVzdDEgPSBuZXcgU3RyaW5nKCdhYmMnKTsgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3LXdyYXBwZXJzXG5cdFx0dGVzdDFbNV0gPSAnZGUnO1xuXHRcdGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MSlbMF0gPT09ICc1Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHR2YXIgdGVzdDIgPSB7fTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIHtcblx0XHRcdHRlc3QyWydfJyArIFN0cmluZy5mcm9tQ2hhckNvZGUoaSldID0gaTtcblx0XHR9XG5cdFx0dmFyIG9yZGVyMiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QyKS5tYXAoZnVuY3Rpb24gKG4pIHtcblx0XHRcdHJldHVybiB0ZXN0MltuXTtcblx0XHR9KTtcblx0XHRpZiAob3JkZXIyLmpvaW4oJycpICE9PSAnMDEyMzQ1Njc4OScpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0dmFyIHRlc3QzID0ge307XG5cdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbiAobGV0dGVyKSB7XG5cdFx0XHR0ZXN0M1tsZXR0ZXJdID0gbGV0dGVyO1xuXHRcdH0pO1xuXHRcdGlmIChPYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LCB0ZXN0MykpLmpvaW4oJycpICE9PVxuXHRcdFx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdC8vIFdlIGRvbid0IGV4cGVjdCBhbnkgb2YgdGhlIGFib3ZlIHRvIHRocm93LCBidXQgYmV0dGVyIHRvIGJlIHNhZmUuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2hvdWxkVXNlTmF0aXZlKCkgPyBPYmplY3QuYXNzaWduIDogZnVuY3Rpb24gKHRhcmdldCwgc291cmNlKSB7XG5cdHZhciBmcm9tO1xuXHR2YXIgdG8gPSB0b09iamVjdCh0YXJnZXQpO1xuXHR2YXIgc3ltYm9scztcblxuXHRmb3IgKHZhciBzID0gMTsgcyA8IGFyZ3VtZW50cy5sZW5ndGg7IHMrKykge1xuXHRcdGZyb20gPSBPYmplY3QoYXJndW1lbnRzW3NdKTtcblxuXHRcdGZvciAodmFyIGtleSBpbiBmcm9tKSB7XG5cdFx0XHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbChmcm9tLCBrZXkpKSB7XG5cdFx0XHRcdHRvW2tleV0gPSBmcm9tW2tleV07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGdldE93blByb3BlcnR5U3ltYm9scykge1xuXHRcdFx0c3ltYm9scyA9IGdldE93blByb3BlcnR5U3ltYm9scyhmcm9tKTtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3ltYm9scy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAocHJvcElzRW51bWVyYWJsZS5jYWxsKGZyb20sIHN5bWJvbHNbaV0pKSB7XG5cdFx0XHRcdFx0dG9bc3ltYm9sc1tpXV0gPSBmcm9tW3N5bWJvbHNbaV1dO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRvO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../trader/node_modules/object-assign/index.js\n");

/***/ }),

/***/ "../../trader/node_modules/prop-types/checkPropTypes.js":
/*!****************************************************************************************************************!*\
  !*** /Users/samyong/Documents/Source_code/deriv-app/packages/trader/node_modules/prop-types/checkPropTypes.js ***!
  \****************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\nvar printWarning = function() {};\n\nif (true) {\n  var ReactPropTypesSecret = __webpack_require__(/*! ./lib/ReactPropTypesSecret */ \"../../trader/node_modules/prop-types/lib/ReactPropTypesSecret.js\");\n  var loggedTypeFailures = {};\n  var has = Function.call.bind(Object.prototype.hasOwnProperty);\n\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (true) {\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error;\n        // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            var err = Error(\n              (componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' +\n              'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.'\n            );\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n        } catch (ex) {\n          error = ex;\n        }\n        if (error && !(error instanceof Error)) {\n          printWarning(\n            (componentName || 'React class') + ': type specification of ' +\n            location + ' `' + typeSpecName + '` is invalid; the type checker ' +\n            'function must return `null` or an `Error` but returned a ' + typeof error + '. ' +\n            'You may have forgotten to pass an argument to the type checker ' +\n            'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' +\n            'shape all require an argument).'\n          );\n        }\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n\n          var stack = getStack ? getStack() : '';\n\n          printWarning(\n            'Failed ' + location + ' type: ' + error.message + (stack != null ? stack : '')\n          );\n        }\n      }\n    }\n  }\n}\n\n/**\n * Resets warning cache when testing.\n *\n * @private\n */\ncheckPropTypes.resetWarningCache = function() {\n  if (true) {\n    loggedTypeFailures = {};\n  }\n}\n\nmodule.exports = checkPropTypes;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vdHJhZGVyL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2NoZWNrUHJvcFR5cGVzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy9Vc2Vycy9zYW15b25nL0RvY3VtZW50cy9Tb3VyY2VfY29kZS9kZXJpdi1hcHAvcGFja2FnZXMvdHJhZGVyL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2NoZWNrUHJvcFR5cGVzLmpzP2FmMTMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBwcmludFdhcm5pbmcgPSBmdW5jdGlvbigpIHt9O1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB2YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSByZXF1aXJlKCcuL2xpYi9SZWFjdFByb3BUeXBlc1NlY3JldCcpO1xuICB2YXIgbG9nZ2VkVHlwZUZhaWx1cmVzID0ge307XG4gIHZhciBoYXMgPSBGdW5jdGlvbi5jYWxsLmJpbmQoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSk7XG5cbiAgcHJpbnRXYXJuaW5nID0gZnVuY3Rpb24odGV4dCkge1xuICAgIHZhciBtZXNzYWdlID0gJ1dhcm5pbmc6ICcgKyB0ZXh0O1xuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAvLyAtLS0gV2VsY29tZSB0byBkZWJ1Z2dpbmcgUmVhY3QgLS0tXG4gICAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IHlvdSBjYW4gdXNlIHRoaXMgc3RhY2tcbiAgICAgIC8vIHRvIGZpbmQgdGhlIGNhbGxzaXRlIHRoYXQgY2F1c2VkIHRoaXMgd2FybmluZyB0byBmaXJlLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIH0gY2F0Y2ggKHgpIHt9XG4gIH07XG59XG5cbi8qKlxuICogQXNzZXJ0IHRoYXQgdGhlIHZhbHVlcyBtYXRjaCB3aXRoIHRoZSB0eXBlIHNwZWNzLlxuICogRXJyb3IgbWVzc2FnZXMgYXJlIG1lbW9yaXplZCBhbmQgd2lsbCBvbmx5IGJlIHNob3duIG9uY2UuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHR5cGVTcGVjcyBNYXAgb2YgbmFtZSB0byBhIFJlYWN0UHJvcFR5cGVcbiAqIEBwYXJhbSB7b2JqZWN0fSB2YWx1ZXMgUnVudGltZSB2YWx1ZXMgdGhhdCBuZWVkIHRvIGJlIHR5cGUtY2hlY2tlZFxuICogQHBhcmFtIHtzdHJpbmd9IGxvY2F0aW9uIGUuZy4gXCJwcm9wXCIsIFwiY29udGV4dFwiLCBcImNoaWxkIGNvbnRleHRcIlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbXBvbmVudE5hbWUgTmFtZSBvZiB0aGUgY29tcG9uZW50IGZvciBlcnJvciBtZXNzYWdlcy5cbiAqIEBwYXJhbSB7P0Z1bmN0aW9ufSBnZXRTdGFjayBSZXR1cm5zIHRoZSBjb21wb25lbnQgc3RhY2suXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjaGVja1Byb3BUeXBlcyh0eXBlU3BlY3MsIHZhbHVlcywgbG9jYXRpb24sIGNvbXBvbmVudE5hbWUsIGdldFN0YWNrKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgZm9yICh2YXIgdHlwZVNwZWNOYW1lIGluIHR5cGVTcGVjcykge1xuICAgICAgaWYgKGhhcyh0eXBlU3BlY3MsIHR5cGVTcGVjTmFtZSkpIHtcbiAgICAgICAgdmFyIGVycm9yO1xuICAgICAgICAvLyBQcm9wIHR5cGUgdmFsaWRhdGlvbiBtYXkgdGhyb3cuIEluIGNhc2UgdGhleSBkbywgd2UgZG9uJ3Qgd2FudCB0b1xuICAgICAgICAvLyBmYWlsIHRoZSByZW5kZXIgcGhhc2Ugd2hlcmUgaXQgZGlkbid0IGZhaWwgYmVmb3JlLiBTbyB3ZSBsb2cgaXQuXG4gICAgICAgIC8vIEFmdGVyIHRoZXNlIGhhdmUgYmVlbiBjbGVhbmVkIHVwLCB3ZSdsbCBsZXQgdGhlbSB0aHJvdy5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIGlzIGludGVudGlvbmFsbHkgYW4gaW52YXJpYW50IHRoYXQgZ2V0cyBjYXVnaHQuIEl0J3MgdGhlIHNhbWVcbiAgICAgICAgICAvLyBiZWhhdmlvciBhcyB3aXRob3V0IHRoaXMgc3RhdGVtZW50IGV4Y2VwdCB3aXRoIGEgYmV0dGVyIG1lc3NhZ2UuXG4gICAgICAgICAgaWYgKHR5cGVvZiB0eXBlU3BlY3NbdHlwZVNwZWNOYW1lXSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdmFyIGVyciA9IEVycm9yKFxuICAgICAgICAgICAgICAoY29tcG9uZW50TmFtZSB8fCAnUmVhY3QgY2xhc3MnKSArICc6ICcgKyBsb2NhdGlvbiArICcgdHlwZSBgJyArIHR5cGVTcGVjTmFtZSArICdgIGlzIGludmFsaWQ7ICcgK1xuICAgICAgICAgICAgICAnaXQgbXVzdCBiZSBhIGZ1bmN0aW9uLCB1c3VhbGx5IGZyb20gdGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLCBidXQgcmVjZWl2ZWQgYCcgKyB0eXBlb2YgdHlwZVNwZWNzW3R5cGVTcGVjTmFtZV0gKyAnYC4nXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgZXJyLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVycm9yID0gdHlwZVNwZWNzW3R5cGVTcGVjTmFtZV0odmFsdWVzLCB0eXBlU3BlY05hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBudWxsLCBSZWFjdFByb3BUeXBlc1NlY3JldCk7XG4gICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgZXJyb3IgPSBleDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyb3IgJiYgIShlcnJvciBpbnN0YW5jZW9mIEVycm9yKSkge1xuICAgICAgICAgIHByaW50V2FybmluZyhcbiAgICAgICAgICAgIChjb21wb25lbnROYW1lIHx8ICdSZWFjdCBjbGFzcycpICsgJzogdHlwZSBzcGVjaWZpY2F0aW9uIG9mICcgK1xuICAgICAgICAgICAgbG9jYXRpb24gKyAnIGAnICsgdHlwZVNwZWNOYW1lICsgJ2AgaXMgaW52YWxpZDsgdGhlIHR5cGUgY2hlY2tlciAnICtcbiAgICAgICAgICAgICdmdW5jdGlvbiBtdXN0IHJldHVybiBgbnVsbGAgb3IgYW4gYEVycm9yYCBidXQgcmV0dXJuZWQgYSAnICsgdHlwZW9mIGVycm9yICsgJy4gJyArXG4gICAgICAgICAgICAnWW91IG1heSBoYXZlIGZvcmdvdHRlbiB0byBwYXNzIGFuIGFyZ3VtZW50IHRvIHRoZSB0eXBlIGNoZWNrZXIgJyArXG4gICAgICAgICAgICAnY3JlYXRvciAoYXJyYXlPZiwgaW5zdGFuY2VPZiwgb2JqZWN0T2YsIG9uZU9mLCBvbmVPZlR5cGUsIGFuZCAnICtcbiAgICAgICAgICAgICdzaGFwZSBhbGwgcmVxdWlyZSBhbiBhcmd1bWVudCkuJ1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgIShlcnJvci5tZXNzYWdlIGluIGxvZ2dlZFR5cGVGYWlsdXJlcykpIHtcbiAgICAgICAgICAvLyBPbmx5IG1vbml0b3IgdGhpcyBmYWlsdXJlIG9uY2UgYmVjYXVzZSB0aGVyZSB0ZW5kcyB0byBiZSBhIGxvdCBvZiB0aGVcbiAgICAgICAgICAvLyBzYW1lIGVycm9yLlxuICAgICAgICAgIGxvZ2dlZFR5cGVGYWlsdXJlc1tlcnJvci5tZXNzYWdlXSA9IHRydWU7XG5cbiAgICAgICAgICB2YXIgc3RhY2sgPSBnZXRTdGFjayA/IGdldFN0YWNrKCkgOiAnJztcblxuICAgICAgICAgIHByaW50V2FybmluZyhcbiAgICAgICAgICAgICdGYWlsZWQgJyArIGxvY2F0aW9uICsgJyB0eXBlOiAnICsgZXJyb3IubWVzc2FnZSArIChzdGFjayAhPSBudWxsID8gc3RhY2sgOiAnJylcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogUmVzZXRzIHdhcm5pbmcgY2FjaGUgd2hlbiB0ZXN0aW5nLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmNoZWNrUHJvcFR5cGVzLnJlc2V0V2FybmluZ0NhY2hlID0gZnVuY3Rpb24oKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgbG9nZ2VkVHlwZUZhaWx1cmVzID0ge307XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjaGVja1Byb3BUeXBlcztcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../trader/node_modules/prop-types/checkPropTypes.js\n");

/***/ }),

/***/ "../../trader/node_modules/prop-types/factoryWithTypeCheckers.js":
/*!*************************************************************************************************************************!*\
  !*** /Users/samyong/Documents/Source_code/deriv-app/packages/trader/node_modules/prop-types/factoryWithTypeCheckers.js ***!
  \*************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\nvar ReactIs = __webpack_require__(/*! react-is */ \"../../trader/node_modules/react-is/index.js\");\nvar assign = __webpack_require__(/*! object-assign */ \"../../trader/node_modules/object-assign/index.js\");\n\nvar ReactPropTypesSecret = __webpack_require__(/*! ./lib/ReactPropTypesSecret */ \"../../trader/node_modules/prop-types/lib/ReactPropTypesSecret.js\");\nvar checkPropTypes = __webpack_require__(/*! ./checkPropTypes */ \"../../trader/node_modules/prop-types/checkPropTypes.js\");\n\nvar has = Function.call.bind(Object.prototype.hasOwnProperty);\nvar printWarning = function() {};\n\nif (true) {\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\nfunction emptyFunctionThatReturnsNull() {\n  return null;\n}\n\nmodule.exports = function(isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n  var ANONYMOUS = '<<anonymous>>';\n\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    elementType: createElementTypeTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker,\n    exact: createStrictShapeTypeChecker,\n  };\n\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n  /*eslint-disable no-self-compare*/\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n  function PropTypeError(message) {\n    this.message = message;\n    this.stack = '';\n  }\n  // Make `instanceof Error` still work for returned errors.\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (true) {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          var err = new Error(\n            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n            'Use `PropTypes.checkPropTypes()` to call them. ' +\n            'Read more at http://fb.me/use-check-prop-types'\n          );\n          err.name = 'Invariant Violation';\n          throw err;\n        } else if ( true && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n          if (\n            !manualPropTypeCallCache[cacheKey] &&\n            // Avoid spamming the console because they are often not actionable except for lib authors\n            manualPropTypeWarningCount < 3\n          ) {\n            printWarning(\n              'You are manually calling a React.PropTypes validation ' +\n              'function for the `' + propFullName + '` prop on `' + componentName  + '`. This is deprecated ' +\n              'and will throw in the standalone `prop-types` package. ' +\n              'You may be seeing this warning due to a third-party PropTypes ' +\n              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.'\n            );\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunctionThatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n      var propValue = props[propName];\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!ReactIs.isValidElementType(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement type.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n      if (true) {\n        if (arguments.length > 1) {\n          printWarning(\n            'Invalid arguments supplied to oneOf, expected an array, got ' + arguments.length + ' arguments. ' +\n            'A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).'\n          );\n        } else {\n          printWarning('Invalid argument supplied to oneOf, expected an array.');\n        }\n      }\n      return emptyFunctionThatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues, function replacer(key, value) {\n        var type = getPreciseType(value);\n        if (type === 'symbol') {\n          return String(value);\n        }\n        return value;\n      });\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + String(propValue) + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n      for (var key in propValue) {\n        if (has(propValue, key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n       true ? printWarning('Invalid argument supplied to oneOfType, expected an instance of array.') : undefined;\n      return emptyFunctionThatReturnsNull;\n    }\n\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n      if (typeof checker !== 'function') {\n        printWarning(\n          'Invalid argument supplied to oneOfType. Expected an array of check functions, but ' +\n          'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.'\n        );\n        return emptyFunctionThatReturnsNull;\n      }\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret) == null) {\n          return null;\n        }\n      }\n\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          continue;\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createStrictShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      // We need to check all keys in case some are required but missing from\n      // props.\n      var allKeys = assign({}, props[propName], shapeTypes);\n      for (var key in allKeys) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          return new PropTypeError(\n            'Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' +\n            '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') +\n            '\\nValid keys: ' +  JSON.stringify(Object.keys(shapeTypes), null, '  ')\n          );\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n      case 'boolean':\n        return !propValue;\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    }\n\n    // falsy value can't be a Symbol\n    if (!propValue) {\n      return false;\n    }\n\n    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    }\n\n    // Fallback for non-spec compliant Symbols which are polyfilled.\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // Equivalent of `typeof` but with special handling for array and regexp.\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n    return propType;\n  }\n\n  // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n  function getPreciseType(propValue) {\n    if (typeof propValue === 'undefined' || propValue === null) {\n      return '' + propValue;\n    }\n    var propType = getPropType(propValue);\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n    return propType;\n  }\n\n  // Returns a string that is postfixed to a warning about an invalid type.\n  // For example, \"undefined\" or \"of type array\"\n  function getPostfixForTypeWarning(value) {\n    var type = getPreciseType(value);\n    switch (type) {\n      case 'array':\n      case 'object':\n        return 'an ' + type;\n      case 'boolean':\n      case 'date':\n      case 'regexp':\n        return 'a ' + type;\n      default:\n        return type;\n    }\n  }\n\n  // Returns class name of the object, if any.\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes;\n  ReactPropTypes.resetWarningCache = checkPropTypes.resetWarningCache;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vdHJhZGVyL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2ZhY3RvcnlXaXRoVHlwZUNoZWNrZXJzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy9Vc2Vycy9zYW15b25nL0RvY3VtZW50cy9Tb3VyY2VfY29kZS9kZXJpdi1hcHAvcGFja2FnZXMvdHJhZGVyL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2ZhY3RvcnlXaXRoVHlwZUNoZWNrZXJzLmpzPzg5NTUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdElzID0gcmVxdWlyZSgncmVhY3QtaXMnKTtcbnZhciBhc3NpZ24gPSByZXF1aXJlKCdvYmplY3QtYXNzaWduJyk7XG5cbnZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9IHJlcXVpcmUoJy4vbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0Jyk7XG52YXIgY2hlY2tQcm9wVHlwZXMgPSByZXF1aXJlKCcuL2NoZWNrUHJvcFR5cGVzJyk7XG5cbnZhciBoYXMgPSBGdW5jdGlvbi5jYWxsLmJpbmQoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSk7XG52YXIgcHJpbnRXYXJuaW5nID0gZnVuY3Rpb24oKSB7fTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgcHJpbnRXYXJuaW5nID0gZnVuY3Rpb24odGV4dCkge1xuICAgIHZhciBtZXNzYWdlID0gJ1dhcm5pbmc6ICcgKyB0ZXh0O1xuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAvLyAtLS0gV2VsY29tZSB0byBkZWJ1Z2dpbmcgUmVhY3QgLS0tXG4gICAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IHlvdSBjYW4gdXNlIHRoaXMgc3RhY2tcbiAgICAgIC8vIHRvIGZpbmQgdGhlIGNhbGxzaXRlIHRoYXQgY2F1c2VkIHRoaXMgd2FybmluZyB0byBmaXJlLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIH0gY2F0Y2ggKHgpIHt9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGVtcHR5RnVuY3Rpb25UaGF0UmV0dXJuc051bGwoKSB7XG4gIHJldHVybiBudWxsO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGlzVmFsaWRFbGVtZW50LCB0aHJvd09uRGlyZWN0QWNjZXNzKSB7XG4gIC8qIGdsb2JhbCBTeW1ib2wgKi9cbiAgdmFyIElURVJBVE9SX1NZTUJPTCA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLml0ZXJhdG9yO1xuICB2YXIgRkFVWF9JVEVSQVRPUl9TWU1CT0wgPSAnQEBpdGVyYXRvcic7IC8vIEJlZm9yZSBTeW1ib2wgc3BlYy5cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgaXRlcmF0b3IgbWV0aG9kIGZ1bmN0aW9uIGNvbnRhaW5lZCBvbiB0aGUgaXRlcmFibGUgb2JqZWN0LlxuICAgKlxuICAgKiBCZSBzdXJlIHRvIGludm9rZSB0aGUgZnVuY3Rpb24gd2l0aCB0aGUgaXRlcmFibGUgYXMgY29udGV4dDpcbiAgICpcbiAgICogICAgIHZhciBpdGVyYXRvckZuID0gZ2V0SXRlcmF0b3JGbihteUl0ZXJhYmxlKTtcbiAgICogICAgIGlmIChpdGVyYXRvckZuKSB7XG4gICAqICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yRm4uY2FsbChteUl0ZXJhYmxlKTtcbiAgICogICAgICAgLi4uXG4gICAqICAgICB9XG4gICAqXG4gICAqIEBwYXJhbSB7P29iamVjdH0gbWF5YmVJdGVyYWJsZVxuICAgKiBAcmV0dXJuIHs/ZnVuY3Rpb259XG4gICAqL1xuICBmdW5jdGlvbiBnZXRJdGVyYXRvckZuKG1heWJlSXRlcmFibGUpIHtcbiAgICB2YXIgaXRlcmF0b3JGbiA9IG1heWJlSXRlcmFibGUgJiYgKElURVJBVE9SX1NZTUJPTCAmJiBtYXliZUl0ZXJhYmxlW0lURVJBVE9SX1NZTUJPTF0gfHwgbWF5YmVJdGVyYWJsZVtGQVVYX0lURVJBVE9SX1NZTUJPTF0pO1xuICAgIGlmICh0eXBlb2YgaXRlcmF0b3JGbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIGl0ZXJhdG9yRm47XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENvbGxlY3Rpb24gb2YgbWV0aG9kcyB0aGF0IGFsbG93IGRlY2xhcmF0aW9uIGFuZCB2YWxpZGF0aW9uIG9mIHByb3BzIHRoYXQgYXJlXG4gICAqIHN1cHBsaWVkIHRvIFJlYWN0IGNvbXBvbmVudHMuIEV4YW1wbGUgdXNhZ2U6XG4gICAqXG4gICAqICAgdmFyIFByb3BzID0gcmVxdWlyZSgnUmVhY3RQcm9wVHlwZXMnKTtcbiAgICogICB2YXIgTXlBcnRpY2xlID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICAgKiAgICAgcHJvcFR5cGVzOiB7XG4gICAqICAgICAgIC8vIEFuIG9wdGlvbmFsIHN0cmluZyBwcm9wIG5hbWVkIFwiZGVzY3JpcHRpb25cIi5cbiAgICogICAgICAgZGVzY3JpcHRpb246IFByb3BzLnN0cmluZyxcbiAgICpcbiAgICogICAgICAgLy8gQSByZXF1aXJlZCBlbnVtIHByb3AgbmFtZWQgXCJjYXRlZ29yeVwiLlxuICAgKiAgICAgICBjYXRlZ29yeTogUHJvcHMub25lT2YoWydOZXdzJywnUGhvdG9zJ10pLmlzUmVxdWlyZWQsXG4gICAqXG4gICAqICAgICAgIC8vIEEgcHJvcCBuYW1lZCBcImRpYWxvZ1wiIHRoYXQgcmVxdWlyZXMgYW4gaW5zdGFuY2Ugb2YgRGlhbG9nLlxuICAgKiAgICAgICBkaWFsb2c6IFByb3BzLmluc3RhbmNlT2YoRGlhbG9nKS5pc1JlcXVpcmVkXG4gICAqICAgICB9LFxuICAgKiAgICAgcmVuZGVyOiBmdW5jdGlvbigpIHsgLi4uIH1cbiAgICogICB9KTtcbiAgICpcbiAgICogQSBtb3JlIGZvcm1hbCBzcGVjaWZpY2F0aW9uIG9mIGhvdyB0aGVzZSBtZXRob2RzIGFyZSB1c2VkOlxuICAgKlxuICAgKiAgIHR5cGUgOj0gYXJyYXl8Ym9vbHxmdW5jfG9iamVjdHxudW1iZXJ8c3RyaW5nfG9uZU9mKFsuLi5dKXxpbnN0YW5jZU9mKC4uLilcbiAgICogICBkZWNsIDo9IFJlYWN0UHJvcFR5cGVzLnt0eXBlfSguaXNSZXF1aXJlZCk/XG4gICAqXG4gICAqIEVhY2ggYW5kIGV2ZXJ5IGRlY2xhcmF0aW9uIHByb2R1Y2VzIGEgZnVuY3Rpb24gd2l0aCB0aGUgc2FtZSBzaWduYXR1cmUuIFRoaXNcbiAgICogYWxsb3dzIHRoZSBjcmVhdGlvbiBvZiBjdXN0b20gdmFsaWRhdGlvbiBmdW5jdGlvbnMuIEZvciBleGFtcGxlOlxuICAgKlxuICAgKiAgdmFyIE15TGluayA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgICogICAgcHJvcFR5cGVzOiB7XG4gICAqICAgICAgLy8gQW4gb3B0aW9uYWwgc3RyaW5nIG9yIFVSSSBwcm9wIG5hbWVkIFwiaHJlZlwiLlxuICAgKiAgICAgIGhyZWY6IGZ1bmN0aW9uKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSkge1xuICAgKiAgICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICogICAgICAgIGlmIChwcm9wVmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgcHJvcFZhbHVlICE9PSAnc3RyaW5nJyAmJlxuICAgKiAgICAgICAgICAgICEocHJvcFZhbHVlIGluc3RhbmNlb2YgVVJJKSkge1xuICAgKiAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKFxuICAgKiAgICAgICAgICAgICdFeHBlY3RlZCBhIHN0cmluZyBvciBhbiBVUkkgZm9yICcgKyBwcm9wTmFtZSArICcgaW4gJyArXG4gICAqICAgICAgICAgICAgY29tcG9uZW50TmFtZVxuICAgKiAgICAgICAgICApO1xuICAgKiAgICAgICAgfVxuICAgKiAgICAgIH1cbiAgICogICAgfSxcbiAgICogICAgcmVuZGVyOiBmdW5jdGlvbigpIHsuLi59XG4gICAqICB9KTtcbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuXG4gIHZhciBBTk9OWU1PVVMgPSAnPDxhbm9ueW1vdXM+Pic7XG5cbiAgLy8gSW1wb3J0YW50IVxuICAvLyBLZWVwIHRoaXMgbGlzdCBpbiBzeW5jIHdpdGggcHJvZHVjdGlvbiB2ZXJzaW9uIGluIGAuL2ZhY3RvcnlXaXRoVGhyb3dpbmdTaGltcy5qc2AuXG4gIHZhciBSZWFjdFByb3BUeXBlcyA9IHtcbiAgICBhcnJheTogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ2FycmF5JyksXG4gICAgYm9vbDogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ2Jvb2xlYW4nKSxcbiAgICBmdW5jOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignZnVuY3Rpb24nKSxcbiAgICBudW1iZXI6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdudW1iZXInKSxcbiAgICBvYmplY3Q6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdvYmplY3QnKSxcbiAgICBzdHJpbmc6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdzdHJpbmcnKSxcbiAgICBzeW1ib2w6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdzeW1ib2wnKSxcblxuICAgIGFueTogY3JlYXRlQW55VHlwZUNoZWNrZXIoKSxcbiAgICBhcnJheU9mOiBjcmVhdGVBcnJheU9mVHlwZUNoZWNrZXIsXG4gICAgZWxlbWVudDogY3JlYXRlRWxlbWVudFR5cGVDaGVja2VyKCksXG4gICAgZWxlbWVudFR5cGU6IGNyZWF0ZUVsZW1lbnRUeXBlVHlwZUNoZWNrZXIoKSxcbiAgICBpbnN0YW5jZU9mOiBjcmVhdGVJbnN0YW5jZVR5cGVDaGVja2VyLFxuICAgIG5vZGU6IGNyZWF0ZU5vZGVDaGVja2VyKCksXG4gICAgb2JqZWN0T2Y6IGNyZWF0ZU9iamVjdE9mVHlwZUNoZWNrZXIsXG4gICAgb25lT2Y6IGNyZWF0ZUVudW1UeXBlQ2hlY2tlcixcbiAgICBvbmVPZlR5cGU6IGNyZWF0ZVVuaW9uVHlwZUNoZWNrZXIsXG4gICAgc2hhcGU6IGNyZWF0ZVNoYXBlVHlwZUNoZWNrZXIsXG4gICAgZXhhY3Q6IGNyZWF0ZVN0cmljdFNoYXBlVHlwZUNoZWNrZXIsXG4gIH07XG5cbiAgLyoqXG4gICAqIGlubGluZWQgT2JqZWN0LmlzIHBvbHlmaWxsIHRvIGF2b2lkIHJlcXVpcmluZyBjb25zdW1lcnMgc2hpcCB0aGVpciBvd25cbiAgICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2lzXG4gICAqL1xuICAvKmVzbGludC1kaXNhYmxlIG5vLXNlbGYtY29tcGFyZSovXG4gIGZ1bmN0aW9uIGlzKHgsIHkpIHtcbiAgICAvLyBTYW1lVmFsdWUgYWxnb3JpdGhtXG4gICAgaWYgKHggPT09IHkpIHtcbiAgICAgIC8vIFN0ZXBzIDEtNSwgNy0xMFxuICAgICAgLy8gU3RlcHMgNi5iLTYuZTogKzAgIT0gLTBcbiAgICAgIHJldHVybiB4ICE9PSAwIHx8IDEgLyB4ID09PSAxIC8geTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU3RlcCA2LmE6IE5hTiA9PSBOYU5cbiAgICAgIHJldHVybiB4ICE9PSB4ICYmIHkgIT09IHk7XG4gICAgfVxuICB9XG4gIC8qZXNsaW50LWVuYWJsZSBuby1zZWxmLWNvbXBhcmUqL1xuXG4gIC8qKlxuICAgKiBXZSB1c2UgYW4gRXJyb3ItbGlrZSBvYmplY3QgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgYXMgcGVvcGxlIG1heSBjYWxsXG4gICAqIFByb3BUeXBlcyBkaXJlY3RseSBhbmQgaW5zcGVjdCB0aGVpciBvdXRwdXQuIEhvd2V2ZXIsIHdlIGRvbid0IHVzZSByZWFsXG4gICAqIEVycm9ycyBhbnltb3JlLiBXZSBkb24ndCBpbnNwZWN0IHRoZWlyIHN0YWNrIGFueXdheSwgYW5kIGNyZWF0aW5nIHRoZW1cbiAgICogaXMgcHJvaGliaXRpdmVseSBleHBlbnNpdmUgaWYgdGhleSBhcmUgY3JlYXRlZCB0b28gb2Z0ZW4sIHN1Y2ggYXMgd2hhdFxuICAgKiBoYXBwZW5zIGluIG9uZU9mVHlwZSgpIGZvciBhbnkgdHlwZSBiZWZvcmUgdGhlIG9uZSB0aGF0IG1hdGNoZWQuXG4gICAqL1xuICBmdW5jdGlvbiBQcm9wVHlwZUVycm9yKG1lc3NhZ2UpIHtcbiAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgIHRoaXMuc3RhY2sgPSAnJztcbiAgfVxuICAvLyBNYWtlIGBpbnN0YW5jZW9mIEVycm9yYCBzdGlsbCB3b3JrIGZvciByZXR1cm5lZCBlcnJvcnMuXG4gIFByb3BUeXBlRXJyb3IucHJvdG90eXBlID0gRXJyb3IucHJvdG90eXBlO1xuXG4gIGZ1bmN0aW9uIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHZhciBtYW51YWxQcm9wVHlwZUNhbGxDYWNoZSA9IHt9O1xuICAgICAgdmFyIG1hbnVhbFByb3BUeXBlV2FybmluZ0NvdW50ID0gMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hlY2tUeXBlKGlzUmVxdWlyZWQsIHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSwgc2VjcmV0KSB7XG4gICAgICBjb21wb25lbnROYW1lID0gY29tcG9uZW50TmFtZSB8fCBBTk9OWU1PVVM7XG4gICAgICBwcm9wRnVsbE5hbWUgPSBwcm9wRnVsbE5hbWUgfHwgcHJvcE5hbWU7XG5cbiAgICAgIGlmIChzZWNyZXQgIT09IFJlYWN0UHJvcFR5cGVzU2VjcmV0KSB7XG4gICAgICAgIGlmICh0aHJvd09uRGlyZWN0QWNjZXNzKSB7XG4gICAgICAgICAgLy8gTmV3IGJlaGF2aW9yIG9ubHkgZm9yIHVzZXJzIG9mIGBwcm9wLXR5cGVzYCBwYWNrYWdlXG4gICAgICAgICAgdmFyIGVyciA9IG5ldyBFcnJvcihcbiAgICAgICAgICAgICdDYWxsaW5nIFByb3BUeXBlcyB2YWxpZGF0b3JzIGRpcmVjdGx5IGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLiAnICtcbiAgICAgICAgICAgICdVc2UgYFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcygpYCB0byBjYWxsIHRoZW0uICcgK1xuICAgICAgICAgICAgJ1JlYWQgbW9yZSBhdCBodHRwOi8vZmIubWUvdXNlLWNoZWNrLXByb3AtdHlwZXMnXG4gICAgICAgICAgKTtcbiAgICAgICAgICBlcnIubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH0gZWxzZSBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAvLyBPbGQgYmVoYXZpb3IgZm9yIHBlb3BsZSB1c2luZyBSZWFjdC5Qcm9wVHlwZXNcbiAgICAgICAgICB2YXIgY2FjaGVLZXkgPSBjb21wb25lbnROYW1lICsgJzonICsgcHJvcE5hbWU7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgIW1hbnVhbFByb3BUeXBlQ2FsbENhY2hlW2NhY2hlS2V5XSAmJlxuICAgICAgICAgICAgLy8gQXZvaWQgc3BhbW1pbmcgdGhlIGNvbnNvbGUgYmVjYXVzZSB0aGV5IGFyZSBvZnRlbiBub3QgYWN0aW9uYWJsZSBleGNlcHQgZm9yIGxpYiBhdXRob3JzXG4gICAgICAgICAgICBtYW51YWxQcm9wVHlwZVdhcm5pbmdDb3VudCA8IDNcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHByaW50V2FybmluZyhcbiAgICAgICAgICAgICAgJ1lvdSBhcmUgbWFudWFsbHkgY2FsbGluZyBhIFJlYWN0LlByb3BUeXBlcyB2YWxpZGF0aW9uICcgK1xuICAgICAgICAgICAgICAnZnVuY3Rpb24gZm9yIHRoZSBgJyArIHByb3BGdWxsTmFtZSArICdgIHByb3Agb24gYCcgKyBjb21wb25lbnROYW1lICArICdgLiBUaGlzIGlzIGRlcHJlY2F0ZWQgJyArXG4gICAgICAgICAgICAgICdhbmQgd2lsbCB0aHJvdyBpbiB0aGUgc3RhbmRhbG9uZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gJyArXG4gICAgICAgICAgICAgICdZb3UgbWF5IGJlIHNlZWluZyB0aGlzIHdhcm5pbmcgZHVlIHRvIGEgdGhpcmQtcGFydHkgUHJvcFR5cGVzICcgK1xuICAgICAgICAgICAgICAnbGlicmFyeS4gU2VlIGh0dHBzOi8vZmIubWUvcmVhY3Qtd2FybmluZy1kb250LWNhbGwtcHJvcHR5cGVzICcgKyAnZm9yIGRldGFpbHMuJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIG1hbnVhbFByb3BUeXBlQ2FsbENhY2hlW2NhY2hlS2V5XSA9IHRydWU7XG4gICAgICAgICAgICBtYW51YWxQcm9wVHlwZVdhcm5pbmdDb3VudCsrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHByb3BzW3Byb3BOYW1lXSA9PSBudWxsKSB7XG4gICAgICAgIGlmIChpc1JlcXVpcmVkKSB7XG4gICAgICAgICAgaWYgKHByb3BzW3Byb3BOYW1lXSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdUaGUgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIGlzIG1hcmtlZCBhcyByZXF1aXJlZCAnICsgKCdpbiBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgYnV0IGl0cyB2YWx1ZSBpcyBgbnVsbGAuJykpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ1RoZSAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2AgaXMgbWFya2VkIGFzIHJlcXVpcmVkIGluICcgKyAoJ2AnICsgY29tcG9uZW50TmFtZSArICdgLCBidXQgaXRzIHZhbHVlIGlzIGB1bmRlZmluZWRgLicpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBjaGFpbmVkQ2hlY2tUeXBlID0gY2hlY2tUeXBlLmJpbmQobnVsbCwgZmFsc2UpO1xuICAgIGNoYWluZWRDaGVja1R5cGUuaXNSZXF1aXJlZCA9IGNoZWNrVHlwZS5iaW5kKG51bGwsIHRydWUpO1xuXG4gICAgcmV0dXJuIGNoYWluZWRDaGVja1R5cGU7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcihleHBlY3RlZFR5cGUpIHtcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIHNlY3JldCkge1xuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgICBpZiAocHJvcFR5cGUgIT09IGV4cGVjdGVkVHlwZSkge1xuICAgICAgICAvLyBgcHJvcFZhbHVlYCBiZWluZyBpbnN0YW5jZSBvZiwgc2F5LCBkYXRlL3JlZ2V4cCwgcGFzcyB0aGUgJ29iamVjdCdcbiAgICAgICAgLy8gY2hlY2ssIGJ1dCB3ZSBjYW4gb2ZmZXIgYSBtb3JlIHByZWNpc2UgZXJyb3IgbWVzc2FnZSBoZXJlIHJhdGhlciB0aGFuXG4gICAgICAgIC8vICdvZiB0eXBlIGBvYmplY3RgJy5cbiAgICAgICAgdmFyIHByZWNpc2VUeXBlID0gZ2V0UHJlY2lzZVR5cGUocHJvcFZhbHVlKTtcblxuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcmVjaXNlVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCAnKSArICgnYCcgKyBleHBlY3RlZFR5cGUgKyAnYC4nKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUFueVR5cGVDaGVja2VyKCkge1xuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcihlbXB0eUZ1bmN0aW9uVGhhdFJldHVybnNOdWxsKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUFycmF5T2ZUeXBlQ2hlY2tlcih0eXBlQ2hlY2tlcikge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgaWYgKHR5cGVvZiB0eXBlQ2hlY2tlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ1Byb3BlcnR5IGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgY29tcG9uZW50IGAnICsgY29tcG9uZW50TmFtZSArICdgIGhhcyBpbnZhbGlkIFByb3BUeXBlIG5vdGF0aW9uIGluc2lkZSBhcnJheU9mLicpO1xuICAgICAgfVxuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShwcm9wVmFsdWUpKSB7XG4gICAgICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIHByb3BUeXBlICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGFuIGFycmF5LicpKTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcFZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBlcnJvciA9IHR5cGVDaGVja2VyKHByb3BWYWx1ZSwgaSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICdbJyArIGkgKyAnXScsIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcbiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlRWxlbWVudFR5cGVDaGVja2VyKCkge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICAgIGlmICghaXNWYWxpZEVsZW1lbnQocHJvcFZhbHVlKSkge1xuICAgICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcm9wVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhIHNpbmdsZSBSZWFjdEVsZW1lbnQuJykpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVFbGVtZW50VHlwZVR5cGVDaGVja2VyKCkge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICAgIGlmICghUmVhY3RJcy5pc1ZhbGlkRWxlbWVudFR5cGUocHJvcFZhbHVlKSkge1xuICAgICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcm9wVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhIHNpbmdsZSBSZWFjdEVsZW1lbnQgdHlwZS4nKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlVHlwZUNoZWNrZXIoZXhwZWN0ZWRDbGFzcykge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgaWYgKCEocHJvcHNbcHJvcE5hbWVdIGluc3RhbmNlb2YgZXhwZWN0ZWRDbGFzcykpIHtcbiAgICAgICAgdmFyIGV4cGVjdGVkQ2xhc3NOYW1lID0gZXhwZWN0ZWRDbGFzcy5uYW1lIHx8IEFOT05ZTU9VUztcbiAgICAgICAgdmFyIGFjdHVhbENsYXNzTmFtZSA9IGdldENsYXNzTmFtZShwcm9wc1twcm9wTmFtZV0pO1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBhY3R1YWxDbGFzc05hbWUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgJykgKyAoJ2luc3RhbmNlIG9mIGAnICsgZXhwZWN0ZWRDbGFzc05hbWUgKyAnYC4nKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUVudW1UeXBlQ2hlY2tlcihleHBlY3RlZFZhbHVlcykge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShleHBlY3RlZFZhbHVlcykpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgIHByaW50V2FybmluZyhcbiAgICAgICAgICAgICdJbnZhbGlkIGFyZ3VtZW50cyBzdXBwbGllZCB0byBvbmVPZiwgZXhwZWN0ZWQgYW4gYXJyYXksIGdvdCAnICsgYXJndW1lbnRzLmxlbmd0aCArICcgYXJndW1lbnRzLiAnICtcbiAgICAgICAgICAgICdBIGNvbW1vbiBtaXN0YWtlIGlzIHRvIHdyaXRlIG9uZU9mKHgsIHksIHopIGluc3RlYWQgb2Ygb25lT2YoW3gsIHksIHpdKS4nXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcmludFdhcm5pbmcoJ0ludmFsaWQgYXJndW1lbnQgc3VwcGxpZWQgdG8gb25lT2YsIGV4cGVjdGVkIGFuIGFycmF5LicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZW1wdHlGdW5jdGlvblRoYXRSZXR1cm5zTnVsbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV4cGVjdGVkVmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpcyhwcm9wVmFsdWUsIGV4cGVjdGVkVmFsdWVzW2ldKSkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciB2YWx1ZXNTdHJpbmcgPSBKU09OLnN0cmluZ2lmeShleHBlY3RlZFZhbHVlcywgZnVuY3Rpb24gcmVwbGFjZXIoa2V5LCB2YWx1ZSkge1xuICAgICAgICB2YXIgdHlwZSA9IGdldFByZWNpc2VUeXBlKHZhbHVlKTtcbiAgICAgICAgaWYgKHR5cGUgPT09ICdzeW1ib2wnKSB7XG4gICAgICAgICAgcmV0dXJuIFN0cmluZyh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHZhbHVlIGAnICsgU3RyaW5nKHByb3BWYWx1ZSkgKyAnYCAnICsgKCdzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgb25lIG9mICcgKyB2YWx1ZXNTdHJpbmcgKyAnLicpKTtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZU9iamVjdE9mVHlwZUNoZWNrZXIodHlwZUNoZWNrZXIpIHtcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdHlwZUNoZWNrZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdQcm9wZXJ0eSBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIGNvbXBvbmVudCBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCBoYXMgaW52YWxpZCBQcm9wVHlwZSBub3RhdGlvbiBpbnNpZGUgb2JqZWN0T2YuJyk7XG4gICAgICB9XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgICAgIGlmIChwcm9wVHlwZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgcHJvcFR5cGUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYW4gb2JqZWN0LicpKTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGtleSBpbiBwcm9wVmFsdWUpIHtcbiAgICAgICAgaWYgKGhhcyhwcm9wVmFsdWUsIGtleSkpIHtcbiAgICAgICAgICB2YXIgZXJyb3IgPSB0eXBlQ2hlY2tlcihwcm9wVmFsdWUsIGtleSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICcuJyArIGtleSwgUmVhY3RQcm9wVHlwZXNTZWNyZXQpO1xuICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVVuaW9uVHlwZUNoZWNrZXIoYXJyYXlPZlR5cGVDaGVja2Vycykge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShhcnJheU9mVHlwZUNoZWNrZXJzKSkge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHByaW50V2FybmluZygnSW52YWxpZCBhcmd1bWVudCBzdXBwbGllZCB0byBvbmVPZlR5cGUsIGV4cGVjdGVkIGFuIGluc3RhbmNlIG9mIGFycmF5LicpIDogdm9pZCAwO1xuICAgICAgcmV0dXJuIGVtcHR5RnVuY3Rpb25UaGF0UmV0dXJuc051bGw7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheU9mVHlwZUNoZWNrZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgY2hlY2tlciA9IGFycmF5T2ZUeXBlQ2hlY2tlcnNbaV07XG4gICAgICBpZiAodHlwZW9mIGNoZWNrZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcHJpbnRXYXJuaW5nKFxuICAgICAgICAgICdJbnZhbGlkIGFyZ3VtZW50IHN1cHBsaWVkIHRvIG9uZU9mVHlwZS4gRXhwZWN0ZWQgYW4gYXJyYXkgb2YgY2hlY2sgZnVuY3Rpb25zLCBidXQgJyArXG4gICAgICAgICAgJ3JlY2VpdmVkICcgKyBnZXRQb3N0Zml4Rm9yVHlwZVdhcm5pbmcoY2hlY2tlcikgKyAnIGF0IGluZGV4ICcgKyBpICsgJy4nXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBlbXB0eUZ1bmN0aW9uVGhhdFJldHVybnNOdWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheU9mVHlwZUNoZWNrZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjaGVja2VyID0gYXJyYXlPZlR5cGVDaGVja2Vyc1tpXTtcbiAgICAgICAgaWYgKGNoZWNrZXIocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lLCBSZWFjdFByb3BUeXBlc1NlY3JldCkgPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agc3VwcGxpZWQgdG8gJyArICgnYCcgKyBjb21wb25lbnROYW1lICsgJ2AuJykpO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlTm9kZUNoZWNrZXIoKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICBpZiAoIWlzTm9kZShwcm9wc1twcm9wTmFtZV0pKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agc3VwcGxpZWQgdG8gJyArICgnYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGEgUmVhY3ROb2RlLicpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlU2hhcGVUeXBlQ2hlY2tlcihzaGFwZVR5cGVzKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgICAgIGlmIChwcm9wVHlwZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlIGAnICsgcHJvcFR5cGUgKyAnYCAnICsgKCdzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYG9iamVjdGAuJykpO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIga2V5IGluIHNoYXBlVHlwZXMpIHtcbiAgICAgICAgdmFyIGNoZWNrZXIgPSBzaGFwZVR5cGVzW2tleV07XG4gICAgICAgIGlmICghY2hlY2tlcikge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlcnJvciA9IGNoZWNrZXIocHJvcFZhbHVlLCBrZXksIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUgKyAnLicgKyBrZXksIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVN0cmljdFNoYXBlVHlwZUNoZWNrZXIoc2hhcGVUeXBlcykge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgICBpZiAocHJvcFR5cGUgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSBgJyArIHByb3BUeXBlICsgJ2AgJyArICgnc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGBvYmplY3RgLicpKTtcbiAgICAgIH1cbiAgICAgIC8vIFdlIG5lZWQgdG8gY2hlY2sgYWxsIGtleXMgaW4gY2FzZSBzb21lIGFyZSByZXF1aXJlZCBidXQgbWlzc2luZyBmcm9tXG4gICAgICAvLyBwcm9wcy5cbiAgICAgIHZhciBhbGxLZXlzID0gYXNzaWduKHt9LCBwcm9wc1twcm9wTmFtZV0sIHNoYXBlVHlwZXMpO1xuICAgICAgZm9yICh2YXIga2V5IGluIGFsbEtleXMpIHtcbiAgICAgICAgdmFyIGNoZWNrZXIgPSBzaGFwZVR5cGVzW2tleV07XG4gICAgICAgIGlmICghY2hlY2tlcikge1xuICAgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcihcbiAgICAgICAgICAgICdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBrZXkgYCcgKyBrZXkgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYC4nICtcbiAgICAgICAgICAgICdcXG5CYWQgb2JqZWN0OiAnICsgSlNPTi5zdHJpbmdpZnkocHJvcHNbcHJvcE5hbWVdLCBudWxsLCAnICAnKSArXG4gICAgICAgICAgICAnXFxuVmFsaWQga2V5czogJyArICBKU09OLnN0cmluZ2lmeShPYmplY3Qua2V5cyhzaGFwZVR5cGVzKSwgbnVsbCwgJyAgJylcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlcnJvciA9IGNoZWNrZXIocHJvcFZhbHVlLCBrZXksIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUgKyAnLicgKyBrZXksIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNOb2RlKHByb3BWYWx1ZSkge1xuICAgIHN3aXRjaCAodHlwZW9mIHByb3BWYWx1ZSkge1xuICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICByZXR1cm4gIXByb3BWYWx1ZTtcbiAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHByb3BWYWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gcHJvcFZhbHVlLmV2ZXJ5KGlzTm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3BWYWx1ZSA9PT0gbnVsbCB8fCBpc1ZhbGlkRWxlbWVudChwcm9wVmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4ocHJvcFZhbHVlKTtcbiAgICAgICAgaWYgKGl0ZXJhdG9yRm4pIHtcbiAgICAgICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYXRvckZuLmNhbGwocHJvcFZhbHVlKTtcbiAgICAgICAgICB2YXIgc3RlcDtcbiAgICAgICAgICBpZiAoaXRlcmF0b3JGbiAhPT0gcHJvcFZhbHVlLmVudHJpZXMpIHtcbiAgICAgICAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgICAgICAgaWYgKCFpc05vZGUoc3RlcC52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gSXRlcmF0b3Igd2lsbCBwcm92aWRlIGVudHJ5IFtrLHZdIHR1cGxlcyByYXRoZXIgdGhhbiB2YWx1ZXMuXG4gICAgICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgICAgICAgIHZhciBlbnRyeSA9IHN0ZXAudmFsdWU7XG4gICAgICAgICAgICAgIGlmIChlbnRyeSkge1xuICAgICAgICAgICAgICAgIGlmICghaXNOb2RlKGVudHJ5WzFdKSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpc1N5bWJvbChwcm9wVHlwZSwgcHJvcFZhbHVlKSB7XG4gICAgLy8gTmF0aXZlIFN5bWJvbC5cbiAgICBpZiAocHJvcFR5cGUgPT09ICdzeW1ib2wnKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBmYWxzeSB2YWx1ZSBjYW4ndCBiZSBhIFN5bWJvbFxuICAgIGlmICghcHJvcFZhbHVlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gMTkuNC4zLjUgU3ltYm9sLnByb3RvdHlwZVtAQHRvU3RyaW5nVGFnXSA9PT0gJ1N5bWJvbCdcbiAgICBpZiAocHJvcFZhbHVlWydAQHRvU3RyaW5nVGFnJ10gPT09ICdTeW1ib2wnKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBGYWxsYmFjayBmb3Igbm9uLXNwZWMgY29tcGxpYW50IFN5bWJvbHMgd2hpY2ggYXJlIHBvbHlmaWxsZWQuXG4gICAgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgcHJvcFZhbHVlIGluc3RhbmNlb2YgU3ltYm9sKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBFcXVpdmFsZW50IG9mIGB0eXBlb2ZgIGJ1dCB3aXRoIHNwZWNpYWwgaGFuZGxpbmcgZm9yIGFycmF5IGFuZCByZWdleHAuXG4gIGZ1bmN0aW9uIGdldFByb3BUeXBlKHByb3BWYWx1ZSkge1xuICAgIHZhciBwcm9wVHlwZSA9IHR5cGVvZiBwcm9wVmFsdWU7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkocHJvcFZhbHVlKSkge1xuICAgICAgcmV0dXJuICdhcnJheSc7XG4gICAgfVxuICAgIGlmIChwcm9wVmFsdWUgaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgIC8vIE9sZCB3ZWJraXRzIChhdCBsZWFzdCB1bnRpbCBBbmRyb2lkIDQuMCkgcmV0dXJuICdmdW5jdGlvbicgcmF0aGVyIHRoYW5cbiAgICAgIC8vICdvYmplY3QnIGZvciB0eXBlb2YgYSBSZWdFeHAuIFdlJ2xsIG5vcm1hbGl6ZSB0aGlzIGhlcmUgc28gdGhhdCAvYmxhL1xuICAgICAgLy8gcGFzc2VzIFByb3BUeXBlcy5vYmplY3QuXG4gICAgICByZXR1cm4gJ29iamVjdCc7XG4gICAgfVxuICAgIGlmIChpc1N5bWJvbChwcm9wVHlwZSwgcHJvcFZhbHVlKSkge1xuICAgICAgcmV0dXJuICdzeW1ib2wnO1xuICAgIH1cbiAgICByZXR1cm4gcHJvcFR5cGU7XG4gIH1cblxuICAvLyBUaGlzIGhhbmRsZXMgbW9yZSB0eXBlcyB0aGFuIGBnZXRQcm9wVHlwZWAuIE9ubHkgdXNlZCBmb3IgZXJyb3IgbWVzc2FnZXMuXG4gIC8vIFNlZSBgY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXJgLlxuICBmdW5jdGlvbiBnZXRQcmVjaXNlVHlwZShwcm9wVmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHByb3BWYWx1ZSA9PT0gJ3VuZGVmaW5lZCcgfHwgcHJvcFZhbHVlID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gJycgKyBwcm9wVmFsdWU7XG4gICAgfVxuICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgaWYgKHByb3BUeXBlID09PSAnb2JqZWN0Jykge1xuICAgICAgaWYgKHByb3BWYWx1ZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgcmV0dXJuICdkYXRlJztcbiAgICAgIH0gZWxzZSBpZiAocHJvcFZhbHVlIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICAgIHJldHVybiAncmVnZXhwJztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHByb3BUeXBlO1xuICB9XG5cbiAgLy8gUmV0dXJucyBhIHN0cmluZyB0aGF0IGlzIHBvc3RmaXhlZCB0byBhIHdhcm5pbmcgYWJvdXQgYW4gaW52YWxpZCB0eXBlLlxuICAvLyBGb3IgZXhhbXBsZSwgXCJ1bmRlZmluZWRcIiBvciBcIm9mIHR5cGUgYXJyYXlcIlxuICBmdW5jdGlvbiBnZXRQb3N0Zml4Rm9yVHlwZVdhcm5pbmcodmFsdWUpIHtcbiAgICB2YXIgdHlwZSA9IGdldFByZWNpc2VUeXBlKHZhbHVlKTtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ2FycmF5JzpcbiAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgIHJldHVybiAnYW4gJyArIHR5cGU7XG4gICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIGNhc2UgJ2RhdGUnOlxuICAgICAgY2FzZSAncmVnZXhwJzpcbiAgICAgICAgcmV0dXJuICdhICcgKyB0eXBlO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgfVxuICB9XG5cbiAgLy8gUmV0dXJucyBjbGFzcyBuYW1lIG9mIHRoZSBvYmplY3QsIGlmIGFueS5cbiAgZnVuY3Rpb24gZ2V0Q2xhc3NOYW1lKHByb3BWYWx1ZSkge1xuICAgIGlmICghcHJvcFZhbHVlLmNvbnN0cnVjdG9yIHx8ICFwcm9wVmFsdWUuY29uc3RydWN0b3IubmFtZSkge1xuICAgICAgcmV0dXJuIEFOT05ZTU9VUztcbiAgICB9XG4gICAgcmV0dXJuIHByb3BWYWx1ZS5jb25zdHJ1Y3Rvci5uYW1lO1xuICB9XG5cbiAgUmVhY3RQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMgPSBjaGVja1Byb3BUeXBlcztcbiAgUmVhY3RQcm9wVHlwZXMucmVzZXRXYXJuaW5nQ2FjaGUgPSBjaGVja1Byb3BUeXBlcy5yZXNldFdhcm5pbmdDYWNoZTtcbiAgUmVhY3RQcm9wVHlwZXMuUHJvcFR5cGVzID0gUmVhY3RQcm9wVHlwZXM7XG5cbiAgcmV0dXJuIFJlYWN0UHJvcFR5cGVzO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../trader/node_modules/prop-types/factoryWithTypeCheckers.js\n");

/***/ }),

/***/ "../../trader/node_modules/prop-types/index.js":
/*!*******************************************************************************************************!*\
  !*** /Users/samyong/Documents/Source_code/deriv-app/packages/trader/node_modules/prop-types/index.js ***!
  \*******************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (true) {\n  var ReactIs = __webpack_require__(/*! react-is */ \"../../trader/node_modules/react-is/index.js\");\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = __webpack_require__(/*! ./factoryWithTypeCheckers */ \"../../trader/node_modules/prop-types/factoryWithTypeCheckers.js\")(ReactIs.isElement, throwOnDirectAccess);\n} else {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vdHJhZGVyL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2luZGV4LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy9Vc2Vycy9zYW15b25nL0RvY3VtZW50cy9Tb3VyY2VfY29kZS9kZXJpdi1hcHAvcGFja2FnZXMvdHJhZGVyL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2luZGV4LmpzP2VhYWMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB2YXIgUmVhY3RJcyA9IHJlcXVpcmUoJ3JlYWN0LWlzJyk7XG5cbiAgLy8gQnkgZXhwbGljaXRseSB1c2luZyBgcHJvcC10eXBlc2AgeW91IGFyZSBvcHRpbmcgaW50byBuZXcgZGV2ZWxvcG1lbnQgYmVoYXZpb3IuXG4gIC8vIGh0dHA6Ly9mYi5tZS9wcm9wLXR5cGVzLWluLXByb2RcbiAgdmFyIHRocm93T25EaXJlY3RBY2Nlc3MgPSB0cnVlO1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZmFjdG9yeVdpdGhUeXBlQ2hlY2tlcnMnKShSZWFjdElzLmlzRWxlbWVudCwgdGhyb3dPbkRpcmVjdEFjY2Vzcyk7XG59IGVsc2Uge1xuICAvLyBCeSBleHBsaWNpdGx5IHVzaW5nIGBwcm9wLXR5cGVzYCB5b3UgYXJlIG9wdGluZyBpbnRvIG5ldyBwcm9kdWN0aW9uIGJlaGF2aW9yLlxuICAvLyBodHRwOi8vZmIubWUvcHJvcC10eXBlcy1pbi1wcm9kXG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9mYWN0b3J5V2l0aFRocm93aW5nU2hpbXMnKSgpO1xufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FJQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../trader/node_modules/prop-types/index.js\n");

/***/ }),

/***/ "../../trader/node_modules/prop-types/lib/ReactPropTypesSecret.js":
/*!**************************************************************************************************************************!*\
  !*** /Users/samyong/Documents/Source_code/deriv-app/packages/trader/node_modules/prop-types/lib/ReactPropTypesSecret.js ***!
  \**************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vdHJhZGVyL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2xpYi9SZWFjdFByb3BUeXBlc1NlY3JldC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vVXNlcnMvc2FteW9uZy9Eb2N1bWVudHMvU291cmNlX2NvZGUvZGVyaXYtYXBwL3BhY2thZ2VzL3RyYWRlci9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQuanM/NzJmOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gJ1NFQ1JFVF9ET19OT1RfUEFTU19USElTX09SX1lPVV9XSUxMX0JFX0ZJUkVEJztcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdFByb3BUeXBlc1NlY3JldDtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../trader/node_modules/prop-types/lib/ReactPropTypesSecret.js\n");

/***/ }),

/***/ "../../trader/node_modules/react-is/cjs/react-is.development.js":
/*!************************************************************************************************************************!*\
  !*** /Users/samyong/Documents/Source_code/deriv-app/packages/trader/node_modules/react-is/cjs/react-is.development.js ***!
  \************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/** @license React v16.12.0\n * react-is.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\n\n\nif (true) {\n  (function() {\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nvar hasSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;\nvar REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;\nvar REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;\nvar REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;\nvar REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;\nvar REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;\nvar REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace; // TODO: We don't use AsyncMode or ConcurrentMode anymore. They were temporary\n// (unstable) APIs that have been removed. Can we remove the symbols?\n\nvar REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for('react.async_mode') : 0xeacf;\nvar REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;\nvar REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;\nvar REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;\nvar REACT_SUSPENSE_LIST_TYPE = hasSymbol ? Symbol.for('react.suspense_list') : 0xead8;\nvar REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;\nvar REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;\nvar REACT_FUNDAMENTAL_TYPE = hasSymbol ? Symbol.for('react.fundamental') : 0xead5;\nvar REACT_RESPONDER_TYPE = hasSymbol ? Symbol.for('react.responder') : 0xead6;\nvar REACT_SCOPE_TYPE = hasSymbol ? Symbol.for('react.scope') : 0xead7;\n\nfunction isValidElementType(type) {\n  return typeof type === 'string' || typeof type === 'function' || // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.\n  type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_RESPONDER_TYPE || type.$$typeof === REACT_SCOPE_TYPE);\n}\n\n/**\n * Forked from fbjs/warning:\n * https://github.com/facebook/fbjs/blob/e66ba20ad5be433eb54423f2b097d829324d9de6/packages/fbjs/src/__forks__/warning.js\n *\n * Only change is we use console.warn instead of console.error,\n * and do nothing when 'console' is not supported.\n * This really simplifies the code.\n * ---\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\nvar lowPriorityWarningWithoutStack = function () {};\n\n{\n  var printWarning = function (format) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    var argIndex = 0;\n    var message = 'Warning: ' + format.replace(/%s/g, function () {\n      return args[argIndex++];\n    });\n\n    if (typeof console !== 'undefined') {\n      console.warn(message);\n    }\n\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n\n  lowPriorityWarningWithoutStack = function (condition, format) {\n    if (format === undefined) {\n      throw new Error('`lowPriorityWarningWithoutStack(condition, format, ...args)` requires a warning ' + 'message argument');\n    }\n\n    if (!condition) {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n        args[_key2 - 2] = arguments[_key2];\n      }\n\n      printWarning.apply(void 0, [format].concat(args));\n    }\n  };\n}\n\nvar lowPriorityWarningWithoutStack$1 = lowPriorityWarningWithoutStack;\n\nfunction typeOf(object) {\n  if (typeof object === 'object' && object !== null) {\n    var $$typeof = object.$$typeof;\n\n    switch ($$typeof) {\n      case REACT_ELEMENT_TYPE:\n        var type = object.type;\n\n        switch (type) {\n          case REACT_ASYNC_MODE_TYPE:\n          case REACT_CONCURRENT_MODE_TYPE:\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n            return type;\n\n          default:\n            var $$typeofType = type && type.$$typeof;\n\n            switch ($$typeofType) {\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_LAZY_TYPE:\n              case REACT_MEMO_TYPE:\n              case REACT_PROVIDER_TYPE:\n                return $$typeofType;\n\n              default:\n                return $$typeof;\n            }\n\n        }\n\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n\n  return undefined;\n} // AsyncMode is deprecated along with isAsyncMode\n\nvar AsyncMode = REACT_ASYNC_MODE_TYPE;\nvar ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;\nvar ContextConsumer = REACT_CONTEXT_TYPE;\nvar ContextProvider = REACT_PROVIDER_TYPE;\nvar Element = REACT_ELEMENT_TYPE;\nvar ForwardRef = REACT_FORWARD_REF_TYPE;\nvar Fragment = REACT_FRAGMENT_TYPE;\nvar Lazy = REACT_LAZY_TYPE;\nvar Memo = REACT_MEMO_TYPE;\nvar Portal = REACT_PORTAL_TYPE;\nvar Profiler = REACT_PROFILER_TYPE;\nvar StrictMode = REACT_STRICT_MODE_TYPE;\nvar Suspense = REACT_SUSPENSE_TYPE;\nvar hasWarnedAboutDeprecatedIsAsyncMode = false; // AsyncMode should be deprecated\n\nfunction isAsyncMode(object) {\n  {\n    if (!hasWarnedAboutDeprecatedIsAsyncMode) {\n      hasWarnedAboutDeprecatedIsAsyncMode = true;\n      lowPriorityWarningWithoutStack$1(false, 'The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');\n    }\n  }\n\n  return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;\n}\nfunction isConcurrentMode(object) {\n  return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;\n}\nfunction isContextConsumer(object) {\n  return typeOf(object) === REACT_CONTEXT_TYPE;\n}\nfunction isContextProvider(object) {\n  return typeOf(object) === REACT_PROVIDER_TYPE;\n}\nfunction isElement(object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n}\nfunction isForwardRef(object) {\n  return typeOf(object) === REACT_FORWARD_REF_TYPE;\n}\nfunction isFragment(object) {\n  return typeOf(object) === REACT_FRAGMENT_TYPE;\n}\nfunction isLazy(object) {\n  return typeOf(object) === REACT_LAZY_TYPE;\n}\nfunction isMemo(object) {\n  return typeOf(object) === REACT_MEMO_TYPE;\n}\nfunction isPortal(object) {\n  return typeOf(object) === REACT_PORTAL_TYPE;\n}\nfunction isProfiler(object) {\n  return typeOf(object) === REACT_PROFILER_TYPE;\n}\nfunction isStrictMode(object) {\n  return typeOf(object) === REACT_STRICT_MODE_TYPE;\n}\nfunction isSuspense(object) {\n  return typeOf(object) === REACT_SUSPENSE_TYPE;\n}\n\nexports.typeOf = typeOf;\nexports.AsyncMode = AsyncMode;\nexports.ConcurrentMode = ConcurrentMode;\nexports.ContextConsumer = ContextConsumer;\nexports.ContextProvider = ContextProvider;\nexports.Element = Element;\nexports.ForwardRef = ForwardRef;\nexports.Fragment = Fragment;\nexports.Lazy = Lazy;\nexports.Memo = Memo;\nexports.Portal = Portal;\nexports.Profiler = Profiler;\nexports.StrictMode = StrictMode;\nexports.Suspense = Suspense;\nexports.isValidElementType = isValidElementType;\nexports.isAsyncMode = isAsyncMode;\nexports.isConcurrentMode = isConcurrentMode;\nexports.isContextConsumer = isContextConsumer;\nexports.isContextProvider = isContextProvider;\nexports.isElement = isElement;\nexports.isForwardRef = isForwardRef;\nexports.isFragment = isFragment;\nexports.isLazy = isLazy;\nexports.isMemo = isMemo;\nexports.isPortal = isPortal;\nexports.isProfiler = isProfiler;\nexports.isStrictMode = isStrictMode;\nexports.isSuspense = isSuspense;\n  })();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vdHJhZGVyL25vZGVfbW9kdWxlcy9yZWFjdC1pcy9janMvcmVhY3QtaXMuZGV2ZWxvcG1lbnQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL3NhbXlvbmcvRG9jdW1lbnRzL1NvdXJjZV9jb2RlL2Rlcml2LWFwcC9wYWNrYWdlcy90cmFkZXIvbm9kZV9tb2R1bGVzL3JlYWN0LWlzL2Nqcy9yZWFjdC1pcy5kZXZlbG9wbWVudC5qcz8wYmQzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBAbGljZW5zZSBSZWFjdCB2MTYuMTIuMFxuICogcmVhY3QtaXMuZGV2ZWxvcG1lbnQuanNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIEZhY2Vib29rLCBJbmMuIGFuZCBpdHMgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cblxuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIChmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxuLy8gVGhlIFN5bWJvbCB1c2VkIHRvIHRhZyB0aGUgUmVhY3RFbGVtZW50LWxpa2UgdHlwZXMuIElmIHRoZXJlIGlzIG5vIG5hdGl2ZSBTeW1ib2xcbi8vIG5vciBwb2x5ZmlsbCwgdGhlbiBhIHBsYWluIG51bWJlciBpcyB1c2VkIGZvciBwZXJmb3JtYW5jZS5cbnZhciBoYXNTeW1ib2wgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5mb3I7XG52YXIgUkVBQ1RfRUxFTUVOVF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuZWxlbWVudCcpIDogMHhlYWM3O1xudmFyIFJFQUNUX1BPUlRBTF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QucG9ydGFsJykgOiAweGVhY2E7XG52YXIgUkVBQ1RfRlJBR01FTlRfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LmZyYWdtZW50JykgOiAweGVhY2I7XG52YXIgUkVBQ1RfU1RSSUNUX01PREVfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LnN0cmljdF9tb2RlJykgOiAweGVhY2M7XG52YXIgUkVBQ1RfUFJPRklMRVJfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LnByb2ZpbGVyJykgOiAweGVhZDI7XG52YXIgUkVBQ1RfUFJPVklERVJfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LnByb3ZpZGVyJykgOiAweGVhY2Q7XG52YXIgUkVBQ1RfQ09OVEVYVF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuY29udGV4dCcpIDogMHhlYWNlOyAvLyBUT0RPOiBXZSBkb24ndCB1c2UgQXN5bmNNb2RlIG9yIENvbmN1cnJlbnRNb2RlIGFueW1vcmUuIFRoZXkgd2VyZSB0ZW1wb3Jhcnlcbi8vICh1bnN0YWJsZSkgQVBJcyB0aGF0IGhhdmUgYmVlbiByZW1vdmVkLiBDYW4gd2UgcmVtb3ZlIHRoZSBzeW1ib2xzP1xuXG52YXIgUkVBQ1RfQVNZTkNfTU9ERV9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuYXN5bmNfbW9kZScpIDogMHhlYWNmO1xudmFyIFJFQUNUX0NPTkNVUlJFTlRfTU9ERV9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuY29uY3VycmVudF9tb2RlJykgOiAweGVhY2Y7XG52YXIgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LmZvcndhcmRfcmVmJykgOiAweGVhZDA7XG52YXIgUkVBQ1RfU1VTUEVOU0VfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LnN1c3BlbnNlJykgOiAweGVhZDE7XG52YXIgUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3Quc3VzcGVuc2VfbGlzdCcpIDogMHhlYWQ4O1xudmFyIFJFQUNUX01FTU9fVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0Lm1lbW8nKSA6IDB4ZWFkMztcbnZhciBSRUFDVF9MQVpZX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5sYXp5JykgOiAweGVhZDQ7XG52YXIgUkVBQ1RfRlVOREFNRU5UQUxfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LmZ1bmRhbWVudGFsJykgOiAweGVhZDU7XG52YXIgUkVBQ1RfUkVTUE9OREVSX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5yZXNwb25kZXInKSA6IDB4ZWFkNjtcbnZhciBSRUFDVF9TQ09QRV9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3Quc2NvcGUnKSA6IDB4ZWFkNztcblxuZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnRUeXBlKHR5cGUpIHtcbiAgcmV0dXJuIHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJyB8fCAvLyBOb3RlOiBpdHMgdHlwZW9mIG1pZ2h0IGJlIG90aGVyIHRoYW4gJ3N5bWJvbCcgb3IgJ251bWJlcicgaWYgaXQncyBhIHBvbHlmaWxsLlxuICB0eXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX0NPTkNVUlJFTlRfTU9ERV9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX1BST0ZJTEVSX1RZUEUgfHwgdHlwZSA9PT0gUkVBQ1RfU1RSSUNUX01PREVfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9TVVNQRU5TRV9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRSB8fCB0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcgJiYgdHlwZSAhPT0gbnVsbCAmJiAodHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTEFaWV9UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX01FTU9fVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9QUk9WSURFUl9UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NPTlRFWFRfVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0ZVTkRBTUVOVEFMX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfUkVTUE9OREVSX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfU0NPUEVfVFlQRSk7XG59XG5cbi8qKlxuICogRm9ya2VkIGZyb20gZmJqcy93YXJuaW5nOlxuICogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL2ZianMvYmxvYi9lNjZiYTIwYWQ1YmU0MzNlYjU0NDIzZjJiMDk3ZDgyOTMyNGQ5ZGU2L3BhY2thZ2VzL2ZianMvc3JjL19fZm9ya3NfXy93YXJuaW5nLmpzXG4gKlxuICogT25seSBjaGFuZ2UgaXMgd2UgdXNlIGNvbnNvbGUud2FybiBpbnN0ZWFkIG9mIGNvbnNvbGUuZXJyb3IsXG4gKiBhbmQgZG8gbm90aGluZyB3aGVuICdjb25zb2xlJyBpcyBub3Qgc3VwcG9ydGVkLlxuICogVGhpcyByZWFsbHkgc2ltcGxpZmllcyB0aGUgY29kZS5cbiAqIC0tLVxuICogU2ltaWxhciB0byBpbnZhcmlhbnQgYnV0IG9ubHkgbG9ncyBhIHdhcm5pbmcgaWYgdGhlIGNvbmRpdGlvbiBpcyBub3QgbWV0LlxuICogVGhpcyBjYW4gYmUgdXNlZCB0byBsb2cgaXNzdWVzIGluIGRldmVsb3BtZW50IGVudmlyb25tZW50cyBpbiBjcml0aWNhbFxuICogcGF0aHMuIFJlbW92aW5nIHRoZSBsb2dnaW5nIGNvZGUgZm9yIHByb2R1Y3Rpb24gZW52aXJvbm1lbnRzIHdpbGwga2VlcCB0aGVcbiAqIHNhbWUgbG9naWMgYW5kIGZvbGxvdyB0aGUgc2FtZSBjb2RlIHBhdGhzLlxuICovXG52YXIgbG93UHJpb3JpdHlXYXJuaW5nV2l0aG91dFN0YWNrID0gZnVuY3Rpb24gKCkge307XG5cbntcbiAgdmFyIHByaW50V2FybmluZyA9IGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgIHZhciBtZXNzYWdlID0gJ1dhcm5pbmc6ICcgKyBmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107XG4gICAgfSk7XG5cbiAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zb2xlLndhcm4obWVzc2FnZSk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIC0tLSBXZWxjb21lIHRvIGRlYnVnZ2luZyBSZWFjdCAtLS1cbiAgICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFja1xuICAgICAgLy8gdG8gZmluZCB0aGUgY2FsbHNpdGUgdGhhdCBjYXVzZWQgdGhpcyB3YXJuaW5nIHRvIGZpcmUuXG4gICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgfSBjYXRjaCAoeCkge31cbiAgfTtcblxuICBsb3dQcmlvcml0eVdhcm5pbmdXaXRob3V0U3RhY2sgPSBmdW5jdGlvbiAoY29uZGl0aW9uLCBmb3JtYXQpIHtcbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignYGxvd1ByaW9yaXR5V2FybmluZ1dpdGhvdXRTdGFjayhjb25kaXRpb24sIGZvcm1hdCwgLi4uYXJncylgIHJlcXVpcmVzIGEgd2FybmluZyAnICsgJ21lc3NhZ2UgYXJndW1lbnQnKTtcbiAgICB9XG5cbiAgICBpZiAoIWNvbmRpdGlvbikge1xuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yID4gMiA/IF9sZW4yIC0gMiA6IDApLCBfa2V5MiA9IDI7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgICAgYXJnc1tfa2V5MiAtIDJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgIH1cblxuICAgICAgcHJpbnRXYXJuaW5nLmFwcGx5KHZvaWQgMCwgW2Zvcm1hdF0uY29uY2F0KGFyZ3MpKTtcbiAgICB9XG4gIH07XG59XG5cbnZhciBsb3dQcmlvcml0eVdhcm5pbmdXaXRob3V0U3RhY2skMSA9IGxvd1ByaW9yaXR5V2FybmluZ1dpdGhvdXRTdGFjaztcblxuZnVuY3Rpb24gdHlwZU9mKG9iamVjdCkge1xuICBpZiAodHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgb2JqZWN0ICE9PSBudWxsKSB7XG4gICAgdmFyICQkdHlwZW9mID0gb2JqZWN0LiQkdHlwZW9mO1xuXG4gICAgc3dpdGNoICgkJHR5cGVvZikge1xuICAgICAgY2FzZSBSRUFDVF9FTEVNRU5UX1RZUEU6XG4gICAgICAgIHZhciB0eXBlID0gb2JqZWN0LnR5cGU7XG5cbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgY2FzZSBSRUFDVF9BU1lOQ19NT0RFX1RZUEU6XG4gICAgICAgICAgY2FzZSBSRUFDVF9DT05DVVJSRU5UX01PREVfVFlQRTpcbiAgICAgICAgICBjYXNlIFJFQUNUX0ZSQUdNRU5UX1RZUEU6XG4gICAgICAgICAgY2FzZSBSRUFDVF9QUk9GSUxFUl9UWVBFOlxuICAgICAgICAgIGNhc2UgUkVBQ1RfU1RSSUNUX01PREVfVFlQRTpcbiAgICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gdHlwZTtcblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB2YXIgJCR0eXBlb2ZUeXBlID0gdHlwZSAmJiB0eXBlLiQkdHlwZW9mO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKCQkdHlwZW9mVHlwZSkge1xuICAgICAgICAgICAgICBjYXNlIFJFQUNUX0NPTlRFWFRfVFlQRTpcbiAgICAgICAgICAgICAgY2FzZSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFOlxuICAgICAgICAgICAgICBjYXNlIFJFQUNUX0xBWllfVFlQRTpcbiAgICAgICAgICAgICAgY2FzZSBSRUFDVF9NRU1PX1RZUEU6XG4gICAgICAgICAgICAgIGNhc2UgUkVBQ1RfUFJPVklERVJfVFlQRTpcbiAgICAgICAgICAgICAgICByZXR1cm4gJCR0eXBlb2ZUeXBlO1xuXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICQkdHlwZW9mO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgICAgcmV0dXJuICQkdHlwZW9mO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB1bmRlZmluZWQ7XG59IC8vIEFzeW5jTW9kZSBpcyBkZXByZWNhdGVkIGFsb25nIHdpdGggaXNBc3luY01vZGVcblxudmFyIEFzeW5jTW9kZSA9IFJFQUNUX0FTWU5DX01PREVfVFlQRTtcbnZhciBDb25jdXJyZW50TW9kZSA9IFJFQUNUX0NPTkNVUlJFTlRfTU9ERV9UWVBFO1xudmFyIENvbnRleHRDb25zdW1lciA9IFJFQUNUX0NPTlRFWFRfVFlQRTtcbnZhciBDb250ZXh0UHJvdmlkZXIgPSBSRUFDVF9QUk9WSURFUl9UWVBFO1xudmFyIEVsZW1lbnQgPSBSRUFDVF9FTEVNRU5UX1RZUEU7XG52YXIgRm9yd2FyZFJlZiA9IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEU7XG52YXIgRnJhZ21lbnQgPSBSRUFDVF9GUkFHTUVOVF9UWVBFO1xudmFyIExhenkgPSBSRUFDVF9MQVpZX1RZUEU7XG52YXIgTWVtbyA9IFJFQUNUX01FTU9fVFlQRTtcbnZhciBQb3J0YWwgPSBSRUFDVF9QT1JUQUxfVFlQRTtcbnZhciBQcm9maWxlciA9IFJFQUNUX1BST0ZJTEVSX1RZUEU7XG52YXIgU3RyaWN0TW9kZSA9IFJFQUNUX1NUUklDVF9NT0RFX1RZUEU7XG52YXIgU3VzcGVuc2UgPSBSRUFDVF9TVVNQRU5TRV9UWVBFO1xudmFyIGhhc1dhcm5lZEFib3V0RGVwcmVjYXRlZElzQXN5bmNNb2RlID0gZmFsc2U7IC8vIEFzeW5jTW9kZSBzaG91bGQgYmUgZGVwcmVjYXRlZFxuXG5mdW5jdGlvbiBpc0FzeW5jTW9kZShvYmplY3QpIHtcbiAge1xuICAgIGlmICghaGFzV2FybmVkQWJvdXREZXByZWNhdGVkSXNBc3luY01vZGUpIHtcbiAgICAgIGhhc1dhcm5lZEFib3V0RGVwcmVjYXRlZElzQXN5bmNNb2RlID0gdHJ1ZTtcbiAgICAgIGxvd1ByaW9yaXR5V2FybmluZ1dpdGhvdXRTdGFjayQxKGZhbHNlLCAnVGhlIFJlYWN0SXMuaXNBc3luY01vZGUoKSBhbGlhcyBoYXMgYmVlbiBkZXByZWNhdGVkLCAnICsgJ2FuZCB3aWxsIGJlIHJlbW92ZWQgaW4gUmVhY3QgMTcrLiBVcGRhdGUgeW91ciBjb2RlIHRvIHVzZSAnICsgJ1JlYWN0SXMuaXNDb25jdXJyZW50TW9kZSgpIGluc3RlYWQuIEl0IGhhcyB0aGUgZXhhY3Qgc2FtZSBBUEkuJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGlzQ29uY3VycmVudE1vZGUob2JqZWN0KSB8fCB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfQVNZTkNfTU9ERV9UWVBFO1xufVxuZnVuY3Rpb24gaXNDb25jdXJyZW50TW9kZShvYmplY3QpIHtcbiAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9DT05DVVJSRU5UX01PREVfVFlQRTtcbn1cbmZ1bmN0aW9uIGlzQ29udGV4dENvbnN1bWVyKG9iamVjdCkge1xuICByZXR1cm4gdHlwZU9mKG9iamVjdCkgPT09IFJFQUNUX0NPTlRFWFRfVFlQRTtcbn1cbmZ1bmN0aW9uIGlzQ29udGV4dFByb3ZpZGVyKG9iamVjdCkge1xuICByZXR1cm4gdHlwZU9mKG9iamVjdCkgPT09IFJFQUNUX1BST1ZJREVSX1RZUEU7XG59XG5mdW5jdGlvbiBpc0VsZW1lbnQob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJiBvYmplY3QgIT09IG51bGwgJiYgb2JqZWN0LiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEU7XG59XG5mdW5jdGlvbiBpc0ZvcndhcmRSZWYob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRTtcbn1cbmZ1bmN0aW9uIGlzRnJhZ21lbnQob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRTtcbn1cbmZ1bmN0aW9uIGlzTGF6eShvYmplY3QpIHtcbiAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9MQVpZX1RZUEU7XG59XG5mdW5jdGlvbiBpc01lbW8ob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfTUVNT19UWVBFO1xufVxuZnVuY3Rpb24gaXNQb3J0YWwob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfUE9SVEFMX1RZUEU7XG59XG5mdW5jdGlvbiBpc1Byb2ZpbGVyKG9iamVjdCkge1xuICByZXR1cm4gdHlwZU9mKG9iamVjdCkgPT09IFJFQUNUX1BST0ZJTEVSX1RZUEU7XG59XG5mdW5jdGlvbiBpc1N0cmljdE1vZGUob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfU1RSSUNUX01PREVfVFlQRTtcbn1cbmZ1bmN0aW9uIGlzU3VzcGVuc2Uob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfU1VTUEVOU0VfVFlQRTtcbn1cblxuZXhwb3J0cy50eXBlT2YgPSB0eXBlT2Y7XG5leHBvcnRzLkFzeW5jTW9kZSA9IEFzeW5jTW9kZTtcbmV4cG9ydHMuQ29uY3VycmVudE1vZGUgPSBDb25jdXJyZW50TW9kZTtcbmV4cG9ydHMuQ29udGV4dENvbnN1bWVyID0gQ29udGV4dENvbnN1bWVyO1xuZXhwb3J0cy5Db250ZXh0UHJvdmlkZXIgPSBDb250ZXh0UHJvdmlkZXI7XG5leHBvcnRzLkVsZW1lbnQgPSBFbGVtZW50O1xuZXhwb3J0cy5Gb3J3YXJkUmVmID0gRm9yd2FyZFJlZjtcbmV4cG9ydHMuRnJhZ21lbnQgPSBGcmFnbWVudDtcbmV4cG9ydHMuTGF6eSA9IExhenk7XG5leHBvcnRzLk1lbW8gPSBNZW1vO1xuZXhwb3J0cy5Qb3J0YWwgPSBQb3J0YWw7XG5leHBvcnRzLlByb2ZpbGVyID0gUHJvZmlsZXI7XG5leHBvcnRzLlN0cmljdE1vZGUgPSBTdHJpY3RNb2RlO1xuZXhwb3J0cy5TdXNwZW5zZSA9IFN1c3BlbnNlO1xuZXhwb3J0cy5pc1ZhbGlkRWxlbWVudFR5cGUgPSBpc1ZhbGlkRWxlbWVudFR5cGU7XG5leHBvcnRzLmlzQXN5bmNNb2RlID0gaXNBc3luY01vZGU7XG5leHBvcnRzLmlzQ29uY3VycmVudE1vZGUgPSBpc0NvbmN1cnJlbnRNb2RlO1xuZXhwb3J0cy5pc0NvbnRleHRDb25zdW1lciA9IGlzQ29udGV4dENvbnN1bWVyO1xuZXhwb3J0cy5pc0NvbnRleHRQcm92aWRlciA9IGlzQ29udGV4dFByb3ZpZGVyO1xuZXhwb3J0cy5pc0VsZW1lbnQgPSBpc0VsZW1lbnQ7XG5leHBvcnRzLmlzRm9yd2FyZFJlZiA9IGlzRm9yd2FyZFJlZjtcbmV4cG9ydHMuaXNGcmFnbWVudCA9IGlzRnJhZ21lbnQ7XG5leHBvcnRzLmlzTGF6eSA9IGlzTGF6eTtcbmV4cG9ydHMuaXNNZW1vID0gaXNNZW1vO1xuZXhwb3J0cy5pc1BvcnRhbCA9IGlzUG9ydGFsO1xuZXhwb3J0cy5pc1Byb2ZpbGVyID0gaXNQcm9maWxlcjtcbmV4cG9ydHMuaXNTdHJpY3RNb2RlID0gaXNTdHJpY3RNb2RlO1xuZXhwb3J0cy5pc1N1c3BlbnNlID0gaXNTdXNwZW5zZTtcbiAgfSkoKTtcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../trader/node_modules/react-is/cjs/react-is.development.js\n");

/***/ }),

/***/ "../../trader/node_modules/react-is/index.js":
/*!*****************************************************************************************************!*\
  !*** /Users/samyong/Documents/Source_code/deriv-app/packages/trader/node_modules/react-is/index.js ***!
  \*****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nif (false) {} else {\n  module.exports = __webpack_require__(/*! ./cjs/react-is.development.js */ \"../../trader/node_modules/react-is/cjs/react-is.development.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vdHJhZGVyL25vZGVfbW9kdWxlcy9yZWFjdC1pcy9pbmRleC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vVXNlcnMvc2FteW9uZy9Eb2N1bWVudHMvU291cmNlX2NvZGUvZGVyaXYtYXBwL3BhY2thZ2VzL3RyYWRlci9ub2RlX21vZHVsZXMvcmVhY3QtaXMvaW5kZXguanM/NzVhZCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtaXMucHJvZHVjdGlvbi5taW4uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtaXMuZGV2ZWxvcG1lbnQuanMnKTtcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBLGFBRUE7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../trader/node_modules/react-is/index.js\n");

/***/ }),

/***/ "../../trader/node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js":
/*!*****************************************************************************************************************************************!*\
  !*** /Users/samyong/Documents/Source_code/deriv-app/packages/trader/node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js ***!
  \*****************************************************************************************************************************************/
/*! exports provided: polyfill */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"polyfill\", function() { return polyfill; });\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nfunction componentWillMount() {\n  // Call this.constructor.gDSFP to support sub-classes.\n  var state = this.constructor.getDerivedStateFromProps(this.props, this.state);\n  if (state !== null && state !== undefined) {\n    this.setState(state);\n  }\n}\n\nfunction componentWillReceiveProps(nextProps) {\n  // Call this.constructor.gDSFP to support sub-classes.\n  // Use the setState() updater to ensure state isn't stale in certain edge cases.\n  function updater(prevState) {\n    var state = this.constructor.getDerivedStateFromProps(nextProps, prevState);\n    return state !== null && state !== undefined ? state : null;\n  }\n  // Binding \"this\" is important for shallow renderer support.\n  this.setState(updater.bind(this));\n}\n\nfunction componentWillUpdate(nextProps, nextState) {\n  try {\n    var prevProps = this.props;\n    var prevState = this.state;\n    this.props = nextProps;\n    this.state = nextState;\n    this.__reactInternalSnapshotFlag = true;\n    this.__reactInternalSnapshot = this.getSnapshotBeforeUpdate(\n      prevProps,\n      prevState\n    );\n  } finally {\n    this.props = prevProps;\n    this.state = prevState;\n  }\n}\n\n// React may warn about cWM/cWRP/cWU methods being deprecated.\n// Add a flag to suppress these warnings for this special case.\ncomponentWillMount.__suppressDeprecationWarning = true;\ncomponentWillReceiveProps.__suppressDeprecationWarning = true;\ncomponentWillUpdate.__suppressDeprecationWarning = true;\n\nfunction polyfill(Component) {\n  var prototype = Component.prototype;\n\n  if (!prototype || !prototype.isReactComponent) {\n    throw new Error('Can only polyfill class components');\n  }\n\n  if (\n    typeof Component.getDerivedStateFromProps !== 'function' &&\n    typeof prototype.getSnapshotBeforeUpdate !== 'function'\n  ) {\n    return Component;\n  }\n\n  // If new component APIs are defined, \"unsafe\" lifecycles won't be called.\n  // Error if any of these lifecycles are present,\n  // Because they would work differently between older and newer (16.3+) versions of React.\n  var foundWillMountName = null;\n  var foundWillReceivePropsName = null;\n  var foundWillUpdateName = null;\n  if (typeof prototype.componentWillMount === 'function') {\n    foundWillMountName = 'componentWillMount';\n  } else if (typeof prototype.UNSAFE_componentWillMount === 'function') {\n    foundWillMountName = 'UNSAFE_componentWillMount';\n  }\n  if (typeof prototype.componentWillReceiveProps === 'function') {\n    foundWillReceivePropsName = 'componentWillReceiveProps';\n  } else if (typeof prototype.UNSAFE_componentWillReceiveProps === 'function') {\n    foundWillReceivePropsName = 'UNSAFE_componentWillReceiveProps';\n  }\n  if (typeof prototype.componentWillUpdate === 'function') {\n    foundWillUpdateName = 'componentWillUpdate';\n  } else if (typeof prototype.UNSAFE_componentWillUpdate === 'function') {\n    foundWillUpdateName = 'UNSAFE_componentWillUpdate';\n  }\n  if (\n    foundWillMountName !== null ||\n    foundWillReceivePropsName !== null ||\n    foundWillUpdateName !== null\n  ) {\n    var componentName = Component.displayName || Component.name;\n    var newApiName =\n      typeof Component.getDerivedStateFromProps === 'function'\n        ? 'getDerivedStateFromProps()'\n        : 'getSnapshotBeforeUpdate()';\n\n    throw Error(\n      'Unsafe legacy lifecycles will not be called for components using new component APIs.\\n\\n' +\n        componentName +\n        ' uses ' +\n        newApiName +\n        ' but also contains the following legacy lifecycles:' +\n        (foundWillMountName !== null ? '\\n  ' + foundWillMountName : '') +\n        (foundWillReceivePropsName !== null\n          ? '\\n  ' + foundWillReceivePropsName\n          : '') +\n        (foundWillUpdateName !== null ? '\\n  ' + foundWillUpdateName : '') +\n        '\\n\\nThe above lifecycles should be removed. Learn more about this warning here:\\n' +\n        'https://fb.me/react-async-component-lifecycle-hooks'\n    );\n  }\n\n  // React <= 16.2 does not support static getDerivedStateFromProps.\n  // As a workaround, use cWM and cWRP to invoke the new static lifecycle.\n  // Newer versions of React will ignore these lifecycles if gDSFP exists.\n  if (typeof Component.getDerivedStateFromProps === 'function') {\n    prototype.componentWillMount = componentWillMount;\n    prototype.componentWillReceiveProps = componentWillReceiveProps;\n  }\n\n  // React <= 16.2 does not support getSnapshotBeforeUpdate.\n  // As a workaround, use cWU to invoke the new lifecycle.\n  // Newer versions of React will ignore that lifecycle if gSBU exists.\n  if (typeof prototype.getSnapshotBeforeUpdate === 'function') {\n    if (typeof prototype.componentDidUpdate !== 'function') {\n      throw new Error(\n        'Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype'\n      );\n    }\n\n    prototype.componentWillUpdate = componentWillUpdate;\n\n    var componentDidUpdate = prototype.componentDidUpdate;\n\n    prototype.componentDidUpdate = function componentDidUpdatePolyfill(\n      prevProps,\n      prevState,\n      maybeSnapshot\n    ) {\n      // 16.3+ will not execute our will-update method;\n      // It will pass a snapshot value to did-update though.\n      // Older versions will require our polyfilled will-update value.\n      // We need to handle both cases, but can't just check for the presence of \"maybeSnapshot\",\n      // Because for <= 15.x versions this might be a \"prevContext\" object.\n      // We also can't just check \"__reactInternalSnapshot\",\n      // Because get-snapshot might return a falsy value.\n      // So check for the explicit __reactInternalSnapshotFlag flag to determine behavior.\n      var snapshot = this.__reactInternalSnapshotFlag\n        ? this.__reactInternalSnapshot\n        : maybeSnapshot;\n\n      componentDidUpdate.call(this, prevProps, prevState, snapshot);\n    };\n  }\n\n  return Component;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vdHJhZGVyL25vZGVfbW9kdWxlcy9yZWFjdC1saWZlY3ljbGVzLWNvbXBhdC9yZWFjdC1saWZlY3ljbGVzLWNvbXBhdC5lcy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vVXNlcnMvc2FteW9uZy9Eb2N1bWVudHMvU291cmNlX2NvZGUvZGVyaXYtYXBwL3BhY2thZ2VzL3RyYWRlci9ub2RlX21vZHVsZXMvcmVhY3QtbGlmZWN5Y2xlcy1jb21wYXQvcmVhY3QtbGlmZWN5Y2xlcy1jb21wYXQuZXMuanM/ODVlOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgLy8gQ2FsbCB0aGlzLmNvbnN0cnVjdG9yLmdEU0ZQIHRvIHN1cHBvcnQgc3ViLWNsYXNzZXMuXG4gIHZhciBzdGF0ZSA9IHRoaXMuY29uc3RydWN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKHRoaXMucHJvcHMsIHRoaXMuc3RhdGUpO1xuICBpZiAoc3RhdGUgIT09IG51bGwgJiYgc3RhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXMuc2V0U3RhdGUoc3RhdGUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gIC8vIENhbGwgdGhpcy5jb25zdHJ1Y3Rvci5nRFNGUCB0byBzdXBwb3J0IHN1Yi1jbGFzc2VzLlxuICAvLyBVc2UgdGhlIHNldFN0YXRlKCkgdXBkYXRlciB0byBlbnN1cmUgc3RhdGUgaXNuJ3Qgc3RhbGUgaW4gY2VydGFpbiBlZGdlIGNhc2VzLlxuICBmdW5jdGlvbiB1cGRhdGVyKHByZXZTdGF0ZSkge1xuICAgIHZhciBzdGF0ZSA9IHRoaXMuY29uc3RydWN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5leHRQcm9wcywgcHJldlN0YXRlKTtcbiAgICByZXR1cm4gc3RhdGUgIT09IG51bGwgJiYgc3RhdGUgIT09IHVuZGVmaW5lZCA/IHN0YXRlIDogbnVsbDtcbiAgfVxuICAvLyBCaW5kaW5nIFwidGhpc1wiIGlzIGltcG9ydGFudCBmb3Igc2hhbGxvdyByZW5kZXJlciBzdXBwb3J0LlxuICB0aGlzLnNldFN0YXRlKHVwZGF0ZXIuYmluZCh0aGlzKSk7XG59XG5cbmZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVcGRhdGUobmV4dFByb3BzLCBuZXh0U3RhdGUpIHtcbiAgdHJ5IHtcbiAgICB2YXIgcHJldlByb3BzID0gdGhpcy5wcm9wcztcbiAgICB2YXIgcHJldlN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICB0aGlzLnByb3BzID0gbmV4dFByb3BzO1xuICAgIHRoaXMuc3RhdGUgPSBuZXh0U3RhdGU7XG4gICAgdGhpcy5fX3JlYWN0SW50ZXJuYWxTbmFwc2hvdEZsYWcgPSB0cnVlO1xuICAgIHRoaXMuX19yZWFjdEludGVybmFsU25hcHNob3QgPSB0aGlzLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlKFxuICAgICAgcHJldlByb3BzLFxuICAgICAgcHJldlN0YXRlXG4gICAgKTtcbiAgfSBmaW5hbGx5IHtcbiAgICB0aGlzLnByb3BzID0gcHJldlByb3BzO1xuICAgIHRoaXMuc3RhdGUgPSBwcmV2U3RhdGU7XG4gIH1cbn1cblxuLy8gUmVhY3QgbWF5IHdhcm4gYWJvdXQgY1dNL2NXUlAvY1dVIG1ldGhvZHMgYmVpbmcgZGVwcmVjYXRlZC5cbi8vIEFkZCBhIGZsYWcgdG8gc3VwcHJlc3MgdGhlc2Ugd2FybmluZ3MgZm9yIHRoaXMgc3BlY2lhbCBjYXNlLlxuY29tcG9uZW50V2lsbE1vdW50Ll9fc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmcgPSB0cnVlO1xuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcy5fX3N1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5nID0gdHJ1ZTtcbmNvbXBvbmVudFdpbGxVcGRhdGUuX19zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZyA9IHRydWU7XG5cbmZ1bmN0aW9uIHBvbHlmaWxsKENvbXBvbmVudCkge1xuICB2YXIgcHJvdG90eXBlID0gQ29tcG9uZW50LnByb3RvdHlwZTtcblxuICBpZiAoIXByb3RvdHlwZSB8fCAhcHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbiBvbmx5IHBvbHlmaWxsIGNsYXNzIGNvbXBvbmVudHMnKTtcbiAgfVxuXG4gIGlmIChcbiAgICB0eXBlb2YgQ29tcG9uZW50LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyAhPT0gJ2Z1bmN0aW9uJyAmJlxuICAgIHR5cGVvZiBwcm90b3R5cGUuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUgIT09ICdmdW5jdGlvbidcbiAgKSB7XG4gICAgcmV0dXJuIENvbXBvbmVudDtcbiAgfVxuXG4gIC8vIElmIG5ldyBjb21wb25lbnQgQVBJcyBhcmUgZGVmaW5lZCwgXCJ1bnNhZmVcIiBsaWZlY3ljbGVzIHdvbid0IGJlIGNhbGxlZC5cbiAgLy8gRXJyb3IgaWYgYW55IG9mIHRoZXNlIGxpZmVjeWNsZXMgYXJlIHByZXNlbnQsXG4gIC8vIEJlY2F1c2UgdGhleSB3b3VsZCB3b3JrIGRpZmZlcmVudGx5IGJldHdlZW4gb2xkZXIgYW5kIG5ld2VyICgxNi4zKykgdmVyc2lvbnMgb2YgUmVhY3QuXG4gIHZhciBmb3VuZFdpbGxNb3VudE5hbWUgPSBudWxsO1xuICB2YXIgZm91bmRXaWxsUmVjZWl2ZVByb3BzTmFtZSA9IG51bGw7XG4gIHZhciBmb3VuZFdpbGxVcGRhdGVOYW1lID0gbnVsbDtcbiAgaWYgKHR5cGVvZiBwcm90b3R5cGUuY29tcG9uZW50V2lsbE1vdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZm91bmRXaWxsTW91bnROYW1lID0gJ2NvbXBvbmVudFdpbGxNb3VudCc7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHByb3RvdHlwZS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZm91bmRXaWxsTW91bnROYW1lID0gJ1VOU0FGRV9jb21wb25lbnRXaWxsTW91bnQnO1xuICB9XG4gIGlmICh0eXBlb2YgcHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBmb3VuZFdpbGxSZWNlaXZlUHJvcHNOYW1lID0gJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBwcm90b3R5cGUuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBmb3VuZFdpbGxSZWNlaXZlUHJvcHNOYW1lID0gJ1VOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJztcbiAgfVxuICBpZiAodHlwZW9mIHByb3RvdHlwZS5jb21wb25lbnRXaWxsVXBkYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZm91bmRXaWxsVXBkYXRlTmFtZSA9ICdjb21wb25lbnRXaWxsVXBkYXRlJztcbiAgfSBlbHNlIGlmICh0eXBlb2YgcHJvdG90eXBlLlVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZm91bmRXaWxsVXBkYXRlTmFtZSA9ICdVTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZSc7XG4gIH1cbiAgaWYgKFxuICAgIGZvdW5kV2lsbE1vdW50TmFtZSAhPT0gbnVsbCB8fFxuICAgIGZvdW5kV2lsbFJlY2VpdmVQcm9wc05hbWUgIT09IG51bGwgfHxcbiAgICBmb3VuZFdpbGxVcGRhdGVOYW1lICE9PSBudWxsXG4gICkge1xuICAgIHZhciBjb21wb25lbnROYW1lID0gQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IENvbXBvbmVudC5uYW1lO1xuICAgIHZhciBuZXdBcGlOYW1lID1cbiAgICAgIHR5cGVvZiBDb21wb25lbnQuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID09PSAnZnVuY3Rpb24nXG4gICAgICAgID8gJ2dldERlcml2ZWRTdGF0ZUZyb21Qcm9wcygpJ1xuICAgICAgICA6ICdnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSgpJztcblxuICAgIHRocm93IEVycm9yKFxuICAgICAgJ1Vuc2FmZSBsZWdhY3kgbGlmZWN5Y2xlcyB3aWxsIG5vdCBiZSBjYWxsZWQgZm9yIGNvbXBvbmVudHMgdXNpbmcgbmV3IGNvbXBvbmVudCBBUElzLlxcblxcbicgK1xuICAgICAgICBjb21wb25lbnROYW1lICtcbiAgICAgICAgJyB1c2VzICcgK1xuICAgICAgICBuZXdBcGlOYW1lICtcbiAgICAgICAgJyBidXQgYWxzbyBjb250YWlucyB0aGUgZm9sbG93aW5nIGxlZ2FjeSBsaWZlY3ljbGVzOicgK1xuICAgICAgICAoZm91bmRXaWxsTW91bnROYW1lICE9PSBudWxsID8gJ1xcbiAgJyArIGZvdW5kV2lsbE1vdW50TmFtZSA6ICcnKSArXG4gICAgICAgIChmb3VuZFdpbGxSZWNlaXZlUHJvcHNOYW1lICE9PSBudWxsXG4gICAgICAgICAgPyAnXFxuICAnICsgZm91bmRXaWxsUmVjZWl2ZVByb3BzTmFtZVxuICAgICAgICAgIDogJycpICtcbiAgICAgICAgKGZvdW5kV2lsbFVwZGF0ZU5hbWUgIT09IG51bGwgPyAnXFxuICAnICsgZm91bmRXaWxsVXBkYXRlTmFtZSA6ICcnKSArXG4gICAgICAgICdcXG5cXG5UaGUgYWJvdmUgbGlmZWN5Y2xlcyBzaG91bGQgYmUgcmVtb3ZlZC4gTGVhcm4gbW9yZSBhYm91dCB0aGlzIHdhcm5pbmcgaGVyZTpcXG4nICtcbiAgICAgICAgJ2h0dHBzOi8vZmIubWUvcmVhY3QtYXN5bmMtY29tcG9uZW50LWxpZmVjeWNsZS1ob29rcydcbiAgICApO1xuICB9XG5cbiAgLy8gUmVhY3QgPD0gMTYuMiBkb2VzIG5vdCBzdXBwb3J0IHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMuXG4gIC8vIEFzIGEgd29ya2Fyb3VuZCwgdXNlIGNXTSBhbmQgY1dSUCB0byBpbnZva2UgdGhlIG5ldyBzdGF0aWMgbGlmZWN5Y2xlLlxuICAvLyBOZXdlciB2ZXJzaW9ucyBvZiBSZWFjdCB3aWxsIGlnbm9yZSB0aGVzZSBsaWZlY3ljbGVzIGlmIGdEU0ZQIGV4aXN0cy5cbiAgaWYgKHR5cGVvZiBDb21wb25lbnQuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcHJvdG90eXBlLmNvbXBvbmVudFdpbGxNb3VudCA9IGNvbXBvbmVudFdpbGxNb3VudDtcbiAgICBwcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM7XG4gIH1cblxuICAvLyBSZWFjdCA8PSAxNi4yIGRvZXMgbm90IHN1cHBvcnQgZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUuXG4gIC8vIEFzIGEgd29ya2Fyb3VuZCwgdXNlIGNXVSB0byBpbnZva2UgdGhlIG5ldyBsaWZlY3ljbGUuXG4gIC8vIE5ld2VyIHZlcnNpb25zIG9mIFJlYWN0IHdpbGwgaWdub3JlIHRoYXQgbGlmZWN5Y2xlIGlmIGdTQlUgZXhpc3RzLlxuICBpZiAodHlwZW9mIHByb3RvdHlwZS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGlmICh0eXBlb2YgcHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnQ2Fubm90IHBvbHlmaWxsIGdldFNuYXBzaG90QmVmb3JlVXBkYXRlKCkgZm9yIGNvbXBvbmVudHMgdGhhdCBkbyBub3QgZGVmaW5lIGNvbXBvbmVudERpZFVwZGF0ZSgpIG9uIHRoZSBwcm90b3R5cGUnXG4gICAgICApO1xuICAgIH1cblxuICAgIHByb3RvdHlwZS5jb21wb25lbnRXaWxsVXBkYXRlID0gY29tcG9uZW50V2lsbFVwZGF0ZTtcblxuICAgIHZhciBjb21wb25lbnREaWRVcGRhdGUgPSBwcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlO1xuXG4gICAgcHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZVBvbHlmaWxsKFxuICAgICAgcHJldlByb3BzLFxuICAgICAgcHJldlN0YXRlLFxuICAgICAgbWF5YmVTbmFwc2hvdFxuICAgICkge1xuICAgICAgLy8gMTYuMysgd2lsbCBub3QgZXhlY3V0ZSBvdXIgd2lsbC11cGRhdGUgbWV0aG9kO1xuICAgICAgLy8gSXQgd2lsbCBwYXNzIGEgc25hcHNob3QgdmFsdWUgdG8gZGlkLXVwZGF0ZSB0aG91Z2guXG4gICAgICAvLyBPbGRlciB2ZXJzaW9ucyB3aWxsIHJlcXVpcmUgb3VyIHBvbHlmaWxsZWQgd2lsbC11cGRhdGUgdmFsdWUuXG4gICAgICAvLyBXZSBuZWVkIHRvIGhhbmRsZSBib3RoIGNhc2VzLCBidXQgY2FuJ3QganVzdCBjaGVjayBmb3IgdGhlIHByZXNlbmNlIG9mIFwibWF5YmVTbmFwc2hvdFwiLFxuICAgICAgLy8gQmVjYXVzZSBmb3IgPD0gMTUueCB2ZXJzaW9ucyB0aGlzIG1pZ2h0IGJlIGEgXCJwcmV2Q29udGV4dFwiIG9iamVjdC5cbiAgICAgIC8vIFdlIGFsc28gY2FuJ3QganVzdCBjaGVjayBcIl9fcmVhY3RJbnRlcm5hbFNuYXBzaG90XCIsXG4gICAgICAvLyBCZWNhdXNlIGdldC1zbmFwc2hvdCBtaWdodCByZXR1cm4gYSBmYWxzeSB2YWx1ZS5cbiAgICAgIC8vIFNvIGNoZWNrIGZvciB0aGUgZXhwbGljaXQgX19yZWFjdEludGVybmFsU25hcHNob3RGbGFnIGZsYWcgdG8gZGV0ZXJtaW5lIGJlaGF2aW9yLlxuICAgICAgdmFyIHNuYXBzaG90ID0gdGhpcy5fX3JlYWN0SW50ZXJuYWxTbmFwc2hvdEZsYWdcbiAgICAgICAgPyB0aGlzLl9fcmVhY3RJbnRlcm5hbFNuYXBzaG90XG4gICAgICAgIDogbWF5YmVTbmFwc2hvdDtcblxuICAgICAgY29tcG9uZW50RGlkVXBkYXRlLmNhbGwodGhpcywgcHJldlByb3BzLCBwcmV2U3RhdGUsIHNuYXBzaG90KTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIENvbXBvbmVudDtcbn1cblxuZXhwb3J0IHsgcG9seWZpbGwgfTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../trader/node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js\n");

/***/ }),

/***/ "../../trader/node_modules/react-transition-group/CSSTransition.js":
/*!***************************************************************************************************************************!*\
  !*** /Users/samyong/Documents/Source_code/deriv-app/packages/trader/node_modules/react-transition-group/CSSTransition.js ***!
  \***************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar PropTypes = _interopRequireWildcard(__webpack_require__(/*! prop-types */ \"../../trader/node_modules/prop-types/index.js\"));\n\nvar _addClass = _interopRequireDefault(__webpack_require__(/*! dom-helpers/class/addClass */ \"../../trader/node_modules/dom-helpers/class/addClass.js\"));\n\nvar _removeClass = _interopRequireDefault(__webpack_require__(/*! dom-helpers/class/removeClass */ \"../../trader/node_modules/dom-helpers/class/removeClass.js\"));\n\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nvar _Transition = _interopRequireDefault(__webpack_require__(/*! ./Transition */ \"../../trader/node_modules/react-transition-group/Transition.js\"));\n\nvar _PropTypes = __webpack_require__(/*! ./utils/PropTypes */ \"../../trader/node_modules/react-transition-group/utils/PropTypes.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar addClass = function addClass(node, classes) {\n  return node && classes && classes.split(' ').forEach(function (c) {\n    return (0, _addClass.default)(node, c);\n  });\n};\n\nvar removeClass = function removeClass(node, classes) {\n  return node && classes && classes.split(' ').forEach(function (c) {\n    return (0, _removeClass.default)(node, c);\n  });\n};\n/**\n * A transition component inspired by the excellent\n * [ng-animate](http://www.nganimate.org/) library, you should use it if you're\n * using CSS transitions or animations. It's built upon the\n * [`Transition`](https://reactcommunity.org/react-transition-group/transition)\n * component, so it inherits all of its props.\n *\n * `CSSTransition` applies a pair of class names during the `appear`, `enter`,\n * and `exit` states of the transition. The first class is applied and then a\n * second `*-active` class in order to activate the CSSS transition. After the\n * transition, matching `*-done` class names are applied to persist the\n * transition state.\n *\n * ```jsx\n * function App() {\n *   const [inProp, setInProp] = useState(false);\n *   return (\n *     <div>\n *       <CSSTransition in={inProp} timeout={200} classNames=\"my-node\">\n *         <div>\n *           {\"I'll receive my-node-* classes\"}\n *         </div>\n *       </CSSTransition>\n *       <button type=\"button\" onClick={() => setInProp(true)}>\n *         Click to Enter\n *       </button>\n *     </div>\n *   );\n * }\n * ```\n *\n * When the `in` prop is set to `true`, the child component will first receive\n * the class `example-enter`, then the `example-enter-active` will be added in\n * the next tick. `CSSTransition` [forces a\n * reflow](https://github.com/reactjs/react-transition-group/blob/5007303e729a74be66a21c3e2205e4916821524b/src/CSSTransition.js#L208-L215)\n * between before adding the `example-enter-active`. This is an important trick\n * because it allows us to transition between `example-enter` and\n * `example-enter-active` even though they were added immediately one after\n * another. Most notably, this is what makes it possible for us to animate\n * _appearance_.\n *\n * ```css\n * .my-node-enter {\n *   opacity: 0;\n * }\n * .my-node-enter-active {\n *   opacity: 1;\n *   transition: opacity 200ms;\n * }\n * .my-node-exit {\n *   opacity: 1;\n * }\n * .my-node-exit-active {\n *   opacity: 0;\n *   transition: opacity: 200ms;\n * }\n * ```\n *\n * `*-active` classes represent which styles you want to animate **to**.\n */\n\n\nvar CSSTransition =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(CSSTransition, _React$Component);\n\n  function CSSTransition() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _this.onEnter = function (node, appearing) {\n      var _this$getClassNames = _this.getClassNames(appearing ? 'appear' : 'enter'),\n          className = _this$getClassNames.className;\n\n      _this.removeClasses(node, 'exit');\n\n      addClass(node, className);\n\n      if (_this.props.onEnter) {\n        _this.props.onEnter(node, appearing);\n      }\n    };\n\n    _this.onEntering = function (node, appearing) {\n      var _this$getClassNames2 = _this.getClassNames(appearing ? 'appear' : 'enter'),\n          activeClassName = _this$getClassNames2.activeClassName;\n\n      _this.reflowAndAddClass(node, activeClassName);\n\n      if (_this.props.onEntering) {\n        _this.props.onEntering(node, appearing);\n      }\n    };\n\n    _this.onEntered = function (node, appearing) {\n      var appearClassName = _this.getClassNames('appear').doneClassName;\n\n      var enterClassName = _this.getClassNames('enter').doneClassName;\n\n      var doneClassName = appearing ? appearClassName + \" \" + enterClassName : enterClassName;\n\n      _this.removeClasses(node, appearing ? 'appear' : 'enter');\n\n      addClass(node, doneClassName);\n\n      if (_this.props.onEntered) {\n        _this.props.onEntered(node, appearing);\n      }\n    };\n\n    _this.onExit = function (node) {\n      var _this$getClassNames3 = _this.getClassNames('exit'),\n          className = _this$getClassNames3.className;\n\n      _this.removeClasses(node, 'appear');\n\n      _this.removeClasses(node, 'enter');\n\n      addClass(node, className);\n\n      if (_this.props.onExit) {\n        _this.props.onExit(node);\n      }\n    };\n\n    _this.onExiting = function (node) {\n      var _this$getClassNames4 = _this.getClassNames('exit'),\n          activeClassName = _this$getClassNames4.activeClassName;\n\n      _this.reflowAndAddClass(node, activeClassName);\n\n      if (_this.props.onExiting) {\n        _this.props.onExiting(node);\n      }\n    };\n\n    _this.onExited = function (node) {\n      var _this$getClassNames5 = _this.getClassNames('exit'),\n          doneClassName = _this$getClassNames5.doneClassName;\n\n      _this.removeClasses(node, 'exit');\n\n      addClass(node, doneClassName);\n\n      if (_this.props.onExited) {\n        _this.props.onExited(node);\n      }\n    };\n\n    _this.getClassNames = function (type) {\n      var classNames = _this.props.classNames;\n      var isStringClassNames = typeof classNames === 'string';\n      var prefix = isStringClassNames && classNames ? classNames + '-' : '';\n      var className = isStringClassNames ? prefix + type : classNames[type];\n      var activeClassName = isStringClassNames ? className + '-active' : classNames[type + 'Active'];\n      var doneClassName = isStringClassNames ? className + '-done' : classNames[type + 'Done'];\n      return {\n        className: className,\n        activeClassName: activeClassName,\n        doneClassName: doneClassName\n      };\n    };\n\n    return _this;\n  }\n\n  var _proto = CSSTransition.prototype;\n\n  _proto.removeClasses = function removeClasses(node, type) {\n    var _this$getClassNames6 = this.getClassNames(type),\n        className = _this$getClassNames6.className,\n        activeClassName = _this$getClassNames6.activeClassName,\n        doneClassName = _this$getClassNames6.doneClassName;\n\n    className && removeClass(node, className);\n    activeClassName && removeClass(node, activeClassName);\n    doneClassName && removeClass(node, doneClassName);\n  };\n\n  _proto.reflowAndAddClass = function reflowAndAddClass(node, className) {\n    // This is for to force a repaint,\n    // which is necessary in order to transition styles when adding a class name.\n    if (className) {\n      /* eslint-disable no-unused-expressions */\n      node && node.scrollTop;\n      /* eslint-enable no-unused-expressions */\n\n      addClass(node, className);\n    }\n  };\n\n  _proto.render = function render() {\n    var props = _extends({}, this.props);\n\n    delete props.classNames;\n    return _react.default.createElement(_Transition.default, _extends({}, props, {\n      onEnter: this.onEnter,\n      onEntered: this.onEntered,\n      onEntering: this.onEntering,\n      onExit: this.onExit,\n      onExiting: this.onExiting,\n      onExited: this.onExited\n    }));\n  };\n\n  return CSSTransition;\n}(_react.default.Component);\n\nCSSTransition.defaultProps = {\n  classNames: ''\n};\nCSSTransition.propTypes =  true ? _extends({}, _Transition.default.propTypes, {\n  /**\n   * The animation classNames applied to the component as it enters, exits or\n   * has finished the transition. A single name can be provided and it will be\n   * suffixed for each stage: e.g.\n   *\n   * `classNames=\"fade\"` applies `fade-enter`, `fade-enter-active`,\n   * `fade-enter-done`, `fade-exit`, `fade-exit-active`, `fade-exit-done`,\n   * `fade-appear`, `fade-appear-active`, and `fade-appear-done`.\n   *\n   * **Note**: `fade-appear-done` and `fade-enter-done` will _both_ be applied.\n   * This allows you to define different behavior for when appearing is done and\n   * when regular entering is done, using selectors like\n   * `.fade-enter-done:not(.fade-appear-done)`. For example, you could apply an\n   * epic entrance animation when element first appears in the DOM using\n   * [Animate.css](https://daneden.github.io/animate.css/). Otherwise you can\n   * simply use `fade-enter-done` for defining both cases.\n   *\n   * Each individual classNames can also be specified independently like:\n   *\n   * ```js\n   * classNames={{\n   *  appear: 'my-appear',\n   *  appearActive: 'my-active-appear',\n   *  appearDone: 'my-done-appear',\n   *  enter: 'my-enter',\n   *  enterActive: 'my-active-enter',\n   *  enterDone: 'my-done-enter',\n   *  exit: 'my-exit',\n   *  exitActive: 'my-active-exit',\n   *  exitDone: 'my-done-exit',\n   * }}\n   * ```\n   *\n   * If you want to set these classes using CSS Modules:\n   *\n   * ```js\n   * import styles from './styles.css';\n   * ```\n   *\n   * you might want to use camelCase in your CSS file, that way could simply\n   * spread them instead of listing them one by one:\n   *\n   * ```js\n   * classNames={{ ...styles }}\n   * ```\n   *\n   * @type {string | {\n   *  appear?: string,\n   *  appearActive?: string,\n   *  appearDone?: string,\n   *  enter?: string,\n   *  enterActive?: string,\n   *  enterDone?: string,\n   *  exit?: string,\n   *  exitActive?: string,\n   *  exitDone?: string,\n   * }}\n   */\n  classNames: _PropTypes.classNamesShape,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'enter' or 'appear' class is\n   * applied.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'enter-active' or\n   * 'appear-active' class is applied.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'enter' or\n   * 'appear' classes are **removed** and the `done` class is added to the DOM node.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'exit' class is\n   * applied.\n   *\n   * @type Function(node: HtmlElement)\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'exit-active' is applied.\n   *\n   * @type Function(node: HtmlElement)\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'exit' classes\n   * are **removed** and the `exit-done` class is added to the DOM node.\n   *\n   * @type Function(node: HtmlElement)\n   */\n  onExited: PropTypes.func\n}) : undefined;\nvar _default = CSSTransition;\nexports.default = _default;\nmodule.exports = exports[\"default\"];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vdHJhZGVyL25vZGVfbW9kdWxlcy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL0NTU1RyYW5zaXRpb24uanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL3NhbXlvbmcvRG9jdW1lbnRzL1NvdXJjZV9jb2RlL2Rlcml2LWFwcC9wYWNrYWdlcy90cmFkZXIvbm9kZV9tb2R1bGVzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvQ1NTVHJhbnNpdGlvbi5qcz9iNzljIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgUHJvcFR5cGVzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZShcInByb3AtdHlwZXNcIikpO1xuXG52YXIgX2FkZENsYXNzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiZG9tLWhlbHBlcnMvY2xhc3MvYWRkQ2xhc3NcIikpO1xuXG52YXIgX3JlbW92ZUNsYXNzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiZG9tLWhlbHBlcnMvY2xhc3MvcmVtb3ZlQ2xhc3NcIikpO1xuXG52YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwicmVhY3RcIikpO1xuXG52YXIgX1RyYW5zaXRpb24gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL1RyYW5zaXRpb25cIikpO1xuXG52YXIgX1Byb3BUeXBlcyA9IHJlcXVpcmUoXCIuL3V0aWxzL1Byb3BUeXBlc1wiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgeyB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7IH0gZWxzZSB7IG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTsgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIGFkZENsYXNzID0gZnVuY3Rpb24gYWRkQ2xhc3Mobm9kZSwgY2xhc3Nlcykge1xuICByZXR1cm4gbm9kZSAmJiBjbGFzc2VzICYmIGNsYXNzZXMuc3BsaXQoJyAnKS5mb3JFYWNoKGZ1bmN0aW9uIChjKSB7XG4gICAgcmV0dXJuICgwLCBfYWRkQ2xhc3MuZGVmYXVsdCkobm9kZSwgYyk7XG4gIH0pO1xufTtcblxudmFyIHJlbW92ZUNsYXNzID0gZnVuY3Rpb24gcmVtb3ZlQ2xhc3Mobm9kZSwgY2xhc3Nlcykge1xuICByZXR1cm4gbm9kZSAmJiBjbGFzc2VzICYmIGNsYXNzZXMuc3BsaXQoJyAnKS5mb3JFYWNoKGZ1bmN0aW9uIChjKSB7XG4gICAgcmV0dXJuICgwLCBfcmVtb3ZlQ2xhc3MuZGVmYXVsdCkobm9kZSwgYyk7XG4gIH0pO1xufTtcbi8qKlxuICogQSB0cmFuc2l0aW9uIGNvbXBvbmVudCBpbnNwaXJlZCBieSB0aGUgZXhjZWxsZW50XG4gKiBbbmctYW5pbWF0ZV0oaHR0cDovL3d3dy5uZ2FuaW1hdGUub3JnLykgbGlicmFyeSwgeW91IHNob3VsZCB1c2UgaXQgaWYgeW91J3JlXG4gKiB1c2luZyBDU1MgdHJhbnNpdGlvbnMgb3IgYW5pbWF0aW9ucy4gSXQncyBidWlsdCB1cG9uIHRoZVxuICogW2BUcmFuc2l0aW9uYF0oaHR0cHM6Ly9yZWFjdGNvbW11bml0eS5vcmcvcmVhY3QtdHJhbnNpdGlvbi1ncm91cC90cmFuc2l0aW9uKVxuICogY29tcG9uZW50LCBzbyBpdCBpbmhlcml0cyBhbGwgb2YgaXRzIHByb3BzLlxuICpcbiAqIGBDU1NUcmFuc2l0aW9uYCBhcHBsaWVzIGEgcGFpciBvZiBjbGFzcyBuYW1lcyBkdXJpbmcgdGhlIGBhcHBlYXJgLCBgZW50ZXJgLFxuICogYW5kIGBleGl0YCBzdGF0ZXMgb2YgdGhlIHRyYW5zaXRpb24uIFRoZSBmaXJzdCBjbGFzcyBpcyBhcHBsaWVkIGFuZCB0aGVuIGFcbiAqIHNlY29uZCBgKi1hY3RpdmVgIGNsYXNzIGluIG9yZGVyIHRvIGFjdGl2YXRlIHRoZSBDU1NTIHRyYW5zaXRpb24uIEFmdGVyIHRoZVxuICogdHJhbnNpdGlvbiwgbWF0Y2hpbmcgYCotZG9uZWAgY2xhc3MgbmFtZXMgYXJlIGFwcGxpZWQgdG8gcGVyc2lzdCB0aGVcbiAqIHRyYW5zaXRpb24gc3RhdGUuXG4gKlxuICogYGBganN4XG4gKiBmdW5jdGlvbiBBcHAoKSB7XG4gKiAgIGNvbnN0IFtpblByb3AsIHNldEluUHJvcF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gKiAgIHJldHVybiAoXG4gKiAgICAgPGRpdj5cbiAqICAgICAgIDxDU1NUcmFuc2l0aW9uIGluPXtpblByb3B9IHRpbWVvdXQ9ezIwMH0gY2xhc3NOYW1lcz1cIm15LW5vZGVcIj5cbiAqICAgICAgICAgPGRpdj5cbiAqICAgICAgICAgICB7XCJJJ2xsIHJlY2VpdmUgbXktbm9kZS0qIGNsYXNzZXNcIn1cbiAqICAgICAgICAgPC9kaXY+XG4gKiAgICAgICA8L0NTU1RyYW5zaXRpb24+XG4gKiAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBvbkNsaWNrPXsoKSA9PiBzZXRJblByb3AodHJ1ZSl9PlxuICogICAgICAgICBDbGljayB0byBFbnRlclxuICogICAgICAgPC9idXR0b24+XG4gKiAgICAgPC9kaXY+XG4gKiAgICk7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBXaGVuIHRoZSBgaW5gIHByb3AgaXMgc2V0IHRvIGB0cnVlYCwgdGhlIGNoaWxkIGNvbXBvbmVudCB3aWxsIGZpcnN0IHJlY2VpdmVcbiAqIHRoZSBjbGFzcyBgZXhhbXBsZS1lbnRlcmAsIHRoZW4gdGhlIGBleGFtcGxlLWVudGVyLWFjdGl2ZWAgd2lsbCBiZSBhZGRlZCBpblxuICogdGhlIG5leHQgdGljay4gYENTU1RyYW5zaXRpb25gIFtmb3JjZXMgYVxuICogcmVmbG93XShodHRwczovL2dpdGh1Yi5jb20vcmVhY3Rqcy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL2Jsb2IvNTAwNzMwM2U3MjlhNzRiZTY2YTIxYzNlMjIwNWU0OTE2ODIxNTI0Yi9zcmMvQ1NTVHJhbnNpdGlvbi5qcyNMMjA4LUwyMTUpXG4gKiBiZXR3ZWVuIGJlZm9yZSBhZGRpbmcgdGhlIGBleGFtcGxlLWVudGVyLWFjdGl2ZWAuIFRoaXMgaXMgYW4gaW1wb3J0YW50IHRyaWNrXG4gKiBiZWNhdXNlIGl0IGFsbG93cyB1cyB0byB0cmFuc2l0aW9uIGJldHdlZW4gYGV4YW1wbGUtZW50ZXJgIGFuZFxuICogYGV4YW1wbGUtZW50ZXItYWN0aXZlYCBldmVuIHRob3VnaCB0aGV5IHdlcmUgYWRkZWQgaW1tZWRpYXRlbHkgb25lIGFmdGVyXG4gKiBhbm90aGVyLiBNb3N0IG5vdGFibHksIHRoaXMgaXMgd2hhdCBtYWtlcyBpdCBwb3NzaWJsZSBmb3IgdXMgdG8gYW5pbWF0ZVxuICogX2FwcGVhcmFuY2VfLlxuICpcbiAqIGBgYGNzc1xuICogLm15LW5vZGUtZW50ZXIge1xuICogICBvcGFjaXR5OiAwO1xuICogfVxuICogLm15LW5vZGUtZW50ZXItYWN0aXZlIHtcbiAqICAgb3BhY2l0eTogMTtcbiAqICAgdHJhbnNpdGlvbjogb3BhY2l0eSAyMDBtcztcbiAqIH1cbiAqIC5teS1ub2RlLWV4aXQge1xuICogICBvcGFjaXR5OiAxO1xuICogfVxuICogLm15LW5vZGUtZXhpdC1hY3RpdmUge1xuICogICBvcGFjaXR5OiAwO1xuICogICB0cmFuc2l0aW9uOiBvcGFjaXR5OiAyMDBtcztcbiAqIH1cbiAqIGBgYFxuICpcbiAqIGAqLWFjdGl2ZWAgY2xhc3NlcyByZXByZXNlbnQgd2hpY2ggc3R5bGVzIHlvdSB3YW50IHRvIGFuaW1hdGUgKip0byoqLlxuICovXG5cblxudmFyIENTU1RyYW5zaXRpb24gPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoQ1NTVHJhbnNpdGlvbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ1NTVHJhbnNpdGlvbigpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfUmVhY3QkQ29tcG9uZW50LmNhbGwuYXBwbHkoX1JlYWN0JENvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkgfHwgdGhpcztcblxuICAgIF90aGlzLm9uRW50ZXIgPSBmdW5jdGlvbiAobm9kZSwgYXBwZWFyaW5nKSB7XG4gICAgICB2YXIgX3RoaXMkZ2V0Q2xhc3NOYW1lcyA9IF90aGlzLmdldENsYXNzTmFtZXMoYXBwZWFyaW5nID8gJ2FwcGVhcicgOiAnZW50ZXInKSxcbiAgICAgICAgICBjbGFzc05hbWUgPSBfdGhpcyRnZXRDbGFzc05hbWVzLmNsYXNzTmFtZTtcblxuICAgICAgX3RoaXMucmVtb3ZlQ2xhc3Nlcyhub2RlLCAnZXhpdCcpO1xuXG4gICAgICBhZGRDbGFzcyhub2RlLCBjbGFzc05hbWUpO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25FbnRlcikge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkVudGVyKG5vZGUsIGFwcGVhcmluZyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLm9uRW50ZXJpbmcgPSBmdW5jdGlvbiAobm9kZSwgYXBwZWFyaW5nKSB7XG4gICAgICB2YXIgX3RoaXMkZ2V0Q2xhc3NOYW1lczIgPSBfdGhpcy5nZXRDbGFzc05hbWVzKGFwcGVhcmluZyA/ICdhcHBlYXInIDogJ2VudGVyJyksXG4gICAgICAgICAgYWN0aXZlQ2xhc3NOYW1lID0gX3RoaXMkZ2V0Q2xhc3NOYW1lczIuYWN0aXZlQ2xhc3NOYW1lO1xuXG4gICAgICBfdGhpcy5yZWZsb3dBbmRBZGRDbGFzcyhub2RlLCBhY3RpdmVDbGFzc05hbWUpO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25FbnRlcmluZykge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkVudGVyaW5nKG5vZGUsIGFwcGVhcmluZyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLm9uRW50ZXJlZCA9IGZ1bmN0aW9uIChub2RlLCBhcHBlYXJpbmcpIHtcbiAgICAgIHZhciBhcHBlYXJDbGFzc05hbWUgPSBfdGhpcy5nZXRDbGFzc05hbWVzKCdhcHBlYXInKS5kb25lQ2xhc3NOYW1lO1xuXG4gICAgICB2YXIgZW50ZXJDbGFzc05hbWUgPSBfdGhpcy5nZXRDbGFzc05hbWVzKCdlbnRlcicpLmRvbmVDbGFzc05hbWU7XG5cbiAgICAgIHZhciBkb25lQ2xhc3NOYW1lID0gYXBwZWFyaW5nID8gYXBwZWFyQ2xhc3NOYW1lICsgXCIgXCIgKyBlbnRlckNsYXNzTmFtZSA6IGVudGVyQ2xhc3NOYW1lO1xuXG4gICAgICBfdGhpcy5yZW1vdmVDbGFzc2VzKG5vZGUsIGFwcGVhcmluZyA/ICdhcHBlYXInIDogJ2VudGVyJyk7XG5cbiAgICAgIGFkZENsYXNzKG5vZGUsIGRvbmVDbGFzc05hbWUpO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25FbnRlcmVkKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uRW50ZXJlZChub2RlLCBhcHBlYXJpbmcpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5vbkV4aXQgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgdmFyIF90aGlzJGdldENsYXNzTmFtZXMzID0gX3RoaXMuZ2V0Q2xhc3NOYW1lcygnZXhpdCcpLFxuICAgICAgICAgIGNsYXNzTmFtZSA9IF90aGlzJGdldENsYXNzTmFtZXMzLmNsYXNzTmFtZTtcblxuICAgICAgX3RoaXMucmVtb3ZlQ2xhc3Nlcyhub2RlLCAnYXBwZWFyJyk7XG5cbiAgICAgIF90aGlzLnJlbW92ZUNsYXNzZXMobm9kZSwgJ2VudGVyJyk7XG5cbiAgICAgIGFkZENsYXNzKG5vZGUsIGNsYXNzTmFtZSk7XG5cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkV4aXQpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25FeGl0KG5vZGUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5vbkV4aXRpbmcgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgdmFyIF90aGlzJGdldENsYXNzTmFtZXM0ID0gX3RoaXMuZ2V0Q2xhc3NOYW1lcygnZXhpdCcpLFxuICAgICAgICAgIGFjdGl2ZUNsYXNzTmFtZSA9IF90aGlzJGdldENsYXNzTmFtZXM0LmFjdGl2ZUNsYXNzTmFtZTtcblxuICAgICAgX3RoaXMucmVmbG93QW5kQWRkQ2xhc3Mobm9kZSwgYWN0aXZlQ2xhc3NOYW1lKTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uRXhpdGluZykge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkV4aXRpbmcobm9kZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLm9uRXhpdGVkID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIHZhciBfdGhpcyRnZXRDbGFzc05hbWVzNSA9IF90aGlzLmdldENsYXNzTmFtZXMoJ2V4aXQnKSxcbiAgICAgICAgICBkb25lQ2xhc3NOYW1lID0gX3RoaXMkZ2V0Q2xhc3NOYW1lczUuZG9uZUNsYXNzTmFtZTtcblxuICAgICAgX3RoaXMucmVtb3ZlQ2xhc3Nlcyhub2RlLCAnZXhpdCcpO1xuXG4gICAgICBhZGRDbGFzcyhub2RlLCBkb25lQ2xhc3NOYW1lKTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uRXhpdGVkKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uRXhpdGVkKG5vZGUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5nZXRDbGFzc05hbWVzID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgIHZhciBjbGFzc05hbWVzID0gX3RoaXMucHJvcHMuY2xhc3NOYW1lcztcbiAgICAgIHZhciBpc1N0cmluZ0NsYXNzTmFtZXMgPSB0eXBlb2YgY2xhc3NOYW1lcyA9PT0gJ3N0cmluZyc7XG4gICAgICB2YXIgcHJlZml4ID0gaXNTdHJpbmdDbGFzc05hbWVzICYmIGNsYXNzTmFtZXMgPyBjbGFzc05hbWVzICsgJy0nIDogJyc7XG4gICAgICB2YXIgY2xhc3NOYW1lID0gaXNTdHJpbmdDbGFzc05hbWVzID8gcHJlZml4ICsgdHlwZSA6IGNsYXNzTmFtZXNbdHlwZV07XG4gICAgICB2YXIgYWN0aXZlQ2xhc3NOYW1lID0gaXNTdHJpbmdDbGFzc05hbWVzID8gY2xhc3NOYW1lICsgJy1hY3RpdmUnIDogY2xhc3NOYW1lc1t0eXBlICsgJ0FjdGl2ZSddO1xuICAgICAgdmFyIGRvbmVDbGFzc05hbWUgPSBpc1N0cmluZ0NsYXNzTmFtZXMgPyBjbGFzc05hbWUgKyAnLWRvbmUnIDogY2xhc3NOYW1lc1t0eXBlICsgJ0RvbmUnXTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgICBhY3RpdmVDbGFzc05hbWU6IGFjdGl2ZUNsYXNzTmFtZSxcbiAgICAgICAgZG9uZUNsYXNzTmFtZTogZG9uZUNsYXNzTmFtZVxuICAgICAgfTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IENTU1RyYW5zaXRpb24ucHJvdG90eXBlO1xuXG4gIF9wcm90by5yZW1vdmVDbGFzc2VzID0gZnVuY3Rpb24gcmVtb3ZlQ2xhc3Nlcyhub2RlLCB0eXBlKSB7XG4gICAgdmFyIF90aGlzJGdldENsYXNzTmFtZXM2ID0gdGhpcy5nZXRDbGFzc05hbWVzKHR5cGUpLFxuICAgICAgICBjbGFzc05hbWUgPSBfdGhpcyRnZXRDbGFzc05hbWVzNi5jbGFzc05hbWUsXG4gICAgICAgIGFjdGl2ZUNsYXNzTmFtZSA9IF90aGlzJGdldENsYXNzTmFtZXM2LmFjdGl2ZUNsYXNzTmFtZSxcbiAgICAgICAgZG9uZUNsYXNzTmFtZSA9IF90aGlzJGdldENsYXNzTmFtZXM2LmRvbmVDbGFzc05hbWU7XG5cbiAgICBjbGFzc05hbWUgJiYgcmVtb3ZlQ2xhc3Mobm9kZSwgY2xhc3NOYW1lKTtcbiAgICBhY3RpdmVDbGFzc05hbWUgJiYgcmVtb3ZlQ2xhc3Mobm9kZSwgYWN0aXZlQ2xhc3NOYW1lKTtcbiAgICBkb25lQ2xhc3NOYW1lICYmIHJlbW92ZUNsYXNzKG5vZGUsIGRvbmVDbGFzc05hbWUpO1xuICB9O1xuXG4gIF9wcm90by5yZWZsb3dBbmRBZGRDbGFzcyA9IGZ1bmN0aW9uIHJlZmxvd0FuZEFkZENsYXNzKG5vZGUsIGNsYXNzTmFtZSkge1xuICAgIC8vIFRoaXMgaXMgZm9yIHRvIGZvcmNlIGEgcmVwYWludCxcbiAgICAvLyB3aGljaCBpcyBuZWNlc3NhcnkgaW4gb3JkZXIgdG8gdHJhbnNpdGlvbiBzdHlsZXMgd2hlbiBhZGRpbmcgYSBjbGFzcyBuYW1lLlxuICAgIGlmIChjbGFzc05hbWUpIHtcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC1leHByZXNzaW9ucyAqL1xuICAgICAgbm9kZSAmJiBub2RlLnNjcm9sbFRvcDtcbiAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tdW51c2VkLWV4cHJlc3Npb25zICovXG5cbiAgICAgIGFkZENsYXNzKG5vZGUsIGNsYXNzTmFtZSk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIHByb3BzID0gX2V4dGVuZHMoe30sIHRoaXMucHJvcHMpO1xuXG4gICAgZGVsZXRlIHByb3BzLmNsYXNzTmFtZXM7XG4gICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1RyYW5zaXRpb24uZGVmYXVsdCwgX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgICBvbkVudGVyOiB0aGlzLm9uRW50ZXIsXG4gICAgICBvbkVudGVyZWQ6IHRoaXMub25FbnRlcmVkLFxuICAgICAgb25FbnRlcmluZzogdGhpcy5vbkVudGVyaW5nLFxuICAgICAgb25FeGl0OiB0aGlzLm9uRXhpdCxcbiAgICAgIG9uRXhpdGluZzogdGhpcy5vbkV4aXRpbmcsXG4gICAgICBvbkV4aXRlZDogdGhpcy5vbkV4aXRlZFxuICAgIH0pKTtcbiAgfTtcblxuICByZXR1cm4gQ1NTVHJhbnNpdGlvbjtcbn0oX3JlYWN0LmRlZmF1bHQuQ29tcG9uZW50KTtcblxuQ1NTVHJhbnNpdGlvbi5kZWZhdWx0UHJvcHMgPSB7XG4gIGNsYXNzTmFtZXM6ICcnXG59O1xuQ1NTVHJhbnNpdGlvbi5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBfZXh0ZW5kcyh7fSwgX1RyYW5zaXRpb24uZGVmYXVsdC5wcm9wVHlwZXMsIHtcbiAgLyoqXG4gICAqIFRoZSBhbmltYXRpb24gY2xhc3NOYW1lcyBhcHBsaWVkIHRvIHRoZSBjb21wb25lbnQgYXMgaXQgZW50ZXJzLCBleGl0cyBvclxuICAgKiBoYXMgZmluaXNoZWQgdGhlIHRyYW5zaXRpb24uIEEgc2luZ2xlIG5hbWUgY2FuIGJlIHByb3ZpZGVkIGFuZCBpdCB3aWxsIGJlXG4gICAqIHN1ZmZpeGVkIGZvciBlYWNoIHN0YWdlOiBlLmcuXG4gICAqXG4gICAqIGBjbGFzc05hbWVzPVwiZmFkZVwiYCBhcHBsaWVzIGBmYWRlLWVudGVyYCwgYGZhZGUtZW50ZXItYWN0aXZlYCxcbiAgICogYGZhZGUtZW50ZXItZG9uZWAsIGBmYWRlLWV4aXRgLCBgZmFkZS1leGl0LWFjdGl2ZWAsIGBmYWRlLWV4aXQtZG9uZWAsXG4gICAqIGBmYWRlLWFwcGVhcmAsIGBmYWRlLWFwcGVhci1hY3RpdmVgLCBhbmQgYGZhZGUtYXBwZWFyLWRvbmVgLlxuICAgKlxuICAgKiAqKk5vdGUqKjogYGZhZGUtYXBwZWFyLWRvbmVgIGFuZCBgZmFkZS1lbnRlci1kb25lYCB3aWxsIF9ib3RoXyBiZSBhcHBsaWVkLlxuICAgKiBUaGlzIGFsbG93cyB5b3UgdG8gZGVmaW5lIGRpZmZlcmVudCBiZWhhdmlvciBmb3Igd2hlbiBhcHBlYXJpbmcgaXMgZG9uZSBhbmRcbiAgICogd2hlbiByZWd1bGFyIGVudGVyaW5nIGlzIGRvbmUsIHVzaW5nIHNlbGVjdG9ycyBsaWtlXG4gICAqIGAuZmFkZS1lbnRlci1kb25lOm5vdCguZmFkZS1hcHBlYXItZG9uZSlgLiBGb3IgZXhhbXBsZSwgeW91IGNvdWxkIGFwcGx5IGFuXG4gICAqIGVwaWMgZW50cmFuY2UgYW5pbWF0aW9uIHdoZW4gZWxlbWVudCBmaXJzdCBhcHBlYXJzIGluIHRoZSBET00gdXNpbmdcbiAgICogW0FuaW1hdGUuY3NzXShodHRwczovL2RhbmVkZW4uZ2l0aHViLmlvL2FuaW1hdGUuY3NzLykuIE90aGVyd2lzZSB5b3UgY2FuXG4gICAqIHNpbXBseSB1c2UgYGZhZGUtZW50ZXItZG9uZWAgZm9yIGRlZmluaW5nIGJvdGggY2FzZXMuXG4gICAqXG4gICAqIEVhY2ggaW5kaXZpZHVhbCBjbGFzc05hbWVzIGNhbiBhbHNvIGJlIHNwZWNpZmllZCBpbmRlcGVuZGVudGx5IGxpa2U6XG4gICAqXG4gICAqIGBgYGpzXG4gICAqIGNsYXNzTmFtZXM9e3tcbiAgICogIGFwcGVhcjogJ215LWFwcGVhcicsXG4gICAqICBhcHBlYXJBY3RpdmU6ICdteS1hY3RpdmUtYXBwZWFyJyxcbiAgICogIGFwcGVhckRvbmU6ICdteS1kb25lLWFwcGVhcicsXG4gICAqICBlbnRlcjogJ215LWVudGVyJyxcbiAgICogIGVudGVyQWN0aXZlOiAnbXktYWN0aXZlLWVudGVyJyxcbiAgICogIGVudGVyRG9uZTogJ215LWRvbmUtZW50ZXInLFxuICAgKiAgZXhpdDogJ215LWV4aXQnLFxuICAgKiAgZXhpdEFjdGl2ZTogJ215LWFjdGl2ZS1leGl0JyxcbiAgICogIGV4aXREb25lOiAnbXktZG9uZS1leGl0JyxcbiAgICogfX1cbiAgICogYGBgXG4gICAqXG4gICAqIElmIHlvdSB3YW50IHRvIHNldCB0aGVzZSBjbGFzc2VzIHVzaW5nIENTUyBNb2R1bGVzOlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiBpbXBvcnQgc3R5bGVzIGZyb20gJy4vc3R5bGVzLmNzcyc7XG4gICAqIGBgYFxuICAgKlxuICAgKiB5b3UgbWlnaHQgd2FudCB0byB1c2UgY2FtZWxDYXNlIGluIHlvdXIgQ1NTIGZpbGUsIHRoYXQgd2F5IGNvdWxkIHNpbXBseVxuICAgKiBzcHJlYWQgdGhlbSBpbnN0ZWFkIG9mIGxpc3RpbmcgdGhlbSBvbmUgYnkgb25lOlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiBjbGFzc05hbWVzPXt7IC4uLnN0eWxlcyB9fVxuICAgKiBgYGBcbiAgICpcbiAgICogQHR5cGUge3N0cmluZyB8IHtcbiAgICogIGFwcGVhcj86IHN0cmluZyxcbiAgICogIGFwcGVhckFjdGl2ZT86IHN0cmluZyxcbiAgICogIGFwcGVhckRvbmU/OiBzdHJpbmcsXG4gICAqICBlbnRlcj86IHN0cmluZyxcbiAgICogIGVudGVyQWN0aXZlPzogc3RyaW5nLFxuICAgKiAgZW50ZXJEb25lPzogc3RyaW5nLFxuICAgKiAgZXhpdD86IHN0cmluZyxcbiAgICogIGV4aXRBY3RpdmU/OiBzdHJpbmcsXG4gICAqICBleGl0RG9uZT86IHN0cmluZyxcbiAgICogfX1cbiAgICovXG4gIGNsYXNzTmFtZXM6IF9Qcm9wVHlwZXMuY2xhc3NOYW1lc1NoYXBlLFxuXG4gIC8qKlxuICAgKiBBIGA8VHJhbnNpdGlvbj5gIGNhbGxiYWNrIGZpcmVkIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSAnZW50ZXInIG9yICdhcHBlYXInIGNsYXNzIGlzXG4gICAqIGFwcGxpZWQuXG4gICAqXG4gICAqIEB0eXBlIEZ1bmN0aW9uKG5vZGU6IEh0bWxFbGVtZW50LCBpc0FwcGVhcmluZzogYm9vbClcbiAgICovXG4gIG9uRW50ZXI6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBBIGA8VHJhbnNpdGlvbj5gIGNhbGxiYWNrIGZpcmVkIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSAnZW50ZXItYWN0aXZlJyBvclxuICAgKiAnYXBwZWFyLWFjdGl2ZScgY2xhc3MgaXMgYXBwbGllZC5cbiAgICpcbiAgICogQHR5cGUgRnVuY3Rpb24obm9kZTogSHRtbEVsZW1lbnQsIGlzQXBwZWFyaW5nOiBib29sKVxuICAgKi9cbiAgb25FbnRlcmluZzogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqXG4gICAqIEEgYDxUcmFuc2l0aW9uPmAgY2FsbGJhY2sgZmlyZWQgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlICdlbnRlcicgb3JcbiAgICogJ2FwcGVhcicgY2xhc3NlcyBhcmUgKipyZW1vdmVkKiogYW5kIHRoZSBgZG9uZWAgY2xhc3MgaXMgYWRkZWQgdG8gdGhlIERPTSBub2RlLlxuICAgKlxuICAgKiBAdHlwZSBGdW5jdGlvbihub2RlOiBIdG1sRWxlbWVudCwgaXNBcHBlYXJpbmc6IGJvb2wpXG4gICAqL1xuICBvbkVudGVyZWQ6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBBIGA8VHJhbnNpdGlvbj5gIGNhbGxiYWNrIGZpcmVkIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSAnZXhpdCcgY2xhc3MgaXNcbiAgICogYXBwbGllZC5cbiAgICpcbiAgICogQHR5cGUgRnVuY3Rpb24obm9kZTogSHRtbEVsZW1lbnQpXG4gICAqL1xuICBvbkV4aXQ6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBBIGA8VHJhbnNpdGlvbj5gIGNhbGxiYWNrIGZpcmVkIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSAnZXhpdC1hY3RpdmUnIGlzIGFwcGxpZWQuXG4gICAqXG4gICAqIEB0eXBlIEZ1bmN0aW9uKG5vZGU6IEh0bWxFbGVtZW50KVxuICAgKi9cbiAgb25FeGl0aW5nOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQSBgPFRyYW5zaXRpb24+YCBjYWxsYmFjayBmaXJlZCBpbW1lZGlhdGVseSBhZnRlciB0aGUgJ2V4aXQnIGNsYXNzZXNcbiAgICogYXJlICoqcmVtb3ZlZCoqIGFuZCB0aGUgYGV4aXQtZG9uZWAgY2xhc3MgaXMgYWRkZWQgdG8gdGhlIERPTSBub2RlLlxuICAgKlxuICAgKiBAdHlwZSBGdW5jdGlvbihub2RlOiBIdG1sRWxlbWVudClcbiAgICovXG4gIG9uRXhpdGVkOiBQcm9wVHlwZXMuZnVuY1xufSkgOiB7fTtcbnZhciBfZGVmYXVsdCA9IENTU1RyYW5zaXRpb247XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../trader/node_modules/react-transition-group/CSSTransition.js\n");

/***/ }),

/***/ "../../trader/node_modules/react-transition-group/ReplaceTransition.js":
/*!*******************************************************************************************************************************!*\
  !*** /Users/samyong/Documents/Source_code/deriv-app/packages/trader/node_modules/react-transition-group/ReplaceTransition.js ***!
  \*******************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _propTypes = _interopRequireDefault(__webpack_require__(/*! prop-types */ \"../../trader/node_modules/prop-types/index.js\"));\n\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nvar _reactDom = __webpack_require__(/*! react-dom */ \"../node_modules/react-dom/index.js\");\n\nvar _TransitionGroup = _interopRequireDefault(__webpack_require__(/*! ./TransitionGroup */ \"../../trader/node_modules/react-transition-group/TransitionGroup.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\n/**\n * The `<ReplaceTransition>` component is a specialized `Transition` component\n * that animates between two children.\n *\n * ```jsx\n * <ReplaceTransition in>\n *   <Fade><div>I appear first</div></Fade>\n *   <Fade><div>I replace the above</div></Fade>\n * </ReplaceTransition>\n * ```\n */\nvar ReplaceTransition =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(ReplaceTransition, _React$Component);\n\n  function ReplaceTransition() {\n    var _this;\n\n    for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {\n      _args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(_args)) || this;\n\n    _this.handleEnter = function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return _this.handleLifecycle('onEnter', 0, args);\n    };\n\n    _this.handleEntering = function () {\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      return _this.handleLifecycle('onEntering', 0, args);\n    };\n\n    _this.handleEntered = function () {\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n\n      return _this.handleLifecycle('onEntered', 0, args);\n    };\n\n    _this.handleExit = function () {\n      for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n        args[_key5] = arguments[_key5];\n      }\n\n      return _this.handleLifecycle('onExit', 1, args);\n    };\n\n    _this.handleExiting = function () {\n      for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n        args[_key6] = arguments[_key6];\n      }\n\n      return _this.handleLifecycle('onExiting', 1, args);\n    };\n\n    _this.handleExited = function () {\n      for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n        args[_key7] = arguments[_key7];\n      }\n\n      return _this.handleLifecycle('onExited', 1, args);\n    };\n\n    return _this;\n  }\n\n  var _proto = ReplaceTransition.prototype;\n\n  _proto.handleLifecycle = function handleLifecycle(handler, idx, originalArgs) {\n    var _child$props;\n\n    var children = this.props.children;\n\n    var child = _react.default.Children.toArray(children)[idx];\n\n    if (child.props[handler]) (_child$props = child.props)[handler].apply(_child$props, originalArgs);\n    if (this.props[handler]) this.props[handler]((0, _reactDom.findDOMNode)(this));\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        children = _this$props.children,\n        inProp = _this$props.in,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"children\", \"in\"]);\n\n    var _React$Children$toArr = _react.default.Children.toArray(children),\n        first = _React$Children$toArr[0],\n        second = _React$Children$toArr[1];\n\n    delete props.onEnter;\n    delete props.onEntering;\n    delete props.onEntered;\n    delete props.onExit;\n    delete props.onExiting;\n    delete props.onExited;\n    return _react.default.createElement(_TransitionGroup.default, props, inProp ? _react.default.cloneElement(first, {\n      key: 'first',\n      onEnter: this.handleEnter,\n      onEntering: this.handleEntering,\n      onEntered: this.handleEntered\n    }) : _react.default.cloneElement(second, {\n      key: 'second',\n      onEnter: this.handleExit,\n      onEntering: this.handleExiting,\n      onEntered: this.handleExited\n    }));\n  };\n\n  return ReplaceTransition;\n}(_react.default.Component);\n\nReplaceTransition.propTypes =  true ? {\n  in: _propTypes.default.bool.isRequired,\n  children: function children(props, propName) {\n    if (_react.default.Children.count(props[propName]) !== 2) return new Error(\"\\\"\" + propName + \"\\\" must be exactly two transition components.\");\n    return null;\n  }\n} : undefined;\nvar _default = ReplaceTransition;\nexports.default = _default;\nmodule.exports = exports[\"default\"];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vdHJhZGVyL25vZGVfbW9kdWxlcy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL1JlcGxhY2VUcmFuc2l0aW9uLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy9Vc2Vycy9zYW15b25nL0RvY3VtZW50cy9Tb3VyY2VfY29kZS9kZXJpdi1hcHAvcGFja2FnZXMvdHJhZGVyL25vZGVfbW9kdWxlcy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL1JlcGxhY2VUcmFuc2l0aW9uLmpzPzU3NjgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfcHJvcFR5cGVzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwicHJvcC10eXBlc1wiKSk7XG5cbnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cbnZhciBfcmVhY3REb20gPSByZXF1aXJlKFwicmVhY3QtZG9tXCIpO1xuXG52YXIgX1RyYW5zaXRpb25Hcm91cCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vVHJhbnNpdGlvbkdyb3VwXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTsgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBUaGUgYDxSZXBsYWNlVHJhbnNpdGlvbj5gIGNvbXBvbmVudCBpcyBhIHNwZWNpYWxpemVkIGBUcmFuc2l0aW9uYCBjb21wb25lbnRcbiAqIHRoYXQgYW5pbWF0ZXMgYmV0d2VlbiB0d28gY2hpbGRyZW4uXG4gKlxuICogYGBganN4XG4gKiA8UmVwbGFjZVRyYW5zaXRpb24gaW4+XG4gKiAgIDxGYWRlPjxkaXY+SSBhcHBlYXIgZmlyc3Q8L2Rpdj48L0ZhZGU+XG4gKiAgIDxGYWRlPjxkaXY+SSByZXBsYWNlIHRoZSBhYm92ZTwvZGl2PjwvRmFkZT5cbiAqIDwvUmVwbGFjZVRyYW5zaXRpb24+XG4gKiBgYGBcbiAqL1xudmFyIFJlcGxhY2VUcmFuc2l0aW9uID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKFJlcGxhY2VUcmFuc2l0aW9uLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBSZXBsYWNlVHJhbnNpdGlvbigpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgX2FyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBfYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9SZWFjdCRDb21wb25lbnQuY2FsbC5hcHBseShfUmVhY3QkQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KF9hcmdzKSkgfHwgdGhpcztcblxuICAgIF90aGlzLmhhbmRsZUVudGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgIGFyZ3NbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZUxpZmVjeWNsZSgnb25FbnRlcicsIDAsIGFyZ3MpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVFbnRlcmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMyksIF9rZXkzID0gMDsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuICAgICAgICBhcmdzW19rZXkzXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfdGhpcy5oYW5kbGVMaWZlY3ljbGUoJ29uRW50ZXJpbmcnLCAwLCBhcmdzKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlRW50ZXJlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZvciAodmFyIF9sZW40ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNCksIF9rZXk0ID0gMDsgX2tleTQgPCBfbGVuNDsgX2tleTQrKykge1xuICAgICAgICBhcmdzW19rZXk0XSA9IGFyZ3VtZW50c1tfa2V5NF07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfdGhpcy5oYW5kbGVMaWZlY3ljbGUoJ29uRW50ZXJlZCcsIDAsIGFyZ3MpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVFeGl0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjUgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW41KSwgX2tleTUgPSAwOyBfa2V5NSA8IF9sZW41OyBfa2V5NSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleTVdID0gYXJndW1lbnRzW19rZXk1XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZUxpZmVjeWNsZSgnb25FeGl0JywgMSwgYXJncyk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUV4aXRpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuNiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjYpLCBfa2V5NiA9IDA7IF9rZXk2IDwgX2xlbjY7IF9rZXk2KyspIHtcbiAgICAgICAgYXJnc1tfa2V5Nl0gPSBhcmd1bWVudHNbX2tleTZdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3RoaXMuaGFuZGxlTGlmZWN5Y2xlKCdvbkV4aXRpbmcnLCAxLCBhcmdzKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlRXhpdGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjcgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW43KSwgX2tleTcgPSAwOyBfa2V5NyA8IF9sZW43OyBfa2V5NysrKSB7XG4gICAgICAgIGFyZ3NbX2tleTddID0gYXJndW1lbnRzW19rZXk3XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZUxpZmVjeWNsZSgnb25FeGl0ZWQnLCAxLCBhcmdzKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IFJlcGxhY2VUcmFuc2l0aW9uLnByb3RvdHlwZTtcblxuICBfcHJvdG8uaGFuZGxlTGlmZWN5Y2xlID0gZnVuY3Rpb24gaGFuZGxlTGlmZWN5Y2xlKGhhbmRsZXIsIGlkeCwgb3JpZ2luYWxBcmdzKSB7XG4gICAgdmFyIF9jaGlsZCRwcm9wcztcblxuICAgIHZhciBjaGlsZHJlbiA9IHRoaXMucHJvcHMuY2hpbGRyZW47XG5cbiAgICB2YXIgY2hpbGQgPSBfcmVhY3QuZGVmYXVsdC5DaGlsZHJlbi50b0FycmF5KGNoaWxkcmVuKVtpZHhdO1xuXG4gICAgaWYgKGNoaWxkLnByb3BzW2hhbmRsZXJdKSAoX2NoaWxkJHByb3BzID0gY2hpbGQucHJvcHMpW2hhbmRsZXJdLmFwcGx5KF9jaGlsZCRwcm9wcywgb3JpZ2luYWxBcmdzKTtcbiAgICBpZiAodGhpcy5wcm9wc1toYW5kbGVyXSkgdGhpcy5wcm9wc1toYW5kbGVyXSgoMCwgX3JlYWN0RG9tLmZpbmRET01Ob2RlKSh0aGlzKSk7XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICBjaGlsZHJlbiA9IF90aGlzJHByb3BzLmNoaWxkcmVuLFxuICAgICAgICBpblByb3AgPSBfdGhpcyRwcm9wcy5pbixcbiAgICAgICAgcHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfdGhpcyRwcm9wcywgW1wiY2hpbGRyZW5cIiwgXCJpblwiXSk7XG5cbiAgICB2YXIgX1JlYWN0JENoaWxkcmVuJHRvQXJyID0gX3JlYWN0LmRlZmF1bHQuQ2hpbGRyZW4udG9BcnJheShjaGlsZHJlbiksXG4gICAgICAgIGZpcnN0ID0gX1JlYWN0JENoaWxkcmVuJHRvQXJyWzBdLFxuICAgICAgICBzZWNvbmQgPSBfUmVhY3QkQ2hpbGRyZW4kdG9BcnJbMV07XG5cbiAgICBkZWxldGUgcHJvcHMub25FbnRlcjtcbiAgICBkZWxldGUgcHJvcHMub25FbnRlcmluZztcbiAgICBkZWxldGUgcHJvcHMub25FbnRlcmVkO1xuICAgIGRlbGV0ZSBwcm9wcy5vbkV4aXQ7XG4gICAgZGVsZXRlIHByb3BzLm9uRXhpdGluZztcbiAgICBkZWxldGUgcHJvcHMub25FeGl0ZWQ7XG4gICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1RyYW5zaXRpb25Hcm91cC5kZWZhdWx0LCBwcm9wcywgaW5Qcm9wID8gX3JlYWN0LmRlZmF1bHQuY2xvbmVFbGVtZW50KGZpcnN0LCB7XG4gICAgICBrZXk6ICdmaXJzdCcsXG4gICAgICBvbkVudGVyOiB0aGlzLmhhbmRsZUVudGVyLFxuICAgICAgb25FbnRlcmluZzogdGhpcy5oYW5kbGVFbnRlcmluZyxcbiAgICAgIG9uRW50ZXJlZDogdGhpcy5oYW5kbGVFbnRlcmVkXG4gICAgfSkgOiBfcmVhY3QuZGVmYXVsdC5jbG9uZUVsZW1lbnQoc2Vjb25kLCB7XG4gICAgICBrZXk6ICdzZWNvbmQnLFxuICAgICAgb25FbnRlcjogdGhpcy5oYW5kbGVFeGl0LFxuICAgICAgb25FbnRlcmluZzogdGhpcy5oYW5kbGVFeGl0aW5nLFxuICAgICAgb25FbnRlcmVkOiB0aGlzLmhhbmRsZUV4aXRlZFxuICAgIH0pKTtcbiAgfTtcblxuICByZXR1cm4gUmVwbGFjZVRyYW5zaXRpb247XG59KF9yZWFjdC5kZWZhdWx0LkNvbXBvbmVudCk7XG5cblJlcGxhY2VUcmFuc2l0aW9uLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHtcbiAgaW46IF9wcm9wVHlwZXMuZGVmYXVsdC5ib29sLmlzUmVxdWlyZWQsXG4gIGNoaWxkcmVuOiBmdW5jdGlvbiBjaGlsZHJlbihwcm9wcywgcHJvcE5hbWUpIHtcbiAgICBpZiAoX3JlYWN0LmRlZmF1bHQuQ2hpbGRyZW4uY291bnQocHJvcHNbcHJvcE5hbWVdKSAhPT0gMikgcmV0dXJuIG5ldyBFcnJvcihcIlxcXCJcIiArIHByb3BOYW1lICsgXCJcXFwiIG11c3QgYmUgZXhhY3RseSB0d28gdHJhbnNpdGlvbiBjb21wb25lbnRzLlwiKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufSA6IHt9O1xudmFyIF9kZWZhdWx0ID0gUmVwbGFjZVRyYW5zaXRpb247XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../trader/node_modules/react-transition-group/ReplaceTransition.js\n");

/***/ }),

/***/ "../../trader/node_modules/react-transition-group/Transition.js":
/*!************************************************************************************************************************!*\
  !*** /Users/samyong/Documents/Source_code/deriv-app/packages/trader/node_modules/react-transition-group/Transition.js ***!
  \************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nexports.__esModule = true;\nexports.default = exports.EXITING = exports.ENTERED = exports.ENTERING = exports.EXITED = exports.UNMOUNTED = void 0;\n\nvar PropTypes = _interopRequireWildcard(__webpack_require__(/*! prop-types */ \"../../trader/node_modules/prop-types/index.js\"));\n\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nvar _reactDom = _interopRequireDefault(__webpack_require__(/*! react-dom */ \"../node_modules/react-dom/index.js\"));\n\nvar _reactLifecyclesCompat = __webpack_require__(/*! react-lifecycles-compat */ \"../../trader/node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js\");\n\nvar _PropTypes = __webpack_require__(/*! ./utils/PropTypes */ \"../../trader/node_modules/react-transition-group/utils/PropTypes.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar UNMOUNTED = 'unmounted';\nexports.UNMOUNTED = UNMOUNTED;\nvar EXITED = 'exited';\nexports.EXITED = EXITED;\nvar ENTERING = 'entering';\nexports.ENTERING = ENTERING;\nvar ENTERED = 'entered';\nexports.ENTERED = ENTERED;\nvar EXITING = 'exiting';\n/**\n * The Transition component lets you describe a transition from one component\n * state to another _over time_ with a simple declarative API. Most commonly\n * it's used to animate the mounting and unmounting of a component, but can also\n * be used to describe in-place transition states as well.\n *\n * ---\n *\n * **Note**: `Transition` is a platform-agnostic base component. If you're using\n * transitions in CSS, you'll probably want to use\n * [`CSSTransition`](https://reactcommunity.org/react-transition-group/css-transition)\n * instead. It inherits all the features of `Transition`, but contains\n * additional features necessary to play nice with CSS transitions (hence the\n * name of the component).\n *\n * ---\n *\n * By default the `Transition` component does not alter the behavior of the\n * component it renders, it only tracks \"enter\" and \"exit\" states for the\n * components. It's up to you to give meaning and effect to those states. For\n * example we can add styles to a component when it enters or exits:\n *\n * ```jsx\n * import { Transition } from 'react-transition-group';\n *\n * const duration = 300;\n *\n * const defaultStyle = {\n *   transition: `opacity ${duration}ms ease-in-out`,\n *   opacity: 0,\n * }\n *\n * const transitionStyles = {\n *   entering: { opacity: 0 },\n *   entered:  { opacity: 1 },\n * };\n *\n * const Fade = ({ in: inProp }) => (\n *   <Transition in={inProp} timeout={duration}>\n *     {state => (\n *       <div style={{\n *         ...defaultStyle,\n *         ...transitionStyles[state]\n *       }}>\n *         I'm a fade Transition!\n *       </div>\n *     )}\n *   </Transition>\n * );\n * ```\n *\n * There are 4 main states a Transition can be in:\n *  - `'entering'`\n *  - `'entered'`\n *  - `'exiting'`\n *  - `'exited'`\n *\n * Transition state is toggled via the `in` prop. When `true` the component\n * begins the \"Enter\" stage. During this stage, the component will shift from\n * its current transition state, to `'entering'` for the duration of the\n * transition and then to the `'entered'` stage once it's complete. Let's take\n * the following example (we'll use the\n * [useState](https://reactjs.org/docs/hooks-reference.html#usestate) hook):\n *\n * ```jsx\n * function App() {\n *   const [inProp, setInProp] = useState(false);\n *   return (\n *     <div>\n *       <Transition in={inProp} timeout={500}>\n *         {state => (\n *           // ...\n *         )}\n *       </Transition>\n *       <button onClick={() => setInProp(true)}>\n *         Click to Enter\n *       </button>\n *     </div>\n *   );\n * }\n * ```\n *\n * When the button is clicked the component will shift to the `'entering'` state\n * and stay there for 500ms (the value of `timeout`) before it finally switches\n * to `'entered'`.\n *\n * When `in` is `false` the same thing happens except the state moves from\n * `'exiting'` to `'exited'`.\n */\n\nexports.EXITING = EXITING;\n\nvar Transition =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(Transition, _React$Component);\n\n  function Transition(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n    var parentGroup = context.transitionGroup; // In the context of a TransitionGroup all enters are really appears\n\n    var appear = parentGroup && !parentGroup.isMounting ? props.enter : props.appear;\n    var initialStatus;\n    _this.appearStatus = null;\n\n    if (props.in) {\n      if (appear) {\n        initialStatus = EXITED;\n        _this.appearStatus = ENTERING;\n      } else {\n        initialStatus = ENTERED;\n      }\n    } else {\n      if (props.unmountOnExit || props.mountOnEnter) {\n        initialStatus = UNMOUNTED;\n      } else {\n        initialStatus = EXITED;\n      }\n    }\n\n    _this.state = {\n      status: initialStatus\n    };\n    _this.nextCallback = null;\n    return _this;\n  }\n\n  var _proto = Transition.prototype;\n\n  _proto.getChildContext = function getChildContext() {\n    return {\n      transitionGroup: null // allows for nested Transitions\n\n    };\n  };\n\n  Transition.getDerivedStateFromProps = function getDerivedStateFromProps(_ref, prevState) {\n    var nextIn = _ref.in;\n\n    if (nextIn && prevState.status === UNMOUNTED) {\n      return {\n        status: EXITED\n      };\n    }\n\n    return null;\n  }; // getSnapshotBeforeUpdate(prevProps) {\n  //   let nextStatus = null\n  //   if (prevProps !== this.props) {\n  //     const { status } = this.state\n  //     if (this.props.in) {\n  //       if (status !== ENTERING && status !== ENTERED) {\n  //         nextStatus = ENTERING\n  //       }\n  //     } else {\n  //       if (status === ENTERING || status === ENTERED) {\n  //         nextStatus = EXITING\n  //       }\n  //     }\n  //   }\n  //   return { nextStatus }\n  // }\n\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.updateStatus(true, this.appearStatus);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var nextStatus = null;\n\n    if (prevProps !== this.props) {\n      var status = this.state.status;\n\n      if (this.props.in) {\n        if (status !== ENTERING && status !== ENTERED) {\n          nextStatus = ENTERING;\n        }\n      } else {\n        if (status === ENTERING || status === ENTERED) {\n          nextStatus = EXITING;\n        }\n      }\n    }\n\n    this.updateStatus(false, nextStatus);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.cancelNextCallback();\n  };\n\n  _proto.getTimeouts = function getTimeouts() {\n    var timeout = this.props.timeout;\n    var exit, enter, appear;\n    exit = enter = appear = timeout;\n\n    if (timeout != null && typeof timeout !== 'number') {\n      exit = timeout.exit;\n      enter = timeout.enter; // TODO: remove fallback for next major\n\n      appear = timeout.appear !== undefined ? timeout.appear : enter;\n    }\n\n    return {\n      exit: exit,\n      enter: enter,\n      appear: appear\n    };\n  };\n\n  _proto.updateStatus = function updateStatus(mounting, nextStatus) {\n    if (mounting === void 0) {\n      mounting = false;\n    }\n\n    if (nextStatus !== null) {\n      // nextStatus will always be ENTERING or EXITING.\n      this.cancelNextCallback();\n\n      var node = _reactDom.default.findDOMNode(this);\n\n      if (nextStatus === ENTERING) {\n        this.performEnter(node, mounting);\n      } else {\n        this.performExit(node);\n      }\n    } else if (this.props.unmountOnExit && this.state.status === EXITED) {\n      this.setState({\n        status: UNMOUNTED\n      });\n    }\n  };\n\n  _proto.performEnter = function performEnter(node, mounting) {\n    var _this2 = this;\n\n    var enter = this.props.enter;\n    var appearing = this.context.transitionGroup ? this.context.transitionGroup.isMounting : mounting;\n    var timeouts = this.getTimeouts();\n    var enterTimeout = appearing ? timeouts.appear : timeouts.enter; // no enter animation skip right to ENTERED\n    // if we are mounting and running this it means appear _must_ be set\n\n    if (!mounting && !enter) {\n      this.safeSetState({\n        status: ENTERED\n      }, function () {\n        _this2.props.onEntered(node);\n      });\n      return;\n    }\n\n    this.props.onEnter(node, appearing);\n    this.safeSetState({\n      status: ENTERING\n    }, function () {\n      _this2.props.onEntering(node, appearing);\n\n      _this2.onTransitionEnd(node, enterTimeout, function () {\n        _this2.safeSetState({\n          status: ENTERED\n        }, function () {\n          _this2.props.onEntered(node, appearing);\n        });\n      });\n    });\n  };\n\n  _proto.performExit = function performExit(node) {\n    var _this3 = this;\n\n    var exit = this.props.exit;\n    var timeouts = this.getTimeouts(); // no exit animation skip right to EXITED\n\n    if (!exit) {\n      this.safeSetState({\n        status: EXITED\n      }, function () {\n        _this3.props.onExited(node);\n      });\n      return;\n    }\n\n    this.props.onExit(node);\n    this.safeSetState({\n      status: EXITING\n    }, function () {\n      _this3.props.onExiting(node);\n\n      _this3.onTransitionEnd(node, timeouts.exit, function () {\n        _this3.safeSetState({\n          status: EXITED\n        }, function () {\n          _this3.props.onExited(node);\n        });\n      });\n    });\n  };\n\n  _proto.cancelNextCallback = function cancelNextCallback() {\n    if (this.nextCallback !== null) {\n      this.nextCallback.cancel();\n      this.nextCallback = null;\n    }\n  };\n\n  _proto.safeSetState = function safeSetState(nextState, callback) {\n    // This shouldn't be necessary, but there are weird race conditions with\n    // setState callbacks and unmounting in testing, so always make sure that\n    // we can cancel any pending setState callbacks after we unmount.\n    callback = this.setNextCallback(callback);\n    this.setState(nextState, callback);\n  };\n\n  _proto.setNextCallback = function setNextCallback(callback) {\n    var _this4 = this;\n\n    var active = true;\n\n    this.nextCallback = function (event) {\n      if (active) {\n        active = false;\n        _this4.nextCallback = null;\n        callback(event);\n      }\n    };\n\n    this.nextCallback.cancel = function () {\n      active = false;\n    };\n\n    return this.nextCallback;\n  };\n\n  _proto.onTransitionEnd = function onTransitionEnd(node, timeout, handler) {\n    this.setNextCallback(handler);\n    var doesNotHaveTimeoutOrListener = timeout == null && !this.props.addEndListener;\n\n    if (!node || doesNotHaveTimeoutOrListener) {\n      setTimeout(this.nextCallback, 0);\n      return;\n    }\n\n    if (this.props.addEndListener) {\n      this.props.addEndListener(node, this.nextCallback);\n    }\n\n    if (timeout != null) {\n      setTimeout(this.nextCallback, timeout);\n    }\n  };\n\n  _proto.render = function render() {\n    var status = this.state.status;\n\n    if (status === UNMOUNTED) {\n      return null;\n    }\n\n    var _this$props = this.props,\n        children = _this$props.children,\n        childProps = _objectWithoutPropertiesLoose(_this$props, [\"children\"]); // filter props for Transtition\n\n\n    delete childProps.in;\n    delete childProps.mountOnEnter;\n    delete childProps.unmountOnExit;\n    delete childProps.appear;\n    delete childProps.enter;\n    delete childProps.exit;\n    delete childProps.timeout;\n    delete childProps.addEndListener;\n    delete childProps.onEnter;\n    delete childProps.onEntering;\n    delete childProps.onEntered;\n    delete childProps.onExit;\n    delete childProps.onExiting;\n    delete childProps.onExited;\n\n    if (typeof children === 'function') {\n      return children(status, childProps);\n    }\n\n    var child = _react.default.Children.only(children);\n\n    return _react.default.cloneElement(child, childProps);\n  };\n\n  return Transition;\n}(_react.default.Component);\n\nTransition.contextTypes = {\n  transitionGroup: PropTypes.object\n};\nTransition.childContextTypes = {\n  transitionGroup: function transitionGroup() {}\n};\nTransition.propTypes =  true ? {\n  /**\n   * A `function` child can be used instead of a React element. This function is\n   * called with the current transition status (`'entering'`, `'entered'`,\n   * `'exiting'`, `'exited'`, `'unmounted'`), which can be used to apply context\n   * specific props to a component.\n   *\n   * ```jsx\n   * <Transition in={this.state.in} timeout={150}>\n   *   {state => (\n   *     <MyComponent className={`fade fade-${state}`} />\n   *   )}\n   * </Transition>\n   * ```\n   */\n  children: PropTypes.oneOfType([PropTypes.func.isRequired, PropTypes.element.isRequired]).isRequired,\n\n  /**\n   * Show the component; triggers the enter or exit states\n   */\n  in: PropTypes.bool,\n\n  /**\n   * By default the child component is mounted immediately along with\n   * the parent `Transition` component. If you want to \"lazy mount\" the component on the\n   * first `in={true}` you can set `mountOnEnter`. After the first enter transition the component will stay\n   * mounted, even on \"exited\", unless you also specify `unmountOnExit`.\n   */\n  mountOnEnter: PropTypes.bool,\n\n  /**\n   * By default the child component stays mounted after it reaches the `'exited'` state.\n   * Set `unmountOnExit` if you'd prefer to unmount the component after it finishes exiting.\n   */\n  unmountOnExit: PropTypes.bool,\n\n  /**\n   * Normally a component is not transitioned if it is shown when the `<Transition>` component mounts.\n   * If you want to transition on the first mount set `appear` to `true`, and the\n   * component will transition in as soon as the `<Transition>` mounts.\n   *\n   * > Note: there are no specific \"appear\" states. `appear` only adds an additional `enter` transition.\n   */\n  appear: PropTypes.bool,\n\n  /**\n   * Enable or disable enter transitions.\n   */\n  enter: PropTypes.bool,\n\n  /**\n   * Enable or disable exit transitions.\n   */\n  exit: PropTypes.bool,\n\n  /**\n   * The duration of the transition, in milliseconds.\n   * Required unless `addEndListener` is provided.\n   *\n   * You may specify a single timeout for all transitions:\n   *\n   * ```jsx\n   * timeout={500}\n   * ```\n   *\n   * or individually:\n   *\n   * ```jsx\n   * timeout={{\n   *  appear: 500,\n   *  enter: 300,\n   *  exit: 500,\n   * }}\n   * ```\n   *\n   * - `appear` defaults to the value of `enter`\n   * - `enter` defaults to `0`\n   * - `exit` defaults to `0`\n   *\n   * @type {number | { enter?: number, exit?: number, appear?: number }}\n   */\n  timeout: function timeout(props) {\n    var pt = _PropTypes.timeoutsShape;\n    if (!props.addEndListener) pt = pt.isRequired;\n\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return pt.apply(void 0, [props].concat(args));\n  },\n\n  /**\n   * Add a custom transition end trigger. Called with the transitioning\n   * DOM node and a `done` callback. Allows for more fine grained transition end\n   * logic. **Note:** Timeouts are still used as a fallback if provided.\n   *\n   * ```jsx\n   * addEndListener={(node, done) => {\n   *   // use the css transitionend event to mark the finish of a transition\n   *   node.addEventListener('transitionend', done, false);\n   * }}\n   * ```\n   */\n  addEndListener: PropTypes.func,\n\n  /**\n   * Callback fired before the \"entering\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool) -> void\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * Callback fired after the \"entering\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * Callback fired after the \"entered\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool) -> void\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * Callback fired before the \"exiting\" status is applied.\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * Callback fired after the \"exiting\" status is applied.\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * Callback fired after the \"exited\" status is applied.\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExited: PropTypes.func // Name the function so it is clearer in the documentation\n\n} : undefined;\n\nfunction noop() {}\n\nTransition.defaultProps = {\n  in: false,\n  mountOnEnter: false,\n  unmountOnExit: false,\n  appear: false,\n  enter: true,\n  exit: true,\n  onEnter: noop,\n  onEntering: noop,\n  onEntered: noop,\n  onExit: noop,\n  onExiting: noop,\n  onExited: noop\n};\nTransition.UNMOUNTED = 0;\nTransition.EXITED = 1;\nTransition.ENTERING = 2;\nTransition.ENTERED = 3;\nTransition.EXITING = 4;\n\nvar _default = (0, _reactLifecyclesCompat.polyfill)(Transition);\n\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vdHJhZGVyL25vZGVfbW9kdWxlcy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL1RyYW5zaXRpb24uanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL3NhbXlvbmcvRG9jdW1lbnRzL1NvdXJjZV9jb2RlL2Rlcml2LWFwcC9wYWNrYWdlcy90cmFkZXIvbm9kZV9tb2R1bGVzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvVHJhbnNpdGlvbi5qcz8zNzIyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gZXhwb3J0cy5FWElUSU5HID0gZXhwb3J0cy5FTlRFUkVEID0gZXhwb3J0cy5FTlRFUklORyA9IGV4cG9ydHMuRVhJVEVEID0gZXhwb3J0cy5VTk1PVU5URUQgPSB2b2lkIDA7XG5cbnZhciBQcm9wVHlwZXMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKFwicHJvcC10eXBlc1wiKSk7XG5cbnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cbnZhciBfcmVhY3REb20gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJyZWFjdC1kb21cIikpO1xuXG52YXIgX3JlYWN0TGlmZWN5Y2xlc0NvbXBhdCA9IHJlcXVpcmUoXCJyZWFjdC1saWZlY3ljbGVzLWNvbXBhdFwiKTtcblxudmFyIF9Qcm9wVHlwZXMgPSByZXF1aXJlKFwiLi91dGlscy9Qcm9wVHlwZXNcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307IGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOyB9IGVsc2UgeyBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTsgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFVOTU9VTlRFRCA9ICd1bm1vdW50ZWQnO1xuZXhwb3J0cy5VTk1PVU5URUQgPSBVTk1PVU5URUQ7XG52YXIgRVhJVEVEID0gJ2V4aXRlZCc7XG5leHBvcnRzLkVYSVRFRCA9IEVYSVRFRDtcbnZhciBFTlRFUklORyA9ICdlbnRlcmluZyc7XG5leHBvcnRzLkVOVEVSSU5HID0gRU5URVJJTkc7XG52YXIgRU5URVJFRCA9ICdlbnRlcmVkJztcbmV4cG9ydHMuRU5URVJFRCA9IEVOVEVSRUQ7XG52YXIgRVhJVElORyA9ICdleGl0aW5nJztcbi8qKlxuICogVGhlIFRyYW5zaXRpb24gY29tcG9uZW50IGxldHMgeW91IGRlc2NyaWJlIGEgdHJhbnNpdGlvbiBmcm9tIG9uZSBjb21wb25lbnRcbiAqIHN0YXRlIHRvIGFub3RoZXIgX292ZXIgdGltZV8gd2l0aCBhIHNpbXBsZSBkZWNsYXJhdGl2ZSBBUEkuIE1vc3QgY29tbW9ubHlcbiAqIGl0J3MgdXNlZCB0byBhbmltYXRlIHRoZSBtb3VudGluZyBhbmQgdW5tb3VudGluZyBvZiBhIGNvbXBvbmVudCwgYnV0IGNhbiBhbHNvXG4gKiBiZSB1c2VkIHRvIGRlc2NyaWJlIGluLXBsYWNlIHRyYW5zaXRpb24gc3RhdGVzIGFzIHdlbGwuXG4gKlxuICogLS0tXG4gKlxuICogKipOb3RlKio6IGBUcmFuc2l0aW9uYCBpcyBhIHBsYXRmb3JtLWFnbm9zdGljIGJhc2UgY29tcG9uZW50LiBJZiB5b3UncmUgdXNpbmdcbiAqIHRyYW5zaXRpb25zIGluIENTUywgeW91J2xsIHByb2JhYmx5IHdhbnQgdG8gdXNlXG4gKiBbYENTU1RyYW5zaXRpb25gXShodHRwczovL3JlYWN0Y29tbXVuaXR5Lm9yZy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL2Nzcy10cmFuc2l0aW9uKVxuICogaW5zdGVhZC4gSXQgaW5oZXJpdHMgYWxsIHRoZSBmZWF0dXJlcyBvZiBgVHJhbnNpdGlvbmAsIGJ1dCBjb250YWluc1xuICogYWRkaXRpb25hbCBmZWF0dXJlcyBuZWNlc3NhcnkgdG8gcGxheSBuaWNlIHdpdGggQ1NTIHRyYW5zaXRpb25zIChoZW5jZSB0aGVcbiAqIG5hbWUgb2YgdGhlIGNvbXBvbmVudCkuXG4gKlxuICogLS0tXG4gKlxuICogQnkgZGVmYXVsdCB0aGUgYFRyYW5zaXRpb25gIGNvbXBvbmVudCBkb2VzIG5vdCBhbHRlciB0aGUgYmVoYXZpb3Igb2YgdGhlXG4gKiBjb21wb25lbnQgaXQgcmVuZGVycywgaXQgb25seSB0cmFja3MgXCJlbnRlclwiIGFuZCBcImV4aXRcIiBzdGF0ZXMgZm9yIHRoZVxuICogY29tcG9uZW50cy4gSXQncyB1cCB0byB5b3UgdG8gZ2l2ZSBtZWFuaW5nIGFuZCBlZmZlY3QgdG8gdGhvc2Ugc3RhdGVzLiBGb3JcbiAqIGV4YW1wbGUgd2UgY2FuIGFkZCBzdHlsZXMgdG8gYSBjb21wb25lbnQgd2hlbiBpdCBlbnRlcnMgb3IgZXhpdHM6XG4gKlxuICogYGBganN4XG4gKiBpbXBvcnQgeyBUcmFuc2l0aW9uIH0gZnJvbSAncmVhY3QtdHJhbnNpdGlvbi1ncm91cCc7XG4gKlxuICogY29uc3QgZHVyYXRpb24gPSAzMDA7XG4gKlxuICogY29uc3QgZGVmYXVsdFN0eWxlID0ge1xuICogICB0cmFuc2l0aW9uOiBgb3BhY2l0eSAke2R1cmF0aW9ufW1zIGVhc2UtaW4tb3V0YCxcbiAqICAgb3BhY2l0eTogMCxcbiAqIH1cbiAqXG4gKiBjb25zdCB0cmFuc2l0aW9uU3R5bGVzID0ge1xuICogICBlbnRlcmluZzogeyBvcGFjaXR5OiAwIH0sXG4gKiAgIGVudGVyZWQ6ICB7IG9wYWNpdHk6IDEgfSxcbiAqIH07XG4gKlxuICogY29uc3QgRmFkZSA9ICh7IGluOiBpblByb3AgfSkgPT4gKFxuICogICA8VHJhbnNpdGlvbiBpbj17aW5Qcm9wfSB0aW1lb3V0PXtkdXJhdGlvbn0+XG4gKiAgICAge3N0YXRlID0+IChcbiAqICAgICAgIDxkaXYgc3R5bGU9e3tcbiAqICAgICAgICAgLi4uZGVmYXVsdFN0eWxlLFxuICogICAgICAgICAuLi50cmFuc2l0aW9uU3R5bGVzW3N0YXRlXVxuICogICAgICAgfX0+XG4gKiAgICAgICAgIEknbSBhIGZhZGUgVHJhbnNpdGlvbiFcbiAqICAgICAgIDwvZGl2PlxuICogICAgICl9XG4gKiAgIDwvVHJhbnNpdGlvbj5cbiAqICk7XG4gKiBgYGBcbiAqXG4gKiBUaGVyZSBhcmUgNCBtYWluIHN0YXRlcyBhIFRyYW5zaXRpb24gY2FuIGJlIGluOlxuICogIC0gYCdlbnRlcmluZydgXG4gKiAgLSBgJ2VudGVyZWQnYFxuICogIC0gYCdleGl0aW5nJ2BcbiAqICAtIGAnZXhpdGVkJ2BcbiAqXG4gKiBUcmFuc2l0aW9uIHN0YXRlIGlzIHRvZ2dsZWQgdmlhIHRoZSBgaW5gIHByb3AuIFdoZW4gYHRydWVgIHRoZSBjb21wb25lbnRcbiAqIGJlZ2lucyB0aGUgXCJFbnRlclwiIHN0YWdlLiBEdXJpbmcgdGhpcyBzdGFnZSwgdGhlIGNvbXBvbmVudCB3aWxsIHNoaWZ0IGZyb21cbiAqIGl0cyBjdXJyZW50IHRyYW5zaXRpb24gc3RhdGUsIHRvIGAnZW50ZXJpbmcnYCBmb3IgdGhlIGR1cmF0aW9uIG9mIHRoZVxuICogdHJhbnNpdGlvbiBhbmQgdGhlbiB0byB0aGUgYCdlbnRlcmVkJ2Agc3RhZ2Ugb25jZSBpdCdzIGNvbXBsZXRlLiBMZXQncyB0YWtlXG4gKiB0aGUgZm9sbG93aW5nIGV4YW1wbGUgKHdlJ2xsIHVzZSB0aGVcbiAqIFt1c2VTdGF0ZV0oaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL2hvb2tzLXJlZmVyZW5jZS5odG1sI3VzZXN0YXRlKSBob29rKTpcbiAqXG4gKiBgYGBqc3hcbiAqIGZ1bmN0aW9uIEFwcCgpIHtcbiAqICAgY29uc3QgW2luUHJvcCwgc2V0SW5Qcm9wXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAqICAgcmV0dXJuIChcbiAqICAgICA8ZGl2PlxuICogICAgICAgPFRyYW5zaXRpb24gaW49e2luUHJvcH0gdGltZW91dD17NTAwfT5cbiAqICAgICAgICAge3N0YXRlID0+IChcbiAqICAgICAgICAgICAvLyAuLi5cbiAqICAgICAgICAgKX1cbiAqICAgICAgIDwvVHJhbnNpdGlvbj5cbiAqICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gc2V0SW5Qcm9wKHRydWUpfT5cbiAqICAgICAgICAgQ2xpY2sgdG8gRW50ZXJcbiAqICAgICAgIDwvYnV0dG9uPlxuICogICAgIDwvZGl2PlxuICogICApO1xuICogfVxuICogYGBgXG4gKlxuICogV2hlbiB0aGUgYnV0dG9uIGlzIGNsaWNrZWQgdGhlIGNvbXBvbmVudCB3aWxsIHNoaWZ0IHRvIHRoZSBgJ2VudGVyaW5nJ2Agc3RhdGVcbiAqIGFuZCBzdGF5IHRoZXJlIGZvciA1MDBtcyAodGhlIHZhbHVlIG9mIGB0aW1lb3V0YCkgYmVmb3JlIGl0IGZpbmFsbHkgc3dpdGNoZXNcbiAqIHRvIGAnZW50ZXJlZCdgLlxuICpcbiAqIFdoZW4gYGluYCBpcyBgZmFsc2VgIHRoZSBzYW1lIHRoaW5nIGhhcHBlbnMgZXhjZXB0IHRoZSBzdGF0ZSBtb3ZlcyBmcm9tXG4gKiBgJ2V4aXRpbmcnYCB0byBgJ2V4aXRlZCdgLlxuICovXG5cbmV4cG9ydHMuRVhJVElORyA9IEVYSVRJTkc7XG5cbnZhciBUcmFuc2l0aW9uID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKFRyYW5zaXRpb24sIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFRyYW5zaXRpb24ocHJvcHMsIGNvbnRleHQpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfdGhpcyA9IF9SZWFjdCRDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcywgY29udGV4dCkgfHwgdGhpcztcbiAgICB2YXIgcGFyZW50R3JvdXAgPSBjb250ZXh0LnRyYW5zaXRpb25Hcm91cDsgLy8gSW4gdGhlIGNvbnRleHQgb2YgYSBUcmFuc2l0aW9uR3JvdXAgYWxsIGVudGVycyBhcmUgcmVhbGx5IGFwcGVhcnNcblxuICAgIHZhciBhcHBlYXIgPSBwYXJlbnRHcm91cCAmJiAhcGFyZW50R3JvdXAuaXNNb3VudGluZyA/IHByb3BzLmVudGVyIDogcHJvcHMuYXBwZWFyO1xuICAgIHZhciBpbml0aWFsU3RhdHVzO1xuICAgIF90aGlzLmFwcGVhclN0YXR1cyA9IG51bGw7XG5cbiAgICBpZiAocHJvcHMuaW4pIHtcbiAgICAgIGlmIChhcHBlYXIpIHtcbiAgICAgICAgaW5pdGlhbFN0YXR1cyA9IEVYSVRFRDtcbiAgICAgICAgX3RoaXMuYXBwZWFyU3RhdHVzID0gRU5URVJJTkc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbml0aWFsU3RhdHVzID0gRU5URVJFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHByb3BzLnVubW91bnRPbkV4aXQgfHwgcHJvcHMubW91bnRPbkVudGVyKSB7XG4gICAgICAgIGluaXRpYWxTdGF0dXMgPSBVTk1PVU5URUQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbml0aWFsU3RhdHVzID0gRVhJVEVEO1xuICAgICAgfVxuICAgIH1cblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgc3RhdHVzOiBpbml0aWFsU3RhdHVzXG4gICAgfTtcbiAgICBfdGhpcy5uZXh0Q2FsbGJhY2sgPSBudWxsO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBUcmFuc2l0aW9uLnByb3RvdHlwZTtcblxuICBfcHJvdG8uZ2V0Q2hpbGRDb250ZXh0ID0gZnVuY3Rpb24gZ2V0Q2hpbGRDb250ZXh0KCkge1xuICAgIHJldHVybiB7XG4gICAgICB0cmFuc2l0aW9uR3JvdXA6IG51bGwgLy8gYWxsb3dzIGZvciBuZXN0ZWQgVHJhbnNpdGlvbnNcblxuICAgIH07XG4gIH07XG5cbiAgVHJhbnNpdGlvbi5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSBmdW5jdGlvbiBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMoX3JlZiwgcHJldlN0YXRlKSB7XG4gICAgdmFyIG5leHRJbiA9IF9yZWYuaW47XG5cbiAgICBpZiAobmV4dEluICYmIHByZXZTdGF0ZS5zdGF0dXMgPT09IFVOTU9VTlRFRCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3RhdHVzOiBFWElURURcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07IC8vIGdldFNuYXBzaG90QmVmb3JlVXBkYXRlKHByZXZQcm9wcykge1xuICAvLyAgIGxldCBuZXh0U3RhdHVzID0gbnVsbFxuICAvLyAgIGlmIChwcmV2UHJvcHMgIT09IHRoaXMucHJvcHMpIHtcbiAgLy8gICAgIGNvbnN0IHsgc3RhdHVzIH0gPSB0aGlzLnN0YXRlXG4gIC8vICAgICBpZiAodGhpcy5wcm9wcy5pbikge1xuICAvLyAgICAgICBpZiAoc3RhdHVzICE9PSBFTlRFUklORyAmJiBzdGF0dXMgIT09IEVOVEVSRUQpIHtcbiAgLy8gICAgICAgICBuZXh0U3RhdHVzID0gRU5URVJJTkdcbiAgLy8gICAgICAgfVxuICAvLyAgICAgfSBlbHNlIHtcbiAgLy8gICAgICAgaWYgKHN0YXR1cyA9PT0gRU5URVJJTkcgfHwgc3RhdHVzID09PSBFTlRFUkVEKSB7XG4gIC8vICAgICAgICAgbmV4dFN0YXR1cyA9IEVYSVRJTkdcbiAgLy8gICAgICAgfVxuICAvLyAgICAgfVxuICAvLyAgIH1cbiAgLy8gICByZXR1cm4geyBuZXh0U3RhdHVzIH1cbiAgLy8gfVxuXG5cbiAgX3Byb3RvLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy51cGRhdGVTdGF0dXModHJ1ZSwgdGhpcy5hcHBlYXJTdGF0dXMpO1xuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgdmFyIG5leHRTdGF0dXMgPSBudWxsO1xuXG4gICAgaWYgKHByZXZQcm9wcyAhPT0gdGhpcy5wcm9wcykge1xuICAgICAgdmFyIHN0YXR1cyA9IHRoaXMuc3RhdGUuc3RhdHVzO1xuXG4gICAgICBpZiAodGhpcy5wcm9wcy5pbikge1xuICAgICAgICBpZiAoc3RhdHVzICE9PSBFTlRFUklORyAmJiBzdGF0dXMgIT09IEVOVEVSRUQpIHtcbiAgICAgICAgICBuZXh0U3RhdHVzID0gRU5URVJJTkc7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChzdGF0dXMgPT09IEVOVEVSSU5HIHx8IHN0YXR1cyA9PT0gRU5URVJFRCkge1xuICAgICAgICAgIG5leHRTdGF0dXMgPSBFWElUSU5HO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy51cGRhdGVTdGF0dXMoZmFsc2UsIG5leHRTdGF0dXMpO1xuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHRoaXMuY2FuY2VsTmV4dENhbGxiYWNrKCk7XG4gIH07XG5cbiAgX3Byb3RvLmdldFRpbWVvdXRzID0gZnVuY3Rpb24gZ2V0VGltZW91dHMoKSB7XG4gICAgdmFyIHRpbWVvdXQgPSB0aGlzLnByb3BzLnRpbWVvdXQ7XG4gICAgdmFyIGV4aXQsIGVudGVyLCBhcHBlYXI7XG4gICAgZXhpdCA9IGVudGVyID0gYXBwZWFyID0gdGltZW91dDtcblxuICAgIGlmICh0aW1lb3V0ICE9IG51bGwgJiYgdHlwZW9mIHRpbWVvdXQgIT09ICdudW1iZXInKSB7XG4gICAgICBleGl0ID0gdGltZW91dC5leGl0O1xuICAgICAgZW50ZXIgPSB0aW1lb3V0LmVudGVyOyAvLyBUT0RPOiByZW1vdmUgZmFsbGJhY2sgZm9yIG5leHQgbWFqb3JcblxuICAgICAgYXBwZWFyID0gdGltZW91dC5hcHBlYXIgIT09IHVuZGVmaW5lZCA/IHRpbWVvdXQuYXBwZWFyIDogZW50ZXI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGV4aXQ6IGV4aXQsXG4gICAgICBlbnRlcjogZW50ZXIsXG4gICAgICBhcHBlYXI6IGFwcGVhclxuICAgIH07XG4gIH07XG5cbiAgX3Byb3RvLnVwZGF0ZVN0YXR1cyA9IGZ1bmN0aW9uIHVwZGF0ZVN0YXR1cyhtb3VudGluZywgbmV4dFN0YXR1cykge1xuICAgIGlmIChtb3VudGluZyA9PT0gdm9pZCAwKSB7XG4gICAgICBtb3VudGluZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChuZXh0U3RhdHVzICE9PSBudWxsKSB7XG4gICAgICAvLyBuZXh0U3RhdHVzIHdpbGwgYWx3YXlzIGJlIEVOVEVSSU5HIG9yIEVYSVRJTkcuXG4gICAgICB0aGlzLmNhbmNlbE5leHRDYWxsYmFjaygpO1xuXG4gICAgICB2YXIgbm9kZSA9IF9yZWFjdERvbS5kZWZhdWx0LmZpbmRET01Ob2RlKHRoaXMpO1xuXG4gICAgICBpZiAobmV4dFN0YXR1cyA9PT0gRU5URVJJTkcpIHtcbiAgICAgICAgdGhpcy5wZXJmb3JtRW50ZXIobm9kZSwgbW91bnRpbmcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5wZXJmb3JtRXhpdChub2RlKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMudW5tb3VudE9uRXhpdCAmJiB0aGlzLnN0YXRlLnN0YXR1cyA9PT0gRVhJVEVEKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc3RhdHVzOiBVTk1PVU5URURcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8ucGVyZm9ybUVudGVyID0gZnVuY3Rpb24gcGVyZm9ybUVudGVyKG5vZGUsIG1vdW50aW5nKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICB2YXIgZW50ZXIgPSB0aGlzLnByb3BzLmVudGVyO1xuICAgIHZhciBhcHBlYXJpbmcgPSB0aGlzLmNvbnRleHQudHJhbnNpdGlvbkdyb3VwID8gdGhpcy5jb250ZXh0LnRyYW5zaXRpb25Hcm91cC5pc01vdW50aW5nIDogbW91bnRpbmc7XG4gICAgdmFyIHRpbWVvdXRzID0gdGhpcy5nZXRUaW1lb3V0cygpO1xuICAgIHZhciBlbnRlclRpbWVvdXQgPSBhcHBlYXJpbmcgPyB0aW1lb3V0cy5hcHBlYXIgOiB0aW1lb3V0cy5lbnRlcjsgLy8gbm8gZW50ZXIgYW5pbWF0aW9uIHNraXAgcmlnaHQgdG8gRU5URVJFRFxuICAgIC8vIGlmIHdlIGFyZSBtb3VudGluZyBhbmQgcnVubmluZyB0aGlzIGl0IG1lYW5zIGFwcGVhciBfbXVzdF8gYmUgc2V0XG5cbiAgICBpZiAoIW1vdW50aW5nICYmICFlbnRlcikge1xuICAgICAgdGhpcy5zYWZlU2V0U3RhdGUoe1xuICAgICAgICBzdGF0dXM6IEVOVEVSRURcbiAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMyLnByb3BzLm9uRW50ZXJlZChub2RlKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMucHJvcHMub25FbnRlcihub2RlLCBhcHBlYXJpbmcpO1xuICAgIHRoaXMuc2FmZVNldFN0YXRlKHtcbiAgICAgIHN0YXR1czogRU5URVJJTkdcbiAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpczIucHJvcHMub25FbnRlcmluZyhub2RlLCBhcHBlYXJpbmcpO1xuXG4gICAgICBfdGhpczIub25UcmFuc2l0aW9uRW5kKG5vZGUsIGVudGVyVGltZW91dCwgZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczIuc2FmZVNldFN0YXRlKHtcbiAgICAgICAgICBzdGF0dXM6IEVOVEVSRURcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzMi5wcm9wcy5vbkVudGVyZWQobm9kZSwgYXBwZWFyaW5nKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBfcHJvdG8ucGVyZm9ybUV4aXQgPSBmdW5jdGlvbiBwZXJmb3JtRXhpdChub2RlKSB7XG4gICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICB2YXIgZXhpdCA9IHRoaXMucHJvcHMuZXhpdDtcbiAgICB2YXIgdGltZW91dHMgPSB0aGlzLmdldFRpbWVvdXRzKCk7IC8vIG5vIGV4aXQgYW5pbWF0aW9uIHNraXAgcmlnaHQgdG8gRVhJVEVEXG5cbiAgICBpZiAoIWV4aXQpIHtcbiAgICAgIHRoaXMuc2FmZVNldFN0YXRlKHtcbiAgICAgICAgc3RhdHVzOiBFWElURURcbiAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMzLnByb3BzLm9uRXhpdGVkKG5vZGUpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5wcm9wcy5vbkV4aXQobm9kZSk7XG4gICAgdGhpcy5zYWZlU2V0U3RhdGUoe1xuICAgICAgc3RhdHVzOiBFWElUSU5HXG4gICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMzLnByb3BzLm9uRXhpdGluZyhub2RlKTtcblxuICAgICAgX3RoaXMzLm9uVHJhbnNpdGlvbkVuZChub2RlLCB0aW1lb3V0cy5leGl0LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMy5zYWZlU2V0U3RhdGUoe1xuICAgICAgICAgIHN0YXR1czogRVhJVEVEXG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpczMucHJvcHMub25FeGl0ZWQobm9kZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgX3Byb3RvLmNhbmNlbE5leHRDYWxsYmFjayA9IGZ1bmN0aW9uIGNhbmNlbE5leHRDYWxsYmFjaygpIHtcbiAgICBpZiAodGhpcy5uZXh0Q2FsbGJhY2sgIT09IG51bGwpIHtcbiAgICAgIHRoaXMubmV4dENhbGxiYWNrLmNhbmNlbCgpO1xuICAgICAgdGhpcy5uZXh0Q2FsbGJhY2sgPSBudWxsO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uc2FmZVNldFN0YXRlID0gZnVuY3Rpb24gc2FmZVNldFN0YXRlKG5leHRTdGF0ZSwgY2FsbGJhY2spIHtcbiAgICAvLyBUaGlzIHNob3VsZG4ndCBiZSBuZWNlc3NhcnksIGJ1dCB0aGVyZSBhcmUgd2VpcmQgcmFjZSBjb25kaXRpb25zIHdpdGhcbiAgICAvLyBzZXRTdGF0ZSBjYWxsYmFja3MgYW5kIHVubW91bnRpbmcgaW4gdGVzdGluZywgc28gYWx3YXlzIG1ha2Ugc3VyZSB0aGF0XG4gICAgLy8gd2UgY2FuIGNhbmNlbCBhbnkgcGVuZGluZyBzZXRTdGF0ZSBjYWxsYmFja3MgYWZ0ZXIgd2UgdW5tb3VudC5cbiAgICBjYWxsYmFjayA9IHRoaXMuc2V0TmV4dENhbGxiYWNrKGNhbGxiYWNrKTtcbiAgICB0aGlzLnNldFN0YXRlKG5leHRTdGF0ZSwgY2FsbGJhY2spO1xuICB9O1xuXG4gIF9wcm90by5zZXROZXh0Q2FsbGJhY2sgPSBmdW5jdGlvbiBzZXROZXh0Q2FsbGJhY2soY2FsbGJhY2spIHtcbiAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgIHZhciBhY3RpdmUgPSB0cnVlO1xuXG4gICAgdGhpcy5uZXh0Q2FsbGJhY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGlmIChhY3RpdmUpIHtcbiAgICAgICAgYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIF90aGlzNC5uZXh0Q2FsbGJhY2sgPSBudWxsO1xuICAgICAgICBjYWxsYmFjayhldmVudCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMubmV4dENhbGxiYWNrLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGFjdGl2ZSA9IGZhbHNlO1xuICAgIH07XG5cbiAgICByZXR1cm4gdGhpcy5uZXh0Q2FsbGJhY2s7XG4gIH07XG5cbiAgX3Byb3RvLm9uVHJhbnNpdGlvbkVuZCA9IGZ1bmN0aW9uIG9uVHJhbnNpdGlvbkVuZChub2RlLCB0aW1lb3V0LCBoYW5kbGVyKSB7XG4gICAgdGhpcy5zZXROZXh0Q2FsbGJhY2soaGFuZGxlcik7XG4gICAgdmFyIGRvZXNOb3RIYXZlVGltZW91dE9yTGlzdGVuZXIgPSB0aW1lb3V0ID09IG51bGwgJiYgIXRoaXMucHJvcHMuYWRkRW5kTGlzdGVuZXI7XG5cbiAgICBpZiAoIW5vZGUgfHwgZG9lc05vdEhhdmVUaW1lb3V0T3JMaXN0ZW5lcikge1xuICAgICAgc2V0VGltZW91dCh0aGlzLm5leHRDYWxsYmFjaywgMCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucHJvcHMuYWRkRW5kTGlzdGVuZXIpIHtcbiAgICAgIHRoaXMucHJvcHMuYWRkRW5kTGlzdGVuZXIobm9kZSwgdGhpcy5uZXh0Q2FsbGJhY2spO1xuICAgIH1cblxuICAgIGlmICh0aW1lb3V0ICE9IG51bGwpIHtcbiAgICAgIHNldFRpbWVvdXQodGhpcy5uZXh0Q2FsbGJhY2ssIHRpbWVvdXQpO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBzdGF0dXMgPSB0aGlzLnN0YXRlLnN0YXR1cztcblxuICAgIGlmIChzdGF0dXMgPT09IFVOTU9VTlRFRCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgY2hpbGRyZW4gPSBfdGhpcyRwcm9wcy5jaGlsZHJlbixcbiAgICAgICAgY2hpbGRQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF90aGlzJHByb3BzLCBbXCJjaGlsZHJlblwiXSk7IC8vIGZpbHRlciBwcm9wcyBmb3IgVHJhbnN0aXRpb25cblxuXG4gICAgZGVsZXRlIGNoaWxkUHJvcHMuaW47XG4gICAgZGVsZXRlIGNoaWxkUHJvcHMubW91bnRPbkVudGVyO1xuICAgIGRlbGV0ZSBjaGlsZFByb3BzLnVubW91bnRPbkV4aXQ7XG4gICAgZGVsZXRlIGNoaWxkUHJvcHMuYXBwZWFyO1xuICAgIGRlbGV0ZSBjaGlsZFByb3BzLmVudGVyO1xuICAgIGRlbGV0ZSBjaGlsZFByb3BzLmV4aXQ7XG4gICAgZGVsZXRlIGNoaWxkUHJvcHMudGltZW91dDtcbiAgICBkZWxldGUgY2hpbGRQcm9wcy5hZGRFbmRMaXN0ZW5lcjtcbiAgICBkZWxldGUgY2hpbGRQcm9wcy5vbkVudGVyO1xuICAgIGRlbGV0ZSBjaGlsZFByb3BzLm9uRW50ZXJpbmc7XG4gICAgZGVsZXRlIGNoaWxkUHJvcHMub25FbnRlcmVkO1xuICAgIGRlbGV0ZSBjaGlsZFByb3BzLm9uRXhpdDtcbiAgICBkZWxldGUgY2hpbGRQcm9wcy5vbkV4aXRpbmc7XG4gICAgZGVsZXRlIGNoaWxkUHJvcHMub25FeGl0ZWQ7XG5cbiAgICBpZiAodHlwZW9mIGNoaWxkcmVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gY2hpbGRyZW4oc3RhdHVzLCBjaGlsZFByb3BzKTtcbiAgICB9XG5cbiAgICB2YXIgY2hpbGQgPSBfcmVhY3QuZGVmYXVsdC5DaGlsZHJlbi5vbmx5KGNoaWxkcmVuKTtcblxuICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jbG9uZUVsZW1lbnQoY2hpbGQsIGNoaWxkUHJvcHMpO1xuICB9O1xuXG4gIHJldHVybiBUcmFuc2l0aW9uO1xufShfcmVhY3QuZGVmYXVsdC5Db21wb25lbnQpO1xuXG5UcmFuc2l0aW9uLmNvbnRleHRUeXBlcyA9IHtcbiAgdHJhbnNpdGlvbkdyb3VwOiBQcm9wVHlwZXMub2JqZWN0XG59O1xuVHJhbnNpdGlvbi5jaGlsZENvbnRleHRUeXBlcyA9IHtcbiAgdHJhbnNpdGlvbkdyb3VwOiBmdW5jdGlvbiB0cmFuc2l0aW9uR3JvdXAoKSB7fVxufTtcblRyYW5zaXRpb24ucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8ge1xuICAvKipcbiAgICogQSBgZnVuY3Rpb25gIGNoaWxkIGNhbiBiZSB1c2VkIGluc3RlYWQgb2YgYSBSZWFjdCBlbGVtZW50LiBUaGlzIGZ1bmN0aW9uIGlzXG4gICAqIGNhbGxlZCB3aXRoIHRoZSBjdXJyZW50IHRyYW5zaXRpb24gc3RhdHVzIChgJ2VudGVyaW5nJ2AsIGAnZW50ZXJlZCdgLFxuICAgKiBgJ2V4aXRpbmcnYCwgYCdleGl0ZWQnYCwgYCd1bm1vdW50ZWQnYCksIHdoaWNoIGNhbiBiZSB1c2VkIHRvIGFwcGx5IGNvbnRleHRcbiAgICogc3BlY2lmaWMgcHJvcHMgdG8gYSBjb21wb25lbnQuXG4gICAqXG4gICAqIGBgYGpzeFxuICAgKiA8VHJhbnNpdGlvbiBpbj17dGhpcy5zdGF0ZS5pbn0gdGltZW91dD17MTUwfT5cbiAgICogICB7c3RhdGUgPT4gKFxuICAgKiAgICAgPE15Q29tcG9uZW50IGNsYXNzTmFtZT17YGZhZGUgZmFkZS0ke3N0YXRlfWB9IC8+XG4gICAqICAgKX1cbiAgICogPC9UcmFuc2l0aW9uPlxuICAgKiBgYGBcbiAgICovXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLCBQcm9wVHlwZXMuZWxlbWVudC5pc1JlcXVpcmVkXSkuaXNSZXF1aXJlZCxcblxuICAvKipcbiAgICogU2hvdyB0aGUgY29tcG9uZW50OyB0cmlnZ2VycyB0aGUgZW50ZXIgb3IgZXhpdCBzdGF0ZXNcbiAgICovXG4gIGluOiBQcm9wVHlwZXMuYm9vbCxcblxuICAvKipcbiAgICogQnkgZGVmYXVsdCB0aGUgY2hpbGQgY29tcG9uZW50IGlzIG1vdW50ZWQgaW1tZWRpYXRlbHkgYWxvbmcgd2l0aFxuICAgKiB0aGUgcGFyZW50IGBUcmFuc2l0aW9uYCBjb21wb25lbnQuIElmIHlvdSB3YW50IHRvIFwibGF6eSBtb3VudFwiIHRoZSBjb21wb25lbnQgb24gdGhlXG4gICAqIGZpcnN0IGBpbj17dHJ1ZX1gIHlvdSBjYW4gc2V0IGBtb3VudE9uRW50ZXJgLiBBZnRlciB0aGUgZmlyc3QgZW50ZXIgdHJhbnNpdGlvbiB0aGUgY29tcG9uZW50IHdpbGwgc3RheVxuICAgKiBtb3VudGVkLCBldmVuIG9uIFwiZXhpdGVkXCIsIHVubGVzcyB5b3UgYWxzbyBzcGVjaWZ5IGB1bm1vdW50T25FeGl0YC5cbiAgICovXG4gIG1vdW50T25FbnRlcjogUHJvcFR5cGVzLmJvb2wsXG5cbiAgLyoqXG4gICAqIEJ5IGRlZmF1bHQgdGhlIGNoaWxkIGNvbXBvbmVudCBzdGF5cyBtb3VudGVkIGFmdGVyIGl0IHJlYWNoZXMgdGhlIGAnZXhpdGVkJ2Agc3RhdGUuXG4gICAqIFNldCBgdW5tb3VudE9uRXhpdGAgaWYgeW91J2QgcHJlZmVyIHRvIHVubW91bnQgdGhlIGNvbXBvbmVudCBhZnRlciBpdCBmaW5pc2hlcyBleGl0aW5nLlxuICAgKi9cbiAgdW5tb3VudE9uRXhpdDogUHJvcFR5cGVzLmJvb2wsXG5cbiAgLyoqXG4gICAqIE5vcm1hbGx5IGEgY29tcG9uZW50IGlzIG5vdCB0cmFuc2l0aW9uZWQgaWYgaXQgaXMgc2hvd24gd2hlbiB0aGUgYDxUcmFuc2l0aW9uPmAgY29tcG9uZW50IG1vdW50cy5cbiAgICogSWYgeW91IHdhbnQgdG8gdHJhbnNpdGlvbiBvbiB0aGUgZmlyc3QgbW91bnQgc2V0IGBhcHBlYXJgIHRvIGB0cnVlYCwgYW5kIHRoZVxuICAgKiBjb21wb25lbnQgd2lsbCB0cmFuc2l0aW9uIGluIGFzIHNvb24gYXMgdGhlIGA8VHJhbnNpdGlvbj5gIG1vdW50cy5cbiAgICpcbiAgICogPiBOb3RlOiB0aGVyZSBhcmUgbm8gc3BlY2lmaWMgXCJhcHBlYXJcIiBzdGF0ZXMuIGBhcHBlYXJgIG9ubHkgYWRkcyBhbiBhZGRpdGlvbmFsIGBlbnRlcmAgdHJhbnNpdGlvbi5cbiAgICovXG4gIGFwcGVhcjogUHJvcFR5cGVzLmJvb2wsXG5cbiAgLyoqXG4gICAqIEVuYWJsZSBvciBkaXNhYmxlIGVudGVyIHRyYW5zaXRpb25zLlxuICAgKi9cbiAgZW50ZXI6IFByb3BUeXBlcy5ib29sLFxuXG4gIC8qKlxuICAgKiBFbmFibGUgb3IgZGlzYWJsZSBleGl0IHRyYW5zaXRpb25zLlxuICAgKi9cbiAgZXhpdDogUHJvcFR5cGVzLmJvb2wsXG5cbiAgLyoqXG4gICAqIFRoZSBkdXJhdGlvbiBvZiB0aGUgdHJhbnNpdGlvbiwgaW4gbWlsbGlzZWNvbmRzLlxuICAgKiBSZXF1aXJlZCB1bmxlc3MgYGFkZEVuZExpc3RlbmVyYCBpcyBwcm92aWRlZC5cbiAgICpcbiAgICogWW91IG1heSBzcGVjaWZ5IGEgc2luZ2xlIHRpbWVvdXQgZm9yIGFsbCB0cmFuc2l0aW9uczpcbiAgICpcbiAgICogYGBganN4XG4gICAqIHRpbWVvdXQ9ezUwMH1cbiAgICogYGBgXG4gICAqXG4gICAqIG9yIGluZGl2aWR1YWxseTpcbiAgICpcbiAgICogYGBganN4XG4gICAqIHRpbWVvdXQ9e3tcbiAgICogIGFwcGVhcjogNTAwLFxuICAgKiAgZW50ZXI6IDMwMCxcbiAgICogIGV4aXQ6IDUwMCxcbiAgICogfX1cbiAgICogYGBgXG4gICAqXG4gICAqIC0gYGFwcGVhcmAgZGVmYXVsdHMgdG8gdGhlIHZhbHVlIG9mIGBlbnRlcmBcbiAgICogLSBgZW50ZXJgIGRlZmF1bHRzIHRvIGAwYFxuICAgKiAtIGBleGl0YCBkZWZhdWx0cyB0byBgMGBcbiAgICpcbiAgICogQHR5cGUge251bWJlciB8IHsgZW50ZXI/OiBudW1iZXIsIGV4aXQ/OiBudW1iZXIsIGFwcGVhcj86IG51bWJlciB9fVxuICAgKi9cbiAgdGltZW91dDogZnVuY3Rpb24gdGltZW91dChwcm9wcykge1xuICAgIHZhciBwdCA9IF9Qcm9wVHlwZXMudGltZW91dHNTaGFwZTtcbiAgICBpZiAoIXByb3BzLmFkZEVuZExpc3RlbmVyKSBwdCA9IHB0LmlzUmVxdWlyZWQ7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHQuYXBwbHkodm9pZCAwLCBbcHJvcHNdLmNvbmNhdChhcmdzKSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEFkZCBhIGN1c3RvbSB0cmFuc2l0aW9uIGVuZCB0cmlnZ2VyLiBDYWxsZWQgd2l0aCB0aGUgdHJhbnNpdGlvbmluZ1xuICAgKiBET00gbm9kZSBhbmQgYSBgZG9uZWAgY2FsbGJhY2suIEFsbG93cyBmb3IgbW9yZSBmaW5lIGdyYWluZWQgdHJhbnNpdGlvbiBlbmRcbiAgICogbG9naWMuICoqTm90ZToqKiBUaW1lb3V0cyBhcmUgc3RpbGwgdXNlZCBhcyBhIGZhbGxiYWNrIGlmIHByb3ZpZGVkLlxuICAgKlxuICAgKiBgYGBqc3hcbiAgICogYWRkRW5kTGlzdGVuZXI9eyhub2RlLCBkb25lKSA9PiB7XG4gICAqICAgLy8gdXNlIHRoZSBjc3MgdHJhbnNpdGlvbmVuZCBldmVudCB0byBtYXJrIHRoZSBmaW5pc2ggb2YgYSB0cmFuc2l0aW9uXG4gICAqICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgZG9uZSwgZmFsc2UpO1xuICAgKiB9fVxuICAgKiBgYGBcbiAgICovXG4gIGFkZEVuZExpc3RlbmVyOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQ2FsbGJhY2sgZmlyZWQgYmVmb3JlIHRoZSBcImVudGVyaW5nXCIgc3RhdHVzIGlzIGFwcGxpZWQuIEFuIGV4dHJhIHBhcmFtZXRlclxuICAgKiBgaXNBcHBlYXJpbmdgIGlzIHN1cHBsaWVkIHRvIGluZGljYXRlIGlmIHRoZSBlbnRlciBzdGFnZSBpcyBvY2N1cnJpbmcgb24gdGhlIGluaXRpYWwgbW91bnRcbiAgICpcbiAgICogQHR5cGUgRnVuY3Rpb24obm9kZTogSHRtbEVsZW1lbnQsIGlzQXBwZWFyaW5nOiBib29sKSAtPiB2b2lkXG4gICAqL1xuICBvbkVudGVyOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQ2FsbGJhY2sgZmlyZWQgYWZ0ZXIgdGhlIFwiZW50ZXJpbmdcIiBzdGF0dXMgaXMgYXBwbGllZC4gQW4gZXh0cmEgcGFyYW1ldGVyXG4gICAqIGBpc0FwcGVhcmluZ2AgaXMgc3VwcGxpZWQgdG8gaW5kaWNhdGUgaWYgdGhlIGVudGVyIHN0YWdlIGlzIG9jY3VycmluZyBvbiB0aGUgaW5pdGlhbCBtb3VudFxuICAgKlxuICAgKiBAdHlwZSBGdW5jdGlvbihub2RlOiBIdG1sRWxlbWVudCwgaXNBcHBlYXJpbmc6IGJvb2wpXG4gICAqL1xuICBvbkVudGVyaW5nOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQ2FsbGJhY2sgZmlyZWQgYWZ0ZXIgdGhlIFwiZW50ZXJlZFwiIHN0YXR1cyBpcyBhcHBsaWVkLiBBbiBleHRyYSBwYXJhbWV0ZXJcbiAgICogYGlzQXBwZWFyaW5nYCBpcyBzdXBwbGllZCB0byBpbmRpY2F0ZSBpZiB0aGUgZW50ZXIgc3RhZ2UgaXMgb2NjdXJyaW5nIG9uIHRoZSBpbml0aWFsIG1vdW50XG4gICAqXG4gICAqIEB0eXBlIEZ1bmN0aW9uKG5vZGU6IEh0bWxFbGVtZW50LCBpc0FwcGVhcmluZzogYm9vbCkgLT4gdm9pZFxuICAgKi9cbiAgb25FbnRlcmVkOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQ2FsbGJhY2sgZmlyZWQgYmVmb3JlIHRoZSBcImV4aXRpbmdcIiBzdGF0dXMgaXMgYXBwbGllZC5cbiAgICpcbiAgICogQHR5cGUgRnVuY3Rpb24obm9kZTogSHRtbEVsZW1lbnQpIC0+IHZvaWRcbiAgICovXG4gIG9uRXhpdDogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGZpcmVkIGFmdGVyIHRoZSBcImV4aXRpbmdcIiBzdGF0dXMgaXMgYXBwbGllZC5cbiAgICpcbiAgICogQHR5cGUgRnVuY3Rpb24obm9kZTogSHRtbEVsZW1lbnQpIC0+IHZvaWRcbiAgICovXG4gIG9uRXhpdGluZzogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGZpcmVkIGFmdGVyIHRoZSBcImV4aXRlZFwiIHN0YXR1cyBpcyBhcHBsaWVkLlxuICAgKlxuICAgKiBAdHlwZSBGdW5jdGlvbihub2RlOiBIdG1sRWxlbWVudCkgLT4gdm9pZFxuICAgKi9cbiAgb25FeGl0ZWQ6IFByb3BUeXBlcy5mdW5jIC8vIE5hbWUgdGhlIGZ1bmN0aW9uIHNvIGl0IGlzIGNsZWFyZXIgaW4gdGhlIGRvY3VtZW50YXRpb25cblxufSA6IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxuVHJhbnNpdGlvbi5kZWZhdWx0UHJvcHMgPSB7XG4gIGluOiBmYWxzZSxcbiAgbW91bnRPbkVudGVyOiBmYWxzZSxcbiAgdW5tb3VudE9uRXhpdDogZmFsc2UsXG4gIGFwcGVhcjogZmFsc2UsXG4gIGVudGVyOiB0cnVlLFxuICBleGl0OiB0cnVlLFxuICBvbkVudGVyOiBub29wLFxuICBvbkVudGVyaW5nOiBub29wLFxuICBvbkVudGVyZWQ6IG5vb3AsXG4gIG9uRXhpdDogbm9vcCxcbiAgb25FeGl0aW5nOiBub29wLFxuICBvbkV4aXRlZDogbm9vcFxufTtcblRyYW5zaXRpb24uVU5NT1VOVEVEID0gMDtcblRyYW5zaXRpb24uRVhJVEVEID0gMTtcblRyYW5zaXRpb24uRU5URVJJTkcgPSAyO1xuVHJhbnNpdGlvbi5FTlRFUkVEID0gMztcblRyYW5zaXRpb24uRVhJVElORyA9IDQ7XG5cbnZhciBfZGVmYXVsdCA9ICgwLCBfcmVhY3RMaWZlY3ljbGVzQ29tcGF0LnBvbHlmaWxsKShUcmFuc2l0aW9uKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../trader/node_modules/react-transition-group/Transition.js\n");

/***/ }),

/***/ "../../trader/node_modules/react-transition-group/TransitionGroup.js":
/*!*****************************************************************************************************************************!*\
  !*** /Users/samyong/Documents/Source_code/deriv-app/packages/trader/node_modules/react-transition-group/TransitionGroup.js ***!
  \*****************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _propTypes = _interopRequireDefault(__webpack_require__(/*! prop-types */ \"../../trader/node_modules/prop-types/index.js\"));\n\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nvar _reactLifecyclesCompat = __webpack_require__(/*! react-lifecycles-compat */ \"../../trader/node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js\");\n\nvar _ChildMapping = __webpack_require__(/*! ./utils/ChildMapping */ \"../../trader/node_modules/react-transition-group/utils/ChildMapping.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nvar values = Object.values || function (obj) {\n  return Object.keys(obj).map(function (k) {\n    return obj[k];\n  });\n};\n\nvar defaultProps = {\n  component: 'div',\n  childFactory: function childFactory(child) {\n    return child;\n  }\n  /**\n   * The `<TransitionGroup>` component manages a set of transition components\n   * (`<Transition>` and `<CSSTransition>`) in a list. Like with the transition\n   * components, `<TransitionGroup>` is a state machine for managing the mounting\n   * and unmounting of components over time.\n   *\n   * Consider the example below. As items are removed or added to the TodoList the\n   * `in` prop is toggled automatically by the `<TransitionGroup>`.\n   *\n   * Note that `<TransitionGroup>`  does not define any animation behavior!\n   * Exactly _how_ a list item animates is up to the individual transition\n   * component. This means you can mix and match animations across different list\n   * items.\n   */\n\n};\n\nvar TransitionGroup =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(TransitionGroup, _React$Component);\n\n  function TransitionGroup(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n\n    var handleExited = _this.handleExited.bind(_assertThisInitialized(_assertThisInitialized(_this))); // Initial children should all be entering, dependent on appear\n\n\n    _this.state = {\n      handleExited: handleExited,\n      firstRender: true\n    };\n    return _this;\n  }\n\n  var _proto = TransitionGroup.prototype;\n\n  _proto.getChildContext = function getChildContext() {\n    return {\n      transitionGroup: {\n        isMounting: !this.appeared\n      }\n    };\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.appeared = true;\n    this.mounted = true;\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.mounted = false;\n  };\n\n  TransitionGroup.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, _ref) {\n    var prevChildMapping = _ref.children,\n        handleExited = _ref.handleExited,\n        firstRender = _ref.firstRender;\n    return {\n      children: firstRender ? (0, _ChildMapping.getInitialChildMapping)(nextProps, handleExited) : (0, _ChildMapping.getNextChildMapping)(nextProps, prevChildMapping, handleExited),\n      firstRender: false\n    };\n  };\n\n  _proto.handleExited = function handleExited(child, node) {\n    var currentChildMapping = (0, _ChildMapping.getChildMapping)(this.props.children);\n    if (child.key in currentChildMapping) return;\n\n    if (child.props.onExited) {\n      child.props.onExited(node);\n    }\n\n    if (this.mounted) {\n      this.setState(function (state) {\n        var children = _extends({}, state.children);\n\n        delete children[child.key];\n        return {\n          children: children\n        };\n      });\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        Component = _this$props.component,\n        childFactory = _this$props.childFactory,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"component\", \"childFactory\"]);\n\n    var children = values(this.state.children).map(childFactory);\n    delete props.appear;\n    delete props.enter;\n    delete props.exit;\n\n    if (Component === null) {\n      return children;\n    }\n\n    return _react.default.createElement(Component, props, children);\n  };\n\n  return TransitionGroup;\n}(_react.default.Component);\n\nTransitionGroup.childContextTypes = {\n  transitionGroup: _propTypes.default.object.isRequired\n};\nTransitionGroup.propTypes =  true ? {\n  /**\n   * `<TransitionGroup>` renders a `<div>` by default. You can change this\n   * behavior by providing a `component` prop.\n   * If you use React v16+ and would like to avoid a wrapping `<div>` element\n   * you can pass in `component={null}`. This is useful if the wrapping div\n   * borks your css styles.\n   */\n  component: _propTypes.default.any,\n\n  /**\n   * A set of `<Transition>` components, that are toggled `in` and out as they\n   * leave. the `<TransitionGroup>` will inject specific transition props, so\n   * remember to spread them through if you are wrapping the `<Transition>` as\n   * with our `<Fade>` example.\n   *\n   * While this component is meant for multiple `Transition` or `CSSTransition`\n   * children, sometimes you may want to have a single transition child with\n   * content that you want to be transitioned out and in when you change it\n   * (e.g. routes, images etc.) In that case you can change the `key` prop of\n   * the transition child as you change its content, this will cause\n   * `TransitionGroup` to transition the child out and back in.\n   */\n  children: _propTypes.default.node,\n\n  /**\n   * A convenience prop that enables or disables appear animations\n   * for all children. Note that specifying this will override any defaults set\n   * on individual children Transitions.\n   */\n  appear: _propTypes.default.bool,\n\n  /**\n   * A convenience prop that enables or disables enter animations\n   * for all children. Note that specifying this will override any defaults set\n   * on individual children Transitions.\n   */\n  enter: _propTypes.default.bool,\n\n  /**\n   * A convenience prop that enables or disables exit animations\n   * for all children. Note that specifying this will override any defaults set\n   * on individual children Transitions.\n   */\n  exit: _propTypes.default.bool,\n\n  /**\n   * You may need to apply reactive updates to a child as it is exiting.\n   * This is generally done by using `cloneElement` however in the case of an exiting\n   * child the element has already been removed and not accessible to the consumer.\n   *\n   * If you do need to update a child as it leaves you can provide a `childFactory`\n   * to wrap every child, even the ones that are leaving.\n   *\n   * @type Function(child: ReactElement) -> ReactElement\n   */\n  childFactory: _propTypes.default.func\n} : undefined;\nTransitionGroup.defaultProps = defaultProps;\n\nvar _default = (0, _reactLifecyclesCompat.polyfill)(TransitionGroup);\n\nexports.default = _default;\nmodule.exports = exports[\"default\"];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vdHJhZGVyL25vZGVfbW9kdWxlcy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL1RyYW5zaXRpb25Hcm91cC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vVXNlcnMvc2FteW9uZy9Eb2N1bWVudHMvU291cmNlX2NvZGUvZGVyaXYtYXBwL3BhY2thZ2VzL3RyYWRlci9ub2RlX21vZHVsZXMvcmVhY3QtdHJhbnNpdGlvbi1ncm91cC9UcmFuc2l0aW9uR3JvdXAuanM/MDI2MyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9wcm9wVHlwZXMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJwcm9wLXR5cGVzXCIpKTtcblxudmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcInJlYWN0XCIpKTtcblxudmFyIF9yZWFjdExpZmVjeWNsZXNDb21wYXQgPSByZXF1aXJlKFwicmVhY3QtbGlmZWN5Y2xlcy1jb21wYXRcIik7XG5cbnZhciBfQ2hpbGRNYXBwaW5nID0gcmVxdWlyZShcIi4vdXRpbHMvQ2hpbGRNYXBwaW5nXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpOyBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzczsgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxudmFyIHZhbHVlcyA9IE9iamVjdC52YWx1ZXMgfHwgZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5tYXAoZnVuY3Rpb24gKGspIHtcbiAgICByZXR1cm4gb2JqW2tdO1xuICB9KTtcbn07XG5cbnZhciBkZWZhdWx0UHJvcHMgPSB7XG4gIGNvbXBvbmVudDogJ2RpdicsXG4gIGNoaWxkRmFjdG9yeTogZnVuY3Rpb24gY2hpbGRGYWN0b3J5KGNoaWxkKSB7XG4gICAgcmV0dXJuIGNoaWxkO1xuICB9XG4gIC8qKlxuICAgKiBUaGUgYDxUcmFuc2l0aW9uR3JvdXA+YCBjb21wb25lbnQgbWFuYWdlcyBhIHNldCBvZiB0cmFuc2l0aW9uIGNvbXBvbmVudHNcbiAgICogKGA8VHJhbnNpdGlvbj5gIGFuZCBgPENTU1RyYW5zaXRpb24+YCkgaW4gYSBsaXN0LiBMaWtlIHdpdGggdGhlIHRyYW5zaXRpb25cbiAgICogY29tcG9uZW50cywgYDxUcmFuc2l0aW9uR3JvdXA+YCBpcyBhIHN0YXRlIG1hY2hpbmUgZm9yIG1hbmFnaW5nIHRoZSBtb3VudGluZ1xuICAgKiBhbmQgdW5tb3VudGluZyBvZiBjb21wb25lbnRzIG92ZXIgdGltZS5cbiAgICpcbiAgICogQ29uc2lkZXIgdGhlIGV4YW1wbGUgYmVsb3cuIEFzIGl0ZW1zIGFyZSByZW1vdmVkIG9yIGFkZGVkIHRvIHRoZSBUb2RvTGlzdCB0aGVcbiAgICogYGluYCBwcm9wIGlzIHRvZ2dsZWQgYXV0b21hdGljYWxseSBieSB0aGUgYDxUcmFuc2l0aW9uR3JvdXA+YC5cbiAgICpcbiAgICogTm90ZSB0aGF0IGA8VHJhbnNpdGlvbkdyb3VwPmAgIGRvZXMgbm90IGRlZmluZSBhbnkgYW5pbWF0aW9uIGJlaGF2aW9yIVxuICAgKiBFeGFjdGx5IF9ob3dfIGEgbGlzdCBpdGVtIGFuaW1hdGVzIGlzIHVwIHRvIHRoZSBpbmRpdmlkdWFsIHRyYW5zaXRpb25cbiAgICogY29tcG9uZW50LiBUaGlzIG1lYW5zIHlvdSBjYW4gbWl4IGFuZCBtYXRjaCBhbmltYXRpb25zIGFjcm9zcyBkaWZmZXJlbnQgbGlzdFxuICAgKiBpdGVtcy5cbiAgICovXG5cbn07XG5cbnZhciBUcmFuc2l0aW9uR3JvdXAgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoVHJhbnNpdGlvbkdyb3VwLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBUcmFuc2l0aW9uR3JvdXAocHJvcHMsIGNvbnRleHQpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfdGhpcyA9IF9SZWFjdCRDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcywgY29udGV4dCkgfHwgdGhpcztcblxuICAgIHZhciBoYW5kbGVFeGl0ZWQgPSBfdGhpcy5oYW5kbGVFeGl0ZWQuYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSk7IC8vIEluaXRpYWwgY2hpbGRyZW4gc2hvdWxkIGFsbCBiZSBlbnRlcmluZywgZGVwZW5kZW50IG9uIGFwcGVhclxuXG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGhhbmRsZUV4aXRlZDogaGFuZGxlRXhpdGVkLFxuICAgICAgZmlyc3RSZW5kZXI6IHRydWVcbiAgICB9O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBUcmFuc2l0aW9uR3JvdXAucHJvdG90eXBlO1xuXG4gIF9wcm90by5nZXRDaGlsZENvbnRleHQgPSBmdW5jdGlvbiBnZXRDaGlsZENvbnRleHQoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRyYW5zaXRpb25Hcm91cDoge1xuICAgICAgICBpc01vdW50aW5nOiAhdGhpcy5hcHBlYXJlZFxuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgX3Byb3RvLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5hcHBlYXJlZCA9IHRydWU7XG4gICAgdGhpcy5tb3VudGVkID0gdHJ1ZTtcbiAgfTtcblxuICBfcHJvdG8uY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB0aGlzLm1vdW50ZWQgPSBmYWxzZTtcbiAgfTtcblxuICBUcmFuc2l0aW9uR3JvdXAuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID0gZnVuY3Rpb24gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5leHRQcm9wcywgX3JlZikge1xuICAgIHZhciBwcmV2Q2hpbGRNYXBwaW5nID0gX3JlZi5jaGlsZHJlbixcbiAgICAgICAgaGFuZGxlRXhpdGVkID0gX3JlZi5oYW5kbGVFeGl0ZWQsXG4gICAgICAgIGZpcnN0UmVuZGVyID0gX3JlZi5maXJzdFJlbmRlcjtcbiAgICByZXR1cm4ge1xuICAgICAgY2hpbGRyZW46IGZpcnN0UmVuZGVyID8gKDAsIF9DaGlsZE1hcHBpbmcuZ2V0SW5pdGlhbENoaWxkTWFwcGluZykobmV4dFByb3BzLCBoYW5kbGVFeGl0ZWQpIDogKDAsIF9DaGlsZE1hcHBpbmcuZ2V0TmV4dENoaWxkTWFwcGluZykobmV4dFByb3BzLCBwcmV2Q2hpbGRNYXBwaW5nLCBoYW5kbGVFeGl0ZWQpLFxuICAgICAgZmlyc3RSZW5kZXI6IGZhbHNlXG4gICAgfTtcbiAgfTtcblxuICBfcHJvdG8uaGFuZGxlRXhpdGVkID0gZnVuY3Rpb24gaGFuZGxlRXhpdGVkKGNoaWxkLCBub2RlKSB7XG4gICAgdmFyIGN1cnJlbnRDaGlsZE1hcHBpbmcgPSAoMCwgX0NoaWxkTWFwcGluZy5nZXRDaGlsZE1hcHBpbmcpKHRoaXMucHJvcHMuY2hpbGRyZW4pO1xuICAgIGlmIChjaGlsZC5rZXkgaW4gY3VycmVudENoaWxkTWFwcGluZykgcmV0dXJuO1xuXG4gICAgaWYgKGNoaWxkLnByb3BzLm9uRXhpdGVkKSB7XG4gICAgICBjaGlsZC5wcm9wcy5vbkV4aXRlZChub2RlKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5tb3VudGVkKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICB2YXIgY2hpbGRyZW4gPSBfZXh0ZW5kcyh7fSwgc3RhdGUuY2hpbGRyZW4pO1xuXG4gICAgICAgIGRlbGV0ZSBjaGlsZHJlbltjaGlsZC5rZXldO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGNoaWxkcmVuOiBjaGlsZHJlblxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgQ29tcG9uZW50ID0gX3RoaXMkcHJvcHMuY29tcG9uZW50LFxuICAgICAgICBjaGlsZEZhY3RvcnkgPSBfdGhpcyRwcm9wcy5jaGlsZEZhY3RvcnksXG4gICAgICAgIHByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3RoaXMkcHJvcHMsIFtcImNvbXBvbmVudFwiLCBcImNoaWxkRmFjdG9yeVwiXSk7XG5cbiAgICB2YXIgY2hpbGRyZW4gPSB2YWx1ZXModGhpcy5zdGF0ZS5jaGlsZHJlbikubWFwKGNoaWxkRmFjdG9yeSk7XG4gICAgZGVsZXRlIHByb3BzLmFwcGVhcjtcbiAgICBkZWxldGUgcHJvcHMuZW50ZXI7XG4gICAgZGVsZXRlIHByb3BzLmV4aXQ7XG5cbiAgICBpZiAoQ29tcG9uZW50ID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50LCBwcm9wcywgY2hpbGRyZW4pO1xuICB9O1xuXG4gIHJldHVybiBUcmFuc2l0aW9uR3JvdXA7XG59KF9yZWFjdC5kZWZhdWx0LkNvbXBvbmVudCk7XG5cblRyYW5zaXRpb25Hcm91cC5jaGlsZENvbnRleHRUeXBlcyA9IHtcbiAgdHJhbnNpdGlvbkdyb3VwOiBfcHJvcFR5cGVzLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5UcmFuc2l0aW9uR3JvdXAucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8ge1xuICAvKipcbiAgICogYDxUcmFuc2l0aW9uR3JvdXA+YCByZW5kZXJzIGEgYDxkaXY+YCBieSBkZWZhdWx0LiBZb3UgY2FuIGNoYW5nZSB0aGlzXG4gICAqIGJlaGF2aW9yIGJ5IHByb3ZpZGluZyBhIGBjb21wb25lbnRgIHByb3AuXG4gICAqIElmIHlvdSB1c2UgUmVhY3QgdjE2KyBhbmQgd291bGQgbGlrZSB0byBhdm9pZCBhIHdyYXBwaW5nIGA8ZGl2PmAgZWxlbWVudFxuICAgKiB5b3UgY2FuIHBhc3MgaW4gYGNvbXBvbmVudD17bnVsbH1gLiBUaGlzIGlzIHVzZWZ1bCBpZiB0aGUgd3JhcHBpbmcgZGl2XG4gICAqIGJvcmtzIHlvdXIgY3NzIHN0eWxlcy5cbiAgICovXG4gIGNvbXBvbmVudDogX3Byb3BUeXBlcy5kZWZhdWx0LmFueSxcblxuICAvKipcbiAgICogQSBzZXQgb2YgYDxUcmFuc2l0aW9uPmAgY29tcG9uZW50cywgdGhhdCBhcmUgdG9nZ2xlZCBgaW5gIGFuZCBvdXQgYXMgdGhleVxuICAgKiBsZWF2ZS4gdGhlIGA8VHJhbnNpdGlvbkdyb3VwPmAgd2lsbCBpbmplY3Qgc3BlY2lmaWMgdHJhbnNpdGlvbiBwcm9wcywgc29cbiAgICogcmVtZW1iZXIgdG8gc3ByZWFkIHRoZW0gdGhyb3VnaCBpZiB5b3UgYXJlIHdyYXBwaW5nIHRoZSBgPFRyYW5zaXRpb24+YCBhc1xuICAgKiB3aXRoIG91ciBgPEZhZGU+YCBleGFtcGxlLlxuICAgKlxuICAgKiBXaGlsZSB0aGlzIGNvbXBvbmVudCBpcyBtZWFudCBmb3IgbXVsdGlwbGUgYFRyYW5zaXRpb25gIG9yIGBDU1NUcmFuc2l0aW9uYFxuICAgKiBjaGlsZHJlbiwgc29tZXRpbWVzIHlvdSBtYXkgd2FudCB0byBoYXZlIGEgc2luZ2xlIHRyYW5zaXRpb24gY2hpbGQgd2l0aFxuICAgKiBjb250ZW50IHRoYXQgeW91IHdhbnQgdG8gYmUgdHJhbnNpdGlvbmVkIG91dCBhbmQgaW4gd2hlbiB5b3UgY2hhbmdlIGl0XG4gICAqIChlLmcuIHJvdXRlcywgaW1hZ2VzIGV0Yy4pIEluIHRoYXQgY2FzZSB5b3UgY2FuIGNoYW5nZSB0aGUgYGtleWAgcHJvcCBvZlxuICAgKiB0aGUgdHJhbnNpdGlvbiBjaGlsZCBhcyB5b3UgY2hhbmdlIGl0cyBjb250ZW50LCB0aGlzIHdpbGwgY2F1c2VcbiAgICogYFRyYW5zaXRpb25Hcm91cGAgdG8gdHJhbnNpdGlvbiB0aGUgY2hpbGQgb3V0IGFuZCBiYWNrIGluLlxuICAgKi9cbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMuZGVmYXVsdC5ub2RlLFxuXG4gIC8qKlxuICAgKiBBIGNvbnZlbmllbmNlIHByb3AgdGhhdCBlbmFibGVzIG9yIGRpc2FibGVzIGFwcGVhciBhbmltYXRpb25zXG4gICAqIGZvciBhbGwgY2hpbGRyZW4uIE5vdGUgdGhhdCBzcGVjaWZ5aW5nIHRoaXMgd2lsbCBvdmVycmlkZSBhbnkgZGVmYXVsdHMgc2V0XG4gICAqIG9uIGluZGl2aWR1YWwgY2hpbGRyZW4gVHJhbnNpdGlvbnMuXG4gICAqL1xuICBhcHBlYXI6IF9wcm9wVHlwZXMuZGVmYXVsdC5ib29sLFxuXG4gIC8qKlxuICAgKiBBIGNvbnZlbmllbmNlIHByb3AgdGhhdCBlbmFibGVzIG9yIGRpc2FibGVzIGVudGVyIGFuaW1hdGlvbnNcbiAgICogZm9yIGFsbCBjaGlsZHJlbi4gTm90ZSB0aGF0IHNwZWNpZnlpbmcgdGhpcyB3aWxsIG92ZXJyaWRlIGFueSBkZWZhdWx0cyBzZXRcbiAgICogb24gaW5kaXZpZHVhbCBjaGlsZHJlbiBUcmFuc2l0aW9ucy5cbiAgICovXG4gIGVudGVyOiBfcHJvcFR5cGVzLmRlZmF1bHQuYm9vbCxcblxuICAvKipcbiAgICogQSBjb252ZW5pZW5jZSBwcm9wIHRoYXQgZW5hYmxlcyBvciBkaXNhYmxlcyBleGl0IGFuaW1hdGlvbnNcbiAgICogZm9yIGFsbCBjaGlsZHJlbi4gTm90ZSB0aGF0IHNwZWNpZnlpbmcgdGhpcyB3aWxsIG92ZXJyaWRlIGFueSBkZWZhdWx0cyBzZXRcbiAgICogb24gaW5kaXZpZHVhbCBjaGlsZHJlbiBUcmFuc2l0aW9ucy5cbiAgICovXG4gIGV4aXQ6IF9wcm9wVHlwZXMuZGVmYXVsdC5ib29sLFxuXG4gIC8qKlxuICAgKiBZb3UgbWF5IG5lZWQgdG8gYXBwbHkgcmVhY3RpdmUgdXBkYXRlcyB0byBhIGNoaWxkIGFzIGl0IGlzIGV4aXRpbmcuXG4gICAqIFRoaXMgaXMgZ2VuZXJhbGx5IGRvbmUgYnkgdXNpbmcgYGNsb25lRWxlbWVudGAgaG93ZXZlciBpbiB0aGUgY2FzZSBvZiBhbiBleGl0aW5nXG4gICAqIGNoaWxkIHRoZSBlbGVtZW50IGhhcyBhbHJlYWR5IGJlZW4gcmVtb3ZlZCBhbmQgbm90IGFjY2Vzc2libGUgdG8gdGhlIGNvbnN1bWVyLlxuICAgKlxuICAgKiBJZiB5b3UgZG8gbmVlZCB0byB1cGRhdGUgYSBjaGlsZCBhcyBpdCBsZWF2ZXMgeW91IGNhbiBwcm92aWRlIGEgYGNoaWxkRmFjdG9yeWBcbiAgICogdG8gd3JhcCBldmVyeSBjaGlsZCwgZXZlbiB0aGUgb25lcyB0aGF0IGFyZSBsZWF2aW5nLlxuICAgKlxuICAgKiBAdHlwZSBGdW5jdGlvbihjaGlsZDogUmVhY3RFbGVtZW50KSAtPiBSZWFjdEVsZW1lbnRcbiAgICovXG4gIGNoaWxkRmFjdG9yeTogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmNcbn0gOiB7fTtcblRyYW5zaXRpb25Hcm91cC5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7XG5cbnZhciBfZGVmYXVsdCA9ICgwLCBfcmVhY3RMaWZlY3ljbGVzQ29tcGF0LnBvbHlmaWxsKShUcmFuc2l0aW9uR3JvdXApO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../trader/node_modules/react-transition-group/TransitionGroup.js\n");

/***/ }),

/***/ "../../trader/node_modules/react-transition-group/index.js":
/*!*******************************************************************************************************************!*\
  !*** /Users/samyong/Documents/Source_code/deriv-app/packages/trader/node_modules/react-transition-group/index.js ***!
  \*******************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _CSSTransition = _interopRequireDefault(__webpack_require__(/*! ./CSSTransition */ \"../../trader/node_modules/react-transition-group/CSSTransition.js\"));\n\nvar _ReplaceTransition = _interopRequireDefault(__webpack_require__(/*! ./ReplaceTransition */ \"../../trader/node_modules/react-transition-group/ReplaceTransition.js\"));\n\nvar _TransitionGroup = _interopRequireDefault(__webpack_require__(/*! ./TransitionGroup */ \"../../trader/node_modules/react-transition-group/TransitionGroup.js\"));\n\nvar _Transition = _interopRequireDefault(__webpack_require__(/*! ./Transition */ \"../../trader/node_modules/react-transition-group/Transition.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = {\n  Transition: _Transition.default,\n  TransitionGroup: _TransitionGroup.default,\n  ReplaceTransition: _ReplaceTransition.default,\n  CSSTransition: _CSSTransition.default\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vdHJhZGVyL25vZGVfbW9kdWxlcy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL2luZGV4LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy9Vc2Vycy9zYW15b25nL0RvY3VtZW50cy9Tb3VyY2VfY29kZS9kZXJpdi1hcHAvcGFja2FnZXMvdHJhZGVyL25vZGVfbW9kdWxlcy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL2luZGV4LmpzPzdlZjciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfQ1NTVHJhbnNpdGlvbiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vQ1NTVHJhbnNpdGlvblwiKSk7XG5cbnZhciBfUmVwbGFjZVRyYW5zaXRpb24gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL1JlcGxhY2VUcmFuc2l0aW9uXCIpKTtcblxudmFyIF9UcmFuc2l0aW9uR3JvdXAgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL1RyYW5zaXRpb25Hcm91cFwiKSk7XG5cbnZhciBfVHJhbnNpdGlvbiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vVHJhbnNpdGlvblwiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBUcmFuc2l0aW9uOiBfVHJhbnNpdGlvbi5kZWZhdWx0LFxuICBUcmFuc2l0aW9uR3JvdXA6IF9UcmFuc2l0aW9uR3JvdXAuZGVmYXVsdCxcbiAgUmVwbGFjZVRyYW5zaXRpb246IF9SZXBsYWNlVHJhbnNpdGlvbi5kZWZhdWx0LFxuICBDU1NUcmFuc2l0aW9uOiBfQ1NTVHJhbnNpdGlvbi5kZWZhdWx0XG59OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../trader/node_modules/react-transition-group/index.js\n");

/***/ }),

/***/ "../../trader/node_modules/react-transition-group/utils/ChildMapping.js":
/*!********************************************************************************************************************************!*\
  !*** /Users/samyong/Documents/Source_code/deriv-app/packages/trader/node_modules/react-transition-group/utils/ChildMapping.js ***!
  \********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nexports.__esModule = true;\nexports.getChildMapping = getChildMapping;\nexports.mergeChildMappings = mergeChildMappings;\nexports.getInitialChildMapping = getInitialChildMapping;\nexports.getNextChildMapping = getNextChildMapping;\n\nvar _react = __webpack_require__(/*! react */ \"../node_modules/react/index.js\");\n\n/**\n * Given `this.props.children`, return an object mapping key to child.\n *\n * @param {*} children `this.props.children`\n * @return {object} Mapping of key to child\n */\nfunction getChildMapping(children, mapFn) {\n  var mapper = function mapper(child) {\n    return mapFn && (0, _react.isValidElement)(child) ? mapFn(child) : child;\n  };\n\n  var result = Object.create(null);\n  if (children) _react.Children.map(children, function (c) {\n    return c;\n  }).forEach(function (child) {\n    // run the map function here instead so that the key is the computed one\n    result[child.key] = mapper(child);\n  });\n  return result;\n}\n/**\n * When you're adding or removing children some may be added or removed in the\n * same render pass. We want to show *both* since we want to simultaneously\n * animate elements in and out. This function takes a previous set of keys\n * and a new set of keys and merges them with its best guess of the correct\n * ordering. In the future we may expose some of the utilities in\n * ReactMultiChild to make this easy, but for now React itself does not\n * directly have this concept of the union of prevChildren and nextChildren\n * so we implement it here.\n *\n * @param {object} prev prev children as returned from\n * `ReactTransitionChildMapping.getChildMapping()`.\n * @param {object} next next children as returned from\n * `ReactTransitionChildMapping.getChildMapping()`.\n * @return {object} a key set that contains all keys in `prev` and all keys\n * in `next` in a reasonable order.\n */\n\n\nfunction mergeChildMappings(prev, next) {\n  prev = prev || {};\n  next = next || {};\n\n  function getValueForKey(key) {\n    return key in next ? next[key] : prev[key];\n  } // For each key of `next`, the list of keys to insert before that key in\n  // the combined list\n\n\n  var nextKeysPending = Object.create(null);\n  var pendingKeys = [];\n\n  for (var prevKey in prev) {\n    if (prevKey in next) {\n      if (pendingKeys.length) {\n        nextKeysPending[prevKey] = pendingKeys;\n        pendingKeys = [];\n      }\n    } else {\n      pendingKeys.push(prevKey);\n    }\n  }\n\n  var i;\n  var childMapping = {};\n\n  for (var nextKey in next) {\n    if (nextKeysPending[nextKey]) {\n      for (i = 0; i < nextKeysPending[nextKey].length; i++) {\n        var pendingNextKey = nextKeysPending[nextKey][i];\n        childMapping[nextKeysPending[nextKey][i]] = getValueForKey(pendingNextKey);\n      }\n    }\n\n    childMapping[nextKey] = getValueForKey(nextKey);\n  } // Finally, add the keys which didn't appear before any key in `next`\n\n\n  for (i = 0; i < pendingKeys.length; i++) {\n    childMapping[pendingKeys[i]] = getValueForKey(pendingKeys[i]);\n  }\n\n  return childMapping;\n}\n\nfunction getProp(child, prop, props) {\n  return props[prop] != null ? props[prop] : child.props[prop];\n}\n\nfunction getInitialChildMapping(props, onExited) {\n  return getChildMapping(props.children, function (child) {\n    return (0, _react.cloneElement)(child, {\n      onExited: onExited.bind(null, child),\n      in: true,\n      appear: getProp(child, 'appear', props),\n      enter: getProp(child, 'enter', props),\n      exit: getProp(child, 'exit', props)\n    });\n  });\n}\n\nfunction getNextChildMapping(nextProps, prevChildMapping, onExited) {\n  var nextChildMapping = getChildMapping(nextProps.children);\n  var children = mergeChildMappings(prevChildMapping, nextChildMapping);\n  Object.keys(children).forEach(function (key) {\n    var child = children[key];\n    if (!(0, _react.isValidElement)(child)) return;\n    var hasPrev = key in prevChildMapping;\n    var hasNext = key in nextChildMapping;\n    var prevChild = prevChildMapping[key];\n    var isLeaving = (0, _react.isValidElement)(prevChild) && !prevChild.props.in; // item is new (entering)\n\n    if (hasNext && (!hasPrev || isLeaving)) {\n      // console.log('entering', key)\n      children[key] = (0, _react.cloneElement)(child, {\n        onExited: onExited.bind(null, child),\n        in: true,\n        exit: getProp(child, 'exit', nextProps),\n        enter: getProp(child, 'enter', nextProps)\n      });\n    } else if (!hasNext && hasPrev && !isLeaving) {\n      // item is old (exiting)\n      // console.log('leaving', key)\n      children[key] = (0, _react.cloneElement)(child, {\n        in: false\n      });\n    } else if (hasNext && hasPrev && (0, _react.isValidElement)(prevChild)) {\n      // item hasn't changed transition states\n      // copy over the last transition props;\n      // console.log('unchanged', key)\n      children[key] = (0, _react.cloneElement)(child, {\n        onExited: onExited.bind(null, child),\n        in: prevChild.props.in,\n        exit: getProp(child, 'exit', nextProps),\n        enter: getProp(child, 'enter', nextProps)\n      });\n    }\n  });\n  return children;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vdHJhZGVyL25vZGVfbW9kdWxlcy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL3V0aWxzL0NoaWxkTWFwcGluZy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vVXNlcnMvc2FteW9uZy9Eb2N1bWVudHMvU291cmNlX2NvZGUvZGVyaXYtYXBwL3BhY2thZ2VzL3RyYWRlci9ub2RlX21vZHVsZXMvcmVhY3QtdHJhbnNpdGlvbi1ncm91cC91dGlscy9DaGlsZE1hcHBpbmcuanM/YzE5MyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZ2V0Q2hpbGRNYXBwaW5nID0gZ2V0Q2hpbGRNYXBwaW5nO1xuZXhwb3J0cy5tZXJnZUNoaWxkTWFwcGluZ3MgPSBtZXJnZUNoaWxkTWFwcGluZ3M7XG5leHBvcnRzLmdldEluaXRpYWxDaGlsZE1hcHBpbmcgPSBnZXRJbml0aWFsQ2hpbGRNYXBwaW5nO1xuZXhwb3J0cy5nZXROZXh0Q2hpbGRNYXBwaW5nID0gZ2V0TmV4dENoaWxkTWFwcGluZztcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcblxuLyoqXG4gKiBHaXZlbiBgdGhpcy5wcm9wcy5jaGlsZHJlbmAsIHJldHVybiBhbiBvYmplY3QgbWFwcGluZyBrZXkgdG8gY2hpbGQuXG4gKlxuICogQHBhcmFtIHsqfSBjaGlsZHJlbiBgdGhpcy5wcm9wcy5jaGlsZHJlbmBcbiAqIEByZXR1cm4ge29iamVjdH0gTWFwcGluZyBvZiBrZXkgdG8gY2hpbGRcbiAqL1xuZnVuY3Rpb24gZ2V0Q2hpbGRNYXBwaW5nKGNoaWxkcmVuLCBtYXBGbikge1xuICB2YXIgbWFwcGVyID0gZnVuY3Rpb24gbWFwcGVyKGNoaWxkKSB7XG4gICAgcmV0dXJuIG1hcEZuICYmICgwLCBfcmVhY3QuaXNWYWxpZEVsZW1lbnQpKGNoaWxkKSA/IG1hcEZuKGNoaWxkKSA6IGNoaWxkO1xuICB9O1xuXG4gIHZhciByZXN1bHQgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBpZiAoY2hpbGRyZW4pIF9yZWFjdC5DaGlsZHJlbi5tYXAoY2hpbGRyZW4sIGZ1bmN0aW9uIChjKSB7XG4gICAgcmV0dXJuIGM7XG4gIH0pLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgLy8gcnVuIHRoZSBtYXAgZnVuY3Rpb24gaGVyZSBpbnN0ZWFkIHNvIHRoYXQgdGhlIGtleSBpcyB0aGUgY29tcHV0ZWQgb25lXG4gICAgcmVzdWx0W2NoaWxkLmtleV0gPSBtYXBwZXIoY2hpbGQpO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuICogV2hlbiB5b3UncmUgYWRkaW5nIG9yIHJlbW92aW5nIGNoaWxkcmVuIHNvbWUgbWF5IGJlIGFkZGVkIG9yIHJlbW92ZWQgaW4gdGhlXG4gKiBzYW1lIHJlbmRlciBwYXNzLiBXZSB3YW50IHRvIHNob3cgKmJvdGgqIHNpbmNlIHdlIHdhbnQgdG8gc2ltdWx0YW5lb3VzbHlcbiAqIGFuaW1hdGUgZWxlbWVudHMgaW4gYW5kIG91dC4gVGhpcyBmdW5jdGlvbiB0YWtlcyBhIHByZXZpb3VzIHNldCBvZiBrZXlzXG4gKiBhbmQgYSBuZXcgc2V0IG9mIGtleXMgYW5kIG1lcmdlcyB0aGVtIHdpdGggaXRzIGJlc3QgZ3Vlc3Mgb2YgdGhlIGNvcnJlY3RcbiAqIG9yZGVyaW5nLiBJbiB0aGUgZnV0dXJlIHdlIG1heSBleHBvc2Ugc29tZSBvZiB0aGUgdXRpbGl0aWVzIGluXG4gKiBSZWFjdE11bHRpQ2hpbGQgdG8gbWFrZSB0aGlzIGVhc3ksIGJ1dCBmb3Igbm93IFJlYWN0IGl0c2VsZiBkb2VzIG5vdFxuICogZGlyZWN0bHkgaGF2ZSB0aGlzIGNvbmNlcHQgb2YgdGhlIHVuaW9uIG9mIHByZXZDaGlsZHJlbiBhbmQgbmV4dENoaWxkcmVuXG4gKiBzbyB3ZSBpbXBsZW1lbnQgaXQgaGVyZS5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gcHJldiBwcmV2IGNoaWxkcmVuIGFzIHJldHVybmVkIGZyb21cbiAqIGBSZWFjdFRyYW5zaXRpb25DaGlsZE1hcHBpbmcuZ2V0Q2hpbGRNYXBwaW5nKClgLlxuICogQHBhcmFtIHtvYmplY3R9IG5leHQgbmV4dCBjaGlsZHJlbiBhcyByZXR1cm5lZCBmcm9tXG4gKiBgUmVhY3RUcmFuc2l0aW9uQ2hpbGRNYXBwaW5nLmdldENoaWxkTWFwcGluZygpYC5cbiAqIEByZXR1cm4ge29iamVjdH0gYSBrZXkgc2V0IHRoYXQgY29udGFpbnMgYWxsIGtleXMgaW4gYHByZXZgIGFuZCBhbGwga2V5c1xuICogaW4gYG5leHRgIGluIGEgcmVhc29uYWJsZSBvcmRlci5cbiAqL1xuXG5cbmZ1bmN0aW9uIG1lcmdlQ2hpbGRNYXBwaW5ncyhwcmV2LCBuZXh0KSB7XG4gIHByZXYgPSBwcmV2IHx8IHt9O1xuICBuZXh0ID0gbmV4dCB8fCB7fTtcblxuICBmdW5jdGlvbiBnZXRWYWx1ZUZvcktleShrZXkpIHtcbiAgICByZXR1cm4ga2V5IGluIG5leHQgPyBuZXh0W2tleV0gOiBwcmV2W2tleV07XG4gIH0gLy8gRm9yIGVhY2gga2V5IG9mIGBuZXh0YCwgdGhlIGxpc3Qgb2Yga2V5cyB0byBpbnNlcnQgYmVmb3JlIHRoYXQga2V5IGluXG4gIC8vIHRoZSBjb21iaW5lZCBsaXN0XG5cblxuICB2YXIgbmV4dEtleXNQZW5kaW5nID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgdmFyIHBlbmRpbmdLZXlzID0gW107XG5cbiAgZm9yICh2YXIgcHJldktleSBpbiBwcmV2KSB7XG4gICAgaWYgKHByZXZLZXkgaW4gbmV4dCkge1xuICAgICAgaWYgKHBlbmRpbmdLZXlzLmxlbmd0aCkge1xuICAgICAgICBuZXh0S2V5c1BlbmRpbmdbcHJldktleV0gPSBwZW5kaW5nS2V5cztcbiAgICAgICAgcGVuZGluZ0tleXMgPSBbXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVuZGluZ0tleXMucHVzaChwcmV2S2V5KTtcbiAgICB9XG4gIH1cblxuICB2YXIgaTtcbiAgdmFyIGNoaWxkTWFwcGluZyA9IHt9O1xuXG4gIGZvciAodmFyIG5leHRLZXkgaW4gbmV4dCkge1xuICAgIGlmIChuZXh0S2V5c1BlbmRpbmdbbmV4dEtleV0pIHtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBuZXh0S2V5c1BlbmRpbmdbbmV4dEtleV0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHBlbmRpbmdOZXh0S2V5ID0gbmV4dEtleXNQZW5kaW5nW25leHRLZXldW2ldO1xuICAgICAgICBjaGlsZE1hcHBpbmdbbmV4dEtleXNQZW5kaW5nW25leHRLZXldW2ldXSA9IGdldFZhbHVlRm9yS2V5KHBlbmRpbmdOZXh0S2V5KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjaGlsZE1hcHBpbmdbbmV4dEtleV0gPSBnZXRWYWx1ZUZvcktleShuZXh0S2V5KTtcbiAgfSAvLyBGaW5hbGx5LCBhZGQgdGhlIGtleXMgd2hpY2ggZGlkbid0IGFwcGVhciBiZWZvcmUgYW55IGtleSBpbiBgbmV4dGBcblxuXG4gIGZvciAoaSA9IDA7IGkgPCBwZW5kaW5nS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGNoaWxkTWFwcGluZ1twZW5kaW5nS2V5c1tpXV0gPSBnZXRWYWx1ZUZvcktleShwZW5kaW5nS2V5c1tpXSk7XG4gIH1cblxuICByZXR1cm4gY2hpbGRNYXBwaW5nO1xufVxuXG5mdW5jdGlvbiBnZXRQcm9wKGNoaWxkLCBwcm9wLCBwcm9wcykge1xuICByZXR1cm4gcHJvcHNbcHJvcF0gIT0gbnVsbCA/IHByb3BzW3Byb3BdIDogY2hpbGQucHJvcHNbcHJvcF07XG59XG5cbmZ1bmN0aW9uIGdldEluaXRpYWxDaGlsZE1hcHBpbmcocHJvcHMsIG9uRXhpdGVkKSB7XG4gIHJldHVybiBnZXRDaGlsZE1hcHBpbmcocHJvcHMuY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgIHJldHVybiAoMCwgX3JlYWN0LmNsb25lRWxlbWVudCkoY2hpbGQsIHtcbiAgICAgIG9uRXhpdGVkOiBvbkV4aXRlZC5iaW5kKG51bGwsIGNoaWxkKSxcbiAgICAgIGluOiB0cnVlLFxuICAgICAgYXBwZWFyOiBnZXRQcm9wKGNoaWxkLCAnYXBwZWFyJywgcHJvcHMpLFxuICAgICAgZW50ZXI6IGdldFByb3AoY2hpbGQsICdlbnRlcicsIHByb3BzKSxcbiAgICAgIGV4aXQ6IGdldFByb3AoY2hpbGQsICdleGl0JywgcHJvcHMpXG4gICAgfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBnZXROZXh0Q2hpbGRNYXBwaW5nKG5leHRQcm9wcywgcHJldkNoaWxkTWFwcGluZywgb25FeGl0ZWQpIHtcbiAgdmFyIG5leHRDaGlsZE1hcHBpbmcgPSBnZXRDaGlsZE1hcHBpbmcobmV4dFByb3BzLmNoaWxkcmVuKTtcbiAgdmFyIGNoaWxkcmVuID0gbWVyZ2VDaGlsZE1hcHBpbmdzKHByZXZDaGlsZE1hcHBpbmcsIG5leHRDaGlsZE1hcHBpbmcpO1xuICBPYmplY3Qua2V5cyhjaGlsZHJlbikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIGNoaWxkID0gY2hpbGRyZW5ba2V5XTtcbiAgICBpZiAoISgwLCBfcmVhY3QuaXNWYWxpZEVsZW1lbnQpKGNoaWxkKSkgcmV0dXJuO1xuICAgIHZhciBoYXNQcmV2ID0ga2V5IGluIHByZXZDaGlsZE1hcHBpbmc7XG4gICAgdmFyIGhhc05leHQgPSBrZXkgaW4gbmV4dENoaWxkTWFwcGluZztcbiAgICB2YXIgcHJldkNoaWxkID0gcHJldkNoaWxkTWFwcGluZ1trZXldO1xuICAgIHZhciBpc0xlYXZpbmcgPSAoMCwgX3JlYWN0LmlzVmFsaWRFbGVtZW50KShwcmV2Q2hpbGQpICYmICFwcmV2Q2hpbGQucHJvcHMuaW47IC8vIGl0ZW0gaXMgbmV3IChlbnRlcmluZylcblxuICAgIGlmIChoYXNOZXh0ICYmICghaGFzUHJldiB8fCBpc0xlYXZpbmcpKSB7XG4gICAgICAvLyBjb25zb2xlLmxvZygnZW50ZXJpbmcnLCBrZXkpXG4gICAgICBjaGlsZHJlbltrZXldID0gKDAsIF9yZWFjdC5jbG9uZUVsZW1lbnQpKGNoaWxkLCB7XG4gICAgICAgIG9uRXhpdGVkOiBvbkV4aXRlZC5iaW5kKG51bGwsIGNoaWxkKSxcbiAgICAgICAgaW46IHRydWUsXG4gICAgICAgIGV4aXQ6IGdldFByb3AoY2hpbGQsICdleGl0JywgbmV4dFByb3BzKSxcbiAgICAgICAgZW50ZXI6IGdldFByb3AoY2hpbGQsICdlbnRlcicsIG5leHRQcm9wcylcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoIWhhc05leHQgJiYgaGFzUHJldiAmJiAhaXNMZWF2aW5nKSB7XG4gICAgICAvLyBpdGVtIGlzIG9sZCAoZXhpdGluZylcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdsZWF2aW5nJywga2V5KVxuICAgICAgY2hpbGRyZW5ba2V5XSA9ICgwLCBfcmVhY3QuY2xvbmVFbGVtZW50KShjaGlsZCwge1xuICAgICAgICBpbjogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoaGFzTmV4dCAmJiBoYXNQcmV2ICYmICgwLCBfcmVhY3QuaXNWYWxpZEVsZW1lbnQpKHByZXZDaGlsZCkpIHtcbiAgICAgIC8vIGl0ZW0gaGFzbid0IGNoYW5nZWQgdHJhbnNpdGlvbiBzdGF0ZXNcbiAgICAgIC8vIGNvcHkgb3ZlciB0aGUgbGFzdCB0cmFuc2l0aW9uIHByb3BzO1xuICAgICAgLy8gY29uc29sZS5sb2coJ3VuY2hhbmdlZCcsIGtleSlcbiAgICAgIGNoaWxkcmVuW2tleV0gPSAoMCwgX3JlYWN0LmNsb25lRWxlbWVudCkoY2hpbGQsIHtcbiAgICAgICAgb25FeGl0ZWQ6IG9uRXhpdGVkLmJpbmQobnVsbCwgY2hpbGQpLFxuICAgICAgICBpbjogcHJldkNoaWxkLnByb3BzLmluLFxuICAgICAgICBleGl0OiBnZXRQcm9wKGNoaWxkLCAnZXhpdCcsIG5leHRQcm9wcyksXG4gICAgICAgIGVudGVyOiBnZXRQcm9wKGNoaWxkLCAnZW50ZXInLCBuZXh0UHJvcHMpXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gY2hpbGRyZW47XG59Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../trader/node_modules/react-transition-group/utils/ChildMapping.js\n");

/***/ }),

/***/ "../../trader/node_modules/react-transition-group/utils/PropTypes.js":
/*!*****************************************************************************************************************************!*\
  !*** /Users/samyong/Documents/Source_code/deriv-app/packages/trader/node_modules/react-transition-group/utils/PropTypes.js ***!
  \*****************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nexports.__esModule = true;\nexports.classNamesShape = exports.timeoutsShape = void 0;\n\nvar _propTypes = _interopRequireDefault(__webpack_require__(/*! prop-types */ \"../../trader/node_modules/prop-types/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar timeoutsShape =  true ? _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.shape({\n  enter: _propTypes.default.number,\n  exit: _propTypes.default.number,\n  appear: _propTypes.default.number\n}).isRequired]) : undefined;\nexports.timeoutsShape = timeoutsShape;\nvar classNamesShape =  true ? _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.shape({\n  enter: _propTypes.default.string,\n  exit: _propTypes.default.string,\n  active: _propTypes.default.string\n}), _propTypes.default.shape({\n  enter: _propTypes.default.string,\n  enterDone: _propTypes.default.string,\n  enterActive: _propTypes.default.string,\n  exit: _propTypes.default.string,\n  exitDone: _propTypes.default.string,\n  exitActive: _propTypes.default.string\n})]) : undefined;\nexports.classNamesShape = classNamesShape;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vdHJhZGVyL25vZGVfbW9kdWxlcy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL3V0aWxzL1Byb3BUeXBlcy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vVXNlcnMvc2FteW9uZy9Eb2N1bWVudHMvU291cmNlX2NvZGUvZGVyaXYtYXBwL3BhY2thZ2VzL3RyYWRlci9ub2RlX21vZHVsZXMvcmVhY3QtdHJhbnNpdGlvbi1ncm91cC91dGlscy9Qcm9wVHlwZXMuanM/YWZlNiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuY2xhc3NOYW1lc1NoYXBlID0gZXhwb3J0cy50aW1lb3V0c1NoYXBlID0gdm9pZCAwO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcInByb3AtdHlwZXNcIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgdGltZW91dHNTaGFwZSA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfcHJvcFR5cGVzLmRlZmF1bHQub25lT2ZUeXBlKFtfcHJvcFR5cGVzLmRlZmF1bHQubnVtYmVyLCBfcHJvcFR5cGVzLmRlZmF1bHQuc2hhcGUoe1xuICBlbnRlcjogX3Byb3BUeXBlcy5kZWZhdWx0Lm51bWJlcixcbiAgZXhpdDogX3Byb3BUeXBlcy5kZWZhdWx0Lm51bWJlcixcbiAgYXBwZWFyOiBfcHJvcFR5cGVzLmRlZmF1bHQubnVtYmVyXG59KS5pc1JlcXVpcmVkXSkgOiBudWxsO1xuZXhwb3J0cy50aW1lb3V0c1NoYXBlID0gdGltZW91dHNTaGFwZTtcbnZhciBjbGFzc05hbWVzU2hhcGUgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX3Byb3BUeXBlcy5kZWZhdWx0Lm9uZU9mVHlwZShbX3Byb3BUeXBlcy5kZWZhdWx0LnN0cmluZywgX3Byb3BUeXBlcy5kZWZhdWx0LnNoYXBlKHtcbiAgZW50ZXI6IF9wcm9wVHlwZXMuZGVmYXVsdC5zdHJpbmcsXG4gIGV4aXQ6IF9wcm9wVHlwZXMuZGVmYXVsdC5zdHJpbmcsXG4gIGFjdGl2ZTogX3Byb3BUeXBlcy5kZWZhdWx0LnN0cmluZ1xufSksIF9wcm9wVHlwZXMuZGVmYXVsdC5zaGFwZSh7XG4gIGVudGVyOiBfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nLFxuICBlbnRlckRvbmU6IF9wcm9wVHlwZXMuZGVmYXVsdC5zdHJpbmcsXG4gIGVudGVyQWN0aXZlOiBfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nLFxuICBleGl0OiBfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nLFxuICBleGl0RG9uZTogX3Byb3BUeXBlcy5kZWZhdWx0LnN0cmluZyxcbiAgZXhpdEFjdGl2ZTogX3Byb3BUeXBlcy5kZWZhdWx0LnN0cmluZ1xufSldKSA6IG51bGw7XG5leHBvcnRzLmNsYXNzTmFtZXNTaGFwZSA9IGNsYXNzTmFtZXNTaGFwZTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../trader/node_modules/react-transition-group/utils/PropTypes.js\n");

/***/ }),

/***/ "../../trader/node_modules/smartcharts-beta/dist/smartcharts.js":
/*!************************************************************************************************************************!*\
  !*** /Users/samyong/Documents/Source_code/deriv-app/packages/trader/node_modules/smartcharts-beta/dist/smartcharts.js ***!
  \************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("!function(e,t){ true?module.exports=t(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"),__webpack_require__(/*! mobx */ \"../node_modules/mobx/lib/mobx.module.js\"),__webpack_require__(/*! mobx-react */ \"../node_modules/mobx-react/index.module.js\"),__webpack_require__(/*! react-transition-group */ \"../../trader/node_modules/react-transition-group/index.js\"),__webpack_require__(/*! react-dom */ \"../node_modules/react-dom/index.js\"),__webpack_require__(/*! moment */ \"../../trader/node_modules/moment/moment.js\")):undefined}(window,function(e,t,r,n,i,a){return function(e){function t(t){for(var r,i,a=t[0],o=t[1],s=0,l=[];s<a.length;s++)i=a[s],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&l.push(n[i][0]),n[i]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);for(c&&c(t);l.length;)l.shift()()}var r={},n={7:0};function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],r=n[e];if(0!==r)if(r)t.push(r[2]);else{var a=new Promise(function(t,i){r=n[e]=[t,i]});t.push(r[2]=a);var o,s=document.createElement(\"script\");s.charset=\"utf-8\",s.timeout=120,i.nc&&s.setAttribute(\"nonce\",i.nc),s.src=function(e){return i.p+\"\"+({0:\"chartiq\",1:\"de-po\",2:\"es-po\",3:\"fr-po\",4:\"html2canvas\",5:\"id-po\",6:\"it-po\",8:\"nl-po\",9:\"pl-po\",10:\"pt-po\",11:\"ru-po\",12:\"th-po\",13:\"vendors~resize-observer-polyfill\",14:\"vi-po\",15:\"zh_cn-po\",16:\"zh_tw-po\"}[e]||e)+\"-\"+{0:\"ee563b\",1:\"6ba530\",2:\"4b10ff\",3:\"971a74\",4:\"16d6fa\",5:\"c79166\",6:\"efd1ec\",8:\"1702ba\",9:\"3479e1\",10:\"7d6afd\",11:\"1260a4\",12:\"8c0506\",13:\"ff7ab2\",14:\"3b95dc\",15:\"dd0133\",16:\"a8ec6d\"}[e]+\".smartcharts.js\"}(e);var c=new Error;o=function(t){s.onerror=s.onload=null,clearTimeout(l);var r=n[e];if(0!==r){if(r){var i=t&&(\"load\"===t.type?\"missing\":t.type),a=t&&t.target&&t.target.src;c.message=\"Loading chunk \"+e+\" failed.\\n(\"+i+\": \"+a+\")\",c.name=\"ChunkLoadError\",c.type=i,c.request=a,r[1](c)}n[e]=void 0}};var l=setTimeout(function(){o({type:\"timeout\",target:s})},12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,\"a\",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p=\"\",i.oe=function(e){throw console.error(e),e};var a=window.webpackJsonpsmartcharts=window.webpackJsonpsmartcharts||[],o=a.push.bind(a);a.push=t,a=a.slice();for(var s=0;s<a.length;s++)t(a[s]);var c=o;return i(i.s=235)}([function(t,r){t.exports=e},function(e,r){e.exports=t},function(e,t,r){\"use strict\";r.d(t,\"e\",function(){return Fr}),r.d(t,\"f\",function(){return Vr}),r.d(t,\"r\",function(){return Ur}),r.d(t,\"D\",function(){return Wr}),r.d(t,\"w\",function(){return Qr}),r.d(t,\"x\",function(){return Gr}),r.d(t,\"B\",function(){return Kr}),r.d(t,\"C\",function(){return Yr}),r.d(t,\"E\",function(){return Xr}),r.d(t,\"G\",function(){return Zr}),r.d(t,\"I\",function(){return Jr}),r.d(t,\"L\",function(){return $r}),r.d(t,\"M\",function(){return en}),r.d(t,\"S\",function(){return tn}),r.d(t,\"b\",function(){return rn}),r.d(t,\"W\",function(){return nn}),r.d(t,\"k\",function(){return an}),r.d(t,\"j\",function(){return on}),r.d(t,\"i\",function(){return sn}),r.d(t,\"l\",function(){return cn}),r.d(t,\"m\",function(){return ln}),r.d(t,\"n\",function(){return un}),r.d(t,\"o\",function(){return hn}),r.d(t,\"q\",function(){return dn}),r.d(t,\"h\",function(){return pn}),r.d(t,\"t\",function(){return fn}),r.d(t,\"z\",function(){return mn}),r.d(t,\"F\",function(){return gn}),r.d(t,\"X\",function(){return bn}),r.d(t,\"Q\",function(){return yn}),r.d(t,\"H\",function(){return vn}),r.d(t,\"p\",function(){return _n}),r.d(t,\"T\",function(){return Sn}),r.d(t,\"U\",function(){return wn}),r.d(t,\"V\",function(){return xn}),r.d(t,\"O\",function(){return kn}),r.d(t,\"P\",function(){return Cn}),r.d(t,\"c\",function(){return En}),r.d(t,\"u\",function(){return Tn}),r.d(t,\"s\",function(){return Pn}),r.d(t,\"K\",function(){return Dn}),r.d(t,\"J\",function(){return jn}),r.d(t,\"d\",function(){return An}),r.d(t,\"y\",function(){return Nn}),r.d(t,\"N\",function(){return In}),r.d(t,\"Y\",function(){return Mn}),r.d(t,\"Z\",function(){return zn}),r.d(t,\"ab\",function(){return Rn}),r.d(t,\"R\",function(){return Hn}),r.d(t,\"g\",function(){return qn}),r.d(t,\"v\",function(){return Fn}),r.d(t,\"A\",function(){return Vn}),r.d(t,\"a\",function(){return Xn});var n=r(0),i=r.n(n),a=(r(191),r(68)),o=r.n(a),s=r(69),c=r.n(s),l=r(70),u=r.n(l),h=r(71),d=r.n(h),p=r(72),f=r.n(p),m=r(73),g=r.n(m),b=r(74),y=r.n(b),v=r(75),_=r.n(v),S=r(76),w=r.n(S),x=r(77),k=r.n(x),O=r(78),C=r.n(O),E=r(79),T=r.n(E),P=r(80),D=r.n(P),j=r(81),A=r.n(j),N=r(82),I=r.n(N),M=r(83),z=r.n(M),L=r(84),R=r.n(L),H=r(54),q=r.n(H),B=r(85),F=r.n(B),V=r(86),U=r.n(V),W=r(87),Q=r.n(W),G=r(88),K=r.n(G),Y=r(89),X=r.n(Y),Z=r(90),J=r.n(Z),$=r(91),ee=r.n($),te=r(24),re=r.n(te),ne=r(92),ie=r.n(ne),ae=r(93),oe=r.n(ae),se=r(55),ce=r.n(se),le=r(94),ue=r.n(le),he=r(95),de=r.n(he),pe=r(49),fe=r.n(pe),me=r(96),ge=r.n(me),be=r(97),ye=r.n(be),ve=r(98),_e=r.n(ve),Se=r(99),we=r.n(Se),xe=r(100),ke=r.n(xe),Oe=r(101),Ce=r.n(Oe),Ee=r(102),Te=r.n(Ee),Pe=r(103),De=r.n(Pe),je=r(104),Ae=r.n(je),Ne=r(105),Ie=r.n(Ne),Me=r(106),ze=r.n(Me),Le=r(18),Re=r.n(Le),He=r(107),qe=r.n(He),Be=r(108),Fe=r.n(Be),Ve=r(109),Ue=r.n(Ve),We=r(110),Qe=r.n(We),Ge=r(111),Ke=r.n(Ge),Ye=r(112),Xe=r.n(Ye),Ze=r(113),Je=r.n(Ze),$e=r(114),et=r.n($e),tt=r(115),rt=r.n(tt),nt=r(116),it=r.n(nt),at=r(117),ot=r.n(at),st=r(118),ct=r.n(st),lt=r(119),ut=r.n(lt),ht=r(120),dt=r.n(ht),pt=r(121),ft=r.n(pt),mt=r(122),gt=r.n(mt),bt=r(123),yt=r.n(bt),vt=r(124),_t=r.n(vt),St=r(125),wt=r.n(St),xt=r(126),kt=r.n(xt),Ot=r(127),Ct=r.n(Ot),Et=r(128),Tt=r.n(Et),Pt=r(129),Dt=r.n(Pt),jt=r(130),At=r.n(jt),Nt=r(56),It=r.n(Nt),Mt=r(131),zt=r.n(Mt),Lt=r(57),Rt=r.n(Lt),Ht=r(132),qt=r.n(Ht),Bt=r(133),Ft=r.n(Bt),Vt=r(134),Ut=r.n(Vt),Wt=r(135),Qt=r.n(Wt),Gt=r(136),Kt=r.n(Gt),Yt=r(137),Xt=r.n(Yt),Zt=r(138),Jt=r.n(Zt),$t=r(139),er=r.n($t),tr=r(58),rr=r.n(tr),nr=r(140),ir=r.n(nr),ar=r(59),or=r.n(ar),sr=r(141),cr=r.n(sr),lr=r(60),ur=r.n(lr),hr=r(142),dr=r.n(hr),pr=r(143),fr=r.n(pr),mr=r(144),gr=r.n(mr),br=r(145),yr=r.n(br),vr=r(146),_r=r.n(vr),Sr=r(147),wr=r.n(Sr),xr=r(148),kr=r.n(xr),Or=r(149),Cr=r.n(Or),Er=r(150),Tr=r.n(Er),Pr=r(151),Dr=r.n(Pr),jr=r(152),Ar=r.n(jr),Nr=r(153),Ir=r.n(Nr),Mr=r(154),zr=r.n(Mr),Lr=r(155),Rr=r.n(Lr);function Hr(){return(Hr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function qr(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Br=function(e){return function(t){var n=t.className,a=t[\"tooltip-title\"],o=qr(t,[\"className\",\"tooltip-title\"]);n=\"ic-icon \".concat(n||\"\");var s=e.viewBox.split(\" \").slice(2);return i.a.createElement(\"span\",Hr({className:n,\"tooltip-title\":a},o),i.a.createElement(\"svg\",{width:s[0],height:s[1]},i.a.createElement(\"use\",{xlinkHref:r.p+e.url})),a&&i.a.createElement(i.a.Fragment,null,i.a.createElement(\"br\",null),i.a.createElement(\"span\",{className:\"ic-subtitle\"},a)))}},Fr=(Br(Xe.a),Br(o.a)),Vr=Br(c.a),Ur=Br(u.a),Wr=Br(d.a),Qr=Br(f.a),Gr=Br(g.a),Kr=Br(y.a),Yr=Br(w.a),Xr=Br(_.a),Zr=Br(k.a),Jr=Br(C.a),$r=Br(T.a),en=Br(D.a),tn=Br(I.a),rn=Br(q.a),nn=Br(q.a),an=Br(F.a),on=Br(U.a),sn=Br(Q.a),cn=Br(K.a),ln=Br(X.a),un=Br(J.a),hn=Br(ee.a),dn=Br(re.a),pn=Br(ie.a),fn=Br(oe.a),mn=Br(ce.a),gn=Br(ue.a),bn=Br(de.a),yn=Br(A.a),vn=Br(z.a),_n=Br(R.a),Sn=(Br(fe.a),Br(ge.a)),wn=Br(ye.a),xn=Br(_e.a),kn=Br(ze.a),On=Br(Re.a),Cn=Br(Re.a),En=Br(qe.a),Tn=Br(fe.a),Pn=Br(Fe.a),Dn=Br(Ue.a),jn=Br(Qe.a),An=Br(Ke.a),Nn=Br(ot.a),In=Br(ct.a),Mn=Br(ut.a),zn=Br(dt.a),Ln=Br(gr.a),Rn={info:Br(it.a),success:Br(rt.a),warning:Br(Je.a),error:Br(et.a)},Hn=Br(ft.a),qn={active:Br(we.a),commodities:Br(ke.a),favorite:Br(fe.a),forex:Br(Ce.a),indices:Br(Te.a),stocks:Br(De.a),volidx:Br(Ie.a),synthetic_index:Br(Ae.a),indicators:Br(ce.a)},Bn={AUD:Br(gt.a),CAD:Br(yt.a),CHF:Br(_t.a),EUR:Br(wt.a),GBP:Br(kt.a),JPY:Br(Ct.a),MXN:Br(Tt.a),NOK:Br(Dt.a),NZD:Br(At.a),PLN:Br(It.a),SEK:Br(zt.a),USD:Br(Rt.a),HongKong:Br(ir.a),Dutch:Br(cr.a),German:Br(rr.a),French:Br(or.a),Spanish:Br(ur.a),WallStreet:Br(dr.a)},Fn={USD:Br(Rt.a),German:Br(rr.a),French:Br(or.a),Portugal:Br(qt.a),Russia:Br(Ft.a),Thailand:Br(Ut.a),Indonesia:Br(Qt.a),Vietnam:Br(Kt.a),Italy:Br(Xt.a),Chinese:Br(Jt.a),ChineseTraditional:Br(er.a),Poland:Br(It.a),Spanish:Br(ur.a)},Vn={SPC:Bn.USD,AS51:Bn.AUD,HSI:Bn.HongKong,N225:Bn.JPY,AEX:Bn.Dutch,FCHI:Bn.French,SSMI:Bn.CHF,GDAXI:Bn.German,frxBROUSD:Br(fr.a),frxXAUUSD:Ln,frxXPDUSD:Ln,frxXPTUSD:Ln,frxXAGUSD:Ln,R_10:Br(yr.a),R_25:Br(_r.a),R_50:Br(wr.a),R_75:Br(kr.a),R_100:Br(Cr.a),\"1HZ10V\":Br(Tr.a),\"1HZ100V\":Br(Dr.a),RDBEAR:Br(Ar.a),RDBULL:Br(Ir.a)};function Un(e,t,r){return function(n){var a=n.className,o=qr(n,[\"className\"]);return i.a.createElement(\"span\",Hr({className:\"\".concat(r,\" \").concat(a)},o),i.a.createElement(e,null),i.a.createElement(t,null))}}function Wn(e,t){var r=Bn[e],n=Bn[t];Vn[\"frx\".concat(e).concat(t)]=Un(r,n,\"ic-frx\")}var Qn=Br(zr.a),Gn=Br(Rr.a);function Kn(e,t){var r=Bn[e];Vn[t]=Un(r,Qn,\"ic-otc\")}function Yn(e){var t=Bn[e];Vn[\"WLD\".concat(e)]=Un(Gn,t,\"ic-wld\")}Wn(\"AUD\",\"JPY\"),Wn(\"AUD\",\"USD\"),Wn(\"EUR\",\"AUD\"),Wn(\"EUR\",\"CHF\"),Wn(\"EUR\",\"JPY\"),Wn(\"EUR\",\"CAD\"),Wn(\"EUR\",\"GBP\"),Wn(\"EUR\",\"USD\"),Wn(\"GBP\",\"AUD\"),Wn(\"GBP\",\"JPY\"),Wn(\"GBP\",\"USD\"),Wn(\"USD\",\"CAD\"),Wn(\"USD\",\"CHF\"),Wn(\"USD\",\"JPY\"),Wn(\"AUD\",\"CAD\"),Wn(\"AUD\",\"CHF\"),Wn(\"AUD\",\"NZD\"),Wn(\"AUD\",\"PLN\"),Wn(\"EUR\",\"NZD\"),Wn(\"GBP\",\"CAD\"),Wn(\"GBP\",\"CHF\"),Wn(\"GBP\",\"NOK\"),Wn(\"GBP\",\"NZD\"),Wn(\"GBP\",\"PLN\"),Wn(\"NZD\",\"JPY\"),Wn(\"NZD\",\"USD\"),Wn(\"USD\",\"MXN\"),Wn(\"USD\",\"NOK\"),Wn(\"USD\",\"PLN\"),Wn(\"USD\",\"SEK\"),Yn(\"AUD\"),Yn(\"EUR\"),Yn(\"GBP\"),Yn(\"USD\"),Kn(\"Dutch\",\"OTC_AEX\"),Kn(\"GBP\",\"OTC_FTSE\"),Kn(\"EUR\",\"OTC_SX5E\"),Kn(\"French\",\"OTC_FCHI\"),Kn(\"German\",\"OTC_GDAXI\"),Kn(\"JPY\",\"OTC_N225\"),Kn(\"Spanish\",\"OTC_IBEX35\"),Kn(\"USD\",\"OTC_SPC\"),Kn(\"WallStreet\",\"OTC_DJI\"),Kn(\"USD\",\"OTC_NDX\"),Kn(\"CHF\",\"OTC_SSMI\"),Kn(\"HongKong\",\"OTC_HSI\"),Kn(\"AUD\",\"OTC_AS51\");var Xn={delete:dn,edit:On}},function(e,t,r){\"use strict\";r.d(t,\"b\",function(){return n}),r.d(t,\"a\",function(){return i}),r.d(t,\"c\",function(){return a}),r.d(t,\"e\",function(){return o}),r.d(t,\"d\",function(){return s});var n=Object.freeze({ChartTitle:\"Chart Title\",CategoricalDisplay:\"Categorical Display\",ChartControl:\"Chart Control\"}),i=Object.freeze({MarketSelector:\"Market Selector\",Favorite:\"Favorite\",ChartSetting:\"Chart Setting\",ChartSize:\"Chart Size\",ChartType:\"Chart Type\",Comparison:\"Comparison\",DrawTools:\"Draw Tools\",Download:\"Download\",Indicator:\"Indicator\",Interval:\"Interval\",Template:\"Template\"});function a(){}function o(){}function s(e,t,r){}},function(e,t,r){\"use strict\";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){a(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e){var t=localStorage.getItem(e);if(null!==t)try{return JSON.parse(t)}catch(e){return}}function s(e){return void 0!==e&&!isNaN(e)}r.d(t,\"e\",function(){return o}),r.d(t,\"m\",function(){return s}),r.d(t,\"j\",function(){return c}),r.d(t,\"h\",function(){return l}),r.d(t,\"p\",function(){return u}),r.d(t,\"o\",function(){return h}),r.d(t,\"g\",function(){return d}),r.d(t,\"l\",function(){return p}),r.d(t,\"k\",function(){return f}),r.d(t,\"i\",function(){return m}),r.d(t,\"b\",function(){return g}),r.d(t,\"a\",function(){return b}),r.d(t,\"f\",function(){return y}),r.d(t,\"d\",function(){return v}),r.d(t,\"c\",function(){return _}),r.d(t,\"n\",function(){return S});var c=function(e){var t=e.timeUnit,r=e.interval;return null===t&&\"day\"===r?\"day\":\"minute\"===t&&r%60==0?\"hour\":\"second\"===t?\"tick\":t},l=function(e){var t=e.timeUnit,r=t,n=e.interval;return\"day\"===n?(r=86400,n=1):\"minute\"===t?r=60:\"second\"===t&&(r=1),r*n};function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return e<t},r=e.slice(0);return e.sort(function(e,n){var i=t(e,n);return 0===i?r.indexOf(e)-r.indexOf(n):i}),e}function h(e,t){return!(!e||!t||+e.DT!=+t.DT||e.Close!==t.Close||e.Open!==t.Open||e.Volume!==t.Volume)}function d(e,t,r,n){var i=new Blob([t],{type:r});if(navigator.msSaveBlob)navigator.msSaveBlob(i,e);else{var a=\"image/png;\"===r?t:URL.createObjectURL(i),o=document.createElement(\"a\");if(void 0!==o.download)return o.setAttribute(\"href\",a),o.setAttribute(\"download\",e),o.style.visibility=\"hidden\",document.body.appendChild(o),o.click(),void document.body.removeChild(o);if(n)if(\"image/png;\"===r)n.document.write('<iframe src=\"'.concat(a,'\" frameborder=\"0\" style=\"border:0; top:0px; left:0px; bottom:0px; right:0px; width:100%; height:100%;\" allowfullscreen></iframe>'));else for(var s=t.split(\"\\n\"),c=0;c<s.length;c++)n.document.write(\"\".concat(s[c],\"<br/>\"))}}function p(e){return e.getTime()/1e3-60*e.getTimezoneOffset()|0}function f(e){return new Date(1e3*e).toISOString().substring(0,19)}function m(e){return new Date(1e3*e)}function g(e){var t=1,r=\"second\";return 86400===e?r=\"day\":e>0&&(t=e/60,r=\"minute\"),{interval:t,timeUnit:r}}function b(e,t){return{second:0,minute:60,day:86400}[t]*e}function y(e){var t=e/1e3;if(t<=0)return null;var r=function(e){return\"0\".concat(e).slice(-2)},n=r(Math.trunc(t%60)),i=r(Math.trunc(t/60%60)),a=Math.trunc(t/3600%24);return a=a?\"\".concat(a,\":\"):\"\",\"\".concat(a).concat(i,\":\").concat(n)}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},r=[],n=i({},e,{data:r});if(e.hasSubcategory){var a=!0,o=!1,s=void 0;try{for(var c,l=e.data[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var u=c.value,h=[],d=i({},u,{data:h}),p=!0,f=!1,m=void 0;try{for(var g,b=u.data[Symbol.iterator]();!(p=(g=b.next()).done);p=!0){var y=g.value;h.push(t(y))}}catch(e){f=!0,m=e}finally{try{p||null==b.return||b.return()}finally{if(f)throw m}}r.push(d)}}catch(e){o=!0,s=e}finally{try{a||null==l.return||l.return()}finally{if(o)throw s}}}else{var v=!0,_=!1,S=void 0;try{for(var w,x=e.data[Symbol.iterator]();!(v=(w=x.next()).done);v=!0){var k=w.value;r.push(t(k))}}catch(e){_=!0,S=e}finally{try{v||null==x.return||x.return()}finally{if(_)throw S}}}return n}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var c=o.value;r.push(v(c,t))}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}function S(e){e.pixelFromTick=function(t,r){var n=r||e.chart,i=n.dataSegment,a=n.dataSet,o=n.segmentImage,s=e.micropixels,c=i?i.length:0,l=n.panel,u=n.scroll,h=t-a.length+u,d=c?i[h]:null;if(o&&(d=o[h]),d&&d.leftOffset)return l.left+d.leftOffset+s;var p=0,f=0;return d=c?i[c-1]:null,o&&(d=o[c-1]),d&&d.leftOffset&&c<t-a.length+u&&(p=d.leftOffset-d.candleWidth/2,f=c),p+l.left+(t-f-a.length+u+.5)*e.layout.candleWidth+s}}},function(e,t,r){\"use strict\";r.d(t,\"a\",function(){return m});var n=r(0),i=r.n(n),a=r(23);function o(e){return(o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return!t||\"object\"!==o(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(r,!0).forEach(function(t){p(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t){return function(r){var o=function(o){function h(n){var i;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,h);var o=(i=c(this,l(h).call(this,n))).props.mainStore;i.store=new t(o);return i.store.updateProps&&i.store.updateProps(n),i.injectedComponent=Object(a.inject)(function(t,r){return d({},e(i.store),{},r)})(r),i}var p,f,m;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(h,n[\"Component\"]),p=h,(f=[{key:\"componentDidUpdate\",value:function(){this.store.updateProps&&this.store.updateProps(this.props)}},{key:\"componentWillUnmount\",value:function(){this.store.destructor&&this.store.destructor()}},{key:\"render\",value:function(){return i.a.createElement(this.injectedComponent)}}])&&s(p.prototype,f),m&&s(p,m),h}(),h=r.displayName||r.name||r.constructor&&r.constructor.name||\"Unknown\";return o.displayName=\"unbox-\".concat(h),Object(a.inject)(function(e){return{mainStore:e}})(o)}}function m(e,t){return void 0===t?function(e){var t=function(t,r){return d({},e(t),{},r)};return function(e){return Object(a.inject)(t)(e)}}(e):f(e,t)}},function(e,t,r){\"use strict\";r.r(t),r.d(t,\"Translation\",function(){return s}),r.d(t,\"t\",function(){return c});var n=r(67),i=r.n(n);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o={},s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"en\";!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.lang=t}var t,n,s;return t=e,(n=[{key:\"setLanguage\",value:function(e){var t=this;o[e]||\"en\"===e?this.lang=e:r(190)(\"./\".concat(e,\".po\")).then(function(r){r?(o[e]=r,t.lang=e):console.error(\"Unsupported language:\",e)})}},{key:\"translate\",value:function(){for(var e=o[this.lang],t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!e)return this.replace(r[0],r[1]);var a,s=i.a[r[0]];if(\"string\"==typeof r[1])throw new Error(\"Plural conversion not working!\");return a=e[s],a=this.replace(a,r[1])||r[0]}},{key:\"replace\",value:function(e,t){if(!t)return e;for(var r=Object.keys(t);r.length;){var n=r.shift();e=e.replace(\"[\".concat(n,\"]\"),t[n])}return e}}])&&a(t.prototype,n),s&&a(t,s),e}(),c=new s},function(e,t,r){e.exports={red:\"#ff444f\",light_chart_text:\"#555975\",dark_chart_text:\"#999\",light_chart_grid:\"#f2f3f4\",dark_chart_grid:\"#1d1f20\",light_chart_mountain_border:\"#85acb0\",dark_chart_mountain_border:\"#fff\",light_chart_mountain_bg:\"rgba(133,172,176,0.16)\",dark_chart_mountain_bg:\"rgba(255,255,255,0.36)\",light_chart_mountain_bg_shade:\"rgba(255,255,255,0)\",dark_chart_mountain_bg_shade:\"rgba(16,19,32,0)\",light_candle_text_closed:\"rgba(0,0,0,0.16)\",dark_candle_text_closed:\"rgba(127,131,151,0.3)\",light_candle_bg_closed:\"#d6d6d6\",dark_candle_bg_closed:\"#303342\",light_chart_closed_candle:\"#d6d6d6\",dark_chart_closed_candle:\"#303342\",light_chart_bg:\"#fff\",dark_chart_bg:\"#0e0e0e\",light_float_labels_bg:\"#d6dadb\",dark_float_labels_bg:\"#323738\",light_float_labels_text:\"#333\",dark_float_labels_text:\"#fff\"}},function(e,t,r){\"use strict\";r.d(t,\"a\",function(){return m});var n,i,a,o,s,c=r(1),l=r(5),u=r(44),h=r(19);function d(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,(\"value\"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var m=(n=c.action.bound,i=c.action.bound,o=f((a=function(){function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.onContextReady=function(){n.modalNode=n.mainStore.chart.modalNode},d(this,\"modalNode\",o,this),d(this,\"route\",s,this),this.connect=Object(l.a)(function(e){var t=e.chart;return{setOpen:n.setOpen,open:n.open,onTitleClick:n.onTitleClick,DropdownDialog:n.DropDownDialog,modalNode:n.modalNode,isMobile:t.isMobile,shouldRenderDialogs:t.shouldRenderDialogs}}),this.mainStore=t,this.dialog=new u.a(t),Object(c.reaction)(function(){return n.open},function(){return n.blurInput()}),Object(c.when)(function(){return n.mainStore.chart.context},this.onContextReady),r&&r.route&&(this.route=r.route),this.DropDownDialog=this.dialog.connect(h.a)}var t,r,n;return t=e,(r=[{key:\"setOpen\",value:function(e){this.dialog.setOpen(e),this.routingStore.updateRoute(this.route,e)}},{key:\"blurInput\",value:function(){var e=this.context.stx;!1===this.open?(document.activeElement.blur(),e.modalEnd()):e.modalBegin(),e.allowScroll=e.allowZoom=!this.open}},{key:\"onTitleClick\",value:function(e){e&&e.stopPropagation(),this.setOpen(!this.open)}},{key:\"context\",get:function(){return this.mainStore.chart.context}},{key:\"routingStore\",get:function(){return this.mainStore.routing}},{key:\"open\",get:function(){return this.dialog.open}}])&&p(t.prototype,r),n&&p(t,n),e}()).prototype,\"modalNode\",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=f(a.prototype,\"route\",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return\"\"}}),f(a.prototype,\"open\",[c.computed],Object.getOwnPropertyDescriptor(a.prototype,\"open\"),a.prototype),f(a.prototype,\"setOpen\",[n],Object.getOwnPropertyDescriptor(a.prototype,\"setOpen\"),a.prototype),f(a.prototype,\"onTitleClick\",[i],Object.getOwnPropertyDescriptor(a.prototype,\"onTitleClick\"),a.prototype),a)},function(e,t,r){\"use strict\";var n=r(0),i=r.n(n),a=r(45),o=r.n(a),s=r(39),c=r(2);function l(e){return(l=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t){return!t||\"object\"!==l(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(){var e,r;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(r=h(this,(e=d(t)).call.apply(e,[this].concat(i)))).onOverlayClick=function(e){\"cq-menu-overlay\"===e.target.className&&r.props.setOpen(!1)},r}var r,a,l;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,n[\"Component\"]),r=t,(a=[{key:\"render\",value:function(){var e=this.props,t=e.open,r=e.className,n=e.children,a=e.title,l=e.onTitleClick,u=e.DropdownDialog,h=e.isMobile,d=e.isFullscreen,p=e.modalNode,f=e.enabled,m=void 0===f||f,g=e.shouldRenderDialogs,b=e.onMouseEnter,y=e.onMouseLeave,v=i.a.Children.map(n,function(e,t){return 0===t?e:null}),_=i.a.Children.map(n,function(e,t){return 0!==t?e:null}),S=g&&i.a.createElement(s.CSSTransition,{in:t,timeout:150,classNames:\"cq-menu-dropdown\"},i.a.createElement(u,{className:\"cq-menu-dropdown\",isMobile:h,isFullscreen:d},a&&i.a.createElement(\"div\",{className:\"title\"},i.a.createElement(\"div\",{className:\"title-text\"},a),i.a.createElement(c.k,{className:\"icon-close-menu\",onClick:l})),_));return m&&i.a.createElement(\"div\",{className:\"ciq-menu ciq-enabled \".concat(r||\"\",\" \").concat(t?\"stxMenuActive\":\"\")},i.a.createElement(\"div\",{className:\"cq-menu-btn\",onMouseEnter:b,onMouseLeave:y,onClick:l},v),h&&p&&o.a.createPortal(i.a.createElement(\"div\",{className:\"cq-modal-dropdown \".concat(r||\"\",\" \").concat(t?\"stxMenuActive\":\"\")},i.a.createElement(\"div\",{className:\"cq-menu-overlay\",onClick:this.onOverlayClick},S)),p)||S)||i.a.createElement(\"div\",{className:\"ciq-menu ciq-disabled \".concat(r||\"\")},i.a.createElement(\"div\",{className:\"cq-menu-btn\",onMouseEnter:b,onMouseLeave:y},v))}}])&&u(r.prototype,a),l&&u(r,l),t}();f.Title=function(e){return e.children},f.Body=function(e){return e.children},t.a=f},function(e,t,r){\"use strict\";r.d(t,\"g\",function(){return b}),r.d(t,\"b\",function(){return y}),r.d(t,\"f\",function(){return v}),r.d(t,\"a\",function(){return _}),r.d(t,\"h\",function(){return S}),r.d(t,\"e\",function(){return w}),r.d(t,\"d\",function(){return x}),r.d(t,\"i\",function(){return k}),r.d(t,\"c\",function(){return O});var n=r(0),i=r.n(n),a=r(2);r(214);function o(e){return(o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),e}function d(e,t){return!t||\"object\"!==o(t)&&\"function\"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(){var e,r;l(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(r=d(this,(e=f(t)).call.apply(e,[this].concat(i)))).onChange=function(e){r.props.onChange(e.currentTarget.value)},r}return m(t,i.a.Component),h(t,[{key:\"shouldComponentUpdate\",value:function(e){return this.props.value!==e.value}},{key:\"render\",value:function(){var e=this.props,t=e.min,r=void 0===t?1:t,n=e.max,a=void 0===n?10:n,o=e.step,s=void 0===o?1:o,c=e.value,l=Math.round(120*(c-r)/(a-r));return i.a.createElement(\"div\",{className:\"cq-slider\"},i.a.createElement(\"div\",{className:\"cq-slider-range\"},i.a.createElement(\"div\",{className:\"cq-slider-bar\"}),i.a.createElement(\"div\",{className:\"cq-slider-active-bar\",style:{width:l}}),i.a.createElement(\"input\",{type:\"range\",min:r,max:a,step:s,onChange:this.onChange,value:c})),i.a.createElement(\"div\",{className:\"value\"},c))}}]),t}(),y=function(e){function t(){var e,r;l(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(r=d(this,(e=f(t)).call.apply(e,[this].concat(i)))).state={open:!1},r.titleRef=null,r.onClick=function(){return r.setState(function(e){return{open:!e.open}})},r.close=function(e){e.target!==r.titleRef&&r.setState({open:!1})},r}return m(t,i.a.Component),h(t,[{key:\"componentDidMount\",value:function(){document.addEventListener(\"click\",this.close,!1)}},{key:\"componentWillUnmount\",value:function(){document.removeEventListener(\"click\",this.close)}},{key:\"render\",value:function(){var e=this,t=this.props,r=t.rows,n=t.children,o=t.title,s=t.onRowClick,c=t.className,l=this.state.open;return i.a.createElement(\"div\",{className:\"\".concat(c||\"\",\" cq-dropdown\")},i.a.createElement(\"div\",{className:\"title \".concat(l?\"active\":\"\"),onClick:this.onClick,ref:function(t){e.titleRef=t}},o,i.a.createElement(a.c,null)),i.a.createElement(\"div\",{className:\"dropdown \".concat(l?\"active\":\"\")},r.map(function(e,t){return i.a.createElement(\"div\",{key:t,className:\"row\",onClick:function(){return s&&s(e)}},n(e))})))}}]),t}(),v=function(e){function t(){var e,r;l(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(r=d(this,(e=f(t)).call.apply(e,[this].concat(i)))).patterns=[{width:1,pattern:\"solid\"},{width:3,pattern:\"solid\"},{width:5,pattern:\"solid\"},{width:1,pattern:\"dotted\"},{width:3,pattern:\"dotted\"},{width:5,pattern:\"dotted\"},{width:1,pattern:\"dashed\"},{width:3,pattern:\"dashed\"},{width:5,pattern:\"dashed\"},{width:0,pattern:\"none\"}],r}return m(t,i.a.Component),h(t,[{key:\"render\",value:function(){var e=this.props,t=e.pattern,r=e.lineWidth,n=e.onChange,a=\"none\"!==t?i.a.createElement(\"span\",{className:\"option \".concat(t,\"-\").concat(r)}):i.a.createElement(\"span\",{className:\"none\"},\"None\");return i.a.createElement(y,{rows:this.patterns,title:a,onRowClick:n},function(e){return\"none\"!==e.pattern?i.a.createElement(\"span\",{className:\"option \".concat(e.pattern,\"-\").concat(e.width)}):i.a.createElement(\"span\",{className:\"none\"},\"None\")})}}]),t}(),_=function(e){function t(){var e,r;l(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(r=d(this,(e=f(t)).call.apply(e,[this].concat(i)))).colorMap=[[\"#ffffff\",\"#e1e1e1\",\"#cccccc\",\"#b7b7b7\",\"#a0a0a5\",\"#898989\",\"#707070\",\"#626262\",\"#555555\",\"#464646\",\"#363636\",\"#262626\",\"#1d1d1d\",\"#000000\"],[\"#f4977c\",\"#f7ac84\",\"#fbc58d\",\"#fff69e\",\"#c4de9e\",\"#85c99e\",\"#7fcdc7\",\"#75d0f4\",\"#81a8d7\",\"#8594c8\",\"#8983bc\",\"#a187bd\",\"#bb8dbe\",\"#f29bc1\"],[\"#ef6c53\",\"#f38d5b\",\"#f8ae63\",\"#fff371\",\"#acd277\",\"#43b77a\",\"#2ebbb3\",\"#00bff0\",\"#4a8dc8\",\"#5875b7\",\"#625da6\",\"#8561a7\",\"#a665a7\",\"#ee6fa9\"],[\"#ea1d2c\",\"#ee652e\",\"#f4932f\",\"#fff126\",\"#8ec648\",\"#00a553\",\"#00a99c\",\"#00afed\",\"#0073ba\",\"#0056a4\",\"#323390\",\"#66308f\",\"#912a8e\",\"#e9088c\"],[\"#9b0b16\",\"#9e4117\",\"#a16118\",\"#c6b920\",\"#5a852d\",\"#007238\",\"#00746a\",\"#0077a1\",\"#004c7f\",\"#003570\",\"#1d1762\",\"#441261\",\"#62095f\",\"#9c005d\"],[\"#770001\",\"#792e03\",\"#7b4906\",\"#817a0b\",\"#41661e\",\"#005827\",\"#005951\",\"#003b5c\",\"#001d40\",\"#000e35\",\"#04002c\",\"#19002b\",\"#2c002a\",\"#580028\"]],r.state={open:!1},r.titleRef=null,r.onClick=function(){return r.setState(function(e){return{open:!e.open}})},r.close=function(e){e.target!==r.titleRef&&r.setState({open:!1})},r.defaultColor=function(){return\"light\"===r.props.theme?\"#000000\":\"#ffffff\"},r}return m(t,i.a.Component),h(t,[{key:\"componentDidMount\",value:function(){document.addEventListener(\"click\",this.close,!1)}},{key:\"componentWillUnmount\",value:function(){document.removeEventListener(\"click\",this.close)}},{key:\"shouldComponentUpdate\",value:function(e,t){return this.state.open!==t.open||this.props.color!==e.color||this.props.theme!==e.theme}},{key:\"render\",value:function(){var e=this,t=this.props,r=t.color,n=t.setColor,a=\"auto\"===r?this.defaultColor():r;return i.a.createElement(\"div\",{className:\"cq-color-picker\"},i.a.createElement(\"div\",{className:\"title\"},i.a.createElement(\"div\",{ref:function(t){e.titleRef=t},onClick:this.onClick,className:\"input-color\",style:{backgroundColor:a}})),i.a.createElement(\"div\",{className:\"dropdown \".concat(this.state.open?\"open\":\"\")},this.colorMap.map(function(e,t){return i.a.createElement(\"div\",{key:t,className:\"row\"},e.map(function(e){return i.a.createElement(\"div\",{key:e,className:\"tile-color\",style:{backgroundColor:e},onClick:function(){return n(e)}})}))})))}}]),t}(),S=function(e){var t=e.value,r=e.onChange;return i.a.createElement(\"div\",{className:\"cq-switch \".concat(t?\"on\":\"off\"),onClick:function(){return r(!t)}},i.a.createElement(\"div\",{className:\"handle\"}))},w=function(e){function t(e){var r;return l(this,t),(r=d(this,f(t).call(this,e))).fireOnChange=function(){var e=r.props,t=e.min,n=e.max,i=e.onChange,a=function(e){return r.setState({value:e},function(){return i(r.state.value)})};void 0!==n&&r.state.value>n?a(n):void 0!==t&&r.state.value<t?a(t):i(r.state.value)},r.onUpdateValue=function(e){e.persist(),r.setState(function(){return{value:e.target.value}})},r.fireOnEnter=function(e){\"Enter\"===e.key&&r.fireOnChange()},r.state={originalValue:\"\",value:\"\"},r.onUpdateValue=r.onUpdateValue.bind(p(r)),r}return m(t,i.a.PureComponent),h(t,[{key:\"componentDidMount\",value:function(){var e=this;this.setState(function(){return{originalValue:e.props.value,value:e.props.value}})}},{key:\"render\",value:function(){var e=this.props,t=e.min,r=e.max,n=e.step;return i.a.createElement(\"input\",{type:\"number\",value:this.state.value,onBlur:this.fireOnChange,onChange:this.onUpdateValue,onKeyPress:this.fireOnEnter,min:t,max:r,step:n})}}],[{key:\"getDerivedStateFromProps\",value:function(e,t){var r=e.value,n=e.min,i=e.max,a=e.onChange,o=r;return r!==t.originalValue?(void 0!==i&&r>i?o=i:void 0!==n&&r<n&&(o=n),a(o),{originalValue:r,value:o}):null}}]),t}(),x=function(e){var t=e.value,r=e.onChange,n=t.Value,a=t.Color,o=function(e){return r({Color:a,Value:e})};return i.a.createElement(\"span\",{className:\"cq-numbercolorpicker\"},i.a.createElement(w,{value:n,onChange:function(e){return o(e)}}),i.a.createElement(_,{color:a,setColor:function(e){return r({Color:e,Value:n})}}))},k=function(e){var t=e.className,r=e.children,n=e.active,a=e.onChange;return i.a.createElement(\"div\",{onClick:function(){return a(!n)},className:\"\".concat(t||\"\",\" \").concat(n?\"active\":\"\",\" cq-toggle\")},r)},O=function(e){var t=e.onChange,r=e.value,n=[\"Default\",\"Helvetica\",\"Courier\",\"Garamond\",\"Palatino\",\"Times New Roman\"],a=function(e){return t(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(r,!0).forEach(function(t){c(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},r,{},e))},o=r.family,l=r.style,u=r.weight,h=r.size;return i.a.createElement(\"span\",{className:\"cq-fontsetting\"},i.a.createElement(k,{onChange:function(e){return a({weight:e?\"bold\":void 0})},active:!!u},i.a.createElement(\"div\",{className:\"cq-text-icon\"},i.a.createElement(\"b\",null,\"B\"))),i.a.createElement(k,{active:!!l,onChange:function(e){return a({style:e?\"italic\":void 0})}},i.a.createElement(\"div\",{className:\"cq-text-icon\"},i.a.createElement(\"i\",null,\"i\"))),i.a.createElement(y,{className:\"cq-changefontsize\",rows:[8,10,12,13,14,16,20,28,36,48,64],title:h||\"13px\",onRowClick:function(e){return a({size:\"\".concat(e,\"px\")})}},function(e){return i.a.createElement(\"span\",{className:\"option\"},e)}),i.a.createElement(y,{className:\"cq-changefontfamily\",rows:n,title:o||n[0],onRowClick:function(e){return a({family:e})}},function(e){return i.a.createElement(\"span\",{className:\"option\"},e)}))}},function(e,t,r){\"use strict\";function n(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=new Promise(function(r,n){e=r,t=n});return n.resolve=function(t){n.isPending=!1,e(t)},n.reject=function(e){n.isPending=!1,t(e)},n.data=r,n}r.d(t,\"a\",function(){return n})},function(e,t,r){\"use strict\";var n=r(0),i=r.n(n),a=(r(222),r(14)),o=r.n(a),s=i.a.memo(function(e){var t=e.onSelectItem,r=e.updateScrollSpy,n=e.setScrollPanel,a=e.ResultsPanel,s=e.FilterPanel,c=e.SearchInput,l=e.isMobile,u=e.height,h=e.id,d=e.searchInputClassName,p=e.disableAll;return i.a.createElement(\"div\",{className:\"cq-categorical-display\",style:{height:u},id:h},i.a.createElement(\"div\",{className:\"cq-lookup-filters\"},i.a.createElement(c,{searchInputClassName:d}),i.a.createElement(s,null)),i.a.createElement(o.a,{className:\"cq-scroll-panel\",onScroll:r,ref:n,style:{width:l?\"100%\":\"312px\"}},i.a.createElement(a,{onSelectItem:t,id:h,disableAll:p})))}),c=r(65),l=r(52),u=r(66);r.d(t,\"b\",function(){return s}),r.d(t,\"c\",function(){return c.a}),r.d(t,\"d\",function(){return l.b}),r.d(t,\"a\",function(){return l.a}),r.d(t,\"e\",function(){return u.a})},function(e,t,r){\"use strict\";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var i={emitDelay:10,strictMode:!1},a=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?i:arguments[0];!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=void 0,n=void 0;r=t.hasOwnProperty(\"emitDelay\")?t.emitDelay:i.emitDelay,this._emitDelay=r,n=t.hasOwnProperty(\"strictMode\")?t.strictMode:i.strictMode,this._strictMode=n,this._listeners={},this.events=[]}return n(e,[{key:\"_addListenner\",value:function(e,t,r){if(\"function\"!=typeof t)throw TypeError(\"listener must be a function\");-1===this.events.indexOf(e)?(this._listeners[e]=[{once:r,fn:t}],this.events.push(e)):this._listeners[e].push({once:r,fn:t})}},{key:\"on\",value:function(e,t){this._addListenner(e,t,!1)}},{key:\"once\",value:function(e,t){this._addListenner(e,t,!0)}},{key:\"off\",value:function(e,t){var r,n,i=this,a=this.events.indexOf(e);e&&-1!==a&&(t?(r=[],(n=i._listeners[e]).forEach(function(e,n){e.fn===t&&r.unshift(n)}),r.forEach(function(e){n.splice(e,1)}),n.length||(i.events.splice(a,1),delete i._listeners[e])):(delete this._listeners[e],this.events.splice(a,1)))}},{key:\"_applyEvents\",value:function(e,t){var r=this._listeners[e];if(r&&r.length){var n=[];r.forEach(function(e,r){e.fn.apply(null,t),e.once&&n.unshift(r)}),n.forEach(function(e){r.splice(e,1)})}else if(this._strictMode)throw\"No listeners specified for event: \"+e}},{key:\"emit\",value:function(e){for(var t=this,r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];this._emitDelay?setTimeout(function(){t._applyEvents.call(t,e,n)},this._emitDelay):this._applyEvents(e,n)}},{key:\"emitSync\",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];this._applyEvents(e,r)}},{key:\"destroy\",value:function(){this._listeners={},this.events=[]}}]),e}();e.exports=a},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Scrollbars=void 0;var n,i=r(193),a=(n=i)&&n.__esModule?n:{default:n};t.default=a.default,t.Scrollbars=a.default},function(e,t,r){\"use strict\";var n=r(4),i=r(11);function a(e,t,r,n,i,a,o){try{var s=e[a](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function o(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function s(e){a(o,n,i,s,c,\"next\",e)}function c(e){a(o,n,i,s,c,\"throw\",e)}s(void 0)})}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var c=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.clockStarted=!1,this.clockStartedPromise=new i.a,this._timeResponse=function(e){if(e.error&&(t.clockStarted=!1),t.clockStarted){var r=e.time,i=Object(n.l)(new Date);t.serverTimeAtResponse=r+(i-t.clientTimeAtRequest)/2;clearInterval(t.updateTimeInterval),t.updateTimeInterval=setInterval(function(){t.serverTimeAtResponse+=1},1e3)}else t.init()}}var t,r,a,c,l;return t=e,r=[{key:\"init\",value:(l=o(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._api=t,this.clockStarted){e.next=9;break}return this.clockStarted=!0,clearInterval(this.getTimeInterval),e.next=6,this.requestTime();case 6:this.getTimeInterval=setInterval(this.requestTime.bind(this),3e4),e.next=10;break;case 9:return e.abrupt(\"return\",this.clockStartedPromise);case 10:case\"end\":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})},{key:\"requestTime\",value:(c=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.clientTimeAtRequest=Object(n.l)(new Date),e.next=3,this._api.getServerTime().then(this._timeResponse);case 3:this.clockStartedPromise.resolve();case 4:case\"end\":return e.stop()}},e,this)})),function(){return c.apply(this,arguments)})},{key:\"getEpoch\",value:function(){if(this.serverTimeAtResponse)return this.serverTimeAtResponse;throw new Error(\"Server time is undefined!\")}},{key:\"getLocalDate\",value:function(){return Object(n.i)(this.getEpoch())}},{key:\"getUTCDate\",value:function(){return CIQ.strToDateTime(Object(n.k)(this.getEpoch()))}}],a=[{key:\"getInstance\",value:function(){return this._instance||(this._instance=new e),this._instance}}],r&&s(t.prototype,r),a&&s(t,a),e}();c._instance=void 0,t.a=c},function(e,t,r){\"use strict\";var n=r(0),i=r.n(n),a=r(5),o=r(4);function s(e){return(s=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return!t||\"object\"!==s(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(){var e,r;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(r=l(this,(e=u(t)).call.apply(e,[this].concat(i)))).price=null,r.date=null,r.elem=null,r.ctx=null,r.stx=null,r.injectionId=null,r.setPosition=function(e){var t=e.epoch,n=e.price;r.price=+n||null,r.date=CIQ.strToDateTime(Object(o.k)(t)),r.updateCSS()},r.updateCSS=function(){if(r.elem&&r.ctx)if(r.date){var e=r.elem,t=r.stx,n=t.chart,i=0,a=0,o=!0,s=+r.props.threshold||0;if((o=!s||t.layout.candleWidth>=s)&&n.dataSet&&n.dataSet.length&&t.mainSeriesRenderer){var c=t.tickFromDate(r.date,n);c>-1&&t.chart.dataSet[c]&&t.chart.dataSet[c].Close!==r.price&&(delete t.chart.tickCache[r.date.getTime()],c=t.tickFromDate(r.date,n));var l=t.pixelFromTick(c,n),u=n.dataSet[c];if(u&&u.DT<r.date){var h=n.dataSet[c+1],d=c>0?n.dataSet[c-1]:null;if(h&&h.Close&&h.DT>r.date){var p=t.pixelFromTick(c+1,n)-l;l+=(r.date-u.DT)/(h.DT-u.DT)*p}else if(d&&d.Close){var f=l-t.pixelFromTick(c-1,n);l+=(r.date-u.DT)/(u.DT-d.DT)*f}}var m=r.price?t.pixelFromPrice(r.price,n.panel):0;n.yAxis.left>l&&n.yAxis.top<=m&&n.yAxis.bottom>=m?(i=+m,a=Math.round(l)):o=!1}e.style.transform=\"translate(\".concat(a,\"px, \").concat(i,\"px)\"),e.style.visibility=o?\"visible\":\"hidden\"}else r.elem.style.visibility=\"hidden\"},r.setRef=function(e){r.elem=e;var t=e?{div:e,setPosition:r.setPosition}:null;(r.props.markerRef&&r.props.markerRef(t),null!==e)?r.props.contextPromise.then(function(e){r.ctx=e,r.stx=r.ctx.stx,r.injectionId=r.stx.append(\"draw\",r.updateCSS),r.updateCSS()}):r.injectionId&&(r.stx.removeInjection(r.injectionId),r.ctx=null,r.stx=null)},r}var r,a,s;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,n[\"Component\"]),r=t,(a=[{key:\"render\",value:function(){var e=this.props,t=e.className,r=e.children;return i.a.createElement(\"div\",{className:t,ref:this.setRef,style:{position:\"absolute\"}},r)}}])&&c(r.prototype,a),s&&c(r,s),t}();t.a=Object(a.a)(function(e){return{contextPromise:e.chart.contextPromise}})(d)},function(e,t,r){\"use strict\";r.d(t,\"a\",function(){return n});var n=[]},function(e,t,r){e.exports={id:\"ic-edit-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-edit-usage\",toString:function(){return this.url}}},function(e,t,r){\"use strict\";var n=r(0),i=r.n(n);r(212);t.a=function(e){var t=e.open,r=e.children,n=e.onContainerClick,a=e.className;return i.a.createElement(\"div\",{className:\"\".concat(a||\"cq-dialog\",\" \").concat(t?\" open\":\"\"),onClick:n},r)}},function(e,t,r){\"use strict\";r.d(t,\"a\",function(){return k});var n,i,a,o,s,c,l,u,h,d,p,f=r(1),m=r(5),g=r(19),b=r(8);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function w(e,t,r){return t&&S(e.prototype,t),r&&S(e,r),e}function x(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,(\"value\"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var k=(n=f.action.bound,i=f.action.bound,a=f.action.bound,o=f.action.bound,s=f.action.bound,l=x((c=function(){function e(t){var r=this,n=t.mainStore,i=t.getContext,a=t.onDeleted,o=t.favoritesId,s=t.onChanged;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),_(this,\"items\",l,this),_(this,\"title\",u,this),_(this,\"description\",h,this),_(this,\"id\",d,this),_(this,\"activeTab\",p,this),this.connect=Object(m.a)(function(){return{items:r.items,title:r.title,description:r.description,activeTab:r.activeTab,showTabs:r.showTabs,setOpen:r.setOpen,onTabClick:r.onTabClick,onDeleteClick:r.onDeleted?r.onDeleteClick:void 0,favoritesId:r.favoritesId,onResetClick:r.onResetClick,onItemChange:r.onItemChange,Dialog:r.Dialog,open:r.open,id:r.id,theme:r.theme}}),this.mainStore=n,this.getContext=i,this.onDeleted=a,this.favoritesId=o,this.onChanged=s,this.menu=new b.a(n,{route:\"indicator-setting\"}),this.Dialog=this.menu.dialog.connect(g.a)}return w(e,[{key:\"showTabs\",get:function(){return!!this.description}}]),w(e,[{key:\"setOpen\",value:function(e){return this.menu.setOpen(e)}},{key:\"onDeleteClick\",value:function(){this.onDeleted(),this.menu.setOpen(!1)}},{key:\"onTabClick\",value:function(e){this.activeTab=e}},{key:\"onResetClick\",value:function(){var e=this.items.map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(r,!0).forEach(function(t){v(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e,{value:e.defaultValue})});this.items=e,this.onChanged(e)}},{key:\"onItemChange\",value:function(e,t){var r=this.items.find(function(t){return t.id===e});r&&r.value!==t&&(r.value=t,this.items=this.items.slice(0),this.onChanged(this.items))}},{key:\"context\",get:function(){return this.mainStore.chart.context}},{key:\"stx\",get:function(){return this.context.stx}},{key:\"theme\",get:function(){return this.mainStore.chartSetting.theme}},{key:\"open\",get:function(){return this.menu.open}}]),e}()).prototype,\"items\",[f.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=x(c.prototype,\"title\",[f.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return\"\"}}),h=x(c.prototype,\"description\",[f.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return\"\"}}),d=x(c.prototype,\"id\",[f.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=x(c.prototype,\"activeTab\",[f.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return\"settings\"}}),x(c.prototype,\"showTabs\",[f.computed],Object.getOwnPropertyDescriptor(c.prototype,\"showTabs\"),c.prototype),x(c.prototype,\"open\",[f.computed],Object.getOwnPropertyDescriptor(c.prototype,\"open\"),c.prototype),x(c.prototype,\"setOpen\",[n],Object.getOwnPropertyDescriptor(c.prototype,\"setOpen\"),c.prototype),x(c.prototype,\"onDeleteClick\",[i],Object.getOwnPropertyDescriptor(c.prototype,\"onDeleteClick\"),c.prototype),x(c.prototype,\"onTabClick\",[a],Object.getOwnPropertyDescriptor(c.prototype,\"onTabClick\"),c.prototype),x(c.prototype,\"onResetClick\",[o],Object.getOwnPropertyDescriptor(c.prototype,\"onResetClick\"),c.prototype),x(c.prototype,\"onItemChange\",[s],Object.getOwnPropertyDescriptor(c.prototype,\"onItemChange\"),c.prototype),c)},function(e,t,r){\"use strict\";(function(e){var n=r(0),i=r.n(n),a=r(10),o=r(2),s=r(40),c=(r(221),function(e){var t=e.items,r=e.theme,n=e.onItemChange,o={switch:function(e){return i.a.createElement(a.h,{value:e.value,onChange:function(t){return n(e.id,t)}})},colorpicker:function(e){return i.a.createElement(a.a,{theme:r,color:e.value,setColor:function(t){return n(e.id,t)}})},pattern:function(e){var r=t.find(function(e){return\"lineWidth\"===e.id}).value;return i.a.createElement(a.f,{pattern:e.value,lineWidth:r,onChange:function(e){n(\"pattern\",e.pattern),n(\"lineWidth\",e.width)}})},select:function(e){return i.a.createElement(a.b,{rows:Object.keys(e.options),title:e.value,onRowClick:function(t){return n(e.id,t)}},function(e){return e})},number:function(e){return i.a.createElement(a.g,{min:e.min||1,step:e.step||1,max:e.max||100,value:e.value,onChange:function(t){return n(e.id,t)}})},numericinput:function(e){return i.a.createElement(\"span\",{className:\"ciq-num-input\"},i.a.createElement(a.e,{value:e.value,onChange:function(t){return n(e.id,t)},min:e.min,step:e.step,max:e.max}))},numbercolorpicker:function(e){return i.a.createElement(a.d,{value:e.value,onChange:function(t){return n(e.id,t)}})},font:function(e){return i.a.createElement(a.c,{value:e.value,onChange:function(t){return n(e.id,t)}})}};return i.a.createElement(\"div\",{className:\"items\"},t.map(function(e){return o[e.type]&&i.a.createElement(\"div\",{key:e.id,className:\"item\"},i.a.createElement(\"div\",{className:\"title\"},i.a.createElement(\"span\",null,e.title),o[e.type](e)))}))}),l=function(t){var r=t.onResetClick;return i.a.createElement(\"div\",{className:\"reset\",onClick:r},e.translate(\"RESET\"))},u=function(t){var r=t.setOpen;return i.a.createElement(\"div\",{className:\"done\",onClick:function(){return r(!1)}},e.translate(\"DONE\"))},h=function(e){var t=e.onTabClick,r=e.activeTab;return i.a.createElement(\"div\",{className:\"tabs\"},i.a.createElement(\"div\",{onClick:function(){return t(\"settings\")},className:\"settings\"===r?\"active\":\"\"},\" Settings\"),i.a.createElement(\"div\",{onClick:function(){return t(\"description\")},className:\"description\"===r?\"active\":\"\"},\" Description\"),i.a.createElement(\"div\",{className:\"active-border \".concat(\"settings\"===r?\"first\":\"second\")}))};t.a=function(e){var t=e.id,r=e.items,n=e.title,a=e.description,d=e.activeTab,p=e.setOpen,f=e.showTabs,m=e.onTabClick,g=e.onDeleteClick,b=e.favoritesId,y=e.onResetClick,v=e.onItemChange,_=e.Dialog,S=e.open,w=e.theme;return i.a.createElement(\"div\",{className:\"cq-dialog-overlay \".concat(S?\"cq-dialog-active\":\"\")},i.a.createElement(_,{className:\"cq-dialog cq-settings-dialog\"},i.a.createElement(i.a.Fragment,null,i.a.createElement(\"div\",{className:\"titlebar \".concat(f?\"\":\"no-tabs\")},i.a.createElement(\"div\",{className:\"title\"},n),i.a.createElement(\"div\",{className:\"icons\"},g&&i.a.createElement(o.q,{onClick:g,className:\"margin\"}),b&&i.a.createElement(s.a,{id:t,category:b}))),f&&i.a.createElement(h,{activeTab:d,onTabClick:m}),\"settings\"===d?i.a.createElement(i.a.Fragment,null,i.a.createElement(c,{items:r,theme:w,onItemChange:v}),i.a.createElement(\"div\",{className:\"buttons\"},i.a.createElement(l,{onResetClick:y}),i.a.createElement(u,{setOpen:p}))):i.a.createElement(\"div\",{className:\"description\"},a))))}}).call(this,r(6).t)},function(e,t,r){\"use strict\";(function(e){r.d(t,\"a\",function(){return M});var n,i,a,o,s,c,l,u,h,d,p,f,m,g,b,y,v,_,S=r(0),w=r.n(S),x=r(1),k=r(5),O=r(4),C=r(169),E=r(12);function T(e){return(T=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function P(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function N(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function I(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,(\"value\"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var M=(n=x.action.bound,i=x.action.bound,a=x.action.bound,o=x.action.bound,s=x.action.bound,c=x.action.bound,l=x.action.bound,u=x.action.bound,d=I((h=function(){function t(e){var r=this,n=e.getCategoricalItems,i=e.onSelectItem,a=e.getIsShown,o=e.getActiveCategory,s=e.activeOptions,c=e.placeholderText,l=e.favoritesId,u=e.mainStore,h=e.id,S=e.getCurrentActiveCategory,O=e.getCurrentActiveSubCategory,T=e.searchInputClassName;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),A(this,\"isShown\",d,this),A(this,\"scrollPanel\",p,this),A(this,\"filterText\",f,this),A(this,\"activeCategoryKey\",m,this),A(this,\"focusedCategoryKey\",g,this),A(this,\"isScrollingDown\",b,this),this.scrollTop=void 0,A(this,\"activeHeadKey\",y,this),A(this,\"activeHeadTop\",v,this),A(this,\"activeHeadOffset\",_,this),this.isUserScrolling=!0,this.lastFilteredItems=[],this.connect=Object(k.a)(function(){return{filteredItems:r.filteredItems,updateScrollSpy:r.updateScrollSpy,setScrollPanel:r.setScrollPanel,isScrollingDown:r.isScrollingDown,scrollUp:r.scrollUp,scrollDown:r.scrollDown,onSelectItem:r.onSelectItem,ResultsPanel:r.ResultsPanel,FilterPanel:r.FilterPanel,SearchInput:r.SearchInput,isMobile:r.chart.isMobile,height:r.height}}),Object(x.reaction)(a,function(){if(a()){var e=o?o().data.length:0;r.focusedCategoryKey=null,r.activeCategoryKey=r.getCurrentActiveCategory?r.getCurrentActiveCategory():\"favorite\",r.activeSubCategory=r.getCurrentActiveSubCategory?r.getCurrentActiveSubCategory():\"\";var t=r.categoryElements[r.activeCategoryKey],n=r.id?\".\".concat(r.id,\"-subcategory-item-\").concat(r.activeSubCategory):\".subcategory-item-\".concat(r.activeSubCategory),i=r.mainStore.chart.rootNode.querySelector(n);r.activeHeadKey=r.activeCategoryKey||null,r.activeHeadTop=0,r.pauseScrollSpy=!0,r.isUserScrolling=!1,e?(r.activeCategoryKey=\"active\",r.activeHeadKey=null,r.scrollPanel.scrollTop(0)):t&&(r.scrollPanel.scrollTop(t.offsetTop),i&&r.scrollPanel.scrollTop(t.offsetTop+i.offsetTop-40)),setTimeout(function(){r.pauseScrollSpy=!1},20),r.isInit||r.init(),u.chart.isMobile||setTimeout(function(){r.searchInput.current.focus()},0)}}),this.getCategoricalItems=n,this.onSelectItem=i,this.getActiveCategory=o,this.favoritesId=l,this.id=h,this.categoryElements={},this.mainStore=u,this.getCurrentActiveCategory=S,this.getCurrentActiveSubCategory=O,this.isInit=!1,this.searchInput=w.a.createRef(),this.searchInputClassName=T;var P=Object(k.a)(function(){return{favoritesId:l,id:h}})(E.d),D=Object(k.a)(function(){return{activeOptions:s,favoritesId:l}})(E.a),j=function(e){return\"active\"===e&&void 0!==r.getActiveCategory?D:P};this.ResultsPanel=Object(k.a)(function(){return{filteredItems:r.filteredItems,setCategoryElement:r.setCategoryElement,getItemType:j,activeHeadTop:r.activeHeadTop,activeHeadKey:r.activeHeadKey,activeHeadOffset:r.activeHeadOffset}})(E.e),this.FilterPanel=Object(k.a)(function(e){return{isMobile:e.chart.isMobile,filteredItems:r.filteredItems,handleFilterClick:r.handleFilterClick,activeCategoryKey:r.activeCategoryKey,focusedCategoryKey:r.focusedCategoryKey}})(E.c),this.SearchInput=Object(k.a)(function(){return{placeholder:c,value:r.filterText,onChange:r.setFilterText,searchInput:r.searchInput,searchInputClassName:r.searchInputClassName}})(C.a)}var r,n,i;return r=t,(n=[{key:\"updateScrollSpy\",value:function(){if(!this.pauseScrollSpy&&this.scrollPanel&&0!==this.filteredItems.length){var e=this.scrollPanel.container.getBoundingClientRect().top,t=0,r=null,n=!0,i=!1,a=void 0;try{for(var o,s=this.filteredItems[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var c=o.value,l=this.categoryElements[c.categoryId];if(!l)return;var u=l.getBoundingClientRect(),h=u.top-e;if(h<0){r=c.categoryId;var d=u.height+h-44;t=d<0?d:0}}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}var p=this.scrollPanel.getValues().top;this.scrollTop>p?this.scrollUp():this.scrollDown(),this.activeHeadOffset=this.chart.isMobile?this.scrollPanel.container.offsetTop:0,this.scrollTop=p,this.focusedCategoryKey=r||this.filteredItems[0].categoryId,this.activeHeadTop=t,this.activeHeadKey=0===this.scrollTop?null:this.focusedCategoryKey}}},{key:\"scrollUp\",value:function(){this.isScrollingDown=!1}},{key:\"scrollDown\",value:function(){this.isScrollingDown=this.isUserScrolling,this.isUserScrolling=!0}},{key:\"init\",value:function(){if(this.isInit=!0,\"\"===this.activeCategoryKey&&this.filteredItems.length>0){var e=!0,t=!1,r=void 0;try{for(var n,i=this.filteredItems[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var a=n.value;if(this.categoryElements[a.categoryId]){this.activeCategoryKey=a.categoryId;break}}}catch(e){t=!0,r=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}}}},{key:\"setCategoryElement\",value:function(e,t){this.categoryElements[t]=e}},{key:\"setFilterText\",value:function(e){var t=this;this.filterText=e,this.isUserScrolling=!1,setTimeout(function(){t.updateScrollSpy()},0)}},{key:\"handleFilterClick\",value:function(e){var t=this,r=this.categoryElements[e.categoryId];r&&(this.pauseScrollSpy=!0,this.isUserScrolling=!1,this.scrollPanel.scrollTop(r.offsetTop),this.focusedCategoryKey=e.categoryId,this.activeHeadKey=null,setTimeout(function(){t.pauseScrollSpy=!1},20))}},{key:\"setScrollPanel\",value:function(e){this.scrollPanel=e}},{key:\"chart\",get:function(){return this.mainStore.chart}},{key:\"context\",get:function(){return this.chart.context}},{key:\"height\",get:function(){return this.chart.chartContainerHeight-(this.chart.isMobile?0:120)}},{key:\"favoritesCategory\",get:function(){var t=this;this.pauseScrollSpy=!0;var r={categoryName:e.translate(\"Favorites\"),categoryId:\"favorite\",hasSubcategory:!1,emptyDescription:e.translate(\"There are no favorites yet.\"),data:Object.keys(this.mainStore.favorites.favoritesMap[this.favoritesId])||[]};return setTimeout(function(){t.pauseScrollSpy=!1},20),r}},{key:\"filteredItems\",get:function(){var e=Object(O.c)(this.getCategoricalItems());if(this.favoritesId){var t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(r,!0).forEach(function(t){j(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},this.favoritesCategory),r=t.data.filter(function(e){return\"string\"!=typeof e});e.forEach(function(e){var n=function e(r){var n=[];return r.hasSubcategory?r.data.forEach(function(t){var r=e(t);n.push.apply(n,P(r))}):t.data.forEach(function(e){if(\"string\"==typeof e){var t=r.data.find(function(t){return t.itemId===e});t&&n.push(t)}}),n}(e);r.push.apply(r,P(n))}),t.data=r.filter(function(e){return e}),e.unshift(t)}if(this.getActiveCategory){var n=Object(O.d)(this.getActiveCategory());e.unshift(n)}if(\"\"===this.filterText)return this.lastFilteredItems=e,e;var i=!1,a=this.filterText.split(\" \").filter(function(e){return\"\"!==e}).map(function(e){return e.toLowerCase().trim()}),o=function(e){e.data=e.data.filter(function(e){return t=e.display||\"object\"===T(e.dataObject)&&e.dataObject.symbol,a.reduce(function(e,r){return t.toLowerCase().includes(r)&&e},!0);var t}),e.data.length&&(i=!0)},s=!0,c=!1,l=void 0;try{for(var u,h=e[Symbol.iterator]();!(s=(u=h.next()).done);s=!0){var d=u.value;if(d.hasSubcategory){var p=!0,f=!1,m=void 0;try{for(var g,b=d.data[Symbol.iterator]();!(p=(g=b.next()).done);p=!0){o(g.value)}}catch(e){f=!0,m=e}finally{try{p||null==b.return||b.return()}finally{if(f)throw m}}}else o(d)}}catch(e){c=!0,l=e}finally{try{s||null==h.return||h.return()}finally{if(c)throw l}}return i||(e=this.lastFilteredItems),this.pauseScrollSpy||(this.lastFilteredItems=e),e}}])&&N(r.prototype,n),i&&N(r,i),t}()).prototype,\"isShown\",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p=I(h.prototype,\"scrollPanel\",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=I(h.prototype,\"filterText\",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return\"\"}}),m=I(h.prototype,\"activeCategoryKey\",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return\"\"}}),g=I(h.prototype,\"focusedCategoryKey\",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=I(h.prototype,\"isScrollingDown\",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=I(h.prototype,\"activeHeadKey\",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),v=I(h.prototype,\"activeHeadTop\",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=I(h.prototype,\"activeHeadOffset\",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),I(h.prototype,\"updateScrollSpy\",[n],Object.getOwnPropertyDescriptor(h.prototype,\"updateScrollSpy\"),h.prototype),I(h.prototype,\"scrollUp\",[i],Object.getOwnPropertyDescriptor(h.prototype,\"scrollUp\"),h.prototype),I(h.prototype,\"scrollDown\",[a],Object.getOwnPropertyDescriptor(h.prototype,\"scrollDown\"),h.prototype),I(h.prototype,\"init\",[o],Object.getOwnPropertyDescriptor(h.prototype,\"init\"),h.prototype),I(h.prototype,\"favoritesCategory\",[x.computed],Object.getOwnPropertyDescriptor(h.prototype,\"favoritesCategory\"),h.prototype),I(h.prototype,\"filteredItems\",[x.computed],Object.getOwnPropertyDescriptor(h.prototype,\"filteredItems\"),h.prototype),I(h.prototype,\"setCategoryElement\",[s],Object.getOwnPropertyDescriptor(h.prototype,\"setCategoryElement\"),h.prototype),I(h.prototype,\"setFilterText\",[c],Object.getOwnPropertyDescriptor(h.prototype,\"setFilterText\"),h.prototype),I(h.prototype,\"handleFilterClick\",[l],Object.getOwnPropertyDescriptor(h.prototype,\"handleFilterClick\"),h.prototype),I(h.prototype,\"setScrollPanel\",[u],Object.getOwnPropertyDescriptor(h.prototype,\"setScrollPanel\"),h.prototype),h)}).call(this,r(6).t)},function(e,t){e.exports=r},function(e,t,r){e.exports={id:\"ic-delete-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-delete-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports=r(203)()},function(e,t,r){\"use strict\";(function(e){var n=r(0),i=r.n(n),a=r(5),o=r(2);r(192);t.a=Object(a.a)(function(e){var t=e.chartType;return{chartId:e.state.chartId,ChartTypeMenu:t.ChartTypeMenu,ChartTypeList:t.ChartTypeList,menuOpen:t.menu.open,onChange:t.setTypeFromUI,setOpen:t.menu.setOpen,showAggregateDialog:t.showAggregateDialog,Type:t.type,updateProps:t.updateProps}})(function(t){var r=t.chartId,n=t.ChartTypeList,a=t.ChartTypeMenu,s=t.enabled,c=t.menuOpen,l=t.onChange,u=t.setOpen,h=t.showAggregateDialog,d=t.Type,p=t.updateProps;if(void 0===d)return null;return p(l),i.a.createElement(a,{className:\"ciq-display ciq-chart-types\",enabled:s,title:e.translate(\"Chart types\")},i.a.createElement(a.Title,null,i.a.createElement(d.icon,{className:\"ic-icon-with-sub \".concat(c?\"active\":\"\"),\"tooltip-title\":e.translate(d.text)})),i.a.createElement(a.Body,null,i.a.createElement(\"div\",{className:\"body\"},i.a.createElement(n,{height:260,onItemClick:function(e,t){d.id!==t.id&&l(t.id,t.candleOnly,r),u(!1)}},function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement(\"span\",{className:\"left\"},i.a.createElement(e.icon,{className:\"margin \".concat(e.active?\"active\":\"\")}),i.a.createElement(\"span\",{className:\"ciq-icon-text\"},e.text)),e.settingsOnClick&&i.a.createElement(\"span\",{className:\"ciq-aggregate-setting\",onClick:function(){return h(e.id)}},i.a.createElement(o.P,null)))}))))})}).call(this,r(6).t)},function(e,t,r){\"use strict\";(function(e){var n=r(0),i=r.n(n),a=r(42),o=r(5),s=r(2);t.a=Object(o.a)(function(e){var t=e.studies,r=e.chart;return{isOpened:t.open,setOpen:t.setOpen,StudyMenu:t.StudyMenu,menuOpen:t.menu.open,StudyCategoricalDisplay:t.StudyCategoricalDisplay,isMobile:r.isMobile,activeStudiesNo:t.activeStudies.data.length,disableAll:t.hasReachedLimits}})(function(t){var r=t.isOpened,n=t.setOpen,o=t.StudyMenu,c=t.menuOpen,l=t.StudyCategoricalDisplay,u=t.isMobile,h=t.activeStudiesNo,d=t.searchInputClassName,p=t.disableAll;return i.a.createElement(o,{className:\"ciq-studies\",isOpened:r,setOpen:n,isMobile:u,title:u?e.translate(\"Indicators\"):\"\"},i.a.createElement(o.Title,null,i.a.createElement(s.z,{className:\"ic-icon-with-sub \".concat(c?\"active\":\"\"),\"tooltip-title\":e.translate(\"Indicators\")}),i.a.createElement(a.a,{notificationCount:h})),i.a.createElement(o.Body,null,i.a.createElement(l,{searchInputClassName:d,disableAll:p})))})}).call(this,r(6).t)},function(e,t,r){\"use strict\";(function(e){var n=r(0),i=r.n(n),a=r(5),o=r(42),s=r(2);t.a=Object(a.a)(function(e){var t=e.comparison,r=e.chart;return{ComparisonSelector:t.ComparisonSelector,ComparisonMenu:t.ComparisonMenu,menuOpen:t.menu.open,isMobile:r.isMobile,activeComparisonsNo:t.comparisonSymbols.length}})(function(t){var r=t.ComparisonSelector,n=t.ComparisonMenu,a=t.menuOpen,c=t.isMobile,l=t.activeComparisonsNo,u=t.searchInputClassName;return i.a.createElement(n,{className:\"cq-comparison-new cq-symbols-display\",isMobile:c,title:c?e.translate(\"Comparison\"):\"\"},i.a.createElement(n.Title,null,i.a.createElement(s.l,{className:\"ic-icon-with-sub \".concat(a?\"active\":\"\"),\"tooltip-title\":e.translate(\"Comparison\")}),i.a.createElement(o.a,{notificationCount:l})),i.a.createElement(n.Body,null,i.a.createElement(r,{searchInputClassName:u})))})}).call(this,r(6).t)},function(e,t,r){\"use strict\";(function(e){var n=r(0),i=r.n(n),a=r(14),o=r.n(a),s=r(5),c=r(43),l=r(2),u=(r(213),function(e){var t=e.view,r=e.remove,n=e.onClick;return i.a.createElement(\"div\",{className:\"ciq-list-item\",onClick:n},i.a.createElement(\"span\",{className:\"ciq-list-item-text\"},t.name),i.a.createElement(l.q,{onClick:r}))});t.a=Object(s.a)(function(e){var t=e.view;return{ViewsMenu:t.ViewsMenu,views:c.a.views,routes:t.routes,onOverwrite:t.onOverwrite,onCancel:t.onCancel,onChange:t.onChange,remove:t.remove,onSubmit:t.onSubmit,applyLayout:t.applyLayout,menuOpen:t.menu.dialog.open,inputRef:t.inputRef,currentRoute:t.currentRoute,templateName:t.templateName}})(function(t){var r=t.ViewsMenu,n=t.menuOpen,a=t.views,s=t.currentRoute,c=t.routes,h=c.add,d=c.main,p=c.overwrite,f=c.cancel,m=t.onChange,g=t.onSubmit,b=t.applyLayout,y=t.remove,v=t.inputRef,_=t.templateName,S=t.searchInputClassName;return i.a.createElement(r,{className:\"ciq-views\",title:e.translate(\"Templates\")},i.a.createElement(r.Title,{className:\"cq-menu-btn\"},i.a.createElement(l.T,{className:\"ic-icon-with-sub \".concat(n?\"active\":\"\"),\"tooltip-title\":e.translate(\"Templates\")})),i.a.createElement(r.Body,null,i.a.createElement(\"div\",{className:\"content\"},\"overwrite\"!==s?\"\":i.a.createElement(\"div\",{className:\"ovrwrit-alrt\"},i.a.createElement(\"div\",{className:\"ovrwrit-alrt-title\"},i.a.createElement(l.ab.warning,null),i.a.createElement(\"span\",null,_+e.translate(\" already exists.\")),i.a.createElement(\"span\",null,e.translate(\"Would you like to overwrite it?\"))),i.a.createElement(\"div\",{className:\"ovrwrit-alrt-buttons\"},i.a.createElement(\"div\",{onClick:d},e.translate(\"CANCEL\")),i.a.createElement(\"div\",{onClick:p},e.translate(\"OVERWRITE\")))),i.a.createElement(\"div\",{className:\"template-name\"},\"add\"===s?i.a.createElement(\"span\",{className:\"add\"},i.a.createElement(l.d,{onClick:f}),i.a.createElement(\"input\",{ref:v,className:\"view-input \".concat(S||\"\"),value:_,placeholder:e.translate(\"Template name\"),maxLength:20,onChange:m,onKeyUp:g})):i.a.createElement(\"span\",{className:\"add-new\",onClick:d},\" \",e.translate(\"Add new\"),\" \"),i.a.createElement(\"span\",{className:\"icon\"},\"add\"===s?i.a.createElement(l.U,{className:\"tick-icon\",onClick:h}):i.a.createElement(l.b,{className:\"add-icon\",onClick:d}))),i.a.createElement(o.a,{className:\"ciq-list\"},a.map(function(e,t){return i.a.createElement(u,{view:e,key:e.name,onClick:function(e){return b(t,e)},remove:function(e){return y(t,e)}})})))))})}).call(this,r(6).t)},function(e,t,r){\"use strict\";(function(e){var n=r(0),i=r.n(n),a=r(5),o=r(2),s=r(10);t.a=Object(a.a)(function(e){var t=e.crosshair;return{toggleState:function(){return t.toggleState()},state:\"number\"!=typeof t.state?0:t.state}})(function(t){var r=t.toggleState,n=t.state,a=[o.m,o.n,o.o][n];return i.a.createElement(\"div\",{className:\"ciq-menu cq-crosshair-toggle\"},i.a.createElement(\"div\",{className:\"cq-menu-btn\"},i.a.createElement(s.i,{active:0!==n,onChange:r},i.a.createElement(a,{className:\"ic-icon-with-sub\",\"tooltip-title\":e.translate(\"Crosshair\")}))))})}).call(this,r(6).t)},function(e,t,r){\"use strict\";(function(e){var n=r(0),i=r.n(n),a=r(5);r(215);t.a=Object(a.a)(function(e){var t=e.timeperiod;return{chartId:e.state.chartId,timeUnit:t.timeUnit,interval:t.interval,interval_display:t.interval_display,isMobile:t.mainStore.chart.isMobile,onChange:t.setGranularity,setOpen:t.menu.setOpen,TimePeriodMenu:t.TimePeriodMenu,timeUnit_display:t.timeUnit_display,updateProps:t.updateProps}})(function(t){var r=t.chartId,a=t.enabled,o=t.interval,s=t.timeUnit,c=t.interval_display,l=t.isMobile,u=t.onChange,h=t.setOpen,d=t.TimePeriodMenu,p=t.timeUnit_display,f=t.updateProps,m=function(e){u(e,r),h(!1)};return Object(n.useEffect)(function(){return f(u)}),i.a.createElement(d,{className:\"ciq-period\",enabled:a,title:l?e.translate(\"Interval\"):\"\"},i.a.createElement(d.Title,null,i.a.createElement(\"div\",{className:\"bt-priod\"},i.a.createElement(\"span\",{className:\"ic-priod\"},i.a.createElement(\"span\",{className:\"interval_display\"},c),i.a.createElement(\"span\",{className:\"unit_display\"},p)),i.a.createElement(\"br\",null),i.a.createElement(\"span\",{className:\"ic-subtitle\"},e.translate(\"Interval\")))),i.a.createElement(d.Body,null,i.a.createElement(\"div\",{className:\"cq-interval\"},i.a.createElement(\"div\",{className:\"timeUnit\"},i.a.createElement(\"span\",{className:\"tick\"===s?\"selected\":\"\"},e.translate(\"Tick\")),i.a.createElement(\"span\",{className:\"minute\"===s?\"selected\":\"\"},e.translate(\"Minute\")),i.a.createElement(\"span\",{className:\"hour\"===s?\"selected\":\"\"},e.translate(\"Hour\")),i.a.createElement(\"span\",{className:\"day\"===s?\"selected\":\"\"},e.translate(\"Day\"))),i.a.createElement(\"div\",{className:\"interval\"},i.a.createElement(\"div\",{className:\"row\"},i.a.createElement(\"span\",{onClick:function(){return m(0)},className:\"tick\"===s&&1===o?\"selected\":\"\"},\"1\")),i.a.createElement(\"div\",{className:\"row\"},i.a.createElement(\"span\",{onClick:function(){return m(60)},className:\"minute\"===s&&1===o?\"selected\":\"\"},\"1\"),i.a.createElement(\"span\",{onClick:function(){return m(120)},className:2===o?\"selected\":\"\"},\"2\"),i.a.createElement(\"span\",{onClick:function(){return m(180)},className:3===o?\"selected\":\"\"},\"3\"),i.a.createElement(\"span\",{onClick:function(){return m(300)},className:5===o?\"selected\":\"\"},\"5\"),i.a.createElement(\"span\",{onClick:function(){return m(600)},className:10===o?\"selected\":\"\"},\"10\"),i.a.createElement(\"span\",{onClick:function(){return m(900)},className:15===o?\"selected\":\"\"},\"15\"),i.a.createElement(\"span\",{onClick:function(){return m(1800)},className:30===o?\"selected\":\"\"},\"30\")),i.a.createElement(\"div\",{className:\"row\"},i.a.createElement(\"span\",{onClick:function(){return m(3600)},className:60===o?\"selected\":\"\"},\"1\"),i.a.createElement(\"span\",{onClick:function(){return m(7200)},className:120===o?\"selected\":\"\"},\"2\"),i.a.createElement(\"span\",{onClick:function(){return m(14400)},className:240===o?\"selected\":\"\"},\"4\"),i.a.createElement(\"span\",{onClick:function(){return m(28800)},className:480===o?\"selected\":\"\"},\"8\")),i.a.createElement(\"div\",{className:\"row\"},i.a.createElement(\"span\",{onClick:function(){return m(86400)},className:\"day\"===s?\"selected\":\"\"},\"1\"))))))})}).call(this,r(6).t)},function(e,t,r){\"use strict\";(function(e){var n=r(0),i=r.n(n),a=r(2),o=(r(216),r(5));t.a=Object(o.a)(function(e){var t=e.chartSize;return{zoomIn:t.zoomIn,zoomOut:t.zoomOut}})(function(t){var r=t.zoomIn,n=t.zoomOut;return i.a.createElement(\"div\",{className:\"ciq-menu cq-chart-size\"},i.a.createElement(\"div\",{className:\"cq-menu-btn\"},i.a.createElement(a.X,{className:\"ic-icon-with-sub cq-zoom-out\",\"tooltip-title\":e.translate(\"Zoom out\"),onClick:n})),i.a.createElement(\"div\",{className:\"cq-menu-btn\"},i.a.createElement(a.W,{className:\"ic-icon-with-sub cq-zoom-in\",\"tooltip-title\":e.translate(\"Zoom in\"),onClick:r})))})}).call(this,r(6).t)},function(e,t,r){\"use strict\";(function(e){var n=r(0),i=r.n(n),a=r(14),o=r.n(a),s=r(5),c=r(2);r(217);t.a=Object(s.a)(function(e){var t=e.drawTools;return{clearAll:t.clearAll,selectTool:t.selectTool,DrawToolsMenu:t.DrawToolsMenu,menuOpen:t.menu.open,drawToolsItems:t.drawToolsItems}})(function(t){var r=t.clearAll,n=t.selectTool,a=t.DrawToolsMenu,s=t.menuOpen,l=t.drawToolsItems;return i.a.createElement(a,{className:\"ciq-draw-tools\",title:e.translate(\"Draw tools\")},i.a.createElement(a.Title,null,i.a.createElement(c.t,{className:\"ic-icon-with-sub \".concat(s?\"active\":\"\"),\"tooltip-title\":e.translate(\"Draw tools\")})),i.a.createElement(a.Body,null,i.a.createElement(\"div\",{className:\"body\"},i.a.createElement(o.a,{autoHeight:!0,autoHeightMax:260,className:\"ciq-list\"},i.a.createElement(\"div\",{className:\"cq-draw-buttons\"},i.a.createElement(\"div\",{className:\"cq-draw-button\",onClick:r},i.a.createElement(c.h,null),i.a.createElement(\"span\",null,e.translate(\"Clear All\"))),i.a.createElement(\"div\",{className:\"cq-draw-button\",onClick:function(){return n(\"measure\")},style:{display:\"none\"}},i.a.createElement(c.F,null),i.a.createElement(\"span\",null,e.translate(\"Measure\")))),l.map(function(e){return i.a.createElement(\"div\",{key:e.id,className:\"ciq-list-item\",onClick:function(){return n(e.id)}},e.text)})))))})}).call(this,r(6).t)},function(e,t,r){\"use strict\";(function(e){var n=r(0),i=r.n(n),a=r(5),o=r(2);r(219);t.a=Object(a.a)(function(e){var t=e.share;return{ShareMenu:t.ShareMenu,menuOpen:t.menu.dialog.open,downloadPNG:t.downloadPNG,downloadCSV:t.downloadCSV,isLoadingPNG:t.isLoadingPNG}})(function(t){var r=t.ShareMenu,n=t.menuOpen,a=t.downloadCSV,s=t.downloadPNG,c=t.isLoadingPNG;return i.a.createElement(r,{className:\"cq-download\",title:e.translate(\"Download Chart\")},i.a.createElement(r.Title,null,i.a.createElement(o.s,{className:\"ic-icon-with-sub \".concat(n?\"active\":\"\"),\"tooltip-title\":e.translate(\"Download\")})),i.a.createElement(r.Body,null,i.a.createElement(\"div\",{className:\"body\"},i.a.createElement(\"div\",{className:\"content\"},i.a.createElement(\"div\",{className:\"ciq-list ciq-list-download\"},i.a.createElement(\"div\",{className:\"ciq-list-item\",onClick:s},i.a.createElement(\"span\",{className:\"ciq-icon-text\"},e.translate(\"Download as PNG\"),c&&i.a.createElement(\"span\",{className:\"cq-loading\"})),i.a.createElement(o.H,null)),i.a.createElement(\"div\",{className:\"ciq-list-item\",onClick:a},i.a.createElement(\"span\",{className:\"ciq-icon-text\"},e.translate(\"Download as CSV\")),i.a.createElement(o.p,null)))))))})}).call(this,r(6).t)},function(e,t,r){\"use strict\";var n=r(0),i=r.n(n),a=r(5),o=r(2),s=(r(223),function(e){var t=e.item,r=e.AnimatedPrice,n=e.onDeleteItem;return i.a.createElement(\"div\",{className:\"cq-comparison-item\"},i.a.createElement(\"span\",{className:\"left\"},i.a.createElement(\"span\",{className:\"cq-comparison-swatch\",style:{backgroundColor:t.color}}),i.a.createElement(\"span\",{className:\"cq-comparison-label\"},t.symbolObject.name)),i.a.createElement(\"span\",{className:\"right\"},i.a.createElement(r,null),i.a.createElement(o.q,{className:\"ciq-close\",onClick:function(){return n(t.symbolObject)}})))});t.a=Object(a.a)(function(e){var t=e.comparisonList;return{comparisonSymbols:t.comparisonSymbols,animatedPrices:t.animatedPrices,onDeleteItem:t.onDeleteItem}})(function(e){var t=e.comparisonSymbols,r=e.animatedPrices,n=e.onDeleteItem;return i.a.createElement(\"div\",{className:\"cq-comparison\"},t.map(function(e,t){return i.a.createElement(s,{key:e.symbolObject.symbol,item:e,onDeleteItem:n,AnimatedPrice:r[t]})}))})},function(e,t,r){\"use strict\";(function(e){var n=r(0),i=r.n(n),a=r(5);r(224);t.a=Object(a.a)(function(e){var t=e.chartTitle,r=e.chart;return{chartId:e.state.chartId,ChartTitleMenu:t.ChartTitleMenu,currentSymbol:t.currentSymbol,isMobile:r.isMobile,MarketSelector:t.MarketSelector,onChange:t.setSymbol,setMenuOpen:t.menu.setOpen,SymbolSelectButton:t.SymbolSelectButton,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave}})(function(t){var r=t.chartId,n=t.ChartTitleMenu,a=t.currentSymbol,o=t.enabled,s=t.isMobile,c=t.MarketSelector,l=t.onChange,u=t.SymbolSelectButton,h=t.setMenuOpen,d=t.searchInputClassName,p=t.onMouseEnter,f=t.onMouseLeave;return a?i.a.createElement(n,{enabled:o,className:\"cq-chart-title stx-show cq-symbols-display\",isFullscreen:!0,title:s?e.translate(\"Underlying Assets\"):\"\",onMouseEnter:p,onMouseLeave:f},i.a.createElement(n.Title,null,i.a.createElement(u,null)),i.a.createElement(n.Body,null,i.a.createElement(c,{searchInputClassName:d,onSelectItem:function(e){e.symbol!==a.symbol&&l(e.symbol,r),h(!1)}}))):null})}).call(this,r(6).t)},function(e,t,r){\"use strict\";(function(e){var n=r(0),i=r.n(n),a=(r(225),i.a.memo(function(){return i.a.createElement(\"div\",{className:\"ciq-asset-information\",style:{visibility:\"hidden\"}},i.a.createElement(\"div\",null,i.a.createElement(\"div\",null,e.translate(\"SPOT\"),\":\"),i.a.createElement(\"div\",{className:\"ciq-ai-spot\"})),i.a.createElement(\"div\",null,i.a.createElement(\"div\",null,e.translate(\"OPEN\"),\":\"),i.a.createElement(\"div\",{className:\"ciq-ai-open\"})),i.a.createElement(\"div\",null,i.a.createElement(\"div\",null,e.translate(\"CLOSE\"),\":\"),i.a.createElement(\"div\",{className:\"ciq-ai-close\"})),i.a.createElement(\"div\",null,i.a.createElement(\"div\",null,e.translate(\"HIGH\"),\":\"),i.a.createElement(\"div\",{className:\"ciq-ai-high\"})),i.a.createElement(\"div\",null,i.a.createElement(\"div\",null,e.translate(\"LOW\"),\":\"),i.a.createElement(\"div\",{className:\"ciq-ai-low\"})))}));t.a=a}).call(this,r(6).t)},function(e,t,r){\"use strict\";var n,i,a,o,s,c,l,u,h,d=r(0),p=r.n(d),f=r(5),m=r(1),g=r(13),b=r.n(g);function y(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _(e,t,r){return t&&v(e.prototype,t),r&&v(e,r),e}function S(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,(\"value\"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var w,x,k,O=4,C=O>>1,E=(n=m.action.bound,i=m.action.bound,a=m.action.bound,o=m.action.bound,c=S((s=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this._relative=!1,y(this,\"draggable\",c,this),y(this,\"isDragging\",l,this),y(this,\"visible\",u,this),y(this,\"_price\",h,this),this.offScreen=!1,this.onContextReady=function(){r._injectionId=r.stx.append(\"draw\",r._draw)},this.init=function(){var e=function(e,t){r.visible&&r.draggable&&t.call(r,e)};CIQ.safeDrag(r._line,function(t){return e(t,r._startDrag)},function(t){return e(t,r._dragLine)},function(t){return e(t,r._endDrag)})},this._calculateTop=function(){if(null!==r.stx.currentQuote()){var e=r._locationFromPrice(r.realPrice);return e<0?(e<-C&&(r.offScreen=!0),e=0):e+O>r.chart.panel.height?(e+O-r.chart.panel.height>C&&(r.offScreen=!0),e=r.chart.panel.height-O):r.offScreen=!1,e+30>r.chart.panel.height?e=r.chart.panel.height-30:e<10&&(e=10),0|Math.round(e)}},this._draw=function(){r.visible&&r._line&&(r.top=r._calculateTop())},this.connect=Object(f.a)(function(){return{priceDisplay:r.priceDisplay,visible:r.visible,setDragLine:r.setDragLine,className:r.className,draggable:r.draggable,isDragging:r.isDragging,init:r.init}}),this.mainStore=t,this._emitter=new b.a({emitDelay:0}),Object(m.when)(function(){return r.context},this.onContextReady)}return _(e,[{key:\"zIndex\",set:function(e){this._line&&(this._line.style.zIndex=e)}},{key:\"pip\",get:function(){return this.mainStore.chart.currentActiveSymbol.decimal_places}}]),_(e,[{key:\"destructor\",value:function(){this.stx.removeInjection(this._injectionId)}},{key:\"setDragLine\",value:function(e){this._line=e,this._line&&this._draw()}},{key:\"_modalBegin\",value:function(){this.stx.grabbingScreen||(this.stx.editingAnnotation=!0,this.stx.modalBegin())}},{key:\"_modalEnd\",value:function(){this.stx.modalEnd(),this.stx.editingAnnotation=!1}},{key:\"_startDrag\",value:function(){this._modalBegin(),this.isDragging=!0,this._initialPosition=this.top,this._startDragPrice=this._price}},{key:\"_dragLine\",value:function(e){if(this._line){var t=this._initialPosition+e.displacementY+C,r=this._priceFromLocation(t);this._priceConstrainer&&(r=this._priceConstrainer(r)),this.relative&&(r-=this.stx.currentQuote().Close),this.price=r}}},{key:\"_endDrag\",value:function(){this._modalEnd(),this.isDragging=!1,this._startDragPrice.toFixed(this.pip)!==this._price.toFixed(this.pip)&&this._emitter.emit(e.EVENT_DRAG_RELEASED,this._price)}},{key:\"_locationFromPrice\",value:function(e){return this.stx.pixelFromPrice(e,this.chart.panel)-this.chart.panel.top}},{key:\"_priceFromLocation\",value:function(e){return this.stx.valueFromPixel(e+this.chart.panel.top,this.chart.panel)}},{key:\"onPriceChanged\",value:function(t){this._emitter.on(e.EVENT_PRICE_CHANGED,t)}},{key:\"onDragReleased\",value:function(t){this._emitter.on(e.EVENT_DRAG_RELEASED,t)}},{key:\"priceDisplay\",get:function(){var e=this._price.toFixed(this.pip);return this.relative&&this._price>0&&(e=\"+\".concat(e)),e}},{key:\"price\",get:function(){return this._price},set:function(t){t!==this._price&&(this._price=t,this._draw(),this._emitter.emit(e.EVENT_PRICE_CHANGED,this._price))}},{key:\"relative\",get:function(){return this._relative},set:function(e){if(this._relative!==e){this._relative=e;var t=this.stx.currentQuote(),r=t?t.Close:0;this._relative&&(r=-r),this.price=this._price+r}}},{key:\"context\",get:function(){return this.mainStore.chart.context}},{key:\"stx\",get:function(){return this.context.stx}},{key:\"chart\",get:function(){return this.stx.chart}},{key:\"priceConstrainer\",set:function(e){this._priceConstrainer=e}},{key:\"realPrice\",get:function(){return this.relative?this.stx.currentQuote().Close+this._price:this._price}},{key:\"top\",set:function(e){this.__top=e,this._line.style.transform=\"translateY(\".concat(this.top,\"px)\")},get:function(){return this.__top}}],[{key:\"EVENT_PRICE_CHANGED\",get:function(){return\"EVENT_PRICE_CHANGED\"}},{key:\"EVENT_DRAG_RELEASED\",get:function(){return\"EVENT_DRAG_RELEASED\"}}]),e}()).prototype,\"draggable\",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),l=S(s.prototype,\"isDragging\",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),u=S(s.prototype,\"visible\",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),h=S(s.prototype,\"_price\",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S(s.prototype,\"pip\",[m.computed],Object.getOwnPropertyDescriptor(s.prototype,\"pip\"),s.prototype),S(s.prototype,\"priceDisplay\",[m.computed],Object.getOwnPropertyDescriptor(s.prototype,\"priceDisplay\"),s.prototype),S(s.prototype,\"setDragLine\",[n],Object.getOwnPropertyDescriptor(s.prototype,\"setDragLine\"),s.prototype),S(s.prototype,\"_startDrag\",[i],Object.getOwnPropertyDescriptor(s.prototype,\"_startDrag\"),s.prototype),S(s.prototype,\"_dragLine\",[a],Object.getOwnPropertyDescriptor(s.prototype,\"_dragLine\"),s.prototype),S(s.prototype,\"_endDrag\",[o],Object.getOwnPropertyDescriptor(s.prototype,\"_endDrag\"),s.prototype),s);function T(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function P(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,(\"value\"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var D=(x=P((w=function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),T(this,\"className\",x,this),T(this,\"visible\",k,this),this.setPosition=function(e){var t=e.top,n=e.bottom,i=e.right;if(r._div){var a=null;if(n&&t){var o=(n+t)/2+60,s=(n-t)/120;a=\"translate(\".concat(-i,\"px, \").concat(o,\"px) scale(1, \").concat(s,\")\")}else n?a=\"translate(\".concat(-i,\"px, \").concat(n,\"px)\"):t&&(a=\"translate(\".concat(-i,\"px, \").concat(t+120,\"px)\"));r._div.style.transform=a}},this.setShadeRef=function(e){r._div=e},this.connect=Object(f.a)(function(){return{visible:r.visible,className:r.className,setShadeRef:r.setShadeRef}}),this.className=t}).prototype,\"className\",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return\"\"}}),k=P(w.prototype,\"visible\",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w),j=r(11);function A(e){return(A=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function N(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function I(e,t){return!t||\"object\"!==A(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var L,R,H,q,B,F,V,U,W,Q,G,K,Y,X,Z=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),I(this,M(t).apply(this,arguments))}var r,n,i;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(t,d[\"Component\"]),r=t,(n=[{key:\"componentDidMount\",value:function(){this.props.init()}},{key:\"render\",value:function(){var e=this.props,t=e.className,r=e.draggable,n=e.isDragging,i=e.priceDisplay,a=e.setDragLine,o=e.visible,s=e.lineStyle,c=e.color,l=e.foregroundColor,u=e.width;return p.a.createElement(\"div\",{className:\"chart-line horizontal \".concat(r?\"draggable\":\"\",\" \").concat(n?\"dragging\":\"\",\" \").concat(t||\"\"),style:{top:0,color:l,borderColor:c},ref:a,hidden:!o},p.a.createElement(\"div\",{className:\"drag-line\",style:{borderTopStyle:s}}),p.a.createElement(\"div\",{className:\"draggable-area\"}),p.a.createElement(\"div\",{className:\"drag-price\",style:{backgroundColor:c,width:u}},p.a.createElement(\"div\",{className:\"price\"},i)))}}])&&N(r.prototype,n),i&&N(r,i),t}(),J=function(e){var t=e.visible,r=e.className,n=e.setShadeRef;return p.a.createElement(\"div\",{className:\"shade \".concat(r||\"\",\" \").concat(t?\"\":\"hidden\"),ref:n,style:{top:-120}})},$=r(4);function ee(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function te(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function re(e,t,r){return t&&te(e.prototype,t),r&&te(e,r),e}function ne(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,(\"value\"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var ie=(L=m.action.bound,R=m.action.bound,H=m.action.bound,B=ne((q=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),ee(this,\"shadeColor\",B,this),ee(this,\"color\",F,this),ee(this,\"foregroundColor\",V,this),ee(this,\"isBetweenShadeVisible\",U,this),ee(this,\"isTopShadeVisible\",W,this),ee(this,\"isBottomShadeVisible\",Q,this),ee(this,\"hidePriceLines\",G,this),ee(this,\"lineStyle\",K,this),ee(this,\"isInitialized\",Y,this),ee(this,\"initializePromise\",X,this),this._shadeState=void 0,this._onBarrierChange=null,this._fireOnBarrierChange=function(){var e=r._high_barrier.visible?+r._high_barrier.price.toFixed(r.pip):void 0,t=r._low_barrier.visible?+r._low_barrier.price.toFixed(r.pip):void 0;r._onBarrierChange&&r._onBarrierChange({high:e,low:t})},this._drawShadedArea=function(){if(r.isInitialized&&(r._shadeState===e.SHADE_ABOVE?r._shadeAbove():r._shadeState===e.SHADE_BELOW?r._shadeBelow():r._shadeState===e.SHADE_BETWEEN?r._shadeBetween():r._shadeState===e.SHADE_OUTSIDE&&r._shadeOutside(),r._low_barrier.visible&&r._isBarriersOffScreen())){var t=0===r._high_barrier.top?null:101;r._high_barrier.zIndex=t}},this.mainStore=t,this._high_barrier=new E(this.mainStore),this._low_barrier=new E(this.mainStore),this._high_barrier.onPriceChanged(this._drawShadedArea),this._low_barrier.onPriceChanged(this._drawShadedArea),this._high_barrier.onDragReleased(this._fireOnBarrierChange),this._low_barrier.onDragReleased(this._fireOnBarrierChange),this._injectionId=this.stx.append(\"draw\",this._drawShadedArea),this._setupConstrainBarrierPrices(),this._listenerId=this.stx.addEventListener(\"newChart\",this.init),this.aboveShadeStore=new D(\"top-shade\"),this.betweenShadeStore=new D(\"between-shade\"),this.belowShadeStore=new D(\"bottom-shade\"),this.AboveShade=this.aboveShadeStore.connect(J),this.BetweenShade=this.betweenShadeStore.connect(J),this.BelowShade=this.belowShadeStore.connect(J),this.shadeState=e.SHADE_NONE_SINGLE,this.context&&this.stx.currentQuote()&&this.init(),this.HighPriceLine=this._high_barrier.connect(Z),this.LowPriceLine=this._low_barrier.connect(Z)}return re(e,[{key:\"pip\",get:function(){return this.mainStore.chart.currentActiveSymbol.decimal_places}},{key:\"yAxisWidth\",get:function(){return this.mainStore.chart.yAxiswidth}},{key:\"priceLabelWidth\",get:function(){return this.yAxisWidth+1}}],[{key:\"SHADE_NONE_SINGLE\",get:function(){return\"SHADE_NONE_SINGLE\"}},{key:\"SHADE_NONE_DOUBLE\",get:function(){return\"SHADE_NONE_DOUBLE\"}},{key:\"SHADE_ABOVE\",get:function(){return\"SHADE_ABOVE\"}},{key:\"SHADE_BELOW\",get:function(){return\"SHADE_BELOW\"}},{key:\"SHADE_BETWEEN\",get:function(){return\"SHADE_BETWEEN\"}},{key:\"SHADE_OUTSIDE\",get:function(){return\"SHADE_OUTSIDE\"}},{key:\"BARRIER_CHANGED\",get:function(){return\"BARRIER_CHANGED\"}}]),re(e,[{key:\"init\",value:function(){this.isInitialized=!0,this.initializePromise.resolve()}},{key:\"setDefaultBarrier\",value:function(){var e=this.relative?0:this.stx.currentQuote().Close,t=this.chart.yAxis.priceTick;this._high_barrier.price=e+t,this._low_barrier.price=e-t,this._high_barrier._updateTop(),this._low_barrier._updateTop(),this._drawShadedArea()}},{key:\"updateProps\",value:function(e){var t=this,r=e.color,n=e.foregroundColor,i=e.shadeColor,a=e.shade,o=e.high,s=e.low,c=e.relative,l=e.draggable,u=e.onChange,h=e.hidePriceLines,d=e.lineStyle;this.initializePromise.then(Object(m.action)(function(){r&&(t.color=r),n&&(t.foregroundColor=n),i&&(t.shadeColor=i),a&&(t.shadeState=\"SHADE_\".concat(a).toUpperCase()),void 0!==c&&(t.relative=c),void 0!==l&&(t.draggable=l),Object($.m)(o)&&(t.high_barrier=o),Object($.m)(s)&&(t.low_barrier=s),u&&(t.onBarrierChange=u),t.lineStyle=d,t.hidePriceLines=!!h}))}},{key:\"destructor\",value:function(){this.stx.removeInjection(this._injectionId),this.stx.removeEventListener(this._listenerId),this._high_barrier.destructor(),this._low_barrier.destructor()}},{key:\"_setupConstrainBarrierPrices\",value:function(){var e=this;this._high_barrier.priceConstrainer=function(t){var r=e._low_barrier.visible&&t<e._low_barrier.realPrice?e._high_barrier.realPrice:t;return e.mainStore.chart.calculateYaxisWidth(r),r},this._low_barrier.priceConstrainer=function(t){var r=t>e._high_barrier.realPrice?e._low_barrier.realPrice:t;return e.mainStore.chart.calculateYaxisWidth(r),r}}},{key:\"_isBarriersOffScreen\",value:function(){return this._high_barrier.offScreen&&this._low_barrier.offScreen}},{key:\"_shadeBetween\",value:function(){this.betweenShadeStore.setPosition({top:this._high_barrier.top,bottom:this._low_barrier.top,right:this.yAxisWidth})}},{key:\"_shadeBelow\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._high_barrier;this.belowShadeStore.setPosition({top:e.top,bottom:0,right:this.yAxisWidth})}},{key:\"_shadeAbove\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._high_barrier;this.aboveShadeStore.setPosition({top:0,bottom:e.top,right:this.yAxisWidth})}},{key:\"_shadeOutside\",value:function(){this._shadeAbove(this._high_barrier),this._shadeBelow(this._low_barrier)}},{key:\"high_barrier\",get:function(){return this._high_barrier.price},set:function(e){this._high_barrier.price=e}},{key:\"low_barrier\",get:function(){return this._low_barrier.price},set:function(e){this._low_barrier.price=e}},{key:\"context\",get:function(){return this.mainStore.chart.context}},{key:\"stx\",get:function(){return this.context.stx}},{key:\"chart\",get:function(){return this.stx.chart}},{key:\"onBarrierChange\",set:function(e){this._onBarrierChange!==e&&(this._onBarrierChange=e)}},{key:\"shadeState\",get:function(){return this._shadeState},set:function(t){if(this._shadeState!==t){if(this._shadeState=t,this._shadeState===e.SHADE_NONE_SINGLE||this._shadeState===e.SHADE_NONE_DOUBLE)this.aboveShadeStore.visible=!1,this.betweenShadeStore.visible=!1,this.belowShadeStore.visible=!1;else{var r=this._shadeState===e.SHADE_ABOVE||this._shadeState===e.SHADE_OUTSIDE,n=this._shadeState===e.SHADE_BELOW||this._shadeState===e.SHADE_OUTSIDE,i=this._shadeState===e.SHADE_BETWEEN;this.aboveShadeStore.visible=r,this.betweenShadeStore.visible=i,this.belowShadeStore.visible=n,this._drawShadedArea()}var a=this._shadeState===e.SHADE_OUTSIDE||this._shadeState===e.SHADE_BETWEEN||this._shadeState===e.SHADE_NONE_DOUBLE,o=this._low_barrier.visible;this._low_barrier.visible=a,this.isInitialized&&a&&!o&&this._low_barrier.realPrice>=this._high_barrier.realPrice&&(this._low_barrier.price=this._high_barrier.price-this.chart.yAxis.priceTick)}}},{key:\"relative\",get:function(){return this._high_barrier.relative},set:function(e){this._high_barrier.relative=e,this._low_barrier.relative=e}},{key:\"draggable\",get:function(){return this._high_barrier.draggable},set:function(e){this._high_barrier.draggable=e,this._low_barrier.draggable=e}}]),e}()).prototype,\"shadeColor\",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=ne(q.prototype,\"color\",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=ne(q.prototype,\"foregroundColor\",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=ne(q.prototype,\"isBetweenShadeVisible\",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),W=ne(q.prototype,\"isTopShadeVisible\",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Q=ne(q.prototype,\"isBottomShadeVisible\",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),G=ne(q.prototype,\"hidePriceLines\",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),K=ne(q.prototype,\"lineStyle\",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Y=ne(q.prototype,\"isInitialized\",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),X=ne(q.prototype,\"initializePromise\",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new j.a}}),ne(q.prototype,\"pip\",[m.computed],Object.getOwnPropertyDescriptor(q.prototype,\"pip\"),q.prototype),ne(q.prototype,\"yAxisWidth\",[m.computed],Object.getOwnPropertyDescriptor(q.prototype,\"yAxisWidth\"),q.prototype),ne(q.prototype,\"priceLabelWidth\",[m.computed],Object.getOwnPropertyDescriptor(q.prototype,\"priceLabelWidth\"),q.prototype),ne(q.prototype,\"init\",[L],Object.getOwnPropertyDescriptor(q.prototype,\"init\"),q.prototype),ne(q.prototype,\"updateProps\",[R],Object.getOwnPropertyDescriptor(q.prototype,\"updateProps\"),q.prototype),ne(q.prototype,\"destructor\",[H],Object.getOwnPropertyDescriptor(q.prototype,\"destructor\"),q.prototype),q),ae=p.a.memo(function(e){var t=e.shadeColor,r=void 0===t?\"#39b19d\":t,n=e.color,i=void 0===n?\"#39b19d\":n,a=e.foregroundColor,o=void 0===a?\"#ffffff\":a,s=e.HighPriceLine,c=e.LowPriceLine,l=e.AboveShade,u=e.BetweenShade,h=e.BelowShade,d=e.hidePriceLines,f=e.lineStyle,m=e.isInitialized,g=e.priceLabelWidth;return m&&p.a.createElement(\"div\",{className:\"barrier \".concat(d?\"hide-pricelines\":\"\"),style:{\"--shade-color\":r}},p.a.createElement(s,{width:g,lineStyle:f,color:i,foregroundColor:o}),p.a.createElement(c,{width:g,lineStyle:f,color:i,foregroundColor:o}),p.a.createElement(l,null),p.a.createElement(u,null),p.a.createElement(h,null))});t.a=Object(f.a)(function(e){return{HighPriceLine:e.HighPriceLine,LowPriceLine:e.LowPriceLine,AboveShade:e.AboveShade,BetweenShade:e.BetweenShade,BelowShade:e.BelowShade,shadeColor:e.shadeColor,color:e.color,foregroundColor:e.foregroundColor,hidePriceLines:e.hidePriceLines,lineStyle:e.lineStyle,isInitialized:e.isInitialized,destructor:e.destructor,priceLabelWidth:e.priceLabelWidth}},ie)(ae)},function(e,t){e.exports=n},function(e,t,r){\"use strict\";var n=r(0),i=r.n(n),a=r(2),o=r(46),s=r(3);function c(e){return(c=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return!t||\"object\"!==c(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),(r=u(this,h(t).call(this,e))).store=o.a.getInstance(),r.onFavoriteUpdate=function(){var e=r.props,t=e.category,n=e.id,i=r.isFavorite(t,n);i!==r.state.isFavorite&&(r.setState({isFavorite:i}),Object(s.d)(s.b.CategoricalDisplay,s.a.Favorite,\"\".concat(i?\"Add \":\"Remove \",\" \").concat(n)))},r.onClick=function(e){e.stopPropagation(),e.nativeEvent.isHandledByDialog=!0;var t=r.props,n=t.category,i=t.id;r.toggleFavorite(n,i)},r.store.onFavoriteUpdate(r.onFavoriteUpdate),r.isFavorite=r.store.isFavorite,r.toggleFavorite=r.store.toggleFavorite;var n=r.props,i=n.category,a=n.id;return r.state={isFavorite:r.isFavorite(i,a)},r}var r,c,p;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,n[\"Component\"]),r=t,(c=[{key:\"shouldComponentUpdate\",value:function(e,t){return this.state.isFavorite!==t.isFavorite}},{key:\"componentWillUnmount\",value:function(){this.store.offFavoriteUpdate(this.onFavoriteUpdate)}},{key:\"render\",value:function(){var e=this.props,t=e.category,r=e.id,n=this.state.isFavorite;return t&&r?i.a.createElement(a.u,{onClick:this.onClick,className:\"ciq-favorite \".concat(n?\"ciq-active-favorite\":\"\")}):null}}])&&l(r.prototype,c),p&&l(r,p),t}();t.a=p},function(e,t,r){\"use strict\";var n=r(0),i=r(45),a=r.n(i);var o=r(5);function s(e){return(s=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return!t||\"object\"!==s(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=\"cq-inchart-\",p=function(e){function t(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),r=l(this,u(t).call(this,e));var n=e.at,i=void 0===n?\"holder\":n;return e.contextPromise.then(function(e){var t,n,a=\"\".concat(d).concat(i),o=e.topNode.querySelector(\".\".concat(a));o||(t='<div class=\"'.concat(a,'\"></div>'),(n=document.createElement(\"div\")).innerHTML=t,o=n.firstChild,e.stx.chart.panel[i].appendChild(o)),r.container=o,r.forceUpdate()}),r}var r,i,o;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,n[\"Component\"]),r=t,(i=[{key:\"render\",value:function(){return this.props.isChartReady?this.props.hideInScrollToEpoch&&this.props.isChartScrollingToEpoch?null:this.container?a.a.createPortal(this.props.children,this.container):null:null}}])&&c(r.prototype,i),o&&c(r,o),t}();t.a=Object(o.a)(function(e){var t=e.chart,r=e.state;return{contextPromise:t.contextPromise,isChartReady:r.isChartReady,isChartScrollingToEpoch:r.isChartScrollingToEpoch}})(p)},function(e,t,r){\"use strict\";var n=r(0),i=r.n(n);t.a=function(e){var t=e.notificationCount;return t?i.a.createElement(\"span\",{className:\"notification-badge \".concat(t>9?\"x2\":\"\")},t):null}},function(e,t,r){\"use strict\";r.d(t,\"a\",function(){return C});var n,i,a,o,s,c,l,u,h,d,p,f,m,g,b,y=r(1),v=r(4),_=r(8),S=r(9),w=r(3);function x(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function k(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function O(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,(\"value\"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var C=(n=y.action.bound,i=y.action.bound,a=y.action.bound,o=y.action.bound,s=y.action.bound,c=y.action.bound,l=y.action.bound,u=y.action.bound,b=g=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),x(this,\"templateName\",p,this),x(this,\"currentRoute\",f,this),x(this,\"routes\",m,this),this.inputRef=function(e){e&&e.focus()},this.mainStore=t,this.menu=new _.a(t,{route:\"templates\"}),this.ViewsMenu=this.menu.connect(S.a)}var t,r,n;return t=e,n=[{key:\"updateLocalStorage\",value:function(){CIQ.localStorageSetItem(\"cq-views\",JSON.stringify(e.views))}}],(r=[{key:\"onChange\",value:function(e){this.templateName=e.target.value}},{key:\"onSubmit\",value:function(e){13===e.keyCode&&(this.saveViews(),Object(w.d)(w.b.ChartControl,w.a.Template,\"Save Template\"))}},{key:\"onCancel\",value:function(){this.templateName=\"\",this.updateRoute(\"main\")}},{key:\"updateRoute\",value:function(e){this.currentRoute=e}},{key:\"saveViews\",value:function(){var t=this;if(e.views.some(function(e){return e.name.toLowerCase()===t.templateName.toLowerCase()}))this.updateRoute(\"overwrite\");else if(this.templateName.length>0){this.updateRoute(\"main\");var r=this.stx.exportLayout();e.views.push({name:this.templateName,layout:r}),e.updateLocalStorage(),this.templateName=\"\"}}},{key:\"overwrite\",value:function(){var t=this,r=this.stx.exportLayout(),n=e.views.findIndex(function(e){return e.name.toLowerCase()===t.templateName.toLowerCase()});e.views[n].layout=r,e.views[n].name=this.templateName,e.updateLocalStorage(),this.updateRoute(\"main\"),this.templateName=\"\"}},{key:\"remove\",value:function(t,r){e.views=e.views.filter(function(e,r){return t!==r}),r.nativeEvent.is_item_removed=!0,e.updateLocalStorage(),Object(w.d)(w.b.ChartControl,w.a.Template,\"Remove Template\")}},{key:\"applyLayout\",value:function(t,r){var n=this;if(!r.nativeEvent.is_item_removed){this.loader&&this.loader.show(),this.mainStore.state.setChartIsReady(!1);var i=this.stx,a=Object(v.h)(e.views[t].layout);setTimeout(function(){i.importLayout(e.views[t].layout,{managePeriodicity:!0,preserveTicksAndCandleWidth:!0,cb:function(){i.changeOccurred(\"layout\"),n.mainStore.studies.updateActiveStudies(),n.loader&&n.loader.hide(),n.mainStore.state.setChartIsReady(!0),n.mainStore.state.setChartGranularity(a)}});var r=e.views[t].layout.chartType;\"mountain\"===r&&(.5===e.views[t].layout.tension&&(r=\"spline\"));n.mainStore.chartType.setType(r),n.mainStore.state.setChartType(r),n.menu.setOpen(!1),Object(w.d)(w.b.ChartControl,w.a.Template,\"Load Template\")},100)}}},{key:\"context\",get:function(){return this.mainStore.chart.context}},{key:\"stx\",get:function(){return this.context.stx}},{key:\"loader\",get:function(){return this.mainStore.loader}}])&&k(t.prototype,r),n&&k(t,n),e}(),g.views=Object(v.e)(\"cq-views\")||[],O(h=b,\"views\",[y.observable],(d=(d=Object.getOwnPropertyDescriptor(h,\"views\"))?d.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return d}}),h),p=O(h.prototype,\"templateName\",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return\"\"}}),f=O(h.prototype,\"currentRoute\",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return\"main\"}}),m=O(h.prototype,\"routes\",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return{add:function(){return e.saveViews()},main:function(){return e.updateRoute(\"add\")},cancel:function(){return e.onCancel()},overwrite:function(){return e.overwrite()}}}}),O(h.prototype,\"onChange\",[n],Object.getOwnPropertyDescriptor(h.prototype,\"onChange\"),h.prototype),O(h.prototype,\"onSubmit\",[i],Object.getOwnPropertyDescriptor(h.prototype,\"onSubmit\"),h.prototype),O(h.prototype,\"onCancel\",[a],Object.getOwnPropertyDescriptor(h.prototype,\"onCancel\"),h.prototype),O(h.prototype,\"updateRoute\",[o],Object.getOwnPropertyDescriptor(h.prototype,\"updateRoute\"),h.prototype),O(h.prototype,\"saveViews\",[s],Object.getOwnPropertyDescriptor(h.prototype,\"saveViews\"),h.prototype),O(h.prototype,\"overwrite\",[c],Object.getOwnPropertyDescriptor(h.prototype,\"overwrite\"),h.prototype),O(h.prototype,\"remove\",[l],Object.getOwnPropertyDescriptor(h.prototype,\"remove\"),h.prototype),O(h.prototype,\"applyLayout\",[u],Object.getOwnPropertyDescriptor(h.prototype,\"applyLayout\"),h.prototype),h)},function(e,t,r){\"use strict\";r.d(t,\"a\",function(){return g});var n,i,a,o,s,c,l,u=r(1),h=r(156),d=r.n(h),p=r(5);function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,(\"value\"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=(n=u.action.bound,i=u.action.bound,a=u.action.bound,o=u.action.bound,c=m((s=function(){function e(t){var r,n,i,a,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),r=this,n=\"open\",a=this,(i=c)&&Object.defineProperty(r,n,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0}),this.setOpen=d()(function(e){o.openDialog(e)},300,{leading:!0,trailing:!1}),this.handleClickOutside=function(e){var t=!1;\"which\"in e?t=3===e.which:\"button\"in e&&(t=2===e.button),e.isHandledByDialog||t||o.setOpen(!1)},this.closeOnEscape=function(e){27===e.keyCode&&o.setOpen(!1)},this.connect=Object(p.a)(function(){return{open:o.open,setOpen:o.setOpen,onContainerClick:o.onContainerClick,isMobile:o.mainStore.chart.isMobile}}),this.mainStore=t,Object(u.when)(function(){return o.context},function(){o.routingStore.registerDialog(o)})}var t,r,n;return t=e,(r=[{key:\"openDialog\",value:function(e){this.open!==e&&(this.open=e,this.open?this.register():this.unregister(),!0===e?(l&&l.openDialog(!1),l=this):l=void 0)}},{key:\"register\",value:function(){document.addEventListener(\"click\",this.handleClickOutside,!1),document.addEventListener(\"keydown\",this.closeOnEscape,!1)}},{key:\"unregister\",value:function(){document.removeEventListener(\"click\",this.handleClickOutside),document.removeEventListener(\"keydown\",this.closeOnEscape)}},{key:\"onContainerClick\",value:function(e){e.nativeEvent.isHandledByDialog=!0}},{key:\"context\",get:function(){return this.mainStore.chart.context}},{key:\"routingStore\",get:function(){return this.mainStore.routing}}])&&f(t.prototype,r),n&&f(t,n),e}()).prototype,\"open\",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m(s.prototype,\"openDialog\",[n],Object.getOwnPropertyDescriptor(s.prototype,\"openDialog\"),s.prototype),m(s.prototype,\"register\",[i],Object.getOwnPropertyDescriptor(s.prototype,\"register\"),s.prototype),m(s.prototype,\"unregister\",[a],Object.getOwnPropertyDescriptor(s.prototype,\"unregister\"),s.prototype),m(s.prototype,\"onContainerClick\",[o],Object.getOwnPropertyDescriptor(s.prototype,\"onContainerClick\"),s.prototype),s)},function(e,t){e.exports=i},function(e,t,r){\"use strict\";var n,i,a,o,s,c,l=r(13),u=r.n(l),h=r(1),d=r(4);function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),e}function m(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,(\"value\"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=(n=h.action.bound,i=h.action.bound,c=s=function(){function e(){var t,r,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),t=this,r=\"favoritesMap\",i=this,(n=o)&&Object.defineProperty(t,r,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0}),this._emitter=new u.a({emitDelay:0})}return f(e,null,[{key:\"getInstance\",value:function(){return e.instance||(e.instance=new e),e.instance}},{key:\"EVENT_FAVORITES_UPDATE\",get:function(){return\"EVENT_FAVORITES_UPDATE\"}}]),f(e,[{key:\"onFavoriteUpdate\",value:function(t){this._emitter.on(e.EVENT_FAVORITES_UPDATE,t)}},{key:\"offFavoriteUpdate\",value:function(t){this._emitter.off(e.EVENT_FAVORITES_UPDATE,t)}},{key:\"isFavorite\",value:function(e,t){return t in this.favoritesMap[e]}},{key:\"toggleFavorite\",value:function(t,r){var n=this.favoritesMap[t];n[r]?delete n[r]:n[r]=!0,this._emitter.emit(e.EVENT_FAVORITES_UPDATE,{category:t,id:r,value:n[r]||!1}),this.saveFavorites()}},{key:\"saveFavorites\",value:function(){var e={};for(var t in this.favoritesMap){var r=[];for(var n in this.favoritesMap[t])r.push(n);e[t]=r}CIQ.localStorageSetItem(\"cq-favorites\",JSON.stringify(e))}}]),e}(),s.instance=void 0,o=m((a=c).prototype,\"favoritesMap\",[h.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=Object(d.e)(\"cq-favorites\");if(e){var t={};for(var r in e){var n={},i=!0,a=!1,o=void 0;try{for(var s,c=e[r][Symbol.iterator]();!(i=(s=c.next()).done);i=!0){n[s.value]=!0}}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}t[r]=n}return t}}()||{indicators:{},\"chartTitle&Comparison\":{}}}}),m(a.prototype,\"isFavorite\",[n],Object.getOwnPropertyDescriptor(a.prototype,\"isFavorite\"),a.prototype),m(a.prototype,\"toggleFavorite\",[i],Object.getOwnPropertyDescriptor(a.prototype,\"toggleFavorite\"),a.prototype),a);t.a=g},function(e,t,r){\"use strict\";r.d(t,\"a\",function(){return p});var n,i,a,o,s,c=r(1),l=r(5);function u(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,(\"value\"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=(n=c.action.bound,a=d((i=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),u(this,\"price\",a,this),u(this,\"isIncrease\",o,this),u(this,\"status\",s,this),this.oldPrice=\"\",this.connect=Object(l.a)(function(){return{price:t.price,isIncrease:t.isIncrease,status:t.status,className:t.className}})}var t,r,n;return t=e,(r=[{key:\"setPrice\",value:function(e,t){var r=t||+this.oldPrice,n=+e,i=!1;if(n>r)i=!0,this.status=\"up\";else{if(!(n<r))return void(this.status=\"\");this.status=\"down\"}this.price=e,this.oldPrice=this.price,this.isIncrease=i}}])&&h(t.prototype,r),n&&h(t,n),e}()).prototype,\"price\",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return\"\"}}),o=d(i.prototype,\"isIncrease\",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s=d(i.prototype,\"status\",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return\"\"}}),d(i.prototype,\"setPrice\",[n],Object.getOwnPropertyDescriptor(i.prototype,\"setPrice\"),i.prototype),i)},function(e,t,r){\"use strict\";var n=r(0),i=r.n(n);t.a=function(e){var t=e.isIncrease,r=e.price,n=e.className,a=\"cq-animated-price \".concat(n||\"\",\" \").concat(t?\"cq-up\":\"cq-down\");return i.a.createElement(i.a.Fragment,null,!r&&i.a.createElement(\"span\",{className:\"cq-comparison-loader stx-show\"}),i.a.createElement(\"div\",{className:a},r))}},function(e,t,r){e.exports={id:\"ic-favorite-normal-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-favorite-normal-usage\",toString:function(){return this.url}}},function(e,t){e.exports=a},function(e,t,r){\"use strict\";var n,i,a,o,s=r(1),c=r(4),l=r(11);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t,r,n,i,a,o){try{var s=e[a](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function p(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,(\"value\"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=(n=s.action.bound,a=m((i=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),p(this,\"changes\",a,this),p(this,\"categorizedSymbols\",o,this),this.symbolMap={},this.symbolsPromise=new l.a,this.isRetrievingSymbols=!1,this._api=t,this._tradingTimes=r}var t,r,n,i,m;return t=e,(r=[{key:\"retrieveActiveSymbols\",value:(i=regeneratorRuntime.mark(function e(){var t,r,n,i,a,o,c,l,u,h=this,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.length>0&&void 0!==d[0]&&d[0],!this.isRetrievingSymbols||t){e.next=5;break}return e.next=4,this.symbolsPromise;case 4:return e.abrupt(\"return\",this.activeSymbols);case 5:return this.isRetrievingSymbols=!0,e.next=8,this._api.getActiveSymbols();case 8:for(r=e.sent,n=r.active_symbols,Object(s.runInAction)(function(){h.processedSymbols=h._processSymbols(n),h.categorizedSymbols=h._categorizeActiveSymbols(h.processedSymbols)}),i=!0,a=!1,o=void 0,e.prev=14,c=this.processedSymbols[Symbol.iterator]();!(i=(l=c.next()).done);i=!0)u=l.value,this.symbolMap[u.symbol]=u;e.next=22;break;case 18:e.prev=18,e.t0=e.catch(14),a=!0,o=e.t0;case 22:e.prev=22,e.prev=23,i||null==c.return||c.return();case 25:if(e.prev=25,!a){e.next=28;break}throw o;case 28:return e.finish(25);case 29:return e.finish(22);case 30:return this._tradingTimes.onMarketOpenCloseChanged(Object(s.action)(function(e){for(var t in e){var r=h.symbolMap[t];r&&(r.exchange_is_open=e[t])}h.changes=e})),this.symbolsPromise.resolve(),e.abrupt(\"return\",this.activeSymbols);case 33:case\"end\":return e.stop()}},e,this,[[14,18,22,30],[23,,25,29]])}),m=function(){var e=this,t=arguments;return new Promise(function(r,n){var a=i.apply(e,t);function o(e){d(a,r,n,o,s,\"next\",e)}function s(e){d(a,r,n,o,s,\"throw\",e)}o(void 0)})},function(){return m.apply(this,arguments)})},{key:\"getSymbolObj\",value:function(e){return this.symbolMap[e]}},{key:\"_processSymbols\",value:function(e){var t=[];Object(c.p)(e,function(e,t){return e.submarket_display_name.localeCompare(t.submarket_display_name)});var r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;t.push({symbol:s.symbol,name:s.display_name,market:s.market,market_display_name:s.market_display_name,submarket_display_name:s.submarket_display_name,exchange_is_open:!!s.exchange_is_open,decimal_places:s.pip.toString().length-2})}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}for(var l=[],u=0,h=[\"forex\",\"indices\",\"stocks\",\"commodities\",\"synthetic_index\"];u<h.length;u++)for(var d=h[u],p=0,f=t;p<f.length;p++){var m=f[p];d===m.market&&l.push(m)}return l}},{key:\"_categorizeActiveSymbols\",value:function(e){var t=[],r=e[0],n=function(e){return{subcategoryName:e.submarket_display_name,data:[]}},i=function(e){return{categoryName:e.market_display_name,categoryId:e.market,hasSubcategory:!0,data:[]}},a=n(r),o=i(r),s=!0,c=!1,l=void 0;try{for(var u,h=e[Symbol.iterator]();!(s=(u=h.next()).done);s=!0){var d=u.value;o.categoryName!==d.market_display_name&&(o.data.push(a),t.push(o),a=n(d),o=i(d)),a.subcategoryName!==d.submarket_display_name&&(o.data.push(a),a=n(d)),a.data.push({enabled:!0,itemId:d.symbol,display:d.name,dataObject:d})}}catch(e){c=!0,l=e}finally{try{s||null==h.return||h.return()}finally{if(c)throw l}}return o.data.push(a),t.push(o),t}},{key:\"activeSymbols\",get:function(){var e=this;return Object(c.c)(this.categorizedSymbols,function(t){var r=t.dataObject.symbol;return r in e.changes&&(t.dataObject.exchange_is_open=e.changes[r]),function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(r,!0).forEach(function(t){h(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},t)})}}])&&f(t.prototype,r),n&&f(t,n),e}()).prototype,\"changes\",[s.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),o=m(i.prototype,\"categorizedSymbols\",[s.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m(i.prototype,\"retrieveActiveSymbols\",[n],Object.getOwnPropertyDescriptor(i.prototype,\"retrieveActiveSymbols\"),i.prototype),m(i.prototype,\"activeSymbols\",[s.computed],Object.getOwnPropertyDescriptor(i.prototype,\"activeSymbols\"),i.prototype),i),b=r(13),y=r.n(b),v=r(15);function _(e,t,r,n,i,a,o){try{var s=e[a](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function S(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function o(e){_(a,n,i,o,s,\"next\",e)}function s(e){_(a,n,i,o,s,\"throw\",e)}o(void 0)})}}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function x(e,t,r){return t&&w(e.prototype,t),r&&w(e,r),e}var k=function(){function e(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.isInitialized=!1,this.tradingTimesPromise=new l.a,this._shouldFetchTradingTimes=r,this._api=t,this._serverTime=v.a.getInstance(),this._emitter=new y.a({emitDelay:0})}var t,r;return x(e,null,[{key:\"EVENT_MARKET_OPEN_CLOSE_CHANGE\",get:function(){return\"EVENT_MARKET_OPEN_CLOSE_CHANGE\"}},{key:\"FEED_UNAVAILABLE\",get:function(){return\"chartonly\"}}]),x(e,[{key:\"destructor\",value:function(){this._updateTimer&&clearTimeout(this._updateTimer)}},{key:\"initialize\",value:(r=S(regeneratorRuntime.mark(function t(){var r,n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._serverTime.init(this._api);case 2:if(!this.isInitialized){t.next=4;break}return t.abrupt(\"return\",this.tradingTimesPromise);case 4:if(this.isInitialized=!0,this.lastUpdateDate=this._serverTime.getLocalDate().toISOString().substring(0,10),this._tradingTimesMap||!this._shouldFetchTradingTimes){t.next=13;break}return t.next=9,this._updateTradeTimes();case 9:return this.tradingTimesPromise.resolve(),r=function(){var t=S(regeneratorRuntime.mark(function t(){var i,a,o,s,c,l,u,h;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n._updateMarketOpenClosed(),Object.keys(i).length>0&&n._emitter.emit(e.EVENT_MARKET_OPEN_CLOSE_CHANGE,i),a=n._nextUpdateDate()){t.next=14;break}for(l in o=n._serverTime.getLocalDate(),(s=new Date(\"\".concat(n.lastUpdateDate,\"T00:00:00Z\"))).setDate(s.getDate()+1),n.lastUpdateDate=(o>s?o:s).toISOString().substring(0,10),c={},n._tradingTimesMap)c[l]=n._tradingTimesMap[l].isOpened;return t.next=12,n._updateTradeTimes();case 12:for(u in n._tradingTimesMap)n._tradingTimesMap[u].isOpened=c[u];a=s;case 14:h=a-n._serverTime.getLocalDate(),n._updateTimer=setTimeout(r,h);case 16:case\"end\":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.next=13,r();case 13:case\"end\":return t.stop()}},t,this)})),function(){return r.apply(this,arguments)})},{key:\"_updateMarketOpenClosed\",value:function(){var e={};for(var t in this._tradingTimesMap){var r=this._calcIsMarketOpened(t);this._tradingTimesMap[t].isOpened!==r&&(this._tradingTimesMap[t].isOpened=r,e[t]=r)}return e}},{key:\"_updateTradeTimes\",value:(t=S(regeneratorRuntime.mark(function e(){var t,r,n,i,a,o,s,c,l,u,h,d,p,f,m,g,b,y,v,_,S,w,x,k,O,C,E=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._api.getTradingTimes(this.lastUpdateDate);case 2:if(!(t=e.sent).error){e.next=7;break}return r=t.error,console.error(\"Error getting trading times on \".concat(this.lastUpdateDate,\": [\").concat(r.code,'] \"').concat(r.message,'\"')),e.abrupt(\"return\");case 7:n=this._serverTime.getLocalDate(),i=n.toISOString().substring(0,11),a=function(e){return new Date(\"\".concat(i).concat(e,\"Z\"))},this._tradingTimesMap={},o=t.trading_times.markets,s=!0,c=!1,l=void 0,e.prev=15,u=o[Symbol.iterator]();case 17:if(s=(h=u.next()).done){e.next=68;break}d=h.value,p=d.submarkets,f=!0,m=!1,g=void 0,e.prev=23,b=p[Symbol.iterator]();case 25:if(f=(y=b.next()).done){e.next=51;break}for(v=y.value,_=v.symbols,S=!0,w=!1,x=void 0,e.prev=31,k=function(){var e=C.value,t=e.times,r=e.symbol,n=e.feed_license,i=e.delay_amount,o=t.open,s=t.close,c=void 0,l=1===o.length&&\"00:00:00\"===o[0]&&\"23:59:59\"===s[0],u=1===o.length&&\"--\"===o[0]&&\"--\"===s[0];l||u||(c=o.map(function(e,t){return{open:a(e),close:a(s[t])}})),E._tradingTimesMap[r]={feed_license:n,delay_amount:i||0,times:c,isOpenAllDay:l,isClosedAllDay:u}},O=_[Symbol.iterator]();!(S=(C=O.next()).done);S=!0)k();e.next=40;break;case 36:e.prev=36,e.t0=e.catch(31),w=!0,x=e.t0;case 40:e.prev=40,e.prev=41,S||null==O.return||O.return();case 43:if(e.prev=43,!w){e.next=46;break}throw x;case 46:return e.finish(43);case 47:return e.finish(40);case 48:f=!0,e.next=25;break;case 51:e.next=57;break;case 53:e.prev=53,e.t1=e.catch(23),m=!0,g=e.t1;case 57:e.prev=57,e.prev=58,f||null==b.return||b.return();case 60:if(e.prev=60,!m){e.next=63;break}throw g;case 63:return e.finish(60);case 64:return e.finish(57);case 65:s=!0,e.next=17;break;case 68:e.next=74;break;case 70:e.prev=70,e.t2=e.catch(15),c=!0,l=e.t2;case 74:e.prev=74,e.prev=75,s||null==u.return||u.return();case 77:if(e.prev=77,!c){e.next=80;break}throw l;case 80:return e.finish(77);case 81:return e.finish(74);case 82:case\"end\":return e.stop()}},e,this,[[15,70,74,82],[23,53,57,65],[31,36,40,48],[41,,43,47],[58,,60,64],[75,,77,81]])})),function(){return t.apply(this,arguments)})},{key:\"isFeedUnavailable\",value:function(t){if(this._tradingTimesMap)return t in this._tradingTimesMap?this._tradingTimesMap[t].feed_license===e.FEED_UNAVAILABLE:(console.error(\"Symbol not in _tradingTimesMap:\",t,\" trading map:\",this._tradingTimesMap),!1)}},{key:\"getDelayedMinutes\",value:function(e){return this._tradingTimesMap[e].delay_amount}},{key:\"isMarketOpened\",value:function(e){if(this._tradingTimesMap)return e in this._tradingTimesMap?this._tradingTimesMap[e].isOpened:(console.error(\"Symbol not in _tradingTimesMap:\",e,\" trading map:\",this._tradingTimesMap),!1)}},{key:\"_calcIsMarketOpened\",value:function(t){var r=this._serverTime.getLocalDate(),n=this._tradingTimesMap[t],i=n.times,a=n.feed_license,o=n.isOpenAllDay;if(n.isClosedAllDay||a===e.FEED_UNAVAILABLE)return!1;if(o)return!0;var s=!0,c=!1,l=void 0;try{for(var u,h=i[Symbol.iterator]();!(s=(u=h.next()).done);s=!0){var d=u.value,p=d.open,f=d.close;if(r>=p&&r<f)return!0}}catch(e){c=!0,l=e}finally{try{s||null==h.return||h.return()}finally{if(c)throw l}}return!1}},{key:\"_nextUpdateDate\",value:function(){var t,r=this._serverTime.getLocalDate();for(var n in this._tradingTimesMap){var i=this._tradingTimesMap[n],a=i.times,o=i.feed_license,s=i.isOpenAllDay,c=i.isClosedAllDay;if(!s&&!c&&o!==e.FEED_UNAVAILABLE){var l=!0,u=!1,h=void 0;try{for(var d,p=a[Symbol.iterator]();!(l=(d=p.next()).done);l=!0){var f=d.value,m=f.open,g=f.close;m>r&&(!t||m<t)&&(t=m),g>r&&(!t||g<t)&&(t=g)}}catch(e){u=!0,h=e}finally{try{l||null==p.return||p.return()}finally{if(u)throw h}}}}return t}},{key:\"onMarketOpenCloseChanged\",value:function(t){this._emitter.on(e.EVENT_MARKET_OPEN_CLOSE_CHANGE,t)}}]),e}();function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(r,!0).forEach(function(t){E(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T(e,t,r,n,i,a,o){try{var s=e[a](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function D(e,t,r){return t&&P(e.prototype,t),r&&P(e,r),e}var j=function(){function e(t,r,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.streamRequests={},this.tradingTimesCache=null,this.requestAPI=t,this.requestSubscribe=r,this.requestForget=n,this.requestForgetStream=i}var t,r;return D(e,null,[{key:\"DEFAULT_COUNT\",get:function(){return 1e3}}]),D(e,[{key:\"getActiveSymbols\",value:function(){return this.requestAPI({active_symbols:\"brief\"})}},{key:\"getServerTime\",value:function(){return this.requestAPI({time:1})}},{key:\"getTradingTimes\",value:(t=regeneratorRuntime.mark(function e(){var t,r,n=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:\"today\",!this.tradingTimesCache||this.tradingTimesCache.trading_times!==t){e.next=3;break}return e.abrupt(\"return\",C({},this.tradingTimesCache));case 3:return e.next=5,this.requestAPI({trading_times:t});case 5:return r=e.sent,\"today\"!==t&&(this.tradingTimesCache=C({},r)),e.abrupt(\"return\",r);case 8:case\"end\":return e.stop()}},e,this)}),r=function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(e){T(a,n,i,o,s,\"next\",e)}function s(e){T(a,n,i,o,s,\"throw\",e)}o(void 0)})},function(){return r.apply(this,arguments)})},{key:\"getTickHistory\",value:function(t){var r=e.createTickHistoryRequest(t);return this.requestAPI(r)}},{key:\"subscribeTickHistory\",value:function(t,r){var n=this._getKey(t),i=e.createTickHistoryRequest(C({},t,{subscribe:1}));this.streamRequests[n]={request:i,callback:r},this.requestSubscribe(C({},i),r)}},{key:\"forget\",value:function(e){var t=this._getKey(e);if(this.streamRequests[t]){var r=this.streamRequests[t],n=r.request,i=r.callback;return delete this.streamRequests[t],this.requestForget(n,i)}}},{key:\"forgetStream\",value:function(e){if(this.requestForgetStream&&\"function\"==typeof this.requestForgetStream)return this.requestForgetStream(e)}},{key:\"_getKey\",value:function(e){var t=e.symbol,r=e.granularity;return\"\".concat(t,\"-\").concat(r)}}],[{key:\"createTickHistoryRequest\",value:function(t){var r=t.symbol,n=t.granularity,i=t.start,a=t.end,o=t.subscribe,s=t.adjust_start_time,c=void 0===s?1:s,l={ticks_history:r,style:+n?\"candles\":\"ticks\",end:\"latest\",count:t.count||e.DEFAULT_COUNT};return n&&(l.granularity=+n),c&&(l.adjust_start_time=c),o&&(l.subscribe=1),i&&(delete l.count,l.start=i),a&&(l.end=a),l}}]),e}();r.d(t,\"a\",function(){return g}),r.d(t,\"c\",function(){return k}),r.d(t,\"b\",function(){return j})},function(e,t,r){\"use strict\";(function(e){r.d(t,\"b\",function(){return d}),r.d(t,\"a\",function(){return p});var n=r(0),i=r.n(n),a=r(2),o=r(40),s=i.a.memo(function(e){var t=e.id;if(!t||!a.A[t])return\"\";var r=a.A[t];return i.a.createElement(r,{className:\"ic-\".concat(t)})}),c=i.a.memo(function(e){var t=e.item,r=t.itemId,n=t.display;return i.a.createElement(\"div\",{className:\"left\"},i.a.createElement(s,{id:r}),i.a.createElement(\"span\",{className:\"ciq-item-display\"},n))}),l=i.a.memo(function(t){var r=t.favoritesId,n=t.item,a=n.dataObject,s=n.itemId;return i.a.createElement(\"div\",{className:\"right\"},a&&(void 0===a.exchange_is_open||a.exchange_is_open)?\"\":i.a.createElement(\"span\",{className:\"closed-market\"},e.translate(\"CLOSED\")),i.a.createElement(o.a,{category:r,id:s}))}),u=function(e){var t=e.opt,r=e.item,n=a.a[t.id];return i.a.createElement(\"span\",{className:\"ic-\".concat(t.id),onClick:function(e){return t.onClick&&t.onClick(r.dataObject,e)}},n&&i.a.createElement(n,null),t.renderChild&&t.renderChild(r))},h=function(e){var t=e.activeOptions,r=e.item;return t&&i.a.createElement(\"span\",{className:\"cq-active-options\"},t.map(function(e){return i.a.createElement(u,{key:e.id,opt:e,item:r})}))},d=i.a.memo(function(e){var t=e.onSelectItem,r=e.item,n=e.disableAll,a=e.favoritesId,o=e.id,s=o?\"\".concat(o,\"-subcategory-item-\").concat(r.itemId):\"subcategory-item-\".concat(r.itemId);return i.a.createElement(\"div\",{className:\"cq-item \".concat(r.selected?\"selected \":\"\",\" \").concat(s),onClick:function(e){return r.enabled&&t(r.dataObject,e)},disabled:!r.enabled||n},i.a.createElement(c,{item:r}),i.a.createElement(l,{item:r,favoritesId:a}))}),p=function(e){var t=e.item,r=e.favoritesId,n=e.activeOptions;return i.a.createElement(\"div\",{className:\"cq-active-item\"},i.a.createElement(c,{item:t}),i.a.createElement(\"div\",{className:\"right\"},i.a.createElement(h,{activeOptions:n,item:t}),i.a.createElement(o.a,{category:r,id:t.itemId})))}}).call(this,r(6).t)},function(e,t,r){\"use strict\";(function(e){var n=r(0),i=r.n(n),a=r(39),o=r(5),s=r(10),c=r(2),l=(r(218),function(t){var r=t.value,n=t.onChange;return i.a.createElement(\"div\",{className:\"ciq-list-item\"},i.a.createElement(\"span\",{className:\"ciq-icon-text\"},e.translate(\"Asset Information\")),i.a.createElement(\"div\",{className:\"ciq-action\"},i.a.createElement(s.h,{value:r,onChange:n})))}),u=function(t){var r=t.position,n=t.setPosition;return i.a.createElement(\"div\",{className:\"ciq-list-item ciq-list-item-position\"},i.a.createElement(\"span\",{className:\"ciq-icon-text\"},e.translate(\"Position\")),i.a.createElement(\"div\",{className:\"ciq-action\"},i.a.createElement(c.J,{onClick:function(){return n(\"bottom\")},className:\"\".concat(\"bottom\"===r?\"active\":\"\")}),i.a.createElement(c.K,{onClick:function(){return n(\"left\")},className:\"\".concat(\"left\"===r?\"active\":\"\")})))};t.a=Object(o.a)(function(e){var t=e.chartSetting,r=e.chart;return{assetInformation:t.assetInformation,ChartSettingMenu:t.ChartSettingMenu,closeMenu:t.menu.onTitleClick,countdown:t.countdown,historical:t.historical,isMobile:r.isMobile,isAutoScale:t.isAutoScale,isHighestLowestMarkerEnabled:t.isHighestLowestMarkerEnabled,languages:t.languages,menuOpen:t.menu.dialog.open,position:t.position,selectedLanguage:t.language,setAssetInformation:t.setAssetInformation,setAutoScale:t.setAutoScale,setHistorical:t.setHistorical,setLanguage:t.setLanguage,setPosition:t.setPosition,setTheme:t.setTheme,setView:t.setView,showCountdown:t.showCountdown,theme:t.theme,toggleHighestLowestMarker:t.toggleHighestLowestMarker,view:t.view}})(function(t){var r=t.assetInformation,n=t.ChartSettingMenu,o=t.closeMenu,h=t.countdown,d=t.historical,p=t.isAutoScale,f=t.isHighestLowestMarkerEnabled,m=t.isMobile,g=t.languages,b=t.menuOpen,y=t.position,v=t.selectedLanguage,_=t.setAssetInformation,S=t.setAutoScale,w=t.setHistorical,x=t.setLanguage,k=t.setPosition,O=t.setTheme,C=t.setView,E=t.showCountdown,T=t.view,P=t.theme,D=t.toggleHighestLowestMarker;return i.a.createElement(n,{className:\"cq-chart-setting\"},i.a.createElement(n.Title,null,i.a.createElement(c.P,{className:\"ic-icon-with-sub \".concat(b?\"active\":\"\"),\"tooltip-title\":e.translate(\"Settings\")})),i.a.createElement(n.Body,null,i.a.createElement(\"div\",{className:\"cq-setting-container container-\".concat(\"\"===T?\"main\":T)},i.a.createElement(a.CSSTransition,{in:\"\"===T,timeout:250,classNames:\"cq-setting-main animate\",unmountOnExit:!0},i.a.createElement(\"div\",null,i.a.createElement(\"div\",{className:\"title\"},i.a.createElement(\"div\",{className:\"title-text\"},\" \",e.translate(\"Settings\"),\" \"),i.a.createElement(c.k,{className:\"icon-close-menu\",onClick:function(){return o()}})),i.a.createElement(\"div\",{className:\"body\"},i.a.createElement(\"div\",{className:\"ciq-list ciq-list-setting\"},m?\"\":i.a.createElement(u,{setPosition:k,position:y}),i.a.createElement(\"div\",{className:\"ciq-list-item\"},i.a.createElement(\"span\",{className:\"ciq-icon-text\"},e.translate(\"Auto Scale\")),i.a.createElement(\"div\",{className:\"ciq-action\"},i.a.createElement(s.h,{value:p,onChange:S}))),i.a.createElement(\"div\",{className:\"ciq-list-item\"},i.a.createElement(\"span\",{className:\"ciq-icon-text\"},e.translate(\"Dark Mode\")),i.a.createElement(\"div\",{className:\"ciq-action\"},i.a.createElement(s.h,{value:\"dark\"===P,onChange:function(e){return O(e?\"dark\":\"light\")}}))),i.a.createElement(\"div\",{className:\"ciq-list-item\"},i.a.createElement(\"span\",{className:\"ciq-icon-text\"},e.translate(\"Countdown\")),i.a.createElement(\"div\",{className:\"ciq-action\"},i.a.createElement(s.h,{value:h,onChange:E}))),m?\"\":i.a.createElement(l,{value:r,onChange:_}),i.a.createElement(\"div\",{className:\"ciq-list-item\"},i.a.createElement(\"span\",{className:\"ciq-icon-text\"},e.translate(\"Historical Data Mode\")),i.a.createElement(\"div\",{className:\"ciq-action\"},i.a.createElement(s.h,{value:d,onChange:w}))),i.a.createElement(\"div\",{className:\"ciq-list-item ciq-list-item-lng\",onClick:function(){return C(\"language\")}},i.a.createElement(\"span\",{className:\"ciq-icon-text\"},e.translate(\"Language\")),i.a.createElement(\"div\",{className:\"ciq-action\"},v.icon)),i.a.createElement(\"div\",{className:\"ciq-list-item \".concat(d&&\"disabled\")},i.a.createElement(\"span\",{className:\"ciq-icon-text\"},e.translate(\"Show Highest/Lowest Spot\")),i.a.createElement(\"div\",{className:\"ciq-action\"},i.a.createElement(s.h,{value:f,onChange:D}))))))),i.a.createElement(a.CSSTransition,{in:\"language\"===T,timeout:250,classNames:\"cq-setting-language animate\",unmountOnExit:!0},i.a.createElement(\"div\",null,i.a.createElement(\"div\",{className:\"title\"},i.a.createElement(c.d,{className:\"icon-back-menu\",onClick:function(){return C()}}),i.a.createElement(\"div\",{className:\"title-text\"},e.translate(\"Language\"))),i.a.createElement(\"div\",{className:\"body\"},i.a.createElement(\"div\",{className:\"ciq-list ciq-list-language\"},g.map(function(e){return i.a.createElement(\"div\",{className:\"ciq-list-item \".concat(v.key===e.key?\"selected\":\"\"),key:e.key,onClick:function(){return x(e.key)}},e.icon,i.a.createElement(\"span\",{className:\"ciq-icon-text\"},e.name))}))))))))})}).call(this,r(6).t)},function(e,t,r){e.exports={id:\"ic-zoomin-light-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-zoomin-light-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-indicator-normal-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-indicator-normal-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"pln-usage\",viewBox:\"0 0 24 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#pln-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"usd-usage\",viewBox:\"0 0 24 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#usd-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"german-usage\",viewBox:\"0 0 24 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#german-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"french-usage\",viewBox:\"0 0 24 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#french-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"spanish-usage\",viewBox:\"0 0 24 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#spanish-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-down-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-down-usage\",toString:function(){return this.url}}},function(e,t,r){\"use strict\";(function(e){r.d(t,\"b\",function(){return c}),r.d(t,\"a\",function(){return l});var n=r(0),i=r.n(n),a=r(2),o=r(173),s=function(e){var t=e.symbol,r=e.ChartPrice,n=e.isSymbolOpen,o=e.symbolOpenTime,s=a.A[t.symbol]||a.R,c=!n&&o.openTime,l=!n&&!o.openTime;return i.a.createElement(i.a.Fragment,null,s&&i.a.createElement(s,{className:\"ic-\".concat(t.symbol)}),i.a.createElement(\"div\",{className:\"cq-symbol-info\"},i.a.createElement(\"div\",{className:\"cq-symbol \".concat(l?\"closed-no-opentime\":\"\")},t.name),n&&i.a.createElement(r,null),c&&i.a.createElement(u,{symbolOpenTime:o})))},c=function(t){var r=t.symbol,n=t.ChartPrice,o=t.isSymbolOpen,c=t.symbolOpenTime;return i.a.createElement(\"div\",{className:\"cq-symbol-select-btn\"},i.a.createElement(s,{symbol:r,ChartPrice:n,symbolOpenTime:c,isSymbolOpen:o}),!o&&i.a.createElement(\"div\",{className:\"cq-symbol-closed-text\"},e.translate(\"CLOSED\")),i.a.createElement(a.c,{className:\"cq-symbol-dropdown\"}))},l=function(e){var t=e.isVisible,r=e.status,n=e.todayChange,a=e.todayChangePercent,o=e.SpotPrice;return t&&i.a.createElement(\"div\",{className:\"cq-chart-price\"},i.a.createElement(o,{className:\"cq-current-price\"}),i.a.createElement(\"div\",{className:\"divider\"},\"-\"),i.a.createElement(\"div\",{className:\"cq-change \".concat(r)},i.a.createElement(\"span\",{className:\"cq-todays-change\"},n||0),i.a.createElement(\"span\",{className:\"cq-todays-change-percent\"},\"(\",a,\"%)\"),\" \"))},u=function(t){return i.a.createElement(\"div\",{className:\"cq-chart-closed\"},i.a.createElement(a.V,{className:\"cq-closed-icon\"}),i.a.createElement(\"div\",{className:\"cq-closed-opening\"},e.translate(\"Opens in:\"),\"  \",i.a.createElement(\"span\",{className:\"cq-closed-opening-time\"},i.a.createElement(o.a,{symbolOpenTime:t}))))}}).call(this,r(6).t)},function(e,t,r){\"use strict\";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.node=t,this.context=r,this.injections=[]}var t,r,i;return t=e,(r=[{key:\"addInjection\",value:function(e,t,r){this.injections.push(this.context.stx[e](t,r))}},{key:\"destroy\",value:function(){for(var e=0;e<this.injections.length;e++)this.context.stx.removeInjection(this.injections[e]);this.injections=[]}}])&&n(t.prototype,r),i&&n(t,i),e}();function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.keyup=function(e){var t=e.which;if(n.implementAndroidWorkaround)return n.androidWorkaroundKeyup(e),void(n.implementAndroidWorkaround=!1);switch(t){case 16:return n.shift=!1,void n.cb({key:t,e:e,keystroke:n});case 17:case 18:return n.ctrl=!1,void n.cb({key:t,e:e,keystroke:n});case 91:return n.cmd=!1,void n.cb({key:t,e:e,keystroke:n})}n.key&&n.cb({key:n.key,e:e,keystroke:n})},this.keydown=function(e){if(n.downValue=e.target.value,!n.noKeyCapture){var t=e.which;if(229===t&&CIQ.isAndroid)n.implementAndroidWorkaround=!0;else if(n.ctrl||!(91!==t&&t>=48&&t<=222||32===t)){switch(t){case 91:return void(n.cmd=!0);case 16:return void(n.shift=!0);case 17:case 18:return void(n.ctrl=!0);case 20:return void(n.capsLock=!n.capsLock)}8===t&&(t=\"backspace\"),9===t&&(t=\"tab\"),13===t&&(t=\"enter\"),27===t&&(t=\"escape\"),33===t&&(t=\"page up\"),34===t&&(t=\"page down\"),35===t&&(t=\"end\"),36===t&&(t=\"home\"),45===t&&(t=\"insert\"),46===t&&(t=\"delete\"),n.key=t,37!==t&&38!==t&&39!==t&&40!==t||(37===t&&(t=\"left\"),38===t&&(t=\"up\"),39===t&&(t=\"right\"),40===t&&(t=\"down\"),n.key=null,n.cb({key:t,e:e,keystroke:n}))}}},this.keypress=function(e){if(!n.noKeyCapture){var t=e.which;t<32||t>222||(n.key=t)}},this.onblur=function(e){n.ctrl=!1,n.cb({key:17,e:e,keystroke:n})},this.node=t,this.cb=r,this.initialize(),this.shift=!1,this.ctrl=!1,this.cmd=!1,this.capsLock=!1,this.downValue=\"\"}var t,r,n;return t=e,(r=[{key:\"androidWorkaroundKeyup\",value:function(e){var t,r=e.target.value;t=r.length>this.downValue.length?r.charCodeAt(r.length-1):\"delete\",this.cb({key:t,e:e,keystroke:this})}},{key:\"initialize\",value:function(){this.node.addEventListener(\"keyup\",this.keyup),this.node.addEventListener(\"keydown\",this.keydown),this.node.addEventListener(\"keypress\",this.keypress),window.addEventListener(\"blur\",this.onblur)}}])&&a(t.prototype,r),n&&a(t,n),e}();o.noKeyCapture=!1;var s=o,c=r(17);function l(e){return(l=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(e,r,n){var i;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),(i=function(e,t){return!t||\"object\"!==l(t)&&\"function\"!=typeof t?d(e):t}(this,h(t).call(this,e,r,n))).node=e,i.context=r,i.params=n||{},t.instance=d(i);var a=d(i);return i.keystroke=new s(e,function(){a.handler.apply(a,arguments)}),i}var r,n,a;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,i),r=t,a=[{key:\"defaultHotKeys\",value:function(e,t){var r=t.context.stx,n=1;switch(e){case\"up\":r.zoomIn();break;case\"down\":r.zoomOut();break;case\"home\":r.home(),r.headsUpHR();break;case\"end\":r.chart.scroll=r.chart.dataSet.length,r.draw(),r.headsUpHR();break;case\"left\":r.ctrl?r.zoomOut():(n=1,(r.shift||t.capsLock)&&(n=Math.max(5,5*(8-Math.round(r.layout.candleWidth)))),r.chart.scroll+n>=r.chart.dataSet.length&&(n=r.chart.dataSet.length-r.chart.scroll),r.chart.scroll+=n,r.draw(),r.headsUpHR());break;case\"right\":r.ctrl?r.zoomIn():(n=1,(r.shift||t.capsLock)&&(n=Math.max(5,5*(8-Math.round(r.layout.candleWidth)))),r.chart.scroll-=n,r.draw(),r.headsUpHR());break;case\"delete\":case\"backspace\":if(CIQ.ChartEngine.drawingLine)r.undo();else{if(!r.anyHighlighted)return!1;r.deleteHighlighted()}break;case\"escape\":CIQ.ChartEngine.drawingLine&&r.undo();break;default:return!1}return!0}}],(n=[{key:\"setActiveContext\",value:function(e){this.context=e}},{key:\"processKeyStrokeClaims\",value:function(e,t,r,n){for(var i=c.a.length-1;i>-1;i--){var a=c.a[i].helper.keyStroke(e,t,r,n);if(a)return a.allowDefault||r.preventDefault(),!0}return!1}},{key:\"addClaim\",value:function(e){c.a.push({helper:e})}},{key:\"removeClaim\",value:function(e){for(var t=0;t<c.a.length;t++)if(c.a[t].helper===e)return void c.a.splice(t,1)}},{key:\"handler\",value:function(e){if(this.context){var t=this.context.stx;if(!t.editingAnnotation){var r=e.e,n=e.key,i=e.keystroke,a=e.e.target.tagName;switch(n){case 16:t.shift=i.shift;break;case 17:case 18:t.ctrl=i.ctrl;break;case 91:t.cmd=i.cmd;break;case 20:this.capsLock=!this.capsLock}!CIQ.ChartEngine.drawingLine&&this.processKeyStrokeClaims(this,n,r,i)||\"escape\"!==n&&this.context.isModal()||\"INPUT\"!==a&&\"TEXTAREA\"!==a&&this.params.cb&&this.params.cb(n,this)&&r.preventDefault()}}}}])&&u(r.prototype,n),a&&u(r,a),t}();f.instance=null;t.a=f},function(e,t){var r;r=function(){return this}();try{r=r||new Function(\"return this\")()}catch(e){\"object\"==typeof window&&(r=window)}e.exports=r},function(e,t,r){\"use strict\";(function(e){r.d(t,\"a\",function(){return s});var n=r(0),i=r.n(n),a=r(2),o=i.a.memo(function(t){var r=t.focusedCategoryKey,n=t.activeCategoryKey,o=t.handleFilterClick,s=t.category,c=t.isMobile,l=a.g[s.categoryId],u=r&&r.length?r===s.categoryId:n===s.categoryId;return i.a.createElement(\"div\",{className:\"cq-filter \".concat(u?\"cq-active-filter\":\"\",\" \").concat(c?\"\":\"cq-hover-style\"),onClick:function(e){return o(s,e)}},l&&i.a.createElement(l,{className:\"ic-\".concat(s.categoryId)}),i.a.createElement(\"span\",{className:\"cq-filter-text\"},e.translate(s.categoryName)))}),s=function(e){var t=e.filteredItems,r=e.handleFilterClick,n=e.focusedCategoryKey,a=e.activeCategoryKey,s=e.isMobile;return i.a.createElement(\"div\",{className:\"cq-filter-panel\"},t.map(function(e){return i.a.createElement(o,{key:e.categoryId,category:e,handleFilterClick:r,activeCategoryKey:a,focusedCategoryKey:n,isMobile:s})}))}}).call(this,r(6).t)},function(e,t,r){\"use strict\";(function(e){r.d(t,\"a\",function(){return c});var n=r(0),i=r.n(n);function a(e){var t=0;if(e.hasSubcategory){var r=!0,n=!1,i=void 0;try{for(var a,o=e.data[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){t+=a.value.data.length}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}else t+=e.data.length;return t}var o=function(e,t,r,n){var i=\"\";return t===e&&(i=r<0?\"sticky-bottom\":\"sticky-top\"),\"category-title \".concat(i,\" \").concat(n?\"has-subtitle\":\"\")},s=function(t){var r=t.category,n=t.Item,s=t.setCategoryElement,c=t.onSelectItem,l=t.activeHeadKey,u=t.activeHeadTop,h=t.activeHeadOffset,d=t.disableAll;return i.a.createElement(\"div\",{className:\"category category-\".concat(r.categoryId,\" \").concat(r.categorySubtitle?\"category-has-subtitle\":\"\"),ref:function(e){return s(e,r.categoryId)}},i.a.createElement(\"div\",{className:o(r.categoryId,l,u,r.categorySubtitle),style:{top:l===r.categoryId?h:null}},e.translate(r.categoryName),(r.categoryNamePostfixShowIfActive&&l===r.categoryId||!r.categoryNamePostfixShowIfActive)&&r.categoryNamePostfix&&i.a.createElement(\"span\",{className:\"category-name-postfix\"},r.categoryNamePostfix),r.categorySubtitle&&i.a.createElement(\"div\",{className:\"category-subtitle\"},e.translate(r.categorySubtitle))),r.hasSubcategory?r.data.map(function(t){return a(t)>0&&i.a.createElement(\"div\",{className:\"category-content has-subcategory\",key:t.subcategoryName},i.a.createElement(\"div\",{className:\"subcategory\"},e.translate(t.subcategoryName)),t.data.map(function(e){return i.a.createElement(n,{key:e.display,item:e,onSelectItem:c,disableAll:d})}))}):r.data.length>0&&i.a.createElement(\"div\",{className:\"category-content\"},r.data.map(function(e,t){return i.a.createElement(n,{key:\"\".concat(e.display,\"-\").concat(t),item:e,onSelectItem:c,disableAll:d})})),0===a(r)&&r.emptyDescription&&i.a.createElement(\"div\",{className:\"category-content\"},i.a.createElement(\"div\",{className:\"empty-category\"},e.translate(r.emptyDescription))))},c=i.a.memo(function(e){var t=e.filteredItems,r=e.onSelectItem,n=e.getItemType,o=e.setCategoryElement,c=e.activeHeadKey,l=e.activeHeadTop,u=e.activeHeadOffset,h=e.disableAll;return i.a.createElement(\"div\",{className:\"results-panel\"},t.map(function(e){return(a(e)>0||e.emptyDescription)&&i.a.createElement(s,{key:e.categoryId,Item:n(e.categoryId),category:e,setCategoryElement:o,onSelectItem:r,activeHeadKey:c,activeHeadTop:l,activeHeadOffset:u,disableAll:h})}))})}).call(this,r(6).t)},function(e,t){e.exports={\" already exists.\":0,\"[symbol] feed is delayed by [delay] minutes\":1,\"[symbol] market is now opened.\":2,\"[symbol] market is presently closed.\":3,'\"Mass Index\" or \"Doji Star\"':4,Active:5,\"Add New\":6,Annotation:7,\"Asset Information\":8,\"Auto Scale\":9,\"Average Line\":10,Baseline:11,\"Box Size\":12,C:13,Callout:14,CANCEL:15,Candle:16,Change:17,Channel:18,\"Chart data is not available for this symbol.\":19,\"Chart Table\":20,\"Chart types\":21,\"Clear All\":22,Close:23,CLOSE:24,CLOSED:25,\"Colored Dot\":26,Comparison:27,Continuous:28,Countdown:29,Crosshair:30,Crossline:31,\"Dark Mode\":32,Date:33,Day:34,DONE:35,Doodle:36,Dot:37,Download:38,\"Download as CSV\":39,\"Download as PNG\":40,\"Download Chart\":41,\"Draw tools\":42,Ellipse:43,Favorites:44,\"Fib Arc\":45,\"Fib Fan\":46,\"Fib Retracement\":47,\"Fib Time Zone\":48,\"Gann Fan\":49,Gartley:50,H:51,\"Heikin Ashi\":52,High:53,HIGH:54,\"Historical Data Mode\":55,\"Hollow Candle\":56,Horizontal:57,Hour:58,Indicators:59,Interval:60,Kagi:61,L:62,Language:63,\"Last digits stats for latest 1000 ticks on \":64,Line:65,\"Line Break\":66,Low:67,LOW:68,Measure:69,Minute:70,O:71,OHLC:72,Open:73,OPEN:74,OVERWRITE:75,Pitchfork:76,\"Point & Figure\":77,Position:78,\"Price Lines\":79,\"Quadrant Lines\":80,Range:81,\"Range Bars\":82,Ray:83,Rectangle:84,\"Regression Line\":85,Renko:86,RESET:87,\"Retrieving Chart Data...\":88,\"Retrieving Chart Engine...\":89,\"Retrieving Market Symbols...\":90,\"Retrieving Trading Times...\":91,Reversal:92,\"Reversal Percentage\":93,\"right-click to delete\":94,\"right-click to manage\":95,\"Search...\":96,Segment:97,Settings:98,\"Shape - Arrow\":99,\"Shape - Check\":100,\"Shape - Cross\":101,\"Shape - Focus\":102,\"Shape - Heart\":103,\"Shape - Star\":104,\"Speed Resistance Arc\":105,\"Speed Resistance Line\":106,Spline:107,SPOT:108,\"Streaming for [symbol] is not available due to license restrictions\":109,Table:110,\"Template name\":111,Templates:112,\"There are no active comparisons yet.\":113,\"There are no active indicators yet.\":114,\"There are no favorites yet.\":115,Tick:116,\"Time Cycle\":117,\"Tirone Levels\":118,\"Underlying Assets\":119,Vertical:120,\"Would you like to overwrite it?\":121,\"Zoom in\":122,\"Zoom out\":123,RSI:124,Period:125,\"Show Zones\":126,OverBought:127,OverSold:128,\"Moving Average\":129,Field:130,Type:131,Offset:132,MA:133,MACD:134,\"Fast MA Period\":135,\"Slow MA Period\":136,\"Signal Period\":137,Signal:138,\"Increasing Bar\":139,\"Decreasing Bar\":140,Stochastics:141,Smooth:142,Fast:143,Slow:144,Aroon:145,\"Aroon Up\":146,\"Aroon Down\":147,\"Aroon Oscillator\":148,\"Linear Reg R2\":149,RSquared:150,\"Linear Reg Forecast\":151,Forecast:152,\"Linear Reg Intercept\":153,Intercept:154,\"Time Series Forecast\":155,\"Vertical Horizontal Filter\":156,Result:157,TRIX:158,\"Standard Deviation\":159,\"Standard Deviations\":160,\"Moving Average Type\":161,\"Trade Volume Index\":162,\"Min Tick Value\":163,\"Swing Index\":164,\"Limit Move Value\":165,\"Accumulative Swing Index\":166,\"Price Rate of Change\":167,\"Volume Rate of Change\":168,\"Momentum Indicator\":169,\"Price Volume Trend\":170,\"Positive Volume Index\":171,Index:172,\"Negative Volume Index\":173,\"On Balance Volume\":174,\"Stochastic Momentum Index\":175,\"%K Periods\":176,\"%K Smoothing Periods\":177,\"%K Double Smoothing Periods\":178,\"%D Periods\":179,\"%D Moving Average Type\":180,\"%K\":181,\"%D\":182,\"Historical Volatility\":183,\"Days Per Year\":184,\"Pretty Good Oscillator\":185,\"Ultimate Oscillator\":186,\"Cycle 1\":187,\"Cycle 2\":188,\"Cycle 3\":189,\"Volume Oscillator\":190,\"Short Cycle\":191,\"Long Cycle\":192,\"Points Or Percent\":193,\"Twiggs Money Flow\":194,\"Chaikin Money Flow\":195,\"Chaikin Volatility\":196,\"Rate Of Change\":197,\"Price Oscillator\":198,\"Ease of Movement\":199,\"Commodity Channel Index\":200,\"Detrended Price Oscillator\":201,\"True Range\":202,\"Average True Range\":203,ATR:204,\"Ehler Fisher Transform\":205,EF:206,\"EF Trigger\":207,\"Schaff Trend Cycle\":208,QStick:209,\"Coppock Curve\":210,\"Short RoC\":211,\"Long RoC\":212,\"Chande Momentum Oscillator\":213,\"Chande Forecast Oscillator\":214,\"Intraday Momentum Index\":215,RAVI:216,\"Random Walk Index\":217,\"Random Walk High\":218,\"Random Walk Low\":219,\"ADX/DMS\":220,\"Smoothing Period\":221,Series:222,Shading:223,Histogram:224,\"+DI\":225,\"-DI\":226,ADX:227,\"Positive Bar\":228,\"Negative Bar\":229,\"High Low Bands\":230,\"Shift Percentage\":231,\"Channel Fill\":232,\"High Low Top\":233,\"High Low Median\":234,\"High Low Bottom\":235,\"High Minus Low\":236,\"Median Price\":237,\"Moving Average Envelope\":238,\"Shift Type\":239,Shift:240,\"MA Env Top\":241,\"MA Env Median\":242,\"MA Env Bottom\":243,\"Fractal Chaos Bands\":244,\"Fractal High\":245,\"Fractal Low\":246,\"Fractal Channel\":247,\"Fractal Chaos Oscillator\":248,\"Gopalakrishnan Range Index\":249,\"Prime Number Bands\":250,\"Prime Bands Top\":251,\"Prime Bands Bottom\":252,\"Prime Bands Channel\":253,\"Prime Number Oscillator\":254,\"Tolerance Percentage\":255,\"Bollinger Bands\":256,\"Bollinger Bands Top\":257,\"Bollinger Bands Median\":258,\"Bollinger Bands Bottom\":259,\"Donchian Channel\":260,\"High Period\":261,\"Low Period\":262,\"Donchian High\":263,\"Donchian Median\":264,\"Donchian Low\":265,\"Highest High Value\":266,\"Lowest Low Value\":267,\"Mass Index\":268,\"Bulge Threshold\":269,\"Keltner Channel\":270,\"Keltner Top\":271,\"Keltner Median\":272,\"Keltner Bottom\":273,\"Parabolic SAR\":274,\"Minimum AF\":275,\"Maximum AF\":276,\"Klinger Volume Oscillator\":277,\"Signal Periods\":278,Klinger:279,KlingerSignal:280,\"Elder Ray Index\":281,\"Elder Bull Power\":282,\"Elder Bear Power\":283,\"Elder Force Index\":284,\"Linear Reg Slope\":285,Slope:286,\"Center Of Gravity\":287,\"Typical Price\":288,\"Weighted Close\":289,\"Money Flow Index\":290,\"Williams %R\":291,\"Accumulation/Distribution\":292,\"Use Volume\":293,\"Volume Chart\":294,\"Up Volume\":295,\"Down Volume\":296,\"Volume Underlay\":297,\"Valuation Lines\":298,\"Average Type\":299,\"Display Average\":300,\"Display 1 Standard Deviation (1σ)\":301,\"Display 2 Standard Deviation (2σ)\":302,\"Display 3 Standard Deviation (3σ)\":303,Average:304,\"1 Standard Deviation (1σ)\":305,\"2 Standard Deviation (2σ)\":306,\"3 Standard Deviation (3σ)\":307,\"Correlation Coefficient\":308,\"Price Momentum Oscillator\":309,\"Double Smoothing Period\":310,PMO:311,PMOSignal:312,\"Relative Volatility\":313,\"STD Period\":314,\"Rel Vol\":315,\"Awesome Oscillator\":316,\"Market Facilitation Index\":317,\"Scale Factor\":318,Green:319,Fade:320,Fake:321,Squat:322,\"ATR Bands\":323,\"ATR Bands Top\":324,\"ATR Bands Bottom\":325,\"ATR Bands Channel\":326,\"STARC Bands\":327,\"MA Period\":328,Multiplier:329,\"STARC Bands Top\":330,\"STARC Bands Median\":331,\"STARC Bands Bottom\":332,\"ATR Trailing Stops\":333,\"Plot Type\":334,HighLow:335,\"Buy Stops\":336,\"Sell Stops\":337,\"Bollinger %b\":338,\"%b\":339,\"Bollinger Bandwidth\":340,Bandwidth:341,\"Donchian Width\":342,\"Relative Vigor Index\":343,\"Rel Vig\":344,RelVigSignal:345,\"Elder Impulse System\":346,Bullish:347,Bearish:348,Neutral:349,\"Pivot Points\":350,Pivot:351,\"Resistance 1\":352,\"Support 1\":353,\"Resistance 2\":354,\"Support 2\":355,\"Resistance 3\":356,\"Support 3\":357,VWAP:358,Alligator:359,\"Jaw Period\":360,\"Jaw Offset\":361,\"Teeth Period\":362,\"Teeth Offset\":363,\"Lips Period\":364,\"Lips Offset\":365,\"Show Fractals\":366,Jaw:367,Teeth:368,Lips:369,\"Gator Oscillator\":370,\"Ichimoku Clouds\":371,\"Conversion Line Period\":372,\"Base Line Period\":373,\"Leading Span B Period\":374,\"Lagging Span Period\":375,\"Conversion Line\":376,\"Base Line\":377,\"Leading Span A\":378,\"Leading Span B\":379,\"Lagging Span\":380,\"Price Relative\":381,\"Comparison Symbol\":382,\"Performance Index\":383,Gain:384,Loss:385,Beta:386,\"Ulcer Index\":387,\"Balance of Power\":388,\"Trend Intensity Index\":389,TII:390,\"Choppiness Index\":391,\"Disparity Index\":392,\"Rainbow Moving Average\":393,SMA1:394,SMA2:395,SMA3:396,SMA4:397,SMA5:398,SMA6:399,SMA7:400,SMA8:401,SMA9:402,SMA10:403,\"Rainbow Oscillator\":404,\"HHV/LLV Lookback\":405,\"Pring's Know Sure Thing\":406,\"Lightest Rate of Change Period\":407,\"Lightest SMA Period\":408,\"Light Rate of Change Period\":409,\"Light SMA Period\":410,\"Heavy Rate of Change Period\":411,\"Heavy SMA Period\":412,\"Heaviest Rate of Change Period\":413,\"Heaviest SMA Period\":414,KST:415,KSTSignal:416,\"Pring's Special K\":417,\"Darvas Box\":418,\"ATH Lookback Period\":419,\"Exit Field\":420,\"Ghost Boxes\":421,\"Stop Levels\":422,\"Level Offset\":423,\"Price Minimum\":424,\"Volume Spike\":425,\"Volume % of Avg\":426,Darvas:427,Ghost:428,Levels:429,Supertrend:430,Uptrend:431,Downtrend:432,\"Volume Profile\":433,\"Bars Color\":434,\"Vortex Indicator\":435,\"+VI\":436,\"-VI\":437,ZigZag:438,\"Distance(%)\":439,\"Psychological Line\":440,\"Moving Average Deviation\":441,\"Shinohara Intensity Ratio\":442,\"Strong Ratio\":443,\"Weak Ratio\":444,Closed:445,\"Opens in:\":446,\"Up to 5 active indicators allowed.\":447}},function(e,t,r){e.exports={id:\"ic-baseline-normal-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-baseline-normal-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-candle-normal-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-candle-normal-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-dot-normal-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-dot-normal-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-linedot-normal-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-linedot-normal-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-heikin-ashi-normal-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-heikin-ashi-normal-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-hollowcandle-normal-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-hollowcandle-normal-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-kagi-normal-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-kagi-normal-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-line-normal-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-line-normal-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-linebreak-normal-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-linebreak-normal-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-ohlc-normal-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-ohlc-normal-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-pointfigure-normal-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-pointfigure-normal-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-rangebars-normal-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-rangebars-normal-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-renko-normal-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-renko-normal-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-spline-normal-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-spline-normal-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"table-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#table-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-png-usage\",viewBox:\"0 0 32 32\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-png-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-csv-usage\",viewBox:\"0 0 32 32\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-csv-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-close-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-close-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-close-circle-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-close-circle-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-close-bold-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-close-bold-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-comparison-normal-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-comparison-normal-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-crosshair-off-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-crosshair-off-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-crosshair-on-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-crosshair-on-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-crosshair-tooltip-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-crosshair-tooltip-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-clear-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-clear-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-drawingtools-normal-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-drawingtools-normal-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-measure-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-measure-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-zoomout-light-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-zoomout-light-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-charttemplate-normal-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-charttemplate-normal-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-tick-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-tick-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-time-usage\",viewBox:\"0 0 12 12\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-time-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-active-normal-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-active-normal-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-commodities-normal-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-commodities-normal-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-forex-normal-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-forex-normal-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-indices-normal-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-indices-normal-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-otc-normal-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-otc-normal-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-synth-normal-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-synth-normal-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-volatility-normal-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-volatility-normal-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-search-normal-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-search-normal-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-dropdown-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-dropdown-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-download-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-download-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-position-left-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-position-left-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-position-bottom-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-position-bottom-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-back-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-back-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-pencil-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-pencil-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"warning-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#warning-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"error-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#error-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"success-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#success-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"info-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#info-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-home-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-home-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-scale-full-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-scale-full-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-zoomin-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-zoomin-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-zoomout-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-zoomout-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-placeholder-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-placeholder-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"aud-usage\",viewBox:\"0 0 24 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#aud-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"cad-usage\",viewBox:\"0 0 24 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#cad-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"chf-usage\",viewBox:\"0 0 24 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#chf-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"eur-usage\",viewBox:\"0 0 24 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#eur-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"gbp-usage\",viewBox:\"0 0 24 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#gbp-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"jpy-usage\",viewBox:\"0 0 24 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#jpy-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"mxn-usage\",viewBox:\"0 0 24 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#mxn-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"nok-usage\",viewBox:\"0 0 24 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#nok-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"nzd-usage\",viewBox:\"0 0 24 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#nzd-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"sek-usage\",viewBox:\"0 0 24 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#sek-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"portugal-usage\",viewBox:\"0 0 24 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#portugal-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"russia-usage\",viewBox:\"0 0 24 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#russia-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"thailand-usage\",viewBox:\"0 0 24 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#thailand-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"indonesia-usage\",viewBox:\"0 0 24 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#indonesia-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"vietnam-usage\",viewBox:\"0 0 24 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#vietnam-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"italy-usage\",viewBox:\"0 0 24 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#italy-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"chinese-usage\",viewBox:\"0 0 24 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#chinese-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"chinese-traditional-usage\",viewBox:\"0 0 24 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#chinese-traditional-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"hong kong-usage\",viewBox:\"0 0 24 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#hong kong-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"dutch-usage\",viewBox:\"0 0 24 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#dutch-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"wallstreet-usage\",viewBox:\"0 0 24 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#wallstreet-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-oilusd-usage\",viewBox:\"0 0 32 32\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-oilusd-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-metal-usage\",viewBox:\"0 0 32 32\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-metal-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-10-index-usage\",viewBox:\"0 0 32 32\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-10-index-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-25-index-usage\",viewBox:\"0 0 32 32\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-25-index-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-50-index-usage\",viewBox:\"0 0 32 32\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-50-index-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-75-index-usage\",viewBox:\"0 0 32 32\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-75-index-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-100-index-usage\",viewBox:\"0 0 32 32\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-100-index-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-10-1s-index-usage\",viewBox:\"0 0 32 32\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-10-1s-index-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-100-1s-index-usage\",viewBox:\"0 0 32 32\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-100-1s-index-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-marketbear-usage\",viewBox:\"0 0 32 32\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-marketbear-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-marketbull-usage\",viewBox:\"0 0 32 32\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-marketbull-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-otcbadge-usage\",viewBox:\"0 0 13 9\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-otcbadge-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-smartfx-placeholder-usage\",viewBox:\"0 0 32 32\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-smartfx-placeholder-usage\",toString:function(){return this.url}}},function(e,t,r){(function(t){var r=\"Expected a function\",n=NaN,i=\"[object Symbol]\",a=/^\\s+|\\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt,u=\"object\"==typeof t&&t&&t.Object===Object&&t,h=\"object\"==typeof self&&self&&self.Object===Object&&self,d=u||h||Function(\"return this\")(),p=Object.prototype.toString,f=Math.max,m=Math.min,g=function(){return d.Date.now()};function b(e){var t=typeof e;return!!e&&(\"object\"==t||\"function\"==t)}function y(e){if(\"number\"==typeof e)return e;if(function(e){return\"symbol\"==typeof e||function(e){return!!e&&\"object\"==typeof e}(e)&&p.call(e)==i}(e))return n;if(b(e)){var t=\"function\"==typeof e.valueOf?e.valueOf():e;e=b(t)?t+\"\":t}if(\"string\"!=typeof e)return 0===e?e:+e;e=e.replace(a,\"\");var r=s.test(e);return r||c.test(e)?l(e.slice(2),r?2:8):o.test(e)?n:+e}e.exports=function(e,t,n){var i,a,o,s,c,l,u=0,h=!1,d=!1,p=!0;if(\"function\"!=typeof e)throw new TypeError(r);function v(t){var r=i,n=a;return i=a=void 0,u=t,s=e.apply(n,r)}function _(e){var r=e-l;return void 0===l||r>=t||r<0||d&&e-u>=o}function S(){var e=g();if(_(e))return w(e);c=setTimeout(S,function(e){var r=t-(e-l);return d?m(r,o-(e-u)):r}(e))}function w(e){return c=void 0,p&&i?v(e):(i=a=void 0,s)}function x(){var e=g(),r=_(e);if(i=arguments,a=this,l=e,r){if(void 0===c)return function(e){return u=e,c=setTimeout(S,t),h?v(e):s}(l);if(d)return c=setTimeout(S,t),v(l)}return void 0===c&&(c=setTimeout(S,t)),s}return t=y(t)||0,b(n)&&(h=!!n.leading,o=(d=\"maxWait\"in n)?f(y(n.maxWait)||0,t):o,p=\"trailing\"in n?!!n.trailing:p),x.cancel=function(){void 0!==c&&clearTimeout(c),u=0,i=l=a=c=void 0},x.flush=function(){return void 0===c?s:w(g())},x}}).call(this,r(64))},function(e,t,r){\"use strict\";(function(e){r.d(t,\"a\",function(){return y});var n,i,a,o,s,c,l=r(1),u=r(8),h=r(4),d=r(9),p=r(15),f=r(3);function m(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,(\"value\"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var y=(n=l.action.bound,i=l.action.bound,a=l.action.bound,s=b((o=function(){function t(e){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),m(this,\"timeUnit\",s,this),m(this,\"interval\",c,this),this.onGranularityChange=function(){return null},this.remain=null,this.onContextReady=function(){var e=r.context.stx.layout,t=e.timeUnit,n=e.interval;r.timeUnit=Object(h.j)({timeUnit:t,interval:n}),r.interval=n,r.updateCountdown(),Object(l.reaction)(function(){return[r.timeUnit,r.interval,r.mainStore.chartSetting.countdown,r.mainStore.chartType.type]},r.updateCountdown.bind(r)),r.context.stx.addEventListener(\"newChart\",r.updateDisplay),Object(l.reaction)(function(){return r.mainStore.state.granularity},function(e){return r.onGranularityChange(e)})},this.countdownInterval=null,this.mainStore=e,Object(l.when)(function(){return r.context},this.onContextReady),this.menu=new u.a(e,{route:\"time-period\"}),this.TimePeriodMenu=this.menu.connect(d.a),this._serverTime=p.a.getInstance()}var r,n,i;return r=t,(n=[{key:\"clearCountdown\",value:function(){this.countdownInterval&&clearInterval(this.countdownInterval),this._injectionId&&this.context.stx.removeInjection(this._injectionId),this._injectionId=void 0,this.countdownInterval=void 0,this.context.stx.draw()}},{key:\"updateCountdown\",value:function(){var e=this,t=this.context.stx;this.remain=null,this.clearCountdown();var r=function(){if(t.isDestroyed||e.isTick)e.clearCountdown();else{var r=t.chart.dataSet;if(r&&0!==r.length){var n=e._serverTime.getUTCDate()-r[r.length-1].DT;e.remain=Object(h.f)(1e3*Object(h.h)(t.layout)-n),t.draw()}}},n=!this.mainStore.chartType.isAggregateChart;this.mainStore.chartSetting.countdown&&!this.isTick&&n&&(this._injectionId||(this._injectionId=t.append(\"draw\",function(){e.isTick?e.clearCountdown():e.remain&&null!==t.currentQuote()&&(t.yaxisLabelStyle=\"rect\",t.labelType=\"countdown\",t.createYAxisLabel(t.chart.panel,e.remain,e.remainLabelY,\"#15212d\",\"#FFFFFF\"),t.labelType=void 0,t.yaxisLabelStyle=\"roundRect\")})),this.countdownInterval||(this.countdownInterval=setInterval(r,1e3),r()))}},{key:\"setGranularity\",value:function(e){void 0===this.mainStore.state.granularity?(Object(f.d)(f.b.ChartControl,f.a.Interval,e.toString()),this.mainStore.chart.changeSymbol(void 0,e)):console.error(\"Setting granularity does nothing since granularity prop is set. Consider overriding the onChange prop in <TimePeriod />\")}},{key:\"updateProps\",value:function(e){void 0!==this.mainStore.state.granularity&&(this.onGranularityChange=e)}},{key:\"updateDisplay\",value:function(){var e=this.context.stx;this.timeUnit=Object(h.j)(e.layout),this.interval=e.layout.interval}},{key:\"context\",get:function(){return this.mainStore.chart.context}},{key:\"loader\",get:function(){return this.mainStore.loader}},{key:\"isTick\",get:function(){return\"tick\"===this.timeUnit}},{key:\"remainLabelY\",get:function(){var e=this.context.stx,t=e.chart.currentPriceLabelY+24;return e.chart.currentPriceLabelY>e.chart.panel.bottom-66?t=(t=e.chart.panel.bottom-66)<e.chart.currentPriceLabelY-24?t:e.chart.currentPriceLabelY-24:e.chart.currentPriceLabelY<e.chart.panel.top&&(t=36),t}},{key:\"timeUnit_display\",get:function(){if(this.timeUnit)return e.translate(this.timeUnit.replace(/(\\w)/,function(e){return e.toUpperCase()}))}},{key:\"interval_display\",get:function(){return this.interval%60==0?this.interval/60:+this.interval?this.interval:1}},{key:\"display\",get:function(){var e=this.timeUnit?this.timeUnit[0]:\"\";return this.interval_display+e}}])&&g(r.prototype,n),i&&g(r,i),t}()).prototype,\"timeUnit\",[l.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=b(o.prototype,\"interval\",[l.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b(o.prototype,\"setGranularity\",[n],Object.getOwnPropertyDescriptor(o.prototype,\"setGranularity\"),o.prototype),b(o.prototype,\"updateProps\",[i],Object.getOwnPropertyDescriptor(o.prototype,\"updateProps\"),o.prototype),b(o.prototype,\"updateDisplay\",[a],Object.getOwnPropertyDescriptor(o.prototype,\"updateDisplay\"),o.prototype),b(o.prototype,\"remainLabelY\",[l.computed],Object.getOwnPropertyDescriptor(o.prototype,\"remainLabelY\"),o.prototype),b(o.prototype,\"timeUnit_display\",[l.computed],Object.getOwnPropertyDescriptor(o.prototype,\"timeUnit_display\"),o.prototype),b(o.prototype,\"interval_display\",[l.computed],Object.getOwnPropertyDescriptor(o.prototype,\"interval_display\"),o.prototype),b(o.prototype,\"display\",[l.computed],Object.getOwnPropertyDescriptor(o.prototype,\"display\"),o.prototype),o)}).call(this,r(6).t)},function(e,t,r){\"use strict\";(function(e){var n,i,a,o,s,c,l,u,h,d,p,f,m,g,b,y,v,_,S,w,x,k,O,C,E,T,P,D=r(1),j=r(51),A=r(188),N=r(159),I=r(63),M=r(160),z=r(189),L=r(161),R=r(4),H=r(11),q=r(162),B=r.n(q),F=r(18),V=r.n(F),U=r(24),W=r.n(U),Q=r(61),G=r.n(Q),K=r(163),Y=r.n(K),X=r(164),Z=r.n(X);function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(r,!0).forEach(function(t){ee(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ee(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function te(e){return(te=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function re(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function ne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ie(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,(\"value\"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}function ae(e){var t=e.viewBox.split(\" \").slice(2);return'<svg width=\"'.concat(t[0],'\" height=\"').concat(t[1],'\"><use xlink:href=\"').concat(r.p+e.url,'\" /></svg>')}var oe=(n=D.action.bound,i=D.action.bound,a=D.action.bound,o=D.action.bound,s=D.action.bound,c=D.action.bound,l=D.action.bound,u=D.action.bound,h=D.action.bound,d=D.action.bound,p=D.action.bound,f=D.action.bound,P=T=function(){function t(e){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.RANGE_PADDING_PX=125,this.contextPromise=new H.a,this.rootNode=null,this.stxx=null,this.api=null,this.defaults={granularity:0,chartType:\"mountain\"},this.granularity=void 0,this.enableRouting=null,this.chartNode=null,this.chartControlsNode=null,this.holderStyle=void 0,this.state=void 0,this.onMessage=null,this.defaultMinimumBars=5,re(this,\"containerWidth\",g,this),re(this,\"context\",b,this),re(this,\"currentActiveSymbol\",y,this),re(this,\"isChartAvailable\",v,this),re(this,\"chartHeight\",_,this),re(this,\"chartContainerHeight\",S,this),re(this,\"isMobile\",w,this),re(this,\"cursorInChart\",x,this),re(this,\"shouldRenderDialogs\",k,this),re(this,\"yAxiswidth\",O,this),this.updateCanvas=function(){n.stxx&&(n.stxx.slider&&n.stxx.slider.display(n.stxx.layout.rangeSlider),n.stxx.resizeChart())},this.init=function(e,t,i){n.loader.show(),n.mainStore.state.setChartIsReady(!1),n.loader.setState(\"chart-engine\"),window.CIQ?n._initChart(e,t,i):r.e(0).then(r.t.bind(null,249,7)).then(Object(D.action)(function(r){var a=r.CIQ,o=r.SplinePlotter;a.ChartEngine.htmlControls.baselineHandle='<div class=\"stx-baseline-handle\" style=\"display: none;\">'.concat(ae(B.a),\"</div>\"),a.ChartEngine.htmlControls.iconsTemplate='<div class=\"stx-panel-control\"><div class=\"stx-panel-title\"></div><div class=\"stx-btn-panel\"><span class=\"stx-ico-up\">'.concat(ae(G.a),'</span></div><div class=\"stx-btn-panel\"><span class=\"stx-ico-focus\">').concat(ae(Z.a),'</span></div><div class=\"stx-btn-panel\"><span class=\"stx-ico-down\">').concat(ae(G.a),'</span></div><div class=\"stx-btn-panel\"><span class=\"stx-ico-edit\">').concat(ae(V.a),'</span></div><div class=\"stx-btn-panel\"><span class=\"stx-ico-close\">').concat(ae(W.a),\"</span></div></div>\"),a.ChartEngine.htmlControls.mSticky='<div class=\"stx_sticky\"> <span class=\"mStickyInterior\"></span> <span class=\"mStickyRightClick\"><span class=\"overlayEdit stx-btn\" style=\"display:none\"><span class=\"ic-edit\">'.concat(ae(V.a),'</span><span class=\"ic-delete\">').concat(ae(W.a),'</span></span> <span class=\"overlayTrashCan stx-btn\" style=\"display:none\"><span class=\"ic-edit\">').concat(ae(V.a),'</span><span class=\"ic-delete\">').concat(ae(W.a),'</span></span> <span class=\"mouseDeleteInstructions\"><span>(</span><span class=\"mouseDeleteText\">right-click to delete</span><span class=\"mouseManageText\">right-click to manage</span><span>)</span></span></span></div>'),a.ChartEngine.htmlControls.home='<div class=\"stx_jump_today\" style=\"display:none\">'.concat(ae(Y.a),\"</div>\"),window.CIQ=a,o.plotSpline=L.a,n._initChart(e,t,i)}))},this.onMarketOpenClosedChange=function(e){var t=n.stxx.getSymbols().map(function(e){return e.symbolObject}),r=!1,i=!0,a=!1,o=void 0;try{for(var s,c=t[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=s.value,u=l.symbol,h=l.name;u in e&&(e[u]?(r=!0,n.chartClosedOpenThemeChange(!1),n.mainStore.notifier.notifyMarketOpen(h)):(n.chartClosedOpenThemeChange(!0),n.mainStore.notifier.notifyMarketClose(h)))}}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}r&&n.refreshChart()},re(this,\"calculateYaxisWidth\",C,this),re(this,\"updateYaxisWidth\",E,this),this.mainStore=e}var n,i,a;return n=t,(i=[{key:\"updateHeight\",value:function(e){var t=this.mainStore.chartSetting.historical&&this.isMobile,r=\"bottom\"===(e||this.mainStore.chartSetting.position)&&this.stateStore.chartControlsWidgets?40:0;this.chartHeight=this.chartNode.offsetHeight,this.chartContainerHeight=this.chartHeight-r-(t?45:0)}},{key:\"resizeScreen\",value:function(){this.context&&(this.modalNode.clientWidth>=1280?this.containerWidth=1280:this.modalNode.clientWidth>=900?this.containerWidth=900:this.containerWidth=480,this.updateHeight(),this.updateCanvas(),setTimeout(this.updateCanvas,this.isMobile?500:100))}},{key:\"_initChart\",value:function(n,i,a){var o=this,s=this;Object(A.a)(),CIQ.ChartEngine.prototype.registerHTMLElements=function(){var e=this.chart.container;for(var t in CIQ.ChartEngine.htmlControls)if(void 0===this.chart[t]&&void 0===this.controls[t]){if(!this.allowZoom&&\"chartControls\"===t)continue;var r=this.container.querySelector(\".\".concat(t),e);if(r)this.chart[t]=r,this.controls[t]=r;else{var n=CIQ.ChartEngine.htmlControls[t];if(!n)continue;var i=document.createElement(\"DIV\");i.innerHTML=n,r=i.firstChild,e.appendChild(r),this.chart[t]=r,this.controls[t]=r,CIQ.appendClassName(r,t)}}var a=this.controls.chartControls,o=this.controls.home;if(a){var s=this.container.querySelector(\".stx-zoom-in\",a),c=this.container.querySelector(\".stx-zoom-out\",a);CIQ.safeClickTouch(s,function(e){return function(t){e.zoomIn(t),t.stopPropagation()}}(this)),CIQ.safeClickTouch(c,function(e){return function(t){e.zoomOut(t),t.stopPropagation()}}(this)),CIQ.touchDevice||(this.makeModal(s),this.makeModal(c))}o&&(CIQ.safeClickTouch(o,function(e){return function(t){t.stopPropagation(),e.home({animate:!0})}}(this)),CIQ.touchDevice||this.makeModal(o))},CIQ.ChartEngine.prototype.home=function(e){this.swipe.amplitude=0;var t=this.layout;function r(e){for(var t in e.panels)for(var r=e.panels[t].yaxisLHS.concat(e.panels[t].yaxisRHS),n=0;n<r.length;n++)e.calculateYAxisMargins(r[n])}function n(e,t,n){return function(){r(e),t.scroll=n,e.draw()}}if(\"object\"!==te(e)&&(e={maintainWhitespace:e}),void 0===e.maintainWhitespace&&(e.maintainWhitespace=!0),this.cancelTouchSingleClick=!0,this.chart.dataSet&&this.chart.dataSet.length){this.micropixels=0;var i=Math.floor(this.chart.width/t.candleWidth);for(var a in this.charts){var o=this.charts[a];if(!e.chart||e.chart===o){var c=0;e.maintainWhitespace&&this.preferences.whitespace>=0&&(c=this.preferences.whitespace),(e.whitespace||0===e.whitespace)&&(c=e.whitespace);var l=this.getLabelOffsetInPixels(o,t.chartType);l>c&&(c=l);var u=Math.min(i,o.dataSet.length);for(this.chart.allowScrollPast&&(u=i),this.micropixels=this.chart.width-u*t.candleWidth-c,this.preferences.whitespace=c;this.micropixels>t.candleWidth;)u++,this.micropixels-=t.candleWidth;for(;this.micropixels<0;)u--,this.micropixels+=t.candleWidth;if(this.micropixels-=t.candleWidth,u++,this.mainSeriesRenderer&&this.mainSeriesRenderer.standaloneBars||this.standaloneBars[t.chartType]||(this.micropixels+=t.candleWidth/2),this.isHistoricalMode()&&s.isMobile?u=parseInt(.8*u,10):this.isHistoricalMode()&&(u=parseInt(.9*u,10)),e.animate){this.scrollTo(o,u,n(this,o,u))}else o.scroll=u,r(this)}}this.draw()}else this.draw()},CIQ.ChartEngine.prototype.isHistoricalMode=function(){return!!s.stateStore.endEpoch},this.rootNode=n,this.modalNode=i,this.chartNode=this.rootNode.querySelector(\".ciq-chart-area\"),this.chartControlsNode=this.rootNode.querySelector(\".cq-chart-controls\"),CIQ.Plotter.prototype.getYAxisWidth=function(){return o.yAxiswidth},CIQ.ChartEngine.prototype.createYAxisLabel=function(e,t,r,n,i,a,o){if(!1!==e.yAxis.drawPriceLabels&&!e.yAxis.noDraw){var s=o||e.yAxis;if(!s.noDraw&&s.width){var c,l=a||this.chart.context,u=24;\"currentSpot\"===this.labelType?this.canvasFont(\"stx_current_hr_up\",l):this.canvasFont(\"stx_price_label\",l);var h,d=this.drawBorders?3:0,p=l.measureText(t).width;try{h=p+9>s.width?p+d+18:s.width+9}catch(e){h=s.width}h-=14,this.chart.yAxis.width<h?(this.chart.yAxis.width=h,this.calculateYAxisPositions()):h=this.chart.yAxis.width;var f=this.width-this.chart.yAxis.width,m=(h-p)/2;s.width<0&&(f+=s.width-h),\"left\"===(null===s.position?e.chart.yAxis.position:s.position)&&(h*=-1,s.width<0&&(f-=s.width+h),c=-3,l.textAlign=\"right\"),r+u/2>s.bottom&&(r=s.bottom-u/2),r-u/2<s.top&&(r=s.top+u/2),void 0===CIQ[this.yaxisLabelStyle]&&(this.yaxisLabelStyle=\"roundRectArrow\");var g=this.yaxisLabelStyle;s.yaxisLabelStyle&&(g=s.yaxisLabelStyle),f+=1,\"currentSpot\"===this.labelType?(f+=13,m-=8,c=0):\"crosshair\"===this.labelType&&(u=30);var b={ctx:l,x:f,y:r,top:r-u/2,width:h,height:u,radius:c,backgroundColor:n,fill:!0,stroke:!1,margin:{left:m,top:1},txt:t,color:i};CIQ[g](b)}}};var c=a.symbol,l=a.chartType,u=a.granularity,h=a.requestAPI,d=a.requestSubscribe,p=a.requestForget,f=a.requestForgetStream,m=a.isMobile,g=a.enableRouting,b=a.onMessage,y=a.settings,v=a.onSettingsChange;this.api=new j.b(h,d,p,f),this.tradingTimes=t.tradingTimes||(t.tradingTimes=new j.c(this.api,this.mainStore.state.shouldFetchTradingTimes)),this.activeSymbols=t.activeSymbols||(t.activeSymbols=new j.a(this.api,this.tradingTimes));var _=this.mainStore.chartSetting;_.setSettings(y),_.onSettingsChange=v,this.isMobile=m,this.state=this.mainStore.state,this.mainStore.notifier.onMessage=b,this.granularity=void 0!==u?u:this.defaults.granularity;var S={maxMasterDataSize:this.getMaxMasterDataSize(this.granularity),markerDelay:null,container:this.rootNode.querySelector(\".chartContainer\"),controls:{chartControls:null},yaxisLabelStyle:\"roundRect\",preferences:{currentPriceLine:!0,whitespace:m?50:150},chart:{yAxis:{initialMarginTop:125,initialMarginBottom:100,displayBorder:!0,justifyRight:!1},xAxis:{displayBorder:!0},gaplines:!0,dynamicYAxis:!0},minimumLeftBars:this.defaultMinimumBars,yTolerance:999999},w={chartType:l||this.defaults.chartType};\"spline\"===w.chartType&&(w.chartType=\"mountain\",S.chart.tension=w.tension=.5);var x=this.getRangeSpan();x&&(w=$({},w,{},x)),S.layout=w;var k=this.stxx=new CIQ.ChartEngine(S),O=k.animations.zoom.run.bind(k.animations.zoom),C=!1;k.animations.zoom.run=function(e,t,r){if(!C)return C=!0,setTimeout(function(){C=!1},40),O(e,t,r)},k.isAutoScale=y&&!1!==y.isAutoScale,t.chartCount+=1;var E=k.chart.panel.holder.parentElement.querySelector(\".mouseDeleteText\"),T=k.chart.panel.holder.parentElement.querySelector(\".mouseManageText\");E.textContent=e.translate(\"right-click to delete\"),T.textContent=e.translate(\"right-click to manage\"),this.state.isAnimationEnabled&&Object(M.a)(k,{stayPut:!0}),this.feed=new z.a(this.api,k,this.mainStore,this.tradingTimes),k.attachQuoteFeed(this.feed,{refreshInterval:null}),this.enableRouting=g,this.enableRouting&&this.routingStore.handleRouting(),this.holderStyle=k.chart.panel.holder.style;var P=new N.a(k,this.rootNode);void 0===t.keystrokeHub&&(t.keystrokeHub=new I.a(document.body,null,{cb:I.a.defaultHotKeys}));var L=this.mainStore.studies;k.callbacks.studyOverlayEdit=L.editStudy,k.callbacks.studyPanelEdit=L.editStudy,this.loader.setState(\"market-symbol\"),this.activeSymbols.retrieveActiveSymbols().then(function(){o.loader.setState(\"trading-time\"),o.tradingTimes.initialize().then(Object(D.action)(function(){k.isDestroyed||(o.state.restoreLayout()||o.changeSymbol(c||Object.keys(o.activeSymbols.symbolMap)[0],o.granularity),o.context=P,o.chartClosedOpenThemeChange(!o.currentActiveSymbol.exchange_is_open),o.mainStore.chart.tradingTimes.onMarketOpenCloseChanged(Object(D.action)(function(e){for(var t in e)o.currentActiveSymbol.symbol===t&&o.chartClosedOpenThemeChange(!e[t])})),k.container.addEventListener(\"mouseenter\",o.onMouseEnter),k.container.addEventListener(\"mouseleave\",o.onMouseLeave),o.contextPromise.resolve(o.context),o.resizeScreen(),Object(D.reaction)(function(){return[o.state.symbol,o.state.granularity]},function(){void 0===o.state.symbol&&void 0===o.state.granularity||o.changeSymbol(o.state.symbol,o.state.granularity)}),o.tradingTimes.onMarketOpenCloseChanged(o.onMarketOpenClosedChange),setTimeout(Object(D.action)(function(){o.shouldRenderDialogs=!0}),500))}))}),\"ResizeObserver\"in window?(this.resizeObserver=new ResizeObserver(this.resizeScreen),this.resizeObserver.observe(i)):r.e(13).then(r.bind(null,250)).then(function(e){var t=e.default;window.ResizeObserver=t,!k.isDestroyed&&i&&(o.resizeObserver=new t(o.resizeScreen),o.resizeObserver.observe(i))})}},{key:\"getMaxMasterDataSize\",value:function(e){var t=5e3;return 86400===e?t=Math.floor(2.8*365):28800===e&&(t=Math.floor(2.8*365*3)),t}},{key:\"chartClosedOpenThemeChange\",value:function(e){this.mainStore.state.setChartClosed(e),this.mainStore.state.setChartTheme(this.mainStore.chartSetting.theme,e)}},{key:\"onMouseEnter\",value:function(){this.cursorInChart=!0}},{key:\"onMouseLeave\",value:function(){this.cursorInChart=!1}},{key:\"updateCurrentActiveSymbol\",value:function(){var e=this.stxx.chart.symbolObject;this.currentActiveSymbol=e,this.stxx.chart.yAxis.decimalPlaces=e.decimal_places,this.setMainSeriesDisplay(e.name)}},{key:\"setChartAvailability\",value:function(e){this.isChartAvailable=e}},{key:\"changeSymbol\",value:function(e,t){if(\"string\"==typeof e&&(e=this.activeSymbols.getSymbolObj(e)),!(e&&this.currentActiveSymbol)||e.symbol!==this.currentActiveSymbol.symbol||void 0===t||t!==this.granularity){var r;if(void 0!==t&&(this.granularity=t,this.stxx.maxMasterDataSize=this.getMaxMasterDataSize(this.granularity),r={periodicity:Object(R.b)(t)}),void 0===r&&e)for(var n in this.stxx.chart.series)this.stxx.removeSeries(n);this.newChart(e,r),e&&this.updateCurrentActiveSymbol()}}},{key:\"newChart\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentActiveSymbol,r=arguments.length>1?arguments[1]:void 0;if(t){this.stxx.chart.symbolDisplay=t.name,this.loader.show(),this.mainStore.state.setChartIsReady(!1);var n=function(r){e.setMainSeriesDisplay(t.name),e.loader.hide(),e.mainStore.state.setChartIsReady(!0),r||(e.state.restoreDrawings(),e.mainStore.chart.feed&&e.mainStore.chart.feed.scaleChart())};this.yAxiswidth=0;var i=this.getRangeSpan();this.stxx.newChart(t,null,null,n,$({},r,{},i)),this.chartClosedOpenThemeChange(!t.exchange_is_open)}}},{key:\"getRangeSpan\",value:function(){var e,t=this.state,r=t.startEpoch,n=t.endEpoch,i=((n||r)-(r||n))/(this.chartNode.clientWidth/this.RANGE_PADDING_PX)|0;if(r||n){var a=r?CIQ.strToDateTime(Object(R.k)(r-i)):void 0,o=n?CIQ.strToDateTime(Object(R.k)(n+i)):void 0,s=Object(R.b)(this.granularity);return a&&(e={base:\"all\",periodicity:s}),{range:{dtLeft:a,dtRight:o,periodicity:s,goIntoFuture:!0,goIntoPast:!0},span:e}}}},{key:\"setMainSeriesDisplay\",value:function(e){this.stxx&&this.stxx.chart&&(this.stxx.chart.seriesRenderers._main_series.seriesParams[0].display=e,this.stxx.chart.seriesRenderers._main_series.seriesParams[0].field=\"Close\")}},{key:\"refreshChart\",value:function(){this.newChart()}},{key:\"destroy\",value:function(){t.chartCount-=1,this.resizeObserver&&this.resizeObserver.disconnect(),this.tradingTimes&&0===t.chartCount&&(t.tradingTimes=null,this.tradingTimes.destructor()),this.feed&&(this.feed.unsubscribeAll(),this.feed=null),t.keystrokeHub.context===this.context&&t.keystrokeHub.setActiveContext(null),this.stxx&&(this.stxx.container.removeEventListener(\"mouseenter\",this.onMouseEnter),this.stxx.container.removeEventListener(\"mouseleave\",this.onMouseLeave),this.stxx.updateChartData=function(){},this.stxx.isDestroyed=!0,this.stxx.destroy(),this.stxx=null)}},{key:\"loader\",get:function(){return this.mainStore.loader}},{key:\"routingStore\",get:function(){return this.mainStore.routing}},{key:\"stateStore\",get:function(){return this.mainStore.state}},{key:\"pip\",get:function(){return this.currentActiveSymbol.decimal_places}},{key:\"categorizedSymbols\",get:function(){var e=this;if(!this.activeSymbols||0===this.activeSymbols.categorizedSymbols.length)return[];var t=this.activeSymbols.activeSymbols;return Object(R.c)(t,function(t){return $({},t,{selected:t.dataObject.symbol===e.currentActiveSymbol.symbol})})}}])&&ne(n.prototype,i),a&&ne(n,a),t}(),T.keystrokeHub=void 0,T.chartCount=0,T.tradingTimes=void 0,T.activeSymbols=void 0,g=ie((m=P).prototype,\"containerWidth\",[D.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=ie(m.prototype,\"context\",[D.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=ie(m.prototype,\"currentActiveSymbol\",[D.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=ie(m.prototype,\"isChartAvailable\",[D.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_=ie(m.prototype,\"chartHeight\",[D.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=ie(m.prototype,\"chartContainerHeight\",[D.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=ie(m.prototype,\"isMobile\",[D.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=ie(m.prototype,\"cursorInChart\",[D.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),k=ie(m.prototype,\"shouldRenderDialogs\",[D.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),O=ie(m.prototype,\"yAxiswidth\",[D.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ie(m.prototype,\"pip\",[D.computed],Object.getOwnPropertyDescriptor(m.prototype,\"pip\"),m.prototype),ie(m.prototype,\"resizeScreen\",[n],Object.getOwnPropertyDescriptor(m.prototype,\"resizeScreen\"),m.prototype),ie(m.prototype,\"_initChart\",[i],Object.getOwnPropertyDescriptor(m.prototype,\"_initChart\"),m.prototype),ie(m.prototype,\"categorizedSymbols\",[D.computed],Object.getOwnPropertyDescriptor(m.prototype,\"categorizedSymbols\"),m.prototype),ie(m.prototype,\"onMouseEnter\",[a],Object.getOwnPropertyDescriptor(m.prototype,\"onMouseEnter\"),m.prototype),ie(m.prototype,\"onMouseLeave\",[o],Object.getOwnPropertyDescriptor(m.prototype,\"onMouseLeave\"),m.prototype),ie(m.prototype,\"updateCurrentActiveSymbol\",[s],Object.getOwnPropertyDescriptor(m.prototype,\"updateCurrentActiveSymbol\"),m.prototype),ie(m.prototype,\"setChartAvailability\",[c],Object.getOwnPropertyDescriptor(m.prototype,\"setChartAvailability\"),m.prototype),ie(m.prototype,\"changeSymbol\",[l],Object.getOwnPropertyDescriptor(m.prototype,\"changeSymbol\"),m.prototype),C=ie(m.prototype,\"calculateYaxisWidth\",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){if(t){var r=e.context.stx.chart.context.measureText(t.toFixed(e.pip)).width+20;r>e.yAxiswidth&&(e.yAxiswidth=r,e.stxx.chart.yAxis.width=r,e.stxx.calculateYAxisPositions(),e.stxx.draw())}}}}),E=ie(m.prototype,\"updateYaxisWidth\",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){if(e.stxx&&e.stxx.masterData&&e.stxx.masterData.length){var t=e.context.stx.currentQuote();if(t&&t.Close)e.calculateYaxisWidth(t.Close);else{var r=e.stxx.masterData.find(function(e){return e.Close});r&&e.calculateYaxisWidth(r.Close)}}}}}),ie(m.prototype,\"newChart\",[d],Object.getOwnPropertyDescriptor(m.prototype,\"newChart\"),m.prototype),ie(m.prototype,\"refreshChart\",[p],Object.getOwnPropertyDescriptor(m.prototype,\"refreshChart\"),m.prototype),ie(m.prototype,\"destroy\",[f],Object.getOwnPropertyDescriptor(m.prototype,\"destroy\"),m.prototype),m);t.a=oe}).call(this,r(6).t)},function(e,t,r){\"use strict\";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.params=n||{},this.stx=t,this.topNode=r;var i=e.assembleContext(r);this.advertised={},r.CIQ.UI.context=this;for(var a=0;a<i.Components.length;a++)i.Components[a].setContextPrivate(this)}var t,r,i;return t=e,i=[{key:\"assembleContext\",value:function(e){return e.CIQ||(e.CIQ={}),e.CIQ.UI||(e.CIQ.UI={}),e.CIQ.UI.Components||(e.CIQ.UI.Components=[]),e.CIQ.UI}}],(r=[{key:\"advertiseAs\",value:function(e,t){this.advertised[t]=e}},{key:\"getAdvertised\",value:function(e){return this.advertised[e]}},{key:\"setLoader\",value:function(e){this.loader=e}},{key:\"isModal\",value:function(){return\"\"!==this.stx.openDialog}}])&&n(t.prototype,r),i&&n(t,i),e}();t.a=i},function(e,t,r){\"use strict\";function n(e,t){var r={stayPut:!1,ticksFromEdgeOfScreen:5,granularity:1e6};t=CIQ.extend(r,t),r.tension&&(e.chart.tension=t.tension),e.tickAnimator=new CIQ.EaseMachine(Math.easeInOutCubic,320);var n=!1,i=null;e.addEventListener([\"symbolChange\",\"layout\"],function(e){n=!1,i=null}),e.prepend(\"updateCurrentMarketData\",function(e,t,r,n){t||(t=this.chart),n&&n.fromTrade&&(t.closePendingAnimation||0===t.closePendingAnimation)&&(n.finalClose=t.closePendingAnimation)}),e.append(\"updateChartData\",function(e,t,r){if(this.mainSeriesRenderer&&this.mainSeriesRenderer.supportsAnimation)return!1;if((t=t||this.chart).lockScroll){var n=e[e.length-1],i=t.dataSegment[t.dataSegment.length-1];if(!n||!i)return;n.DT>i.DT&&t.scroll<=t.dataSegment.length&&t.scroll++}}),e.prepend(\"updateChartData\",function(e,r,a){var o=this;if(r||(r=o.chart),r&&r.defaultChartStyleConfig&&\"none\"!=r.defaultChartStyleConfig&&(void 0===a||!a.animationEntry&&!a.secondarySeries)){var s=o.tickAnimator,c=this.mainSeriesRenderer&&this.mainSeriesRenderer.supportsAnimation;if(c){if(!s)return void console.warn(\"Animation plug-in can not run because the tickAnimator has not been declared. See instructions in animation.js\");if(this.prevSymbol!=r.symbol&&(this.prevQuote=0,r.closePendingAnimation=null,this.prevSymbol=r.symbol),T(),s.stop(),e.length>2)return}var l=CIQ.clone(a);l||(l={}),l.animationEntry=!0,l.bypassGovernor=!0,l.noCreateDataSet=!1,l.firstLoop=!0;var u=this.chart.symbol,h=this.layout.periodicity,d=this.layout.interval,p=this.layout.timeUnit;if(c){var f=e[e.length-1];this.prevQuote=this.currentQuote();var m=!1;if(1==h&&2==e.length&&(this.prevQuote=e[0],E(this.prevQuote)),!f||!f.Close||!this.prevQuote){if(this.prevQuote&&r.lockScroll&&(null===f.Close&&(s.stop(),T()),null!==r.entryTick&&void 0!==r.entryTick)){var g=r.dataSet.length-r.entryTick+1;this.setMaxTicks(g+3),r.scroll=g+1}return!1}if(null===this.prevQuote.Close){var b=this.chart.dataSet[this.chart.dataSet.length-2];if(!b||!b.Close)return!1;this.prevQuote=b}if(this.extendedHours&&r.market.market_def){var y=f.DT;if(CIQ.ChartEngine.isDailyInterval(d))n=!r.market.isMarketDate(y);else if(!i||i<=y){var v=r.market.getSession(y);n=!(\"\"===v||this.layout.marketSessions&&this.layout.marketSessions[v]),i=r.market[n?\"getNextOpen\":\"getNextClose\"](y)}if(n)return this.draw(),!1}var _=h;\"second\"==d||\"second\"==p?_*=1e3:\"minute\"!=d&&\"minute\"!=p||(_*=6e4),isNaN(d)||(_*=d),m=\"day\"==d||\"day\"==p?f.DT.getDate()!=this.prevQuote.DT.getDate():\"week\"==d||\"week\"==p?f.DT.getDate()>=this.prevQuote.DT.getDate()+7:\"month\"==d||\"month\"==p?f.DT.getMonth()!=this.prevQuote.DT.getMonth():f.DT.getTime()>=this.prevQuote.DT.getTime()+_;var S=!(this.mainSeriesRenderer&&this.mainSeriesRenderer.standaloneBars||this.standaloneBars[this.layout.chartType]),w=0;if(m){if(!this.animations.zoom.hasCompleted)return!1;var x=this.layout.candleWidth;if(r.scroll<=r.maxTicks&&!r.lockScroll&&this.micropixels>0){var k=Math.ceil(this.micropixels/x);this.scroll+=k,this.micropixels-=k*x}if(r.scroll<=r.maxTicks&&!r.lockScroll)this.previousMicroPixels=this.micropixels,this.nextMicroPixels=this.micropixels+x,w=-1*x,r.dataSegment&&r.dataSegment.length<r.maxTicks-t.ticksFromEdgeOfScreen&&!t.stayPut&&(r.scroll++,this.nextMicroPixels=this.micropixels),r.animatingHorizontalScroll=S&&!r.lockScroll,r.previousDataSetLength=r.dataSet.length;else if(r.lockScroll)if(void 0!==r.entryTick&&null!==r.entryTick){var O=r.dataSet.length-r.entryTick+1;this.setMaxTicks(O+3),r.scroll=O+1}else this.setMaxTicks(r.dataSet.length+(Math.floor(r.dataSet.length/5)||2)),r.scroll=r.dataSet.length;else r.scroll+=1}r.closePendingAnimation=f.Close;var C=m&&!S?f.Open:this.prevQuote.Close;return s.run(function(e,n,i){return function(a){var c=a.Close;if(!r.dataSet.length||u!=r.symbol||h!=o.layout.periodicity||d!=o.layout.interval||p!=o.layout.timeUnit)return s.stop(),void T();var f=CIQ.clone(e);f.Close=Math.round(c*t.granularity)/t.granularity,r.animatingHorizontalScroll&&(o.micropixels=a.micropixels,r.lastTickOffset=a.lineOffset),l.updateDataSegmentInPlace=!s.hasCompleted;var m=s.fc(Date.now()-s.startTime,0,1,s.ms);f.tickAnimationProgress=Math.min(m,1),f.chartJustAdvanced=i;var g=[f];i&&g.unshift(n),o.updateChartData(g,r,l),l.firstLoop=!1,s.hasCompleted&&T()}}(f,CIQ.clone(this.prevQuote),m),{Close:C,micropixels:r.lockScroll?0:this.nextMicroPixels,lineOffset:w},{Close:f.Close,micropixels:this.micropixels,lineOffset:0}),!0}}function E(e){if(r.masterData)for(var t=r.masterData.length-1;t>=0;t--){var n=r.masterData[t];if(n.Close||0===n.Close)return n.Close=e.Close,e.LastSize&&(n.LastSize=e.LastSize),e.LastTime&&(n.LastTime=e.LastTime),o.updateCurrentMarketData({Close:n.Close,DT:n.DT,LastSize:n.LastSize,LastTime:n.LastTime}),void o.createDataSet(null,null,{appending:!0})}}function T(){if(r.animatingHorizontalScroll&&(r.animatingHorizontalScroll=!1,o.micropixels=o.nextMicroPixels=o.previousMicroPixels,r.lastTickOffset=0),null!==r.closePendingAnimation){var e=r.closePendingAnimation;r.closePendingAnimation=null,E({Close:e})}}})}r.d(t,\"a\",function(){return n})},function(e,t,r){\"use strict\";function n(e,t,r,n){function i(r){var n=e[r],i=e[r+1],a=e[r+2],o=e[r+3],s=e[r+4],c=e[r+5];if(isNaN(n)||isNaN(a)||isNaN(s)||isNaN(i)||isNaN(o)||isNaN(c))return null;var l=Math.sqrt(Math.pow(a-n,2)+Math.pow(o-i,2)),u=Math.sqrt(Math.pow(s-a,2)+Math.pow(c-o,2)),h=t*l/(l+u),d=t-h;return[a+h*(n-s),o+h*(i-c),a-d*(n-s),o-d*(i-c)]}(!t||t<0)&&(t=0);for(var a=[],o=e.length,s=0;s<o-4;s+=2)a=a.concat(i(s));if(null!==a){n||(n=[]);var c=0;r.moveTo(e[0],e[1]),u(0),r.quadraticCurveTo(a[0],a[1],e[2],e[3]);for(var l=2;l<o-5;l+=2)u(l),r.bezierCurveTo(a[2*l-2],a[2*l-1],a[2*l],a[2*l+1],e[l+2],e[l+3]);u(o-4),r.quadraticCurveTo(a[2*o-10],a[2*o-9],e[o-2],e[o-1])}function u(t){if(c!==n.length){var i=n[c];i.coord[0]===e[t]&&i.coord[1]===e[t+1]&&(r.stroke(),r.strokeStyle=i.color,r.setLineDash(i.pattern),r.lineDashOffset=0,r.lineWidth=i.width,r.beginPath(),r.moveTo(e[t],e[t+1]),c++)}}}r.d(t,\"a\",function(){return n})},function(e,t,r){e.exports={id:\"resize-icon-usage\",viewBox:\"0 0 6 14\",url:r.p+\"sprite-2786ea.smartcharts.svg#resize-icon-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"jump-to-today-usage\",viewBox:\"0 0 15.1 13.4\",url:r.p+\"sprite-2786ea.smartcharts.svg#jump-to-today-usage\",toString:function(){return this.url}}},function(e,t,r){e.exports={id:\"ic-maximize-usage\",viewBox:\"0 0 16 16\",url:r.p+\"sprite-2786ea.smartcharts.svg#ic-maximize-usage\",toString:function(){return this.url}}},function(e,t,r){\"use strict\";(function(e){r.d(t,\"a\",function(){return T});var n,i,a,o,s,c,l,u=r(1),h=r(8),d=r(166),p=r(2),f=r(20),m=r(167),g=r(9),b=r(21),y=r(3);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(r,!0).forEach(function(t){S(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function k(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,(\"value\"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}function O(){return[{id:\"mountain\",text:e.translate(\"Line\"),candleOnly:!1,icon:p.E},{id:\"line\",text:e.translate(\"Dot\"),candleOnly:!1,icon:p.r},{id:\"colored_line\",text:e.translate(\"Colored Dot\"),candleOnly:!1,icon:p.D},{id:\"spline\",text:e.translate(\"Spline\"),candleOnly:!1,icon:p.Q},{id:\"baseline\",text:e.translate(\"Baseline\"),candleOnly:!1,icon:p.e},{id:\"candle\",text:e.translate(\"Candle\"),candleOnly:!0,icon:p.f},{id:\"colored_bar\",text:e.translate(\"OHLC\"),candleOnly:!0,icon:p.G},{id:\"hollow_candle\",text:e.translate(\"Hollow Candle\"),candleOnly:!0,icon:p.x},{id:\"heikinashi\",text:e.translate(\"Heikin Ashi\"),candleOnly:!0,icon:p.w},{id:\"kagi\",text:e.translate(\"Kagi\"),candleOnly:!0,icon:p.B,settingsOnClick:!0},{id:\"linebreak\",text:e.translate(\"Line Break\"),candleOnly:!0,icon:p.C,settingsOnClick:!0},{id:\"renko\",text:e.translate(\"Renko\"),candleOnly:!0,icon:p.M,settingsOnClick:!0},{id:\"rangebars\",text:e.translate(\"Range Bars\"),candleOnly:!0,icon:p.L,settingsOnClick:!0},{id:\"pandf\",text:e.translate(\"Point & Figure\"),candleOnly:!0,icon:p.I,settingsOnClick:!0},{id:\"table\",text:e.translate(\"Table\"),candleOnly:!1,icon:p.S}]}var C=O().filter(function(e){return!e.candleOnly}).map(function(e){return e.id}),E=O().filter(function(e){return e.settingsOnClick});var T=(n=u.action.bound,i=u.action.bound,a=u.action.bound,o=u.action.bound,s=u.action.bound,l=k((c=function(){function t(r){var n,i,a,o,s=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),n=this,i=\"type\",o=this,(a=l)&&Object.defineProperty(n,i,{enumerable:a.enumerable,configurable:a.configurable,writable:a.writable,value:a.initializer?a.initializer.call(o):void 0}),this.onChartTypeChanged=void 0,this.onContextReady=function(){s.aggregates={heikinashi:!0,kagi:{title:e.translate(\"Kagi\"),inputs:[{id:\"kagi\",title:e.translate(\"Reversal Percentage\"),type:\"numericinput\"}]},renko:{title:e.translate(\"Renko\"),inputs:[{id:\"renko\",title:e.translate(\"Range\"),type:\"numericinput\"}]},linebreak:{title:e.translate(\"Line Break\"),inputs:[{id:\"priceLines\",title:e.translate(\"Price Lines\"),type:\"numericinput\",max:10,step:1,min:1}]},rangebars:{title:e.translate(\"Range Bars\"),inputs:[{id:\"range\",title:e.translate(\"Range\"),type:\"numericinput\"}]},pandf:{title:e.translate(\"Point & Figure\"),inputs:[{id:\"box\",title:e.translate(\"Box Size\"),type:\"numericinput\"},{id:\"reversal\",title:e.translate(\"Reversal\"),type:\"numericinput\"}]}},s.chartTypes=O(),s.setChartTypeFromLayout(s.stx.layout),Object(u.reaction)(function(){return s.mainStore.state.chartType},function(){void 0!==s.mainStore.state.chartType&&s.setType(s.mainStore.state.chartType)})},this.updateAggregate=function(e){var t=!0,r=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value,c=o.id,l=o.value,u=CIQ.deriveFromObjectChain(s.stx.layout,c);u.obj[u.member]=l}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}s.stx.changeOccurred(\"layout\"),s.stx.createDataSet(),s.stx.draw()},this.mainStore=r,Object(u.when)(function(){return s.context},this.onContextReady),this.menu=new h.a(r,{route:\"chart-type\"}),this.list=new d.a({getContext:function(){return s.context},getItems:function(){return s.types}}),this.settingsDialog=new f.a({mainStore:r,onChanged:function(e){return s.updateAggregate(e)}}),this.ChartTypeMenu=this.menu.connect(g.a),this.ChartTypeList=this.list.connect(m.a),this.AggregateChartSettingsDialog=this.settingsDialog.connect(b.a)}var r,n,i;return r=t,(n=[{key:\"setTypeFromUI\",value:function(e){void 0===this.chartTypeProp?this.setType(e):console.error(\"Changing chart type does nothing because chartType prop is being set. Consider overriding the onChange prop in <ChartTypes />\")}},{key:\"setType\",value:function(e){Object(y.d)(y.b.ChartControl,y.a.ChartType,e),e||(e=\"mountain\"),\"string\"==typeof e&&(e=this.types.find(function(t){return t.id===e})),e.id!==this.type.id&&(\"table\"!==e.id?(\"spline\"===e.id?(this.stx.chart.tension=this.stx.layout.tension=.5,this.stx.setChartType(\"mountain\")):(this.stx.chart.tension=0,delete this.stx.layout.tension,this.aggregates[e.id]?(this.stx.chart.baseline.userLevel=!1,this.stx.setAggregationType(e.id),this.stx.chart.baseline.userLevel=null):this.stx.setChartType(e.id)),this.type=e):this.mainStore.chartTable.setOpen(!0))}},{key:\"updateProps\",value:function(e){this.onChartTypeChanged=e}},{key:\"showAggregateDialog\",value:function(e){var t=this;e!==this.type.id&&this.setType(e);var r=this.aggregates[e];this.settingsDialog.title=r.title;var n=r.inputs.map(function(e){var r=e.id,n=w(e,[\"id\"]),i=\"box\"===r||\"reversal\"===r?\"pandf.\".concat(r):r,a=CIQ.deriveFromObjectChain(t.stx.layout,i),o=a.obj[a.member],s=t.stx.chart.defaultChartStyleConfig[r];return _({id:i,value:null!=o?o:s,defaultValue:s},n)});this.settingsDialog.items=n,this.settingsDialog.setOpen(!0)}},{key:\"setChartTypeFromLayout\",value:function(e){var t=this.getChartTypeFromLayout(e),r=this.chartTypes.findIndex(function(e){return e.id===t});this.type=this.chartTypes[r]}},{key:\"getChartTypeFromLayout\",value:function(e){return e.tension?\"spline\":this.aggregates[e.aggregationType]?e.aggregationType:e.chartType}},{key:\"isTypeCandle\",value:function(e){return\"string\"==typeof e&&(e=this.types.find(function(t){return t.id===e})),-1===C.indexOf(e.id)}},{key:\"context\",get:function(){return this.mainStore.chart.context}},{key:\"stx\",get:function(){return this.context.stx}},{key:\"chartTypeProp\",get:function(){return this.mainStore.state.chartType}},{key:\"isCandle\",get:function(){return-1===C.indexOf(this.type.id)}},{key:\"isSpline\",get:function(){return\"spline\"===this.type.id}},{key:\"isAggregateChart\",get:function(){var e=this;return!!E.find(function(t){return t.id===e.stx.layout.aggregationType})}},{key:\"types\",get:function(){var e=this,t=\"tick\"===this.mainStore.timeperiod.timeUnit;return void 0===this.chartTypes&&(this.chartTypes=O()),this.chartTypes.map(function(r){return _({},r,{active:r.id===e.type.id,disabled:!!r.candleOnly&&t})})}}])&&x(r.prototype,n),i&&x(r,i),t}()).prototype,\"type\",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return\"mountain\"}}),k(c.prototype,\"setTypeFromUI\",[n],Object.getOwnPropertyDescriptor(c.prototype,\"setTypeFromUI\"),c.prototype),k(c.prototype,\"setType\",[i],Object.getOwnPropertyDescriptor(c.prototype,\"setType\"),c.prototype),k(c.prototype,\"updateProps\",[a],Object.getOwnPropertyDescriptor(c.prototype,\"updateProps\"),c.prototype),k(c.prototype,\"showAggregateDialog\",[o],Object.getOwnPropertyDescriptor(c.prototype,\"showAggregateDialog\"),c.prototype),k(c.prototype,\"types\",[u.computed],Object.getOwnPropertyDescriptor(c.prototype,\"types\"),c.prototype),k(c.prototype,\"setChartTypeFromLayout\",[s],Object.getOwnPropertyDescriptor(c.prototype,\"setChartTypeFromLayout\"),c.prototype),c)}).call(this,r(6).t)},function(e,t,r){\"use strict\";r.d(t,\"a\",function(){return f});var n,i,a=r(1),o=r(5);function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var c,l,u,h,d,p,f=(n=a.action.bound,c=(i=function(){function e(t){var r=this,n=t.getContext,i=t.getItems,a=t.onItemSelected;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.connect=Object(o.a)(function(){return{items:r.getItems(),onItemClick:r.onItemClick}}),this.getContext=n,this.getItems=i,this.onItemSelected=a}var t,r,n;return t=e,(r=[{key:\"onItemClick\",value:function(e,t){this.onItemSelected(t)}}])&&s(t.prototype,r),n&&s(t,n),e}()).prototype,l=\"onItemClick\",u=[n],h=Object.getOwnPropertyDescriptor(i.prototype,\"onItemClick\"),d=i.prototype,p={},Object.keys(h).forEach(function(e){p[e]=h[e]}),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,(\"value\"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce(function(e,t){return t(c,l,e)||e},p),d&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(d):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(c,l,p),p=null),i)},function(e,t,r){\"use strict\";var n=r(0),i=r.n(n),a=r(14),o=r.n(a);r(220);t.a=function(e){var t=e.height,r=e.items,n=e.onItemClick,a=e.children,s=\"function\"==typeof a?a:function(e){return e.text},c=function(e){return\"ciq-list-item\"+\" \".concat(e.disabled?\"disabled\":\"\")+\" \".concat(e.active?\"active\":\"\")};return i.a.createElement(o.a,{className:\"ciq-list\",autoHeight:!0,autoHide:!0,style:t&&{height:\"\".concat(t,\"px\")}},r.map(function(e,t){return i.a.createElement(\"div\",{key:e.id,className:c(e),onClick:function(){return n(t,e)}},s(e))}))}},function(e,t,r){\"use strict\";(function(e){r.d(t,\"a\",function(){return A});var n,i,a,o,s,c,l,u,h,d,p,f,m,g=r(1),b=r(8),y=r(22),v=r(20),_=r(21),S=r(9),w=r(12),x=r(3);function k(e){return(k=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function O(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(r,!0).forEach(function(t){T(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function D(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function j(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,(\"value\"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var A=(n=g.action.bound,i=g.action.bound,a=g.action.bound,o=g.action.bound,s=g.action.bound,c=g.action.bound,l=g.action.bound,u=g.action.bound,h=g.action.bound,d=g.action.bound,f=j((p=function(){function t(r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.onContextReady=function(){n.stx.callbacks.studyOverlayEdit=n.editStudy,n.stx.callbacks.studyPanelEdit=n.editStudy,n.removeExtraStudies(),n.stx.append(\"createDataSet\",n.renderLegend),n.stx.append(\"drawPanels\",function(){var e=Object.keys(n.stx.panels)[1];e&&(n.stx.panels[e].up.style.display=\"none\")}),n.renderLegend()},this.previousStudies={},this.searchInputClassName=void 0,P(this,\"hasReachedLimits\",f,this),P(this,\"activeStudies\",m,this),this.renderLegend=function(){n.shouldRenderLegend()&&(n.updateActiveStudies(),n.updateStyle())},this.excludedStudies={Beta:!0,Klinger:!0,\"Trade Vol\":!0,\"Vol ROC\":!0,\"Price Vol\":!0,\"Pos Vol\":!0,\"Neg Vol\":!0,\"On Bal Vol\":!0,\"Vol Osc\":!0,volume:!0,\"vol undr\":!0,\"vol profile\":!0,\"W MFI\":!0,EOM:!0,\"Chaikin MF\":!0,Twiggs:!0,\"Aroon Osc\":!0,\"Lin R2\":!0,\"Lin Fcst\":!0,\"Lin Incpt\":!0,\"Time Fcst\":!0,\"VT Filter\":!0,TRIX:!0,\"STD Dev\":!0,Swing:!0,\"Acc Swing\":!0,\"Price ROC\":!0,Momentum:!0,\"Hist Vol\":!0,\"Pretty Good\":!0,Ultimate:!0,\"Chaikin Vol\":!0,\"Price Osc\":!0,\"True Range\":!0,ATR:!0,\"Ehler Fisher\":!0,Schaff:!0,QStick:!0,Coppock:!0,\"Chande Mtm\":!0,\"Chande Fcst\":!0,\"Intraday Mtm\":!0,RAVI:!0,\"Random Walk\":!0,\"High Low\":!0,\"High-Low\":!0,\"Med Price\":!0,\"Fractal Chaos\":!0,GAPO:!0,\"Prime Number Bands\":!0,\"Prime Number\":!0,HHV:!0,LLV:!0,\"Mass Idx\":!0,Keltner:!0,\"Elder Ray\":!0,\"Elder Force\":!0,\"LR Slope\":!0,COG:!0,\"Typical Price\":!0,\"Weighted Close\":!0,\"M Flow\":!0,\"W Acc Dist\":!0,\"val lines\":!0,correl:!0,PMO:!0,\"Rel Vol\":!0,\"ATR Bands\":!0,\"STARC Bands\":!0,\"ATR Trailing Stop\":!0,\"Boll BW\":!0,\"Boll %b\":!0,\"Rel Vig\":!0,\"Elder Impulse\":!0,\"Pivot Points\":!0,VWAP:!0,AVWAP:!0,\"P Rel\":!0,\"Perf Idx\":!0,Ulcer:!0,\"Bal Pwr\":!0,\"Trend Int\":!0,Choppiness:!0,Disparity:!0,\"Rainbow MA\":!0,\"Rainbow Osc\":!0,\"Pring KST\":!0,\"Pring Sp-K\":!0,Darvas:!0,Supertrend:!0,Vortex:!0,PSY:!0,\"MA Dev\":!0,Shinohara:!0,\"VT HZ Filter\":!0},this.mainStore=r,Object(g.when)(function(){return n.context},this.onContextReady),this.menu=new b.a(r,{route:\"indicators\"}),this.categoricalDisplay=new y.a({activeOptions:[{id:\"edit\",onClick:function(e){return n.editStudy(e)}},{id:\"delete\",onClick:function(e){return n.deleteStudy(e)}}],getIsShown:function(){return n.menu.open},getCategoricalItems:function(){return n.categorizedStudies},getActiveCategory:function(){return n.activeStudies},onSelectItem:this.onSelectItem.bind(this),placeholderText:e.translate('\"Mass Index\" or \"Doji Star\"'),favoritesId:\"indicators\",mainStore:r,searchInputClassName:function(){return n.searchInputClassName},limitInfo:e.translate(\"Up to 5 active indicators allowed.\")}),this.settingsDialog=new v.a({mainStore:r,onDeleted:function(){return n.deleteStudy(n.helper)},favoritesId:\"indicators\",onChanged:function(e){return n.updateStudy(n.helper.sd,e)}}),this.StudyCategoricalDisplay=this.categoricalDisplay.connect(w.b),this.StudyMenu=this.menu.connect(S.a),this.StudySettingsDialog=this.settingsDialog.connect(_.a)}var r,n,i;return r=t,(n=[{key:\"removeExtraStudies\",value:function(){var e=this;this.stx.layout&&this.stx.layout.studies&&Object.keys(this.stx.layout.studies).forEach(function(t,r){var n=e.stx.layout.studies[t].type;(r>=5||e.excludedStudies[n])&&setTimeout(function(){CIQ.Studies.removeStudy(e.stx,e.stx.layout.studies[t]),e.renderLegend()},0)})}},{key:\"onSelectItem\",value:function(e){if(this.stx.layout&&Object.keys(this.stx.layout.studies||[]).length<5){var t=CIQ.Studies.addStudy(this.stx,e);this.changeStudyPanelTitle(t),Object(x.d)(x.b.ChartControl,x.a.Indicator,\"Add \".concat(e)),this.menu.setOpen(!1)}}},{key:\"updateStyle\",value:function(){var e=Object.keys(this.stx.panels).length>2;this.mainStore.state.setShouldMinimiseLastDigit(e)}},{key:\"updateProps\",value:function(e){var t=e.searchInputClassName;this.searchInputClassName=t}},{key:\"editStudy\",value:function(t){var r=new CIQ.Studies.DialogHelper(t);this.helper=r,Object(x.d)(x.b.ChartControl,x.a.Indicator,\"Edit \".concat(r.name));var n=r.attributes,i=r.inputs.map(function(t){return E({id:t.name,title:e.translate(t.heading),value:t.value,defaultValue:t.defaultInput,type:\"checkbox\"===t.type?\"switch\":t.type,options:t.options||null},n[t.name],{category:\"inputs\"})}),a=r.outputs.map(function(t){return{id:t.name,title:e.translate(t.heading),defaultValue:t.defaultOutput,value:t.color,type:\"colorpicker\",category:\"outputs\"}}),o=r.parameters.map(function(t){var r=E({title:e.translate(t.heading)},n[t.name],{category:\"parameters\"});if(t.defaultValue.constructor===Boolean)return E({},r,{id:\"\".concat(t.name,\"Enabled\"),value:t.value,defaultValue:t.defaultValue,type:\"switch\"});if(t.defaultValue.constructor===Number)return E({},r,{id:t.name,type:\"numbercolorpicker\",defaultValue:{Color:t.defaultColor,Value:t.defaultValue},value:{Color:t.color,Value:t.value}});throw new Error(\"Unrecognised parameter!\")});this.settingsDialog.id=t.sd.type,this.settingsDialog.items=[].concat(O(a),O(i),O(o)),this.settingsDialog.title=e.translate(t.sd.libraryEntry.name),this.settingsDialog.description=\"\",this.settingsDialog.setOpen(!0)}},{key:\"deleteStudy\",value:function(e){var t=this,r=e.sd;Object(x.d)(x.b.ChartControl,x.a.Indicator,\"Remove \".concat(r.name)),r.permanent||setTimeout(function(){CIQ.Studies.removeStudy(t.stx,r),t.renderLegend()},0)}},{key:\"updateStudy\",value:function(t,r){var n={},i=!0,a=!1,o=void 0;try{for(var s,c=r[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=s.value,u=l.id,h=l.category,d=l.value,p=l.type;if(\"numbercolorpicker\"===p?t[h][\"\".concat(u,\"Color\")]!==d.Color||t[h][\"\".concat(u,\"Value\")]!==d.Value:t[h][u]!==d)if(n[h]=n[h]||{},\"object\"===k(d))for(var f in d)n[h][\"\".concat(u).concat(f)]=d[f];else n[h][u]=d}}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}0!==Object.keys(n).length&&(this.helper.updateStudy(n),this.updateActiveStudies(),this.stx.draw(),this.changeStudyPanelTitle(this.helper.sd),this.settingsDialog.title=e.translate(this.helper.sd.libraryEntry.name))}},{key:\"changeStudyPanelTitle\",value:function(e){this.mainStore.chart.isMobile&&(this.stx.panels[e.panel].display=e.type,this.stx.draw(),this.mainStore.state.saveLayout())}},{key:\"shouldRenderLegend\",value:function(){var e=this.stx;if(!e.layout.studies)return!1;if(CIQ.objLength(this.previousStudies)===CIQ.objLength(e.layout.studies)){var t=!1;for(var r in e.layout.studies)if(!this.previousStudies[r]){t=!0;break}if(!t)return!1}return this.previousStudies=CIQ.shallowClone(e.layout.studies),!0}},{key:\"setReachedLimit\",value:function(){var e=this.activeStudies.data.length>=5;this.hasReachedLimits=e}},{key:\"updateActiveStudies\",value:function(){var t=this,r=this.stx,n=[];Object.keys(r.layout.studies||[]).forEach(function(i){var a=r.layout.studies[i];a.customLegend||n.push({enabled:!0,display:t.mainStore.chart.isMobile?e.translate(a.libraryEntry.name):a.inputs.display,dataObject:{stx:r,sd:a,inputs:a.inputs,outputs:a.outputs,parameters:a.parameters}})}),this.activeStudies.data=n,this.activeStudies.categoryNamePostfix=\"(\".concat(n.length,\"/5)\"),this.setReachedLimit()}},{key:\"clearStudies\",value:function(){this.context&&this.context.advertised.Layout.clearStudies()}},{key:\"context\",get:function(){return this.mainStore.chart.context}},{key:\"stx\",get:function(){return this.context.stx}},{key:\"categorizedStudies\",get:function(){var t=this,r=[];Object.keys(CIQ.Studies.studyLibrary).forEach(function(n){if(!t.excludedStudies[n]){var i=CIQ.Studies.studyLibrary[n];r.push({enabled:!0,display:e.translate(i.name),dataObject:n,itemId:n})}});var n=\"(\".concat(this.activeStudies.data.length,\"/5)\");return[{categoryName:e.translate(\"Indicators\"),categoryNamePostfix:n,categoryNamePostfixShowIfActive:!0,categoryId:\"indicators\",categorySubtitle:e.translate(\"Up to 5 active indicators allowed.\"),hasSubcategory:!1,data:r}]}}])&&D(r.prototype,n),i&&D(r,i),t}()).prototype,\"hasReachedLimits\",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=j(p.prototype,\"activeStudies\",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{categoryName:e.translate(\"Active\"),categoryNamePostfix:\"\",categoryId:\"active\",hasSubcategory:!1,emptyDescription:e.translate(\"There are no active indicators yet.\"),data:[]}}}),j(p.prototype,\"removeExtraStudies\",[n],Object.getOwnPropertyDescriptor(p.prototype,\"removeExtraStudies\"),p.prototype),j(p.prototype,\"onSelectItem\",[i],Object.getOwnPropertyDescriptor(p.prototype,\"onSelectItem\"),p.prototype),j(p.prototype,\"updateStyle\",[a],Object.getOwnPropertyDescriptor(p.prototype,\"updateStyle\"),p.prototype),j(p.prototype,\"updateProps\",[o],Object.getOwnPropertyDescriptor(p.prototype,\"updateProps\"),p.prototype),j(p.prototype,\"editStudy\",[s],Object.getOwnPropertyDescriptor(p.prototype,\"editStudy\"),p.prototype),j(p.prototype,\"deleteStudy\",[c],Object.getOwnPropertyDescriptor(p.prototype,\"deleteStudy\"),p.prototype),j(p.prototype,\"updateStudy\",[l],Object.getOwnPropertyDescriptor(p.prototype,\"updateStudy\"),p.prototype),j(p.prototype,\"setReachedLimit\",[u],Object.getOwnPropertyDescriptor(p.prototype,\"setReachedLimit\"),p.prototype),j(p.prototype,\"updateActiveStudies\",[h],Object.getOwnPropertyDescriptor(p.prototype,\"updateActiveStudies\"),p.prototype),j(p.prototype,\"clearStudies\",[d],Object.getOwnPropertyDescriptor(p.prototype,\"clearStudies\"),p.prototype),p)}).call(this,r(6).t)},function(e,t,r){\"use strict\";var n=r(0),i=r.n(n),a=r(2),o=r(5);function s(e){return(s=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return!t||\"object\"!==s(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(){var e,r;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(r=l(this,(e=u(t)).call.apply(e,[this].concat(i)))).clearFilterText=function(){r.props.onChange(\"\")},r.onChange=function(e){r.props.onChange(e.target.value)},r}var r,o,s;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,n[\"Component\"]),r=t,(o=[{key:\"render\",value:function(){var e=this.props,t=e.placeholder,r=e.value,n=e.searchInput,o=e.searchInputClassName;return i.a.createElement(\"div\",{className:\"cq-lookup-input \".concat(\"\"!==r.trim()?\"active\":\"\")},i.a.createElement(\"input\",{className:o,value:r,ref:n,onChange:this.onChange,type:\"text\",spellCheck:\"off\",autoComplete:\"off\",autoCorrect:\"off\",autoCapitalize:\"off\",placeholder:t}),i.a.createElement(a.O,null),i.a.createElement(a.j,{className:\"icon-reset\",onClick:this.clearFilterText}))}}])&&c(r.prototype,o),s&&c(r,s),t}();t.a=Object(o.a)(function(e){return{isMobile:e.chart.isMobile}})(d)},function(e,t,r){\"use strict\";(function(e){r.d(t,\"a\",function(){return w});var n,i,a,o,s,c,l,u,h=r(0),d=r.n(h),p=r(1),f=r(8),m=r(22),g=r(12),b=r(9),y=r(3);function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,(\"value\"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var S=[\"#8ec648\",\"#00afed\",\"#ee652e\",\"#912a8e\",\"#fff126\",\"#e9088c\",\"#ea1d2c\",\"#00a553\",\"#00a99c\",\"#0056a4\",\"#f4932f\",\"#0073ba\",\"#66308f\",\"#323390\"],w=(n=p.action.bound,i=p.action.bound,a=p.action.bound,o=p.action.bound,s=p.action.bound,c=p.action.bound,u=_((l=function(){function t(r){var n,i,a,o,s=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),n=this,i=\"comparisonSymbols\",o=this,(a=u)&&Object.defineProperty(n,i,{enumerable:a.enumerable,configurable:a.configurable,writable:a.writable,value:a.initializer?a.initializer.call(o):void 0}),this.currentActiveSymbol=void 0,this.searchInputClassName=void 0,this.onContextReady=function(){var e=s.context.stx,t=s.mainStore.chart.feed;s.currentActiveSymbol=e.chart.symbol,e.addEventListener(\"symbolChange\",s.onSymbolChange),t.onComparisonDataUpdate(s.updateComparisonPrices),s.updateComparisons()},this.mainStore=r,this.menu=new f.a(r,{route:\"comparison\"}),this.ComparisonMenu=this.menu.connect(b.a),this.categoricalDisplay=new m.a({getActiveCategory:function(){return s.activeComparisons},getCategoricalItems:function(){return s.mainStore.chart.categorizedSymbols},getIsShown:function(){return s.menu.open},activeOptions:[{id:\"cmp-color\",renderChild:function(e){return d.a.createElement(\"span\",{style:{backgroundColor:e.dataObject.color}})}},{id:\"delete\",onClick:this.onDeleteItem}],onSelectItem:this.onSelectItem.bind(this),placeholderText:e.translate(\"Search...\"),favoritesId:\"chartTitle&Comparison\",mainStore:r,searchInputClassName:function(){return s.searchInputClassName}}),this.ComparisonSelector=this.categoricalDisplay.connect(g.b),Object(p.when)(function(){return s.context},this.onContextReady)}var r,n,i;return r=t,(n=[{key:\"updateProps\",value:function(e){this.searchInputClassName=e}},{key:\"updateComparisonPrices\",value:function(e){var t=this.comparisonSymbols.find(function(t){return t.symbolObject.symbol===e.symbol});t?(t.price=e.Close,t.prevPrice=e.prevClose):this.updateComparisons()}},{key:\"removeComparison\",value:function(e){this.context.stx.removeSeries(e.symbol)}},{key:\"onDeleteItem\",value:function(e){var t=e.symbolObject;Object(y.d)(y.b.ChartControl,y.a.Comparison,\"Remove \".concat(t.name)),this.removeComparison(t)}},{key:\"removeAll\",value:function(){var e=this;this.comparisonSymbols.forEach(function(t){e.onDeleteItem(t)})}},{key:\"onSelectItem\",value:function(e){var t=this;Object(y.d)(y.b.ChartControl,y.a.Comparison,\"Add \".concat(e.name));for(var r=this.context,n=this.getSwatchColor()||\"auto\",i=r.stx,a={symbolObject:e,isComparison:!0,display:e.name,fillGaps:!0,gapDisplayStyle:!0,color:n,pattern:null,width:1,data:{useDefaultQuoteFeed:!0},forceData:!0},o=i.getSeries({symbolObject:e}),s=0;s<o.length;s++)if(o[s].parameters.isComparison)return;r.stx.chart.symbol!==e.symbol&&(this.comparisonSymbols.push({color:n,symbolObject:e}),i.addSeries(e.symbol,a,function(e,r){e&&(t.removeComparison(r.parameters.symbolObject),r.parameters.error=!0)})),this.menu.setOpen(!1)}},{key:\"getSwatchColor\",value:function(){var e=this.context.stx,t=\"\",r={};for(var n in e.chart.series){var i=e.chart.series[n];i.parameters.isComparison&&(r[i.parameters.color]=!0)}for(var a=0;a<S.length;a++)if(!r[S[a]]){t=S[a];break}return t}},{key:\"onSymbolChange\",value:function(e){if(\"master\"===e.action){var t=this.context.stx;if(this.currentActiveSymbol!==t.chart.symbol){for(var r in this.comparisonSymbols=[],t.chart.series)\"study\"!==t.chart.series[r].parameters.bucket&&t.removeSeries(r);this.currentActiveSymbol=t.chart.symbol}}else this.updateComparisons()}},{key:\"updateComparisons\",value:function(){if(this.context){var e=this.context.stx,t=Object.keys(e.chart.series);if(t.length!==this.comparisonSymbols.length){var r=[],n=e.currentQuote();if(n)for(var i=0,a=t;i<a.length;i++){var o=a[i],s=e.chart.series[o].parameters,c=n[o],l=this.mainStore.chart.activeSymbols.getSymbolObj(s.symbolObject.symbol);r.push({color:s.color,price:c&&c.Close,prevPrice:c&&c.iqPrevClose,symbolObject:l})}this.comparisonSymbols=r}}}},{key:\"context\",get:function(){return this.mainStore.chart.context}},{key:\"activeComparisons\",get:function(){var t=[],r=!0,n=!1,i=void 0;try{for(var a,o=this.comparisonSymbols[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;t.push({enabled:!0,selected:!1,display:s.symbolObject.name,itemId:s.symbolObject.symbol,dataObject:s})}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return{categoryName:e.translate(\"Active\"),categoryId:\"active\",hasSubcategory:!1,emptyDescription:e.translate(\"There are no active comparisons yet.\"),data:t}}}])&&v(r.prototype,n),i&&v(r,i),t}()).prototype,\"comparisonSymbols\",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_(l.prototype,\"updateProps\",[n],Object.getOwnPropertyDescriptor(l.prototype,\"updateProps\"),l.prototype),_(l.prototype,\"updateComparisonPrices\",[i],Object.getOwnPropertyDescriptor(l.prototype,\"updateComparisonPrices\"),l.prototype),_(l.prototype,\"activeComparisons\",[p.computed],Object.getOwnPropertyDescriptor(l.prototype,\"activeComparisons\"),l.prototype),_(l.prototype,\"onDeleteItem\",[a],Object.getOwnPropertyDescriptor(l.prototype,\"onDeleteItem\"),l.prototype),_(l.prototype,\"removeAll\",[o],Object.getOwnPropertyDescriptor(l.prototype,\"removeAll\"),l.prototype),_(l.prototype,\"onSelectItem\",[s],Object.getOwnPropertyDescriptor(l.prototype,\"onSelectItem\"),l.prototype),_(l.prototype,\"onSymbolChange\",[c],Object.getOwnPropertyDescriptor(l.prototype,\"onSymbolChange\"),l.prototype),l)}).call(this,r(6).t)},function(e,t,r){\"use strict\";(function(e){r.d(t,\"a\",function(){return y});var n,i,a,o,s,c,l=r(1),u=r(8),h=r(20),d=r(9),p=r(21),f=r(3);function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,(\"value\"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var b=function(e){return(e.charAt(0).toUpperCase()+e.slice(1)).replace(/([a-z](?=[A-Z]))/g,\"$1 \")},y=(n=l.action.bound,i=l.action.bound,a=l.action.bound,o=l.action.bound,s=l.action.bound,g((c=function(){function t(r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.activeDrawing=null,this.isContinuous=!1,this.drawToolsItems=[],this.onContextReady=function(){document.addEventListener(\"keydown\",n.closeOnEscape,!1),n.stx.addEventListener(\"drawing\",n.noTool),n.stx.prepend(\"deleteHighlighted\",n.onDeleteHighlighted),n.drawToolsItems=[{id:\"annotation\",text:e.translate(\"Annotation\")},{id:\"average\",text:e.translate(\"Average Line\")},{id:\"callout\",text:e.translate(\"Callout\")},{id:\"channel\",text:e.translate(\"Channel\")},{id:\"continuous\",text:e.translate(\"Continuous\")},{id:\"crossline\",text:e.translate(\"Crossline\")},{id:\"freeform\",text:e.translate(\"Doodle\")},{id:\"ellipse\",text:e.translate(\"Ellipse\")},{id:\"retracement\",text:e.translate(\"Fib Retracement\")},{id:\"fibarc\",text:e.translate(\"Fib Arc\")},{id:\"fibfan\",text:e.translate(\"Fib Fan\")},{id:\"fibtimezone\",text:e.translate(\"Fib Time Zone\")},{id:\"gannfan\",text:e.translate(\"Gann Fan\")},{id:\"gartley\",text:e.translate(\"Gartley\")},{id:\"horizontal\",text:e.translate(\"Horizontal\")},{id:\"line\",text:e.translate(\"Line\")},{id:\"pitchfork\",text:e.translate(\"Pitchfork\")},{id:\"quadrant\",text:e.translate(\"Quadrant Lines\")},{id:\"ray\",text:e.translate(\"Ray\")},{id:\"rectangle\",text:e.translate(\"Rectangle\")},{id:\"regression\",text:e.translate(\"Regression Line\")},{id:\"segment\",text:e.translate(\"Segment\")},{id:\"arrow\",text:e.translate(\"Shape - Arrow\")},{id:\"check\",text:e.translate(\"Shape - Check\")},{id:\"xcross\",text:e.translate(\"Shape - Cross\")},{id:\"focusarrow\",text:e.translate(\"Shape - Focus\")},{id:\"heart\",text:e.translate(\"Shape - Heart\")},{id:\"star\",text:e.translate(\"Shape - Star\")},{id:\"speedarc\",text:e.translate(\"Speed Resistance Arc\")},{id:\"speedline\",text:e.translate(\"Speed Resistance Line\")},{id:\"timecycle\",text:e.translate(\"Time Cycle\")},{id:\"tirone\",text:e.translate(\"Tirone Levels\")},{id:\"vertical\",text:e.translate(\"Vertical\")}]},this.closeOnEscape=function(e){27===e.keyCode&&n.stx.changeVectorType(\"\")},this.noTool=function(){var e=n.stx.drawingObjects.length;(n.menu.open&&n.context||!n.isContinuous&&n._pervDrawingObjectCount!==e)&&n.stx.changeVectorType(\"\"),n._pervDrawingObjectCount=e},this.mainStore=r,this.menu=new u.a(r,{route:\"draw-tool\"}),this.DrawToolsMenu=this.menu.connect(d.a),this.settingsDialog=new h.a({mainStore:r,onDeleted:this.onDeleted,onChanged:this.onChanged}),this.DrawToolsSettingsDialog=this.settingsDialog.connect(p.a),Object(l.when)(function(){return n.context},this.onContextReady),Object(l.reaction)(function(){return n.menu.open},this.noTool)}var r,n,i;return r=t,(n=[{key:\"onDeleteHighlighted\",value:function(e){var t=!0,r=!1,n=void 0;try{for(var i,a=this.stx.drawingObjects[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;if(e)return this.showDrawToolDialog(o),!0}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}return!1}},{key:\"showDrawToolDialog\",value:function(e){Object(f.d)(f.b.ChartControl,f.a.DrawTools,\"Edit \".concat(e.name));e.abort();var t=CIQ.Drawing.getDrawingParameters(this.stx,e.name),r={color:\"colorpicker\",fillColor:\"colorpicker\",pattern:\"pattern\",axisLabel:\"switch\",font:\"font\",lineWidth:\"none\"};this.settingsDialog.items=Object.keys(t).filter(function(t){return!((e.name.startsWith(\"fib\")||\"retracement\"===e.name)&&\"pattern\"===t)}).map(function(n){return{id:n,title:b(n),value:e[n],defaultValue:t[n],type:r[n]}}),this.activeDrawing=e,this.activeDrawing.highlighted=!1,this.settingsDialog.title=b(e.name),this.settingsDialog.setOpen(!0)}},{key:\"clearAll\",value:function(){Object(f.d)(f.b.ChartControl,f.a.DrawTools,\"Clear All\"),this.stx.clearDrawings()}},{key:\"selectTool\",value:function(e){this.isContinuous=!1,Object(f.d)(f.b.ChartControl,f.a.DrawTools,\"Add \".concat(e));var t=this.context.stx;t.clearMeasure(),t.changeVectorType(e),\"continuous\"===e&&(this.isContinuous=!0),this.menu.setOpen(!1)}},{key:\"onChanged\",value:function(e){var t=!0,r=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;this.activeDrawing[o.id]=o.value}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}this.activeDrawing.highlighted=!1,this.activeDrawing.adjust(),this.mainStore.state.saveDrawings()}},{key:\"onDeleted\",value:function(){Object(f.d)(f.b.ChartControl,f.a.DrawTools,\"Remove \".concat(this.activeDrawing.name)),this.stx.removeDrawing(this.activeDrawing),this.activeDrawing=null}},{key:\"context\",get:function(){return this.mainStore.chart.context}},{key:\"stx\",get:function(){return this.context.stx}}])&&m(r.prototype,n),i&&m(r,i),t}()).prototype,\"onDeleteHighlighted\",[n],Object.getOwnPropertyDescriptor(c.prototype,\"onDeleteHighlighted\"),c.prototype),g(c.prototype,\"clearAll\",[i],Object.getOwnPropertyDescriptor(c.prototype,\"clearAll\"),c.prototype),g(c.prototype,\"selectTool\",[a],Object.getOwnPropertyDescriptor(c.prototype,\"selectTool\"),c.prototype),g(c.prototype,\"onChanged\",[o],Object.getOwnPropertyDescriptor(c.prototype,\"onChanged\"),c.prototype),g(c.prototype,\"onDeleted\",[s],Object.getOwnPropertyDescriptor(c.prototype,\"onDeleted\"),c.prototype),c)}).call(this,r(6).t)},function(e,t,r){\"use strict\";(function(e){r.d(t,\"a\",function(){return x});var n,i,a,o,s,c,l,u=r(1),h=r(8),d=r(47),p=r(22),f=r(9),m=r(12),g=r(48),b=r(62),y=r(5),v=r(15);function _(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function w(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,(\"value\"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var x=(n=u.action.bound,i=u.action.bound,a=u.action.bound,s=w((o=function(){function t(r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),_(this,\"todayChange\",s,this),_(this,\"todayChangePercent\",c,this),_(this,\"isVisible\",l,this),this.searchInputClassName=void 0,this.onContextReady=function(){n.chart.feed.onMasterDataUpdate(n.update),n.update(),n.tradingTimes.onMarketOpenCloseChanged(Object(u.action)(function(e){for(var t in e)n.currentSymbol.symbol===t&&(n.currentSymbol.exchange_is_open=e[t])}))},this.onMouseEnter=function(){return n.crosshairStore.updateVisibility(!1)},this.onMouseLeave=function(){return n.crosshairStore.updateVisibility(!0)},this.mainStore=r,Object(u.when)(function(){return n.context},this.onContextReady),this.menu=new h.a(r,{route:\"chart-title\"}),this.animatedPrice=new d.a,this.categoricalDisplay=new p.a({getCategoricalItems:function(){return n.mainStore.chart.categorizedSymbols},getIsShown:function(){return n.menu.open},placeholderText:e.translate(\"Search...\"),favoritesId:\"chartTitle&Comparison\",mainStore:r,id:\"market_dropdown\",getCurrentActiveCategory:function(){return n.mainStore.chart.currentActiveSymbol?n.mainStore.chart.currentActiveSymbol.market:\"favorite\"},getCurrentActiveSubCategory:function(){return n.mainStore.chart.currentActiveSymbol?n.mainStore.chart.currentActiveSymbol.symbol:\"\"},searchInputClassName:function(){return n.searchInputClassName}}),this.serverTime=v.a.getInstance(),this.ChartTitleMenu=this.menu.connect(f.a),this.MarketSelector=this.categoricalDisplay.connect(m.b);var i=this.animatedPrice.connect(g.a),a=Object(y.a)(function(){return{isVisible:n.isVisible&&n.isShowChartPrice,status:n.animatedPrice.status,todayChange:n.todayChange,todayChangePercent:n.todayChangePercent,SpotPrice:i}})(b.a);this.SymbolSelectButton=Object(y.a)(function(){return{symbol:n.currentSymbol,ChartPrice:a,isSymbolOpen:n.isSymbolOpen,symbolOpenTime:n.symbolOpenTime}})(b.b)}var r,n,i;return r=t,(n=[{key:\"updateProps\",value:function(e){this.searchInputClassName=e}},{key:\"setSymbol\",value:function(e){void 0===this.mainStore.state.symbol?this.chart.changeSymbol(e):console.error(\"Changing symbol does nothing because symbol prop is being set. Consider overriding the onChange prop in <ChartTitle />\")}},{key:\"update\",value:function(e){if(this.currentSymbol&&(this.isVisible=e||!this.isShowChartPrice,this.isVisible)){var t=e.Close;if(t){t=t.toFixed(this.decimalPlaces);var r=e.prevClose||this.animatedPrice.price;this.animatedPrice.setPrice(t,r),r&&(this.todayChange=Math.abs(t-r).toFixed(this.decimalPlaces),this.todayChangePercent=(this.todayChange/r*100).toFixed(2))}}}},{key:\"chart\",get:function(){return this.mainStore.chart}},{key:\"context\",get:function(){return this.mainStore.chart.context}},{key:\"crosshairStore\",get:function(){return this.mainStore.crosshair}},{key:\"currentSymbol\",get:function(){return this.mainStore.chart.currentActiveSymbol}},{key:\"isSymbolOpen\",get:function(){return this.currentSymbol.exchange_is_open}},{key:\"decimalPlaces\",get:function(){return this.mainStore.chart.currentActiveSymbol.decimal_places}},{key:\"isShowChartPrice\",get:function(){return this.mainStore.chart.isChartAvailable}},{key:\"tradingTimes\",get:function(){return this.mainStore.chart.tradingTimes}},{key:\"symbolOpenTime\",get:function(){var e=this.tradingTimes._tradingTimesMap&&this.tradingTimes._tradingTimesMap.length?this.tradingTimes._tradingTimesMap[this.currentSymbol.symbol].times:[],t=this.serverTime.getLocalDate().getTime(),r=e?e.find(function(e){return e.open.getTime()>t}):null;return r instanceof Date||(r=null),{openTime:r}}}])&&S(r.prototype,n),i&&S(r,i),t}()).prototype,\"todayChange\",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=w(o.prototype,\"todayChangePercent\",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=w(o.prototype,\"isVisible\",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w(o.prototype,\"currentSymbol\",[u.computed],Object.getOwnPropertyDescriptor(o.prototype,\"currentSymbol\"),o.prototype),w(o.prototype,\"isSymbolOpen\",[u.computed],Object.getOwnPropertyDescriptor(o.prototype,\"isSymbolOpen\"),o.prototype),w(o.prototype,\"decimalPlaces\",[u.computed],Object.getOwnPropertyDescriptor(o.prototype,\"decimalPlaces\"),o.prototype),w(o.prototype,\"isShowChartPrice\",[u.computed],Object.getOwnPropertyDescriptor(o.prototype,\"isShowChartPrice\"),o.prototype),w(o.prototype,\"tradingTimes\",[u.computed],Object.getOwnPropertyDescriptor(o.prototype,\"tradingTimes\"),o.prototype),w(o.prototype,\"symbolOpenTime\",[u.computed],Object.getOwnPropertyDescriptor(o.prototype,\"symbolOpenTime\"),o.prototype),w(o.prototype,\"updateProps\",[n],Object.getOwnPropertyDescriptor(o.prototype,\"updateProps\"),o.prototype),w(o.prototype,\"setSymbol\",[i],Object.getOwnPropertyDescriptor(o.prototype,\"setSymbol\"),o.prototype),w(o.prototype,\"update\",[a],Object.getOwnPropertyDescriptor(o.prototype,\"update\"),o.prototype),o)}).call(this,r(6).t)},function(e,t,r){\"use strict\";r.d(t,\"a\",function(){return d});var n=r(0),i=r.n(n),a=r(4),o=r(15);function s(e){return(s=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return!t||\"object\"!==s(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),(r=l(this,u(t).call(this,e))).serverTime=o.a.getInstance(),r.state={time:r.serverTime.getLocalDate().getTime()},r}var r,n,s;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,i.a.Component),r=t,(n=[{key:\"componentDidMount\",value:function(){var e=this;this.timerInterval=setInterval(function(){return e.tick()},1e3)}},{key:\"componentWillUnmount\",value:function(){clearInterval(this.timerInterval)}},{key:\"tick\",value:function(){this.setState({time:this.serverTime.getLocalDate().getTime()})}},{key:\"render\",value:function(){var e=null,t=(this.props.symbolOpenTime.symbolOpenTime||{}).openTime||null;return t&&(e=Object(a.f)(t.getTime()-this.state.time)),i.a.createElement(\"span\",null,e)}}])&&c(r.prototype,n),s&&c(r,s),t}()},function(e,t,r){\"use strict\";(function(e){r.d(t,\"a\",function(){return I});var n,i,a,o,s,c,l,u,h,d,p,f,m,g,b,y,v,_,S,w,x=r(0),k=r.n(x),O=r(1),C=r(8),E=r(2),T=r(9),P=r(3);function D(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function A(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,(\"value\"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var N=[{key:\"en\",name:\"English\",icon:k.a.createElement(E.v.USD,null)},{key:\"pt\",name:\"Português\",icon:k.a.createElement(E.v.Portugal,null)},{key:\"de\",name:\"Deutsch\",icon:k.a.createElement(E.v.German,null)},{key:\"ru\",name:\"Русский\",icon:k.a.createElement(E.v.Russia,null)},{key:\"fr\",name:\"French\",icon:k.a.createElement(E.v.French,null)},{key:\"th\",name:\"Thai\",icon:k.a.createElement(E.v.Thailand,null)},{key:\"id\",name:\"Indonesia\",icon:k.a.createElement(E.v.Indonesia,null)},{key:\"vi\",name:\"Tiếng Việt\",icon:k.a.createElement(E.v.Vietnam,null)},{key:\"it\",name:\"Italiano\",icon:k.a.createElement(E.v.Italy,null)},{key:\"zh_cn\",name:\"简体中文\",icon:k.a.createElement(E.v.Chinese,null)},{key:\"pl\",name:\"Polish\",icon:k.a.createElement(E.v.Poland,null)},{key:\"zh_tw\",name:\"繁體中文\",icon:k.a.createElement(E.v.ChineseTraditional,null)},{key:\"es\",name:\"espanyol\",icon:k.a.createElement(E.v.Spanish,null)}],I=(n=O.action.bound,i=O.action.bound,a=O.action.bound,o=O.action.bound,s=O.action.bound,c=O.action.bound,l=O.action.bound,u=O.action.bound,h=O.action.bound,d=O.action.bound,f=A((p=function(){function t(e){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.languages=[],this.defaultLanguage={},this.onSettingsChange=void 0,D(this,\"assetInformation\",f,this),D(this,\"view\",m,this),D(this,\"language\",g,this),D(this,\"position\",b,this),D(this,\"theme\",y,this),D(this,\"countdown\",v,this),D(this,\"historical\",_,this),D(this,\"isAutoScale\",S,this),D(this,\"isHighestLowestMarkerEnabled\",w,this),this.defaultLanguage=this.languages[0],this.mainStore=e,this.menu=new C.a(e,{route:\"setting\"}),this.ChartSettingMenu=this.menu.connect(T.a),Object(O.when)(function(){return r.context},function(){r.setSettings(e.state.settings)})}var r,n,i;return r=t,(n=[{key:\"setSettings\",value:function(e){var t=this;if(void 0!==e){var r=e.assetInformation,n=e.countdown,i=e.historical,a=e.language,o=e.position,s=e.isAutoScale,c=e.isHighestLowestMarkerEnabled,l=e.theme,u=e.activeLanguages;!u&&N.every(function(e){return t.languages.find(function(t){return t.key===e.key})})||u&&this.languages.length===u.length&&this.languages.every(function(e){return-1!==u.indexOf(e.key.toUpperCase())})||this.updateActiveLanguage(u),void 0!==l&&this.setTheme(l),void 0!==o&&this.setPosition(o),void 0!==n&&this.showCountdown(n),void 0!==a&&this.setLanguage(a),void 0!==r&&this.setAssetInformation(r),void 0!==i&&this.setHistorical(i),void 0!==s&&this.setAutoScale(s),void 0!==c&&this.toggleHighestLowestMarker(c)}}},{key:\"saveSetting\",value:function(){this.onSettingsChange&&this.onSettingsChange({assetInformation:this.assetInformation,countdown:this.countdown,historical:this.historical,language:this.language.key,position:this.position,isAutoScale:this.isAutoScale,isHighestLowestMarkerEnabled:this.isHighestLowestMarkerEnabled,theme:this.theme})}},{key:\"setView\",value:function(e){this.view=e||\"\"}},{key:\"updateActiveLanguage\",value:function(e){var t=this;this.setView(\"\"),this.languages=e?e.map(function(e){return N.find(function(t){return t.key.toUpperCase()===e})||null}).filter(function(e){return e}):N,this.defaultLanguage=this.languages[0],(this.language&&!this.languages.find(function(e){return e.key===t.language.key})||!this.language)&&this.setLanguage(this.languages[0].key)}},{key:\"setLanguage\",value:function(t){this.languages.length&&(this.language&&t===this.language.key||(this.language=this.languages.find(function(e){return e.key===t})||this.defaultLanguage,e.setLanguage(this.language.key),Object(P.d)(P.b.ChartControl,P.a.ChartSetting,\"Change language to \".concat(this.language.key)),this.saveSetting()))}},{key:\"setTheme\",value:function(e){this.theme!==e&&(this.theme=e,this.context&&(this.mainStore.state.setChartTheme(e),this.mainStore.crosshair.setFloatPriceLabelStyle(e)),Object(P.d)(P.b.ChartControl,P.a.ChartSetting,\"Change theme to \".concat(e)),this.saveSetting())}},{key:\"setPosition\",value:function(e){var t=this;this.position!==e&&(this.position=e,this.context&&this.stx.clearStyles(),Object(P.d)(P.b.ChartControl,P.a.ChartSetting,\"Change Position\"),this.saveSetting(),setTimeout(function(){t.mainStore.chart.resizeScreen()},10),this.menu.setOpen(!1))}},{key:\"setAssetInformation\",value:function(e){this.assetInformation!==e&&(this.assetInformation=e,Object(P.d)(P.b.ChartControl,P.a.ChartSetting,\"\".concat(e?\"Show\":\"Hide\",\" Asset Information\")),this.saveSetting())}},{key:\"showCountdown\",value:function(e){this.countdown!==e&&(this.countdown=e,Object(P.d)(P.b.ChartControl,P.a.ChartSetting,\"\".concat(e?\"Show\":\"Hide\",\" Countdown\")),this.saveSetting())}},{key:\"setHistorical\",value:function(e){var t=this;this.historical!==e&&(this.historical=e,this.isHighestLowestMarkerEnabled=!e,this.saveSetting(),setTimeout(function(){t.mainStore.chart.resizeScreen()},10),this.menu.setOpen(!1))}},{key:\"setAutoScale\",value:function(e){this.isAutoScale!==e&&(this.isAutoScale=e,Object(P.d)(P.b.ChartControl,P.a.ChartSetting,\" Change AutoScale to \".concat(e)),this.saveSetting())}},{key:\"toggleHighestLowestMarker\",value:function(e){this.isHighestLowestMarkerEnabled!==e&&(this.isHighestLowestMarkerEnabled=e,Object(P.d)(P.b.ChartControl,P.a.ChartSetting,\" \".concat(e?\"Show\":\"Hide\",\" HighestLowestMarker.\")),this.saveSetting())}},{key:\"context\",get:function(){return this.mainStore.chart.context}},{key:\"stx\",get:function(){return this.context.stx}}])&&j(r.prototype,n),i&&j(r,i),t}()).prototype,\"assetInformation\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),m=A(p.prototype,\"view\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return\"\"}}),g=A(p.prototype,\"language\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=A(p.prototype,\"position\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return\"bottom\"}}),y=A(p.prototype,\"theme\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return\"light\"}}),v=A(p.prototype,\"countdown\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=A(p.prototype,\"historical\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=A(p.prototype,\"isAutoScale\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),w=A(p.prototype,\"isHighestLowestMarkerEnabled\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),A(p.prototype,\"setView\",[n],Object.getOwnPropertyDescriptor(p.prototype,\"setView\"),p.prototype),A(p.prototype,\"updateActiveLanguage\",[i],Object.getOwnPropertyDescriptor(p.prototype,\"updateActiveLanguage\"),p.prototype),A(p.prototype,\"setLanguage\",[a],Object.getOwnPropertyDescriptor(p.prototype,\"setLanguage\"),p.prototype),A(p.prototype,\"setTheme\",[o],Object.getOwnPropertyDescriptor(p.prototype,\"setTheme\"),p.prototype),A(p.prototype,\"setPosition\",[s],Object.getOwnPropertyDescriptor(p.prototype,\"setPosition\"),p.prototype),A(p.prototype,\"setAssetInformation\",[c],Object.getOwnPropertyDescriptor(p.prototype,\"setAssetInformation\"),p.prototype),A(p.prototype,\"showCountdown\",[l],Object.getOwnPropertyDescriptor(p.prototype,\"showCountdown\"),p.prototype),A(p.prototype,\"setHistorical\",[u],Object.getOwnPropertyDescriptor(p.prototype,\"setHistorical\"),p.prototype),A(p.prototype,\"setAutoScale\",[h],Object.getOwnPropertyDescriptor(p.prototype,\"setAutoScale\"),p.prototype),A(p.prototype,\"toggleHighestLowestMarker\",[d],Object.getOwnPropertyDescriptor(p.prototype,\"toggleHighestLowestMarker\"),p.prototype),p)}).call(this,r(6).t)},function(e,t,r){\"use strict\";(function(e){r.d(t,\"a\",function(){return p});var n,i,a,o,s,c,l=r(1);function u(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,(\"value\"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=(n=l.action.bound,i=l.action.bound,a=l.action.bound,s=d((o=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),u(this,\"isActive\",s,this),u(this,\"currentState\",c,this),this.states={},this.states={\"chart-engine\":e.translate(\"Retrieving Chart Engine...\"),\"market-symbol\":e.translate(\"Retrieving Market Symbols...\"),\"trading-time\":e.translate(\"Retrieving Trading Times...\"),\"chart-data\":e.translate(\"Retrieving Chart Data...\")}}var r,n,i;return r=t,(n=[{key:\"setState\",value:function(e){this.states[e]?this.currentState=this.states[e]:console.error(\"Wrong state requested!\")}},{key:\"show\",value:function(){this.isActive=!0}},{key:\"hide\",value:function(){this.isActive=!1}}])&&h(r.prototype,n),i&&h(r,i),t}()).prototype,\"isActive\",[l.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),c=d(o.prototype,\"currentState\",[l.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),d(o.prototype,\"setState\",[n],Object.getOwnPropertyDescriptor(o.prototype,\"setState\"),o.prototype),d(o.prototype,\"show\",[i],Object.getOwnPropertyDescriptor(o.prototype,\"show\"),o.prototype),d(o.prototype,\"hide\",[a],Object.getOwnPropertyDescriptor(o.prototype,\"hide\"),o.prototype),o)}).call(this,r(6).t)},function(e,t,r){\"use strict\";(function(e){function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.onMessage=void 0}var a,o,s;return a=t,s=[{key:\"CATEGORY_ACTIVE_SYMBOL\",get:function(){return\"activesymbol\"}}],(o=[{key:\"notify\",value:function(e){this.onMessage&&this.onMessage(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(i,!0).forEach(function(t){n(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({type:\"warning\"},e))}},{key:\"notifyMarketOpen\",value:function(r){this.notify({text:e.translate(\"[symbol] market is now opened.\",{symbol:r}),type:\"info\",category:t.CATEGORY_ACTIVE_SYMBOL})}},{key:\"notifyMarketClose\",value:function(r){this.notify({text:e.translate(\"[symbol] market is presently closed.\",{symbol:r}),category:t.CATEGORY_ACTIVE_SYMBOL})}},{key:\"notifyDelayedMarket\",value:function(r,n){this.notify({text:e.translate(\"[symbol] feed is delayed by [delay] minutes\",{symbol:r,delay:n}),category:t.CATEGORY_ACTIVE_SYMBOL})}},{key:\"notifyFeedUnavailable\",value:function(r){this.notify({text:e.translate(\"Streaming for [symbol] is not available due to license restrictions\",{symbol:r}),type:\"error\",category:t.CATEGORY_ACTIVE_SYMBOL})}}])&&i(a.prototype,o),s&&i(a,s),t}();t.a=a}).call(this,r(6).t)},function(e,t,r){\"use strict\";(function(e){var n=r(0),i=r.n(n),a=r(41),o=r(35),s=r(36),c=r(37),l=r(178),u=r(38),h=r(179),d=r(181),p=r(182),f=r(183),m=r(184),g=(r(231),r(17),r(185)),b=r(186),y=r(5),v=r(3),_=r(187);function S(e){return(S=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function x(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function k(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function O(e,t){return!t||\"object\"!==S(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var T=function(t){function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,r),(t=O(this,C(r).call(this,e))).defaultTopWidgets=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,null),i.a.createElement(c.a,null),i.a.createElement(o.a,null))},t.modalNode=i.a.createRef(),t.root=i.a.createRef(),t}var y,S,T;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(r,n[\"Component\"]),y=r,(S=[{key:\"componentDidMount\",value:function(){var e=this.props,t=e.updateProps,r=e.init,n=x(e,[\"updateProps\",\"init\"]);Object(v.c)(),Object(v.e)(),t(n),r(this.root.current,this.modalNode.current,n)}},{key:\"componentDidUpdate\",value:function(e){var t=this.props,r=t.updateProps,n=(t.init,x(t,[\"updateProps\",\"init\"]));e.updateProps,e.init;x(e,[\"updateProps\",\"init\"])!==n&&r(n)}},{key:\"componentWillUnmount\",value:function(){this.props.destroy()}},{key:\"render\",value:function(){var t=this.props,r=t.DrawToolsSettingsDialog,n=t.StudySettingsDialog,o=t.isCandle,s=t.isSpline,c=t.isMobile,y=void 0!==c&&c,v=t.isChartAvailable,S=t.isHighestLowestMarkerEnabled,x=t.barriers,k=void 0===x?[]:x,O=t.children,C=t.chartControlsWidgets,E=t.AggregateChartSettingsDialog,T=t.topWidgets,P=t.chartContainerHeight,D=t.containerWidth,j=t.isChartClosed,A=t.theme,N=t.position,I=t.bottomWidgets,M=t.enabledNavigationWidget,z=\"cq-chart-control-\".concat(C&&N&&!y?N:\"bottom\"),L=y?\"\":\"smartcharts-\".concat(D),R=T||this.defaultTopWidgets,H=O&&O.length?\"smartcharts--has-markers\":\"\";return i.a.createElement(\"div\",{className:\"smartcharts smartcharts-\".concat(A,\" \").concat(M?\"smartcharts--navigation-widget\":\"\",\" \").concat(H,\" \").concat(L)},i.a.createElement(\"div\",{className:\"smartcharts-\".concat(y?\"mobile\":\"desktop\"),ref:this.modalNode},i.a.createElement(\"div\",{className:\"cq-context\",ref:this.root},i.a.createElement(\"div\",{className:\" \".concat(z)},i.a.createElement(\"div\",{className:\"ciq-chart-area\"},i.a.createElement(\"div\",{className:\"ciq-chart \".concat(j?\"closed-chart\":\"\")},i.a.createElement(a.a,{at:\"holder\"},k.map(function(e,t){return i.a.createElement(u.a,w({key:\"barrier-\".concat(t)},e))})),i.a.createElement(a.a,{at:\"subholder\"},!o&&!s&&S&&i.a.createElement(m.a,null)),i.a.createElement(a.a,{at:\"subholder\",hideInScrollToEpoch:!0},O),i.a.createElement(a.a,{at:\"subholder\"},i.a.createElement(_.a,null)),i.a.createElement(\"div\",{className:\"cq-top-ui-widgets\"},i.a.createElement(R,null)),M&&i.a.createElement(f.a,null),i.a.createElement(\"div\",{className:\"chartContainer\",style:{height:P}},i.a.createElement(b.a,null)),i.a.createElement(l.a,null),!v&&i.a.createElement(\"div\",{className:\"cq-chart-unavailable\"},e.translate(\"Chart data is not available for this symbol.\")),i.a.createElement(d.a,null,i.a.createElement(h.a,{bottomWidgets:I}))),null!==C&&i.a.createElement(g.a,{widgets:C})))),i.a.createElement(r,null),i.a.createElement(E,null),i.a.createElement(n,null),i.a.createElement(p.a,null)))}}])&&k(y.prototype,S),T&&k(y,T),r}();t.a=Object(y.a)(function(e){var t=e.chart,r=e.drawTools,n=e.studies,i=e.chartSetting,a=e.chartType,o=e.state;return{init:t.init,destroy:t.destroy,StudySettingsDialog:n.StudySettingsDialog,DrawToolsSettingsDialog:r.DrawToolsSettingsDialog,AggregateChartSettingsDialog:a.AggregateChartSettingsDialog,isCandle:a.isCandle,isChartAvailable:t.isChartAvailable,isSpline:a.isSpline,updateProps:o.updateProps,chartContainerHeight:t.chartContainerHeight,containerWidth:t.containerWidth,isChartClosed:o.isChartClosed,theme:i.theme,position:i.position,isHighestLowestMarkerEnabled:i.isHighestLowestMarkerEnabled}})(T)}).call(this,r(6).t)},function(e,t,r){\"use strict\";var n=r(0),i=r.n(n),a=r(5);t.a=Object(a.a)(function(e){var t=e.loader;return{isActive:t.isActive,currentState:t.currentState}})(function(e){var t=e.isActive,r=e.currentState;return i.a.createElement(\"div\",{className:\"cq-loader \".concat(t?\"show\":\"\")},i.a.createElement(\"div\",{className:\"cq-loader-spin\"}),i.a.createElement(\"div\",{className:\"cq-loader-status\"},r))})},function(e,t,r){\"use strict\";var n=r(0),i=r.n(n),a=r(1),o=r(5),s=r(180);t.a=Object(o.a)(function(e){var t=e.state,r=e.lastDigitStats;return{showLastDigitStats:t.showLastDigitStats,digits:r.digits,lastTick:r.lastTick}})(function(e){var t=e.bottomWidgets,r=e.showLastDigitStats,n=e.digits,o=e.lastTick,c=!t&&r?s.a:t;return c?i.a.createElement(c,{digits:n,tick:Object(a.toJS)(o)}):null})},function(e,t,r){\"use strict\";(function(e){var n=r(0),i=r.n(n),a=r(5),o=(r(226),function(e){var t=e.x,r=e.bar;return i.a.createElement(\"div\",{className:\"cq-bar \".concat(r.cName),style:{height:\"\".concat(5*r.height,\"%\"),left:35*t}},i.a.createElement(\"div\",{className:\"cq-bar-value \".concat(r.height&&\"show\")},\"\".concat(r.height.toFixed(1),\"%\")),i.a.createElement(\"span\",{className:\"cq-bar-title\"},t))});t.a=Object(a.a)(function(e){var t=e.lastDigitStats;return{isVisible:t.isVisible,bars:t.bars,marketDisplayName:t.marketDisplayName,changeSymbol:t.changeSymbol,shouldMinimiseLastDigits:t.shouldMinimiseLastDigits}})(function(t){var r=t.isVisible,n=t.bars,a=t.marketDisplayName,s=t.shouldMinimiseLastDigits;return i.a.createElement(\"div\",{className:\"cq-last-digits \".concat(r?\"show\":\"\",\" \").concat(s?\"minimised\":\"\")},i.a.createElement(\"div\",{className:\"cq-bars\"},n.map(function(e,t){return i.a.createElement(o,{key:\"bar-\".concat(t),x:t,bar:e})})),i.a.createElement(\"div\",{className:\"cq-bar-footer\"},e.translate(\"Last digits stats for latest 1000 ticks on \")+a))})}).call(this,r(6).t)},function(e,t,r){\"use strict\";var n=r(0),i=r.n(n),a=r(25),o=r.n(a),s=r(5);r(227);function c(e){return(c=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return!t||\"object\"!==c(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),u(this,h(t).apply(this,arguments))}var r,n,a;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,i.a.Component),r=t,(n=[{key:\"shouldComponentUpdate\",value:function(e){var t=e.nextChildren;return i.a.Children.count(this.props.children)!==i.a.Children.count(t)}},{key:\"componentDidUpdate\",value:function(){i.a.Children.count(this.props.children)?this.props.updateChartMargin(200):this.props.updateChartMargin(100)}},{key:\"render\",value:function(){var e=this.props,t=e.bottom,r=e.isReadyToShow,n=e.children,a=e.top;if(!r)return null;var o={top:a,bottom:t};return i.a.createElement(\"div\",{className:\"cq-bottom-ui-widgets\",style:o},n)}}])&&l(r.prototype,n),a&&l(r,a),t}();p.propTypes={bottom:o.a.number,isReadyToShow:o.a.bool,top:o.a.number,updateChartMargin:o.a.func.isRequired},p.defaultProps={bottom:0,isReadyToShow:!1,top:0},t.a=Object(s.a)(function(e){var t=e.bottomWidgetsContainer;return{bottom:t.bottom,isReadyToShow:t.isReadyToShow,top:t.top,updateChartMargin:t.updateChartMargin}})(p)},function(e,t,r){\"use strict\";(function(e){var n=r(0),i=r.n(n),a=r(14),o=r(2),s=r(5);r(228);function c(e){return(c=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return!t||\"object\"!==c(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){var t=e.item,r=e.isTick;return i.a.createElement(\"table\",{className:\"ciq-chart-table \".concat(r?\"ciq-chart-table--tick\":\"\")},i.a.createElement(\"tbody\",null,t.datas.map(function(e,n){return i.a.createElement(\"tr\",{key:\"chartTable-\".concat(t.key,\"-\").concat(n)},i.a.createElement(\"td\",null,e.Date),r&&i.a.createElement(\"td\",null,e.Close),!r&&[i.a.createElement(\"td\",{key:\"td-open\"},e.Open),i.a.createElement(\"td\",{key:\"td-high\"},e.High),i.a.createElement(\"td\",{key:\"td-low\"},e.Low),i.a.createElement(\"td\",{key:\"td-close\"},e.Close)],i.a.createElement(\"td\",{className:\"before-last-child\"},i.a.createElement(\"div\",{className:\"cq-change-cell\"},i.a.createElement(\"div\",{className:\"\".concat(e.Status?e.Status:\"up\")},e.Change))),i.a.createElement(\"td\",null,i.a.createElement(\"div\",{className:\"cq-change-cell\"},i.a.createElement(\"div\",{className:\"cq-change \".concat(e.Status)}))))})))},f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),u(this,h(t).apply(this,arguments))}var r,a,o;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,n[\"Component\"]),r=t,(a=[{key:\"componentDidUpdate\",value:function(){var e=this.props.scrollPanel;e&&e.container&&!this.scrollPanelTop&&(this.scrollPanelTop=e.container.getBoundingClientRect().top)}},{key:\"render\",value:function(){var e=this.props,t=e.item,r=e.isTick,n=e.setDateElement,a=e.ele,o=\"\";if(a){var s=a.getBoundingClientRect(),c=s.top-this.scrollPanelTop,l=s.height+c-44;c<=0&&l>=0?o=\"sticky-top\":c<=0&&l<=0&&l>-44&&(o=\"sticky-bottom\")}return i.a.createElement(\"div\",{key:\"chartTable-group-\".concat(t.key),className:\"ciq-chart-table__panel__group\",ref:function(e){return n(t.key,e)}},i.a.createElement(\"div\",{className:\"ciq-chart-table__panel__group--title \".concat(o)},t.date),i.a.createElement(\"div\",{className:\"ciq-chart-table__panel__group--content\"},i.a.createElement(p,{item:t,isTick:r})))}}])&&l(r.prototype,a),o&&l(r,o),t}();t.a=Object(s.a)(function(e){var t=e.chart,r=e.chartTable;return{isMobile:t.isMobile,tableData:r.tableData,Dialog:r.Dialog,open:r.open,isTick:r.isTick,symbol:r.symbol,setOpen:r.setOpen,scrollTop:r.scrollTop,dateElements:r.dateElements,updateScrollSpy:r.updateScrollSpy,setScrollPanel:r.setScrollPanel,setDateElement:r.setDateElement,scrollPanel:r.scrollPanel}})(function(t){var r=t.isMobile,n=t.tableData,s=t.Dialog,c=t.open,l=t.isTick,u=t.symbol,h=t.setOpen,d=t.scrollTop,p=t.updateScrollSpy,m=t.setScrollPanel,g=t.dateElements,b=t.scrollPanel,y=t.setDateElement,v=o.A[u.symbol]||o.R,_=l?\"380px\":\"704px\",S=function(){h(!1)};return i.a.createElement(\"div\",{className:\"cq-dialog-overlay \".concat(c?\"cq-dialog-active\":\"\"),style:{\"--table-width\":_}},i.a.createElement(s,{className:\"cq-dialog ciq-chart-dialog\"},i.a.createElement(i.a.Fragment,null,r&&i.a.createElement(\"div\",{className:\"cq-titlebar\"},v&&i.a.createElement(v,{className:\"ic-\".concat(u.symbol)}),i.a.createElement(\"div\",{className:\"cq-title\"},\"\".concat(u.name,\" \").concat(e.translate(\"Chart Table\"))),i.a.createElement(o.i,{className:\"icon-close-menu\",onClick:S})),r?\"\":i.a.createElement(\"table\",{className:\"ciq-chart-table\"},i.a.createElement(\"thead\",null,i.a.createElement(\"tr\",null,i.a.createElement(\"th\",null,e.translate(\"Date\")),l?i.a.createElement(\"th\",null,e.translate(\"Tick\")):i.a.createElement(i.a.Fragment,null,i.a.createElement(\"th\",null,e.translate(\"Open\")),i.a.createElement(\"th\",null,e.translate(\"High\")),i.a.createElement(\"th\",null,e.translate(\"Low\")),i.a.createElement(\"th\",null,e.translate(\"Close\"))),i.a.createElement(\"th\",{className:\"before-last-child\"},i.a.createElement(\"div\",{className:\"cq-change-cell\"},e.translate(\"Change\"))),i.a.createElement(\"th\",null,i.a.createElement(o.i,{className:\"icon-close-menu\",onClick:S}))))),i.a.createElement(a.Scrollbars,{className:\"ciq-chart-table__panel\",onScroll:p,ref:m},r?i.a.createElement(\"table\",{className:\"ciq-chart-table\"},i.a.createElement(\"tbody\",null,n.map(function(t){return i.a.createElement(\"tr\",{key:\"chartTable-\".concat(t.date)},i.a.createElement(\"td\",null,i.a.createElement(\"div\",null,i.a.createElement(\"div\",{className:\"ciq-table-date\"},t.Date),i.a.createElement(\"div\",{className:\"\".concat(t.Status?t.Status:\"up\")},t.Change),i.a.createElement(\"div\",{className:\"cq-change \".concat(t.Status)})),i.a.createElement(\"div\",null,l&&i.a.createElement(\"div\",null,i.a.createElement(\"span\",null,e.translate(\"Close\")),t.Close),!l&&[i.a.createElement(\"div\",{key:\"item-open\"},i.a.createElement(\"span\",null,e.translate(\"O\")),t.Open),i.a.createElement(\"div\",{key:\"item-high\"},i.a.createElement(\"span\",null,e.translate(\"H\")),t.High),i.a.createElement(\"div\",{key:\"item-low\"},i.a.createElement(\"span\",null,e.translate(\"L\")),t.Low),i.a.createElement(\"div\",{key:\"item-close\"},i.a.createElement(\"span\",null,e.translate(\"C\")),t.Close)])))}))):n.map(function(e){return i.a.createElement(f,{key:e.key,item:e,isTick:l,ele:g[e.key],scrollTop:d,scrollPanel:b,setDateElement:y})})))))})}).call(this,r(6).t)},function(e,t,r){\"use strict\";var n=r(0),i=r.n(n),a=r(5),o=(r(229),r(2));t.a=Object(a.a)(function(e){var t=e.chartSize,r=e.navigationWidget;return{zoomIn:t.zoomIn,zoomOut:t.zoomOut,home:r.onHome,onScale:r.onScale,isHomeEnabled:r.isHomeEnabled,onMouseEnter:r.onMouseEnter,onMouseLeave:r.onMouseLeave}})(function(e){var t=e.zoomIn,r=e.zoomOut,n=e.home,a=e.onScale,s=e.isHomeEnabled,c=e.onMouseEnter,l=e.onMouseLeave;return i.a.createElement(\"div\",{className:\"ciq-navigation-widget\",onMouseEnter:c,onMouseLeave:l},i.a.createElement(\"div\",{className:\"ciq-navigation-widget__item \".concat(s?\"\":\"ciq-navigation-widget__item--hidden\"),onClick:n},i.a.createElement(o.y,null)),i.a.createElement(\"div\",{className:\"ciq-navigation-widget__item\",onClick:a},i.a.createElement(o.N,null)),i.a.createElement(\"div\",{className:\"ciq-navigation-widget__item ciq-navigation-widget__item--zoom\"},i.a.createElement(o.Y,{onClick:t}),i.a.createElement(o.Z,{onClick:r})))})},function(e,t,r){\"use strict\";(function(e){var n=r(0),i=r.n(n),a=r(16),o=r(5);r(230);t.a=Object(o.a)(function(e){var t=e.highestLowest;return{setHighestRef:t.setHighestRef,setLowestRef:t.setLowestRef}})(function(t){var r=t.setHighestRef,n=t.setLowestRef;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a.a,{markerRef:r,className:\"ciq-highest-price\"},i.a.createElement(\"span\",{className:\"spot__shape-circule spot__fill-blue\"}),i.a.createElement(\"span\",{className:\"spot__label\",\"data-label-pos\":\"top\"},i.a.createElement(\"span\",null,\"\".concat(e.translate(\"H\"),\": \")),i.a.createElement(\"span\",{className:\"spot__value\"}))),i.a.createElement(a.a,{markerRef:n,className:\"ciq-lowest-price\"},i.a.createElement(\"span\",{className:\"spot__shape-circule spot__fill-red\"}),i.a.createElement(\"span\",{className:\"spot__label\",\"data-label-pos\":\"bottom\"},i.a.createElement(\"span\",null,\"\".concat(e.translate(\"L\"),\" : \")),i.a.createElement(\"span\",{className:\"spot__value\"}))))})}).call(this,r(6).t)},function(e,t,r){\"use strict\";var n=r(0),i=r.n(n),a=r(5),o=r(26),s=r(27),c=r(28),l=r(29),u=r(30),h=r(31),d=r(32),p=r(33),f=r(34),m=(r(232),function(e){var t=e.isMobile;return i.a.createElement(i.a.Fragment,null,t?\"\":i.a.createElement(u.a,null),i.a.createElement(o.a,null),i.a.createElement(h.a,null),i.a.createElement(s.a,null),i.a.createElement(c.a,null),i.a.createElement(p.a,null),i.a.createElement(l.a,null),i.a.createElement(f.a,null),t?\"\":i.a.createElement(d.a,null))});t.a=Object(a.a)(function(e){var t=e.chart,r=e.chartType,n=e.studies,i=e.comparison,a=e.drawTools,o=e.view,s=e.share,c=e.timeperiod,l=e.chartSetting;return{isMobile:t.isMobile,context:t.context,hasOpenMenu:r.menu.open||n.menu.open||i.menu.open||a.menu.open||o.menu.open||s.menu.open||c.menu.open||l.menu.open}})(function(e){var t=e.isMobile,r=e.hasOpenMenu,n=e.widgets,a=e.context,o=n||m;return i.a.createElement(\"div\",{className:\"cq-chart-controls \".concat(r?\" active\":\"\")},a?i.a.createElement(o,{isMobile:t}):null)})},function(e,t,r){\"use strict\";var n=r(0),i=r.n(n);r(233);t.a=function(){return i.a.createElement(\"div\",{className:\"cq-crosshair\"},i.a.createElement(\"div\",{className:\"cq-crosshair-content\"}))}},function(e,t,r){\"use strict\";var n=r(0),i=r.n(n),a=r(16),o=r(5);r(234);t.a=Object(o.a)(function(e){var t=e.paginationLoader;return{isOnPagination:t.isOnPagination,setRef:t.setRef}})(function(e){var t=e.isOnPagination,r=e.setRef;return t?i.a.createElement(a.a,{markerRef:r,className:\"pagination\"},i.a.createElement(\"div\",{className:\"pagination__loader\"},i.a.createElement(\"div\",{className:\"pagination__loader-background\"}))):i.a.createElement(i.a.Fragment,null)})},function(e,t,r){\"use strict\";t.a=function(){CIQ.ChartEngine.prototype.append(\"createXAxis\",function(){if(this.chart.xaxis&&this.chart.xaxis.length&&this.chart.xaxis[0].DT){var e=this.chart.xaxis[0].DT.valueOf(),t=this.chart.xaxis.slice(-1)[0].DT.valueOf(),r=Math.floor((t-e)/5e3);r=r>5?r-r%5:r,this.chart.xAxis.timeUnitMultiplier=r<100?r:1,this.chart.xAxis.timeUnit=r<100?CIQ.SECOND:void 0}}),CIQ.ChartEngine.prototype.drawCurrentHR=function(){if(!this.runPrepend(\"drawCurrentHR\",arguments)){var e,t;this.labelType=\"currentSpot\",this.yaxisLabelStyle=\"roundRectArrow\";var r=this.mainSeriesRenderer||{};if(!r.noCurrentHR){var n=r.highLowBars||this.highLowBars[this.layout.chartType];for(var i in this.charts){var a=this.charts[i],o=a.panel,s=o.yAxis;if(!o.hidden&&!1!==s.drawCurrentPriceLabel&&!s.noDraw&&r.params){var c=s.whichSet;if(c||(c=\"dataSet\"),!this.isHistoricalModeSet||\"dataSegment\"===c){var l=a[c].length,u=this.layout.candleWidth;if(\"dataSegment\"==c)for(;l>(a.width-this.micropixels+u/2+1)/u;)l--;if(l&&a[c][l-1]){var h,d,p,f=a.defaultPlotField;f&&!n||(f=\"Close\");do{if(d=h=a[c][--l][f],0===l)break}while(null===d);if(\"dataSet\"==c&&a.currentQuote)d=a.currentQuote[f];else if(a[c].length>=2){var m=a[c][l-1];m&&(h=m[f])}d<h?(e=this.canvasStyle(\"stx_current_hr_down\").backgroundColor,t=this.canvasStyle(\"stx_current_hr_down\").color):(e=this.canvasStyle(\"stx_current_hr_up\").backgroundColor,t=this.canvasStyle(\"stx_current_hr_up\").color),a.transformFunc&&(d=a.transformFunc(this,a,d));var g=Math.max(o.yAxis.printDecimalPlaces,o.chart.decimalPlaces);(s.maxDecimalPlaces||0===s.maxDecimalPlaces)&&(g=Math.min(g,s.maxDecimalPlaces)),p=s.priceFormatter?s.priceFormatter(this,o,d,g):this.formatYAxisPrice(d,o,g);var b=this.pixelFromTransformedValue(d,o);a.currentPriceLabelY=b,this.createYAxisLabel(o,p,b,e,t);var y=o.left,v=o.right,_=this.currentQuote();if(_){var S=_.Close?_.tick:_.tick-1;y=this.pixelFromTick(S,a)+(a.lastTickOffset||0),v-=.4*this.chart.context.measureText(p).width}v+=24,!0===this.preferences.currentPriceLine&&this.isHome()&&this.plotLine(y,v,b,b,e,\"segment\",o.chart.context,o,{pattern:\"dashed\",lineWidth:1,opacity:.8})}}}}this.yaxisLabelStyle=\"roundRect\",this.labelType=void 0,this.runAppend(\"drawCurrentHR\",arguments)}}},CIQ.ChartEngine.prototype.prepend(\"headsUpHR\",function(){this.currentPanel&&(this.labelType=\"crosshair\")}),CIQ.ChartEngine.prototype.append(\"headsUpHR\",function(){this.labelType=void 0}),CIQ.ChartEngine.prototype.prepend(\"resizeChart\",function(){this.isAutoScale&&this.chart.xaxis&&this.chart.xaxis.length&&(this.customCandleWidth=this.layout.candleWidth,this.customChartWidth=this.chart.width,this.customScroll=this.chart.scroll)}),CIQ.ChartEngine.prototype.append(\"resizeChart\",function(){if(this.isAutoScale&&this.customChartWidth){var e=this.customChartWidth/this.customCandleWidth;this.layout.candleWidth=this.chart.width/e,this.chart.scroll=this.customScroll,this.draw()}}),CIQ.Plotter.prototype.drawText=function(e,t){for(var r=0;r<t.text.length;r++){var n=t.text[r],i=n.width?n.width:e.measureText(n.text).width,a=this.getYAxisWidth()?(this.getYAxisWidth()-i)/2:0;if(n.bg){var o=n.height?n.height:12,s=e.fillStyle;e.fillStyle=n.bg,\"right\"===e.textAlign?e.fillRect(n.x,n.y-o/2,-i,-o):e.fillRect(n.x,n.y-o/2,i,o),e.fillStyle=s}e.fillText(n.text,n.x+a,n.y)}},CIQ.ChartEngine.prototype.setMaxTicks=function(e,t){t||(t={}),(e=Math.round(e))<2&&(e=2);var r=t.padding?t.padding:0;this.layout.candleWidth=(this.chart.width-r)/e,this.layout.candleWidth||(this.layout.candleWidth=8),this.chart.maxTicks=Math.round((this.chart.width-r)/this.layout.candleWidth-.499),(t.padding||0===t.padding)&&(this.chart.scroll=e+1)}}},function(e,t,r){\"use strict\";var n=r(13),i=r.n(n),a=r(1),o=r(4);function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e)}var t,r,n;return t=e,n=[{key:\"formatHistory\",value:function(e){var t=e.history,r=e.candles;if(t){var n=t.times;return t.prices.map(function(e,t){return{Date:Object(o.k)(+n[t]),Close:+e}})}if(r)return r.map(function(e){return{Date:Object(o.k)(+e.epoch),Open:+e.open,High:+e.high,Low:+e.low,Close:+e.close}})}},{key:\"formatTick\",value:function(e){var t=e.tick,r=e.ohlc;return t?{Date:Object(o.k)(+t.epoch),Close:+t.quote,tick:t}:r?{Date:Object(o.k)(+r.open_time),Open:+r.open,High:+r.high,Low:+r.low,Close:+r.close,ohlc:r}:void 0}}],(r=null)&&s(t.prototype,r),n&&s(t,n),e}();function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(r,!0).forEach(function(t){h(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t,r,n,i,a,o){try{var s=e[a](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function p(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function o(e){d(a,n,i,o,s,\"next\",e)}function s(e){d(a,n,i,o,s,\"throw\",e)}o(void 0)})}}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),e}var g=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.lastStreamEpoch=void 0,this._binaryApi=r,this._stx=n,this._request=t,this._emitter=new i.a({emitDelay:0})}var t,r,n;return m(e,null,[{key:\"EVENT_CHART_DATA\",get:function(){return\"EVENT_CHART_DATA\"}}]),m(e,[{key:\"initialFetch\",value:(n=p(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._startSubscribe(this._request);case 2:return t=e.sent,e.abrupt(\"return\",t);case 4:case\"end\":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:\"pause\",value:function(){}},{key:\"resume\",value:(r=p(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lastStreamEpoch){e.next=6;break}return t=u({},this._request,{start:this.lastStreamEpoch}),e.next=4,this._startSubscribe(t);case 4:return r=e.sent,e.abrupt(\"return\",r);case 6:case\"end\":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:\"forget\",value:function(){this.lastStreamEpoch=void 0,this._emitter.off(e.EVENT_CHART_DATA)}},{key:\"_startSubscribe\",value:(t=p(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error(\"Please override!\");case 1:case\"end\":return e.stop()}},e)})),function(){return t.apply(this,arguments)})},{key:\"_processHistoryResponse\",value:function(t){if(t.error)throw t.error;var r=c.formatHistory(t);if(!r){var n=\"Unexpected response: \".concat(t);throw new Error({message:n})}return this.lastStreamEpoch=e.getLatestEpoch(t),r}},{key:\"onChartData\",value:function(t){this._emitter.on(e.EVENT_CHART_DATA,t)}}],[{key:\"getLatestEpoch\",value:function(e){var t=e.candles,r=e.history;if(t)return t[t.length-1].epoch;if(r){var n=r.times;return n[n.length-1]}}},{key:\"getEpochFromTick\",value:function(e){var t=e.tick,r=e.ohlc;return t?t.epoch:r.open_time}}]),e}();function b(e){return(b=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(r,!0).forEach(function(t){_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(e,t,r,n,i,a,o){try{var s=e[a](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function w(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function o(e){S(a,n,i,o,s,\"next\",e)}function s(e){S(a,n,i,o,s,\"throw\",e)}o(void 0)})}}function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function k(e,t){return!t||\"object\"!==b(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function O(e,t,r){return(O=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=C(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(r):i.value}})(e,t,r||e)}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var T=function(e){function t(e,r,n,i){var a;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),(a=k(this,C(t).call(this,e,r,n)))._timerId=void 0,a.UPDATE_INTERVAL=3e3,a.onUpdateDelayedFeed=w(regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.lastStreamEpoch){e.next=9;break}return t=v({},a._request,{start:a.lastStreamEpoch,adjust_start_time:0}),e.next=4,a._binaryApi.getTickHistory(t);case 4:r=e.sent,n=a._processHistoryResponse(r),a._emitter.emit(g.EVENT_CHART_DATA,n),e.next=11;break;case 9:console.error(\"Unable to update delayed feed without epoch from last tick\"),a._endTimer();case 11:case\"end\":return e.stop()}},e)})),a._request=v({},a._request,{start:a._request.start-60*i}),a}var r,n,i,a;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,g),r=t,(n=[{key:\"pause\",value:function(){this._endTimer()}},{key:\"_startSubscribe\",value:(a=w(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._binaryApi.getTickHistory(t);case 2:return r=e.sent,n=this._processHistoryResponse(r),this._startTimer(),e.abrupt(\"return\",n);case 6:case\"end\":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:\"forget\",value:function(){this._endTimer(),O(C(t.prototype),\"forget\",this).call(this)}},{key:\"_startTimer\",value:function(){this._timerId||(this._timerId=setInterval(this.onUpdateDelayedFeed,this.UPDATE_INTERVAL))}},{key:\"_endTimer\",value:function(){this._timerId&&(clearInterval(this._timerId),this._timerId=void 0)}}])&&x(r.prototype,n),i&&x(r,i),t}(),P=r(11);function D(e){return(D=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}function A(e,t,r,n,i,a,o){try{var s=e[a](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function N(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function o(e){A(a,n,i,o,s,\"next\",e)}function s(e){A(a,n,i,o,s,\"throw\",e)}o(void 0)})}}function I(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function M(e,t){return!t||\"object\"!==D(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function z(e,t,r){return(z=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=L(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(r):i.value}})(e,t,r||e)}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var H=function(e){function t(){var e,r;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(r=M(this,(e=L(t)).call.apply(e,[this].concat(i))))._tickCallback=void 0,r}var r,n,i,a,o;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(t,g),r=t,(n=[{key:\"pause\",value:function(){this._tickCallback=void 0}},{key:\"resume\",value:(o=N(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._tickCallback){e.next=2;break}throw new Error(\"You cannot resume an active stream!\");case 2:return e.abrupt(\"return\",z(L(t.prototype),\"resume\",this).call(this));case 3:case\"end\":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:\"_startSubscribe\",value:(a=N(regeneratorRuntime.mark(function e(t){var r,n,i,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this._getProcessTickHistoryClosure(),n=j(r,2),i=n[0],a=n[1],this._binaryApi.subscribeTickHistory(t,a),e.next=4,i;case 4:return o=e.sent,s=this._processHistoryResponse(o),this._tickCallback=a,e.abrupt(\"return\",s);case 8:case\"end\":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:\"forget\",value:function(){if(this._tickCallback){var e=this._request,r=e.symbol,n=e.granularity;this._binaryApi.forget({symbol:r,granularity:n}),this._tickCallback=void 0}z(L(t.prototype),\"forget\",this).call(this)}},{key:\"_getProcessTickHistoryClosure\",value:function(){var e=this,t=!1,r=new P.a;return[r,function(n){if(e._stx.isDestroyed){var i=n.subscription.id;e._binaryApi.forgetStream(i)}else t?e._onTick(n):(r.resolve(n),t=!0)}]}},{key:\"_onTick\",value:function(e){this.lastStreamEpoch=+g.getEpochFromTick(e);var t=[c.formatTick(e)];this._emitter.emit(g.EVENT_CHART_DATA,t)}}])&&I(r.prototype,n),i&&I(r,i),t}(),q=r(15);function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(r,!0).forEach(function(t){U(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function U(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W(e,t,r,n,i,a,o){try{var s=e[a](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function Q(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function o(e){W(a,n,i,o,s,\"next\",e)}function s(e){W(a,n,i,o,s,\"throw\",e)}o(void 0)})}}function G(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function K(e,t,r){return t&&G(e.prototype,t),r&&G(e,r),e}var Y=function(){function e(t,r,n,s){var c=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this._activeStreams={},this._isConnectionOpened=!0,this.onRangeChanged=function(e){var t=Object(o.b)(c.granularity),r=(c.granularity||1)*c._stx.chart.maxTicks,n=null,i=null;c._mainStore.state.setChartIsReady(!1),c.endEpoch?(n=CIQ.strToDateTime(Object(o.k)(c.startEpoch||c.endEpoch-r)),i=CIQ.strToDateTime(Object(o.k)(c.endEpoch))):c.startEpoch&&(n=c.startEpoch?CIQ.strToDateTime(Object(o.k)(c.startEpoch)):void 0),c._stx.setRange({dtLeft:n,dtRight:i,periodicity:t,forceLoad:e},function(){c.endEpoch||c.startEpoch?c.scaleChart():(c._stx.home(),delete c._stx.layout.range),c._mainStore.state.saveLayout(),c._mainStore.state.setChartIsReady(!0)})},this._stx=r,this._binaryApi=t,this._mainStore=n,this._serverTime=q.a.getInstance(),this._tradingTimes=s,Object(a.reaction)(function(){return n.state.isConnectionOpened},this.onConnectionChanged.bind(this)),this._emitter=new i.a({emitDelay:0})}var t,r,n;return K(e,[{key:\"startEpoch\",get:function(){return this._mainStore.state.startEpoch}},{key:\"endEpoch\",get:function(){return this._mainStore.state.endEpoch}},{key:\"granularity\",get:function(){return this._mainStore.chart.granularity}},{key:\"context\",get:function(){return this._mainStore.chart.context}},{key:\"loader\",get:function(){return this._mainStore.loader}},{key:\"margin\",get:function(){return this._mainStore.state.margin}}],[{key:\"EVENT_MASTER_DATA_UPDATE\",get:function(){return\"EVENT_MASTER_DATA_UPDATE\"}},{key:\"EVENT_MASTER_DATA_REINITIALIZE\",get:function(){return\"EVENT_MASTER_DATA_REASSIGN\"}},{key:\"EVENT_COMPARISON_DATA_UPDATE\",get:function(){return\"EVENT_COMPARISON_DATA_UPDATE\"}},{key:\"EVENT_START_PAGINATION\",get:function(){return\"EVENT_START_PAGINATION\"}},{key:\"EVENT_ON_PAGINATION\",get:function(){return\"EVENT_ON_PAGINATION\"}}]),K(e,[{key:\"scaleChart\",value:function(){this.startEpoch&&(this._stx.animations.liveScroll&&this._stx.animations.liveScroll.running&&this._stx.animations.liveScroll.stop(),this.endEpoch?(this._stx.chart.isDisplayFullMode=!1,this._stx.chart.lockScroll=!1):(this._stx.maxMasterDataSize=0,this._stx.chart.lockScroll=!0),this._stx.setMaxTicks(this._stx.chart.dataSet.length+(Math.floor(this._stx.chart.dataSet.length/5)||2)),this._stx.chart.scroll=this._stx.chart.dataSet.length,this._stx.chart.isScrollLocationChanged=!0,this._stx.draw())}},{key:\"subscribe\",value:function(){}},{key:\"unsubscribe\",value:function(e){var t=e.symbol,r=e.period,n=e.interval;if(this._stx.chart.symbol!==t){var i=Object(o.a)(r,n),a=this._getKey({symbol:t,granularity:i});this._forgetStream(a)}}},{key:\"_forgetStream\",value:function(e){this._activeStreams[e]&&(this._activeStreams[e].forget(),delete this._activeStreams[e])}},{key:\"fetchInitialData\",value:(n=Q(regeneratorRuntime.mark(function e(t,r,n,i,a){var s,l,u,h,d,p,f,m,g,b,y,v,_,S,w,x,k,O,C,E=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setHasReachedEndOfData(!1),s=i.period,l=i.interval,u=i.symbolObject,h=Object(o.a)(s,l),d=this._getKey({symbol:t,granularity:h}),p=this._serverTime.getLocalDate(),r=r>p?p:r,f=this._stx.chart.symbol!==t,m=this.startEpoch||Math.floor(r/1e3|0),m=this.margin&&this.startEpoch?m-this.margin:m,g=this.margin&&this.endEpoch?this.endEpoch+this.margin:this.endEpoch,f&&(m-=60*r.getTimezoneOffset()),b=f?t:void 0,y=u.name,this.loader.setState(\"chart-data\"),!this._tradingTimes.isFeedUnavailable(t)){e.next=20;break}return this._mainStore.notifier.notifyFeedUnavailable(y),v={quotes:[]},f?v=V({error:\"StreamingNotAllowed\",suppressAlert:!0},v):this._mainStore.chart.setChartAvailability(!1),a(v),e.abrupt(\"return\");case 20:if(_={start:m,symbol:t,granularity:h},S=!1,!g){e.next=27;break}_.end=g,S=!0,e.next=53;break;case 27:if(!this._tradingTimes.isMarketOpened(t)){e.next=51;break}return(k=this._tradingTimes.getDelayedMinutes(t))>0?(this._mainStore.notifier.notifyDelayedMarket(y,k),x=new T(_,this._binaryApi,this._stx,k)):x=new H(_,this._binaryApi,this._stx),e.prev=30,f||this.unsubscribeAll(),e.next=34,x.initialFetch();case 34:w=e.sent,e.next=43;break;case 37:return e.prev=37,e.t0=e.catch(30),O=e.t0.message,this._mainStore.notifier.notify({text:O,type:\"error\",category:\"activesymbol\"}),a({quotes:[]}),e.abrupt(\"return\");case 43:if(x.onChartData(function(e){if(f||t===E._stx.chart.symbol){if(E._stx.isDestroyed)return;E._appendChartData(e,d,b)}}),f||this._stx.chart.symbol===t){e.next=48;break}return a({quotes:[]}),x.forget(),e.abrupt(\"return\");case 48:this._activeStreams[d]=x,e.next=53;break;case 51:this._mainStore.notifier.notifyMarketClose(y),S=!0;case 53:if(!S){e.next=58;break}return e.next=56,this._binaryApi.getTickHistory(_);case 56:C=e.sent,w=c.formatHistory(C);case 58:if(w){e.next=62;break}return console.error(\"No quotes found!!\"),a({quotes:[]}),e.abrupt(\"return\");case 62:w=this._trimQuotes(w),a({quotes:w}),this._mainStore.chart.updateYaxisWidth(),this.scaleChart(),this._emitDataUpdate(w,b,!0);case 67:case\"end\":return e.stop()}},e,this,[[30,37]])})),function(e,t,r,i,a){return n.apply(this,arguments)})},{key:\"fetchPaginationData\",value:(r=Q(regeneratorRuntime.mark(function t(r,n,i,a,s){var c,l,u,h,d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c=Object(o.l)(i),l=Object(o.l)(n),u=a.period,h=a.interval,d=Object(o.a)(u,h),this._stx.chart.symbol===r&&this._emitter.emit(e.EVENT_START_PAGINATION,{start:l,end:c}),t.next=8,this._getPaginationData(r,d,l,c,s);case 8:case\"end\":return t.stop()}},t,this)})),function(e,t,n,i,a){return r.apply(this,arguments)})},{key:\"_getPaginationData\",value:(t=Q(regeneratorRuntime.mark(function t(r,n,i,a,o){var s,l,u,h,d,p,f,m,g;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=this._stx.chart.symbol===r,!(this.startEpoch||this.endEpoch&&a>this.endEpoch)){t.next=5;break}return o({moreAvailable:!1,quotes:[]}),s&&(this._emitter.emit(e.EVENT_ON_PAGINATION,{start:i,end:a}),this.setHasReachedEndOfData(!0)),t.abrupt(\"return\");case 5:if(l=this._serverTime.getEpoch(),u=l-Math.ceil(2.8*365*24*60*60),h={quotes:[]},!(a>u)){t.next=37;break}return t.prev=9,t.next=12,this._binaryApi.getTickHistory({symbol:r,granularity:n,start:Math.floor(Math.max(i,u)),end:a});case 12:if(!(p=t.sent).error){t.next=19;break}return f=p.error.message,this.loader.hide(),this._mainStore.notifier.notify({text:f,type:\"error\",category:\"activesymbol\"}),o({error:p.error}),t.abrupt(\"return\");case 19:if(void 0!==(d=e.getFirstEpoch(p))&&d!==a){t.next=29;break}if(!((m=i-(a-i))<=u)){t.next=26;break}return o({moreAvailable:!1,quotes:[]}),this.setHasReachedEndOfData(!0),t.abrupt(\"return\");case 26:return t.next=28,this._getPaginationData(r,n,m,a,o);case 28:return t.abrupt(\"return\");case 29:h.quotes=c.formatHistory(p),d<=u&&(o({moreAvailable:!1,quotes:[]}),this.setHasReachedEndOfData(!0)),t.next=37;break;case 33:t.prev=33,t.t0=t.catch(9),console.error(t.t0),h={error:t.t0};case 37:o(h),s&&(g=a>d?d:a,this._emitter.emit(e.EVENT_ON_PAGINATION,{start:i,end:g}));case 39:case\"end\":return t.stop()}},t,this,[[9,33]])})),function(e,r,n,i,a){return t.apply(this,arguments)})},{key:\"setHasReachedEndOfData\",value:function(e){this._mainStore.state.hasReachedEndOfData!==e&&(this._mainStore.state.hasReachedEndOfData=e)}},{key:\"unsubscribeAll\",value:function(){for(var e=0,t=Object.keys(this._activeStreams);e<t.length;e++){var r=t[e];this._forgetStream(r)}}},{key:\"_forgetIfEndEpoch\",value:function(e){var t=this._activeStreams[e],r=!0;if(t){var n=t.lastStreamEpoch;return this.endEpoch&&n+this.granularity>this.endEpoch?(this._activeStreams[e]&&0===this.granularity&&!this._mainStore.state.isStaticChart&&CIQ.strToDateTime(Object(o.k)(this.endEpoch)).valueOf()>=this._stx.chart.dataSet.slice(-1)[0].DT.valueOf()&&(r=!1),this._forgetStream(e)):r=!1,r}}},{key:\"_appendChartData\",value:function(e,t,r){!this._forgetIfEndEpoch(t)||this._activeStreams[t]?(this.endEpoch&&CIQ.strToDateTime(Object(o.k)(this.endEpoch)).valueOf()!==this._stx.chart.dataSet.slice(-1)[0].DT.valueOf()&&(this._stx.updateChartData([{DT:CIQ.strToDateTime(Object(o.k)(this.endEpoch)),Close:null}],null,{fillGaps:!0}),this._stx.createDataSet()),r?this._stx.updateChartData(e,null,{secondarySeries:r,noCreateDataSet:!0}):(this._stx.updateChartData(e,null,{allowReplaceOHL:!0}),this._stx.createDataSet()),this._emitDataUpdate(e,r)):e=[]}},{key:\"_emitDataUpdate\",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t[t.length-2],a=void 0!==i?i.Close:void 0,o=V({},t[t.length-1],{prevClose:a});r?this._emitter.emit(e.EVENT_COMPARISON_DATA_UPDATE,V({symbol:r},o)):n?(this._emitter.emit(e.EVENT_MASTER_DATA_REINITIALIZE),this._mainStore.chart.setChartAvailability(!0)):this._emitter.emit(e.EVENT_MASTER_DATA_UPDATE,o)}},{key:\"onMasterDataUpdate\",value:function(t){this._emitter.on(e.EVENT_MASTER_DATA_UPDATE,t)}},{key:\"offMasterDataUpdate\",value:function(t){this._emitter.off(e.EVENT_MASTER_DATA_UPDATE,t)}},{key:\"onMasterDataReinitialize\",value:function(t){this._emitter.on(e.EVENT_MASTER_DATA_REINITIALIZE,t)}},{key:\"offMasterDataReinitialize\",value:function(t){this._emitter.off(e.EVENT_MASTER_DATA_REINITIALIZE,t)}},{key:\"onComparisonDataUpdate\",value:function(t){this._emitter.on(e.EVENT_COMPARISON_DATA_UPDATE,t)}},{key:\"onPagination\",value:function(t){this._emitter.on(e.EVENT_ON_PAGINATION,t)}},{key:\"offPagination\",value:function(t){this._emitter.off(e.EVENT_ON_PAGINATION,t)}},{key:\"onStartPagination\",value:function(t){this._emitter.on(e.EVENT_START_PAGINATION,t)}},{key:\"offStartPagination\",value:function(t){this._emitter.off(e.EVENT_START_PAGINATION,t)}},{key:\"onConnectionChanged\",value:function(){var e=this._mainStore.state.isConnectionOpened;void 0!==e&&e!==this._isConnectionOpened&&(this._isConnectionOpened=e,e?this._onConnectionReopened():this._onConnectionClosed())}},{key:\"_onConnectionClosed\",value:function(){for(var e in this._activeStreams)this._activeStreams[e].pause();this._connectionClosedDate=new Date}},{key:\"_onConnectionReopened\",value:function(){var e=Object.keys(this._activeStreams);if(0!==e.length){var t=this._unpackKey(e[0]).granularity;if(((new Date-this._connectionClosedDate)/1e3|0)>=(t||1)*this._stx.chart.maxTicks)this._mainStore.chart.refreshChart();else for(var r=0,n=e;r<n.length;r++){var i=n[r];this._resumeStream(i)}this._connectionClosedDate=void 0}}},{key:\"_resumeStream\",value:function(e){var t=this,r=this._unpackKey(e).symbol,n=this._stx.chart.symbol!==r?r:void 0;this._activeStreams[e].resume().then(function(r){t._stx.isDestroyed||t._appendChartData(r,e,n)})}},{key:\"_getKey\",value:function(e){var t=e.symbol,r=e.granularity;return\"\".concat(t,\"-\").concat(r)}},{key:\"_unpackKey\",value:function(e){var t=B(e.split(\"-\"),2);return{symbol:t[0],granularity:+t[1]}}},{key:\"_trimQuotes\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=null,n=null,i=t;if(!i.length)return[];if(this.startEpoch&&this.margin&&(r=i.findIndex(function(t){return CIQ.strToDateTime(t.Date)>=CIQ.strToDateTime(Object(o.k)(e.startEpoch))}))>-1&&(i=i.slice(r-1)),this.endEpoch&&this.margin&&(n=i.findIndex(function(t){return CIQ.strToDateTime(t.Date)>=CIQ.strToDateTime(Object(o.k)(e.endEpoch))}))>-1){var a=i[n].Date===Object(o.k)(this.endEpoch)?2:1;i=i.slice(0,n+a)}return i}}],[{key:\"getFirstEpoch\",value:function(e){var t=e.candles,r=e.history;return t&&t.length>0?t[0].epoch:r&&r.times.length>0?+r.times[0]:void 0}}]),e}();r.d(t,\"a\",function(){return Y})},function(e,t,r){var n={\"./de.po\":[236,1],\"./es.po\":[237,2],\"./fr.po\":[238,3],\"./id.po\":[239,5],\"./it.po\":[240,6],\"./nl.po\":[241,8],\"./pl.po\":[242,9],\"./pt.po\":[243,10],\"./ru.po\":[244,11],\"./th.po\":[245,12],\"./vi.po\":[246,14],\"./zh_cn.po\":[247,15],\"./zh_tw.po\":[248,16]};function i(e){if(!r.o(n,e))return Promise.resolve().then(function(){var t=new Error(\"Cannot find module '\"+e+\"'\");throw t.code=\"MODULE_NOT_FOUND\",t});var t=n[e],i=t[0];return r.e(t[1]).then(function(){return r.t(i,7)})}i.keys=function(){return Object.keys(n)},i.id=190,e.exports=i},function(e,t,r){e.exports={red:\"#ff444f\",light_chart_text:\"#555975\",dark_chart_text:\"#999\",light_chart_grid:\"#f2f3f4\",dark_chart_grid:\"#1d1f20\",light_chart_mountain_border:\"#85acb0\",dark_chart_mountain_border:\"#fff\",light_chart_mountain_bg:\"rgba(133,172,176,0.16)\",dark_chart_mountain_bg:\"rgba(255,255,255,0.36)\",light_chart_mountain_bg_shade:\"rgba(255,255,255,0)\",dark_chart_mountain_bg_shade:\"rgba(16,19,32,0)\",light_candle_text_closed:\"rgba(0,0,0,0.16)\",dark_candle_text_closed:\"rgba(127,131,151,0.3)\",light_candle_bg_closed:\"#d6d6d6\",dark_candle_bg_closed:\"#303342\",light_chart_closed_candle:\"#d6d6d6\",dark_chart_closed_candle:\"#303342\",light_chart_bg:\"#fff\",dark_chart_bg:\"#0e0e0e\",light_float_labels_bg:\"#d6dadb\",dark_float_labels_bg:\"#323738\",light_float_labels_text:\"#333\",dark_float_labels_text:\"#fff\"}},function(e,t,r){e.exports={red:\"#ff444f\",light_chart_text:\"#555975\",dark_chart_text:\"#999\",light_chart_grid:\"#f2f3f4\",dark_chart_grid:\"#1d1f20\",light_chart_mountain_border:\"#85acb0\",dark_chart_mountain_border:\"#fff\",light_chart_mountain_bg:\"rgba(133,172,176,0.16)\",dark_chart_mountain_bg:\"rgba(255,255,255,0.36)\",light_chart_mountain_bg_shade:\"rgba(255,255,255,0)\",dark_chart_mountain_bg_shade:\"rgba(16,19,32,0)\",light_candle_text_closed:\"rgba(0,0,0,0.16)\",dark_candle_text_closed:\"rgba(127,131,151,0.3)\",light_candle_bg_closed:\"#d6d6d6\",dark_candle_bg_closed:\"#303342\",light_chart_closed_candle:\"#d6d6d6\",dark_chart_closed_candle:\"#303342\",light_chart_bg:\"#fff\",dark_chart_bg:\"#0e0e0e\",light_float_labels_bg:\"#d6dadb\",dark_float_labels_bg:\"#323738\",light_float_labels_text:\"#333\",dark_float_labels_text:\"#fff\"}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(194),o=b(a),s=b(r(197)),c=r(0),l=b(r(25)),u=b(r(205)),h=r(206),d=b(r(207)),p=b(r(208)),f=b(r(209)),m=r(210),g=r(211);function b(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);for(var n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];var o=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this,e].concat(i)));return o.getScrollLeft=o.getScrollLeft.bind(o),o.getScrollTop=o.getScrollTop.bind(o),o.getScrollWidth=o.getScrollWidth.bind(o),o.getScrollHeight=o.getScrollHeight.bind(o),o.getClientWidth=o.getClientWidth.bind(o),o.getClientHeight=o.getClientHeight.bind(o),o.getPaddingWidth=o.getPaddingWidth.bind(o),o.getPaddingHeight=o.getPaddingHeight.bind(o),o.getValues=o.getValues.bind(o),o.getThumbHorizontalWidth=o.getThumbHorizontalWidth.bind(o),o.getThumbVerticalHeight=o.getThumbVerticalHeight.bind(o),o.getScrollLeftForOffset=o.getScrollLeftForOffset.bind(o),o.getScrollTopForOffset=o.getScrollTopForOffset.bind(o),o.scrollLeft=o.scrollLeft.bind(o),o.scrollTop=o.scrollTop.bind(o),o.scrollToLeft=o.scrollToLeft.bind(o),o.scrollToTop=o.scrollToTop.bind(o),o.scrollToRight=o.scrollToRight.bind(o),o.scrollToBottom=o.scrollToBottom.bind(o),o.handleTrackMouseEnter=o.handleTrackMouseEnter.bind(o),o.handleTrackMouseLeave=o.handleTrackMouseLeave.bind(o),o.handleHorizontalTrackMouseDown=o.handleHorizontalTrackMouseDown.bind(o),o.handleVerticalTrackMouseDown=o.handleVerticalTrackMouseDown.bind(o),o.handleHorizontalThumbMouseDown=o.handleHorizontalThumbMouseDown.bind(o),o.handleVerticalThumbMouseDown=o.handleVerticalThumbMouseDown.bind(o),o.handleWindowResize=o.handleWindowResize.bind(o),o.handleScroll=o.handleScroll.bind(o),o.handleDrag=o.handleDrag.bind(o),o.handleDragEnd=o.handleDragEnd.bind(o),o.pollScrollbarWidth=o.pollScrollbarWidth.bind(o),o.state={didMountUniversal:!1,scrollbarWidth:17},o}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.Component),i(t,[{key:\"componentDidMount\",value:function(){this.addListeners(),this.update(),this.componentDidMountUniversal()}},{key:\"componentDidMountUniversal\",value:function(){this.props.universal&&this.setState({didMountUniversal:!0})}},{key:\"componentDidUpdate\",value:function(){this.update()}},{key:\"componentWillUnmount\",value:function(){this.removeListeners(),(0,a.cancel)(this.requestFrame),clearTimeout(this.hideTracksTimeout),clearInterval(this.detectScrollingInterval)}},{key:\"getScrollLeft\",value:function(){return this.view?this.view.scrollLeft:0}},{key:\"getScrollTop\",value:function(){return this.view?this.view.scrollTop:0}},{key:\"getScrollWidth\",value:function(){return this.view?this.view.scrollWidth-this.getPaddingWidth():0}},{key:\"getScrollHeight\",value:function(){return this.view?this.view.scrollHeight-this.getPaddingHeight():0}},{key:\"getClientWidth\",value:function(){return this.view?this.view.clientWidth-this.getPaddingWidth():0}},{key:\"getClientHeight\",value:function(){return this.view?this.view.clientHeight-this.getPaddingHeight():0}},{key:\"getPaddingWidth\",value:function(){return m.scrollbarSize}},{key:\"getPaddingHeight\",value:function(){return m.scrollbarSize}},{key:\"getValues\",value:function(){if(!this.view)return null;var e=this.view||{},t=e.offsetWidth,r=void 0===t?0:t,n=e.scrollLeft,i=void 0===n?0:n,a=e.scrollTop,o=void 0===a?0:a,s=e.scrollWidth,c=void 0===s?0:s,l=e.scrollHeight,u=void 0===l?0:l,h=e.clientWidth,d=void 0===h?0:h,p=e.clientHeight,f=void 0===p?0:p,m=c-this.getPaddingWidth(),g=u-this.getPaddingHeight(),b=d-this.getPaddingWidth(),y=f-this.getPaddingHeight();return{left:i/(m-b)||0,top:o/(g-y)||0,offsetWidth:r,realClientWidth:d,realClientHeight:f,scrollLeft:i,scrollTop:o,scrollWidth:m,scrollHeight:g,clientWidth:b,clientHeight:y}}},{key:\"getThumbHorizontalWidth\",value:function(){var e=this.props,t=e.thumbSize,r=e.thumbMinSize,n=this.view,i=n.scrollWidth,a=n.clientWidth,o=i-this.getPaddingWidth(),s=a-this.getPaddingWidth(),c=(0,p.default)(this.trackHorizontal),l=Math.ceil(s/o*c);return o<=s?0:t||Math.max(l,r)}},{key:\"getThumbVerticalHeight\",value:function(){var e=this.props,t=e.thumbSize,r=e.thumbMinSize,n=this.view,i=n.scrollHeight,a=n.clientHeight,o=i-this.getPaddingHeight(),s=a-this.getPaddingHeight(),c=(0,f.default)(this.trackVertical),l=Math.ceil(s/o*c);return o<=s?0:t||Math.max(l,r)}},{key:\"getScrollLeftForOffset\",value:function(e){var t=this.view,r=t.scrollWidth,n=t.clientWidth,i=r-this.getPaddingWidth(),a=n-this.getPaddingWidth();return e/((0,p.default)(this.trackHorizontal)-this.getThumbHorizontalWidth())*(i-a)}},{key:\"getScrollTopForOffset\",value:function(e){var t=this.view,r=t.scrollHeight,n=t.clientHeight,i=r-this.getPaddingHeight(),a=n-this.getPaddingHeight();return e/((0,f.default)(this.trackVertical)-this.getThumbVerticalHeight())*(i-a)}},{key:\"scrollLeft\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view&&(this.view.scrollLeft=e)}},{key:\"scrollTop\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view&&(this.view.scrollTop=e)}},{key:\"scrollToLeft\",value:function(){this.view&&(this.view.scrollLeft=0)}},{key:\"scrollToTop\",value:function(){this.view&&(this.view.scrollTop=0)}},{key:\"scrollToRight\",value:function(){this.view&&(this.view.scrollLeft=this.view.scrollWidth-this.getPaddingWidth())}},{key:\"scrollToBottom\",value:function(){this.view&&(this.view.scrollTop=this.view.scrollHeight-this.getPaddingHeight())}},{key:\"addListeners\",value:function(){if(\"undefined\"!=typeof document&&this.view){var e=this.view,t=this.trackHorizontal,r=this.trackVertical,n=this.thumbHorizontal,i=this.thumbVertical;e.addEventListener(\"scroll\",this.handleScroll),t.addEventListener(\"mouseenter\",this.handleTrackMouseEnter),t.addEventListener(\"mouseleave\",this.handleTrackMouseLeave),t.addEventListener(\"mousedown\",this.handleHorizontalTrackMouseDown),r.addEventListener(\"mouseenter\",this.handleTrackMouseEnter),r.addEventListener(\"mouseleave\",this.handleTrackMouseLeave),r.addEventListener(\"mousedown\",this.handleVerticalTrackMouseDown),n.addEventListener(\"mousedown\",this.handleHorizontalThumbMouseDown),i.addEventListener(\"mousedown\",this.handleVerticalThumbMouseDown),window.addEventListener(\"resize\",this.handleWindowResize),this.pollScrollbarWidthTimer=setTimeout(this.pollScrollbarWidth,3e3)}}},{key:\"removeListeners\",value:function(){if(\"undefined\"!=typeof document&&this.view){var e=this.view,t=this.trackHorizontal,r=this.trackVertical,n=this.thumbHorizontal,i=this.thumbVertical;e&&e.removeEventListener(\"scroll\",this.handleScroll),t&&(t.removeEventListener(\"mouseenter\",this.handleTrackMouseEnter),t.removeEventListener(\"mouseleave\",this.handleTrackMouseLeave),t.removeEventListener(\"mousedown\",this.handleHorizontalTrackMouseDown)),r&&(r.removeEventListener(\"mouseenter\",this.handleTrackMouseEnter),r.removeEventListener(\"mouseleave\",this.handleTrackMouseLeave),r.removeEventListener(\"mousedown\",this.handleVerticalTrackMouseDown)),n&&n.removeEventListener(\"mousedown\",this.handleHorizontalThumbMouseDown),i&&i.removeEventListener(\"mousedown\",this.handleVerticalThumbMouseDown),window.removeEventListener(\"resize\",this.handleWindowResize),this.pollScrollbarWidthTimer&&clearTimeout(this.pollScrollbarWidthTimer),this.teardownDragging()}}},{key:\"pollScrollbarWidth\",value:function(){var e=this;this.raf(function(){e.detectScrollbarWidthChange(e.getValues())?e._update(function(){e.pollScrollbarWidthTimer=setTimeout(e.pollScrollbarWidth,3e3)}):e.pollScrollbarWidthTimer=setTimeout(e.pollScrollbarWidth,3e3)})}},{key:\"detectScrollbarWidthChange\",value:function(e){var t=this,r=e.scrollLeft,n=e.scrollTop;(0,h.invalidateScrollbarWidth)();var i=(0,h.getScrollbarWidth)(e),a=i!==this.state.scrollbarWidth&&i!==this.state.scrollbarWidth+1;return a&&this.setState({scrollbarWidth:i},function(){var e=t.getValues(),a=e.clientHeight,o=e.scrollHeight,s=Math.abs(o-a-n)<=i;t.scrollLeft(r),s?t.scrollTop(o-a):t.scrollTop(n)}),a}},{key:\"handleScroll\",value:function(e){var t=this,r=this.props,n=r.onScroll,i=r.onScrollFrame;n&&n(e),this.update(function(e){var r=e.scrollLeft,n=e.scrollTop;t.viewScrollLeft=r,t.viewScrollTop=n,i&&i(e)}),this.detectScrolling()}},{key:\"handleScrollStart\",value:function(){var e=this.props.onScrollStart;e&&e(),this.handleScrollStartAutoHide()}},{key:\"handleScrollStartAutoHide\",value:function(){this.props.autoHide&&this.showTracks()}},{key:\"handleScrollStop\",value:function(){var e=this.props.onScrollStop;e&&e(),this.handleScrollStopAutoHide()}},{key:\"handleScrollStopAutoHide\",value:function(){this.props.autoHide&&this.hideTracks()}},{key:\"handleWindowResize\",value:function(){this.update()}},{key:\"handleHorizontalTrackMouseDown\",value:function(e){e.preventDefault();var t=e.target,r=e.clientX,n=t.getBoundingClientRect().left,i=this.getThumbHorizontalWidth(),a=Math.abs(n-r)-i/2;this.view.scrollLeft=this.getScrollLeftForOffset(a)}},{key:\"handleVerticalTrackMouseDown\",value:function(e){e.preventDefault();var t=e.target,r=e.clientY,n=t.getBoundingClientRect().top,i=this.getThumbVerticalHeight(),a=Math.abs(n-r)-i/2;this.view.scrollTop=this.getScrollTopForOffset(a)}},{key:\"handleHorizontalThumbMouseDown\",value:function(e){e.preventDefault(),this.handleDragStart(e);var t=e.target,r=e.clientX,n=t.offsetWidth,i=t.getBoundingClientRect().left;this.prevPageX=n-(r-i)}},{key:\"handleVerticalThumbMouseDown\",value:function(e){e.preventDefault(),this.handleDragStart(e);var t=e.target,r=e.clientY,n=t.offsetHeight,i=t.getBoundingClientRect().top;this.prevPageY=n-(r-i)}},{key:\"setupDragging\",value:function(){(0,s.default)(document.body,m.disableSelectStyle),document.addEventListener(\"mousemove\",this.handleDrag),document.addEventListener(\"mouseup\",this.handleDragEnd),document.onselectstart=d.default}},{key:\"teardownDragging\",value:function(){(0,s.default)(document.body,m.disableSelectStyleReset),document.removeEventListener(\"mousemove\",this.handleDrag),document.removeEventListener(\"mouseup\",this.handleDragEnd),document.onselectstart=void 0}},{key:\"handleDragStart\",value:function(e){this.dragging=!0,e.stopImmediatePropagation(),this.setupDragging()}},{key:\"handleDrag\",value:function(e){if(this.prevPageX){var t=e.clientX,r=-this.trackHorizontal.getBoundingClientRect().left+t-(this.getThumbHorizontalWidth()-this.prevPageX);this.view.scrollLeft=this.getScrollLeftForOffset(r)}if(this.prevPageY){var n=e.clientY,i=-this.trackVertical.getBoundingClientRect().top+n-(this.getThumbVerticalHeight()-this.prevPageY);this.view.scrollTop=this.getScrollTopForOffset(i)}return!1}},{key:\"handleDragEnd\",value:function(){this.dragging=!1,this.prevPageX=this.prevPageY=0,this.teardownDragging(),this.handleDragEndAutoHide()}},{key:\"handleDragEndAutoHide\",value:function(){this.props.autoHide&&this.hideTracks()}},{key:\"handleTrackMouseEnter\",value:function(){this.trackMouseOver=!0,this.handleTrackMouseEnterAutoHide()}},{key:\"handleTrackMouseEnterAutoHide\",value:function(){this.props.autoHide&&this.showTracks()}},{key:\"handleTrackMouseLeave\",value:function(){this.trackMouseOver=!1,this.handleTrackMouseLeaveAutoHide()}},{key:\"handleTrackMouseLeaveAutoHide\",value:function(){this.props.autoHide&&this.hideTracks()}},{key:\"showTracks\",value:function(){clearTimeout(this.hideTracksTimeout),(0,s.default)(this.trackHorizontal,{opacity:1}),(0,s.default)(this.trackVertical,{opacity:1})}},{key:\"hideTracks\",value:function(){var e=this;if(!this.dragging&&!this.scrolling&&!this.trackMouseOver){var t=this.props.autoHideTimeout;clearTimeout(this.hideTracksTimeout),this.hideTracksTimeout=setTimeout(function(){(0,s.default)(e.trackHorizontal,{opacity:0}),(0,s.default)(e.trackVertical,{opacity:0})},t)}}},{key:\"detectScrolling\",value:function(){var e=this;this.scrolling||(this.scrolling=!0,this.handleScrollStart(),this.detectScrollingInterval=setInterval(function(){e.lastViewScrollLeft===e.viewScrollLeft&&e.lastViewScrollTop===e.viewScrollTop&&(clearInterval(e.detectScrollingInterval),e.scrolling=!1,e.handleScrollStop()),e.lastViewScrollLeft=e.viewScrollLeft,e.lastViewScrollTop=e.viewScrollTop},100))}},{key:\"raf\",value:function(e){var t=this;this.requestFrame&&o.default.cancel(this.requestFrame),this.requestFrame=(0,o.default)(function(){t.requestFrame=void 0,e()})}},{key:\"update\",value:function(e){var t=this;this.raf(function(){t._update(function(r){t.detectScrollbarWidthChange(r),\"function\"==typeof e&&e(r)})})}},{key:\"_update\",value:function(e){var t=this.props,r=t.onUpdate,n=t.hideTracksWhenNotNeeded;if(this.container.scrollTop=0,this.container.scrollLeft=0,this.view){var i=this.getValues(),a=i.scrollLeft,o=i.clientWidth,c=i.scrollWidth,l=(0,p.default)(this.trackHorizontal),u=this.getThumbHorizontalWidth(),h={width:u,transform:\"translateX(\"+a/(c-o)*(l-u)+\"px)\"},d=i.scrollTop,m=i.clientHeight,g=i.scrollHeight,b=(0,f.default)(this.trackVertical),y=this.getThumbVerticalHeight(),v={height:y,transform:\"translateY(\"+d/(g-m)*(b-y)+\"px)\"};if(n){var _={visibility:c>o?\"visible\":\"hidden\"},S={visibility:g>m?\"visible\":\"hidden\"};(0,s.default)(this.trackHorizontal,_),(0,s.default)(this.trackVertical,S)}(0,s.default)(this.thumbHorizontal,h),(0,s.default)(this.thumbVertical,v),r&&r(i),\"function\"==typeof e&&e(i)}else\"function\"==typeof e&&e()}},{key:\"render\",value:function(){var e=this,t=this.props,r=(t.onScroll,t.onScrollFrame,t.onScrollStart,t.onScrollStop,t.onUpdate,t.renderView),i=t.renderTrackHorizontal,a=t.renderTrackVertical,o=t.renderThumbHorizontal,s=t.renderThumbVertical,l=t.tagName,h=(t.hideTracksWhenNotNeeded,t.autoHide),d=(t.autoHideTimeout,t.autoHideDuration),p=(t.thumbSize,t.thumbMinSize,t.universal),f=t.autoHeight,g=t.autoHeightMin,b=t.autoHeightMax,y=t.style,v=t.children,_=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(t,[\"onScroll\",\"onScrollFrame\",\"onScrollStart\",\"onScrollStop\",\"onUpdate\",\"renderView\",\"renderTrackHorizontal\",\"renderTrackVertical\",\"renderThumbHorizontal\",\"renderThumbVertical\",\"tagName\",\"hideTracksWhenNotNeeded\",\"autoHide\",\"autoHideTimeout\",\"autoHideDuration\",\"thumbSize\",\"thumbMinSize\",\"universal\",\"autoHeight\",\"autoHeightMin\",\"autoHeightMax\",\"style\",\"children\"]),S=this.state,w=S.didMountUniversal,x=S.scrollbarWidth,k=n({},m.containerStyleDefault,f&&n({},m.containerStyleAutoHeight,{minHeight:g,maxHeight:b}),y),O=n({},m.viewStyleDefault,{marginRight:-this.getPaddingWidth()+(x?-x:0),marginBottom:-this.getPaddingHeight()+(x?-x:0),width:\"calc(100% + \"+(m.scrollbarSize+x)+\"px)\"},f&&n({},m.viewStyleAutoHeight,{minHeight:(0,u.default)(g)?\"calc(\"+g+\" + \"+(this.getPaddingHeight()+x)+\"px)\":g+this.getPaddingHeight()+x,maxHeight:(0,u.default)(b)?\"calc(\"+b+\" + \"+(this.getPaddingHeight()+x)+\"px)\":b+this.getPaddingHeight()+x}),f&&p&&!w&&{minHeight:g,maxHeight:b},p&&!w&&m.viewStyleUniversalInitial),C=n({},m.viewWrapperStyleDefault,f&&n({},m.viewWrapperStyleAutoHeight)),E=n({},m.viewWrappedStyleDefault),T={transition:\"opacity \"+d+\"ms\",opacity:0},P=n({},m.trackHorizontalStyleDefault,h&&T,p&&!w&&{display:\"none\"}),D=n({},m.trackVerticalStyleDefault,h&&T,p&&!w&&{display:\"none\"});return(0,c.createElement)(l,{className:_.className?_.className:\"\",style:k,ref:function(t){e.container=t}},[(0,c.createElement)(\"div\",{style:O,key:\"view\",ref:function(t){e.view=t}},[(0,c.createElement)(\"div\",{style:C,key:\"viewWrapper\",ref:function(t){e.viewWrapper=t}},[(0,c.cloneElement)(r({style:E}),{key:\"viewWrapped\",ref:function(t){e.viewWrapped=t}},v)])]),(0,c.cloneElement)(i({style:P}),{key:\"trackHorizontal\",ref:function(t){e.trackHorizontal=t}},(0,c.cloneElement)(o({style:m.thumbHorizontalStyleDefault}),{ref:function(t){e.thumbHorizontal=t}})),(0,c.cloneElement)(a({style:D}),{key:\"trackVertical\",ref:function(t){e.trackVertical=t}},(0,c.cloneElement)(s({style:m.thumbVerticalStyleDefault}),{ref:function(t){e.thumbVertical=t}}))])}}]),t}();t.default=y,y.propTypes={onScroll:l.default.func,onScrollFrame:l.default.func,onScrollStart:l.default.func,onScrollStop:l.default.func,onUpdate:l.default.func,renderView:l.default.func,renderTrackHorizontal:l.default.func,renderTrackVertical:l.default.func,renderThumbHorizontal:l.default.func,renderThumbVertical:l.default.func,tagName:l.default.string,thumbSize:l.default.number,thumbMinSize:l.default.number,hideTracksWhenNotNeeded:l.default.bool,autoHide:l.default.bool,autoHideTimeout:l.default.number,autoHideDuration:l.default.number,autoHeight:l.default.bool,autoHeightMin:l.default.oneOfType([l.default.number,l.default.string]),autoHeightMax:l.default.oneOfType([l.default.number,l.default.string]),universal:l.default.bool,style:l.default.object,children:l.default.node},y.defaultProps={renderView:g.renderViewDefault,renderTrackHorizontal:g.renderTrackHorizontalDefault,renderTrackVertical:g.renderTrackVerticalDefault,renderThumbHorizontal:g.renderThumbHorizontalDefault,renderThumbVertical:g.renderThumbVerticalDefault,tagName:\"div\",thumbMinSize:30,hideTracksWhenNotNeeded:!1,autoHide:!1,autoHideTimeout:1e3,autoHideDuration:200,autoHeight:!1,autoHeightMin:0,autoHeightMax:200,universal:!1}},function(e,t,r){(function(t){for(var n=r(195),i=\"undefined\"==typeof window?t:window,a=[\"moz\",\"webkit\"],o=\"AnimationFrame\",s=i[\"request\"+o],c=i[\"cancel\"+o]||i[\"cancelRequest\"+o],l=0;!s&&l<a.length;l++)s=i[a[l]+\"Request\"+o],c=i[a[l]+\"Cancel\"+o]||i[a[l]+\"CancelRequest\"+o];if(!s||!c){var u=0,h=0,d=[];s=function(e){if(0===d.length){var t=n(),r=Math.max(0,1e3/60-(t-u));u=r+t,setTimeout(function(){var e=d.slice(0);d.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(u)}catch(e){setTimeout(function(){throw e},0)}},Math.round(r))}return d.push({handle:++h,callback:e,cancelled:!1}),h},c=function(e){for(var t=0;t<d.length;t++)d[t].handle===e&&(d[t].cancelled=!0)}}e.exports=function(e){return s.call(i,e)},e.exports.cancel=function(){c.apply(i,arguments)},e.exports.polyfill=function(e){e||(e=i),e.requestAnimationFrame=s,e.cancelAnimationFrame=c}}).call(this,r(64))},function(e,t,r){(function(t){(function(){var r,n,i,a,o,s;\"undefined\"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=t&&t.hrtime?(e.exports=function(){return(r()-o)/1e6},n=t.hrtime,a=(r=function(){var e;return 1e9*(e=n())[0]+e[1]})(),s=1e9*t.uptime(),o=a-s):Date.now?(e.exports=function(){return Date.now()-i},i=Date.now()):(e.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(this,r(196))},function(e,t){var r,n,i=e.exports={};function a(){throw new Error(\"setTimeout has not been defined\")}function o(){throw new Error(\"clearTimeout has not been defined\")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r=\"function\"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{n=\"function\"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var c,l=[],u=!1,h=-1;function d(){u&&c&&(u=!1,c.length?l=c.concat(l):h=-1,l.length&&p())}function p(){if(!u){var e=s(d);u=!0;for(var t=l.length;t;){for(c=l,l=[];++h<t;)c&&c[h].run();h=-1,t=l.length}c=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new f(e,t)),1!==l.length||u||s(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title=\"browser\",i.browser=!0,i.env={},i.argv=[],i.version=\"\",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error(\"process.binding is not supported\")},i.cwd=function(){return\"/\"},i.chdir=function(e){throw new Error(\"process.chdir is not supported\")},i.umask=function(){return 0}},function(e,t,r){var n=r(198),i=r(199),a={float:\"cssFloat\"},o=r(202);function s(e,t,r){var s=a[t];if(void 0===s&&(s=function(e){var t=i(e),r=n(t);return a[t]=a[e]=a[r]=r,r}(t)),s){if(void 0===r)return e.style[s];e.style[s]=o(s,r)}}function c(){2===arguments.length?\"string\"==typeof arguments[1]?arguments[0].style.cssText=arguments[1]:function(e,t){for(var r in t)t.hasOwnProperty(r)&&s(e,r,t[r])}(arguments[0],arguments[1]):s(arguments[0],arguments[1],arguments[2])}e.exports=c,e.exports.set=c,e.exports.get=function(e,t){return Array.isArray(t)?t.reduce(function(t,r){return t[r]=s(e,r||\"\"),t},{}):s(e,t||\"\")}},function(e,t){var r=null,n=[\"Webkit\",\"Moz\",\"O\",\"ms\"];e.exports=function(e){r||(r=document.createElement(\"div\"));var t=r.style;if(e in t)return e;for(var i=e.charAt(0).toUpperCase()+e.slice(1),a=n.length;a>=0;a--){var o=n[a]+i;if(o in t)return o}return!1}},function(e,t,r){var n=r(200);e.exports=function(e){return n(e).replace(/\\s(\\w)/g,function(e,t){return t.toUpperCase()})}},function(e,t,r){var n=r(201);e.exports=function(e){return n(e).replace(/[\\W_]+(.|$)/g,function(e,t){return t?\" \"+t:\"\"}).trim()}},function(e,t){e.exports=function(e){return r.test(e)?e.toLowerCase():n.test(e)?(function(e){return e.replace(a,function(e,t){return t?\" \"+t:\"\"})}(e)||e).toLowerCase():i.test(e)?function(e){return e.replace(o,function(e,t,r){return t+\" \"+r.toLowerCase().split(\"\").join(\" \")})}(e).toLowerCase():e.toLowerCase()};var r=/\\s/,n=/(_|-|\\.|:)/,i=/([a-z][A-Z]|[A-Z][a-z])/;var a=/[\\W_]+(.|$)/g;var o=/(.)([A-Z]+)/g},function(e,t){var r={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0};e.exports=function(e,t){return\"number\"!=typeof t||r[e]?t:t+\"px\"}},function(e,t,r){\"use strict\";var n=r(204);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,r,i,a,o){if(o!==n){var s=new Error(\"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types\");throw s.name=\"Invariant Violation\",s}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return r.PropTypes=r,r}},function(e,t,r){\"use strict\";e.exports=\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\"},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e){return\"string\"==typeof e}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.invalidateScrollbarWidth=function(){n=!1};var n=!1;function i(e){return!1!==n?n:(n=e&&\"undefined\"!=typeof document?e.offsetWidth-e.realClientWidth:0)||0}t.default=i,t.getScrollbarWidth=i},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(){return!1}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e){var t=e.clientWidth,r=getComputedStyle(e),n=r.paddingLeft,i=r.paddingRight;return t-parseFloat(n)-parseFloat(i)}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e){var t=e.clientHeight,r=getComputedStyle(e),n=r.paddingTop,i=r.paddingBottom;return t-parseFloat(n)-parseFloat(i)}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=t.scrollbarSize=100;t.containerStyleDefault={position:\"relative\",overflow:\"hidden\",width:\"100%\",height:\"100%\"},t.viewWrapperStyleDefault={paddingRight:n,paddingBottom:n,width:\"auto\",minWidth:\"100%\",boxSizing:\"border-box\",verticalAlign:\"top\",display:\"inline-block\"},t.viewWrappedStyleDefault={position:\"relative\",display:\"block\",verticalAlign:\"top\",width:\"100%\",boxSizing:\"border-box\"},t.containerStyleAutoHeight={height:\"auto\"},t.viewStyleDefault={position:\"absolute\",top:0,left:0,right:0,bottom:0,overflow:\"scroll\",MsOverflowStyle:\"scrollbar\",WebkitOverflowScrolling:\"touch\",height:\"auto\",boxSizing:\"content-box\"},t.viewStyleAutoHeight={position:\"relative\",top:void 0,left:void 0,right:void 0,bottom:void 0},t.viewStyleUniversalInitial={overflow:\"hidden\",marginRight:0,marginBottom:0},t.trackHorizontalStyleDefault={position:\"absolute\",height:6},t.trackVerticalStyleDefault={position:\"absolute\",width:6},t.thumbHorizontalStyleDefault={position:\"relative\",display:\"block\",height:\"100%\"},t.thumbVerticalStyleDefault={position:\"relative\",display:\"block\",width:\"100%\"},t.disableSelectStyle={userSelect:\"none\"},t.disableSelectStyleReset={userSelect:\"\"}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.renderViewDefault=function(e){return o.default.createElement(\"div\",e)},t.renderTrackHorizontalDefault=function(e){var t=e.style,r=s(e,[\"style\"]),i=n({},t,{right:2,bottom:2,left:2,borderRadius:3});return o.default.createElement(\"div\",n({style:i},r))},t.renderTrackVerticalDefault=function(e){var t=e.style,r=s(e,[\"style\"]),i=n({},t,{right:2,bottom:2,top:2,borderRadius:3});return o.default.createElement(\"div\",n({style:i},r))},t.renderThumbHorizontalDefault=function(e){var t=e.style,r=s(e,[\"style\"]),i=n({},t,{cursor:\"pointer\",borderRadius:\"inherit\",backgroundColor:\"rgba(0,0,0,.2)\"});return o.default.createElement(\"div\",n({style:i},r))},t.renderThumbVerticalDefault=function(e){var t=e.style,r=s(e,[\"style\"]),i=n({},t,{cursor:\"pointer\",borderRadius:\"inherit\",backgroundColor:\"rgba(0,0,0,.2)\"});return o.default.createElement(\"div\",n({style:i},r))};var i,a=r(0),o=(i=a)&&i.__esModule?i:{default:i};function s(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}},function(e,t,r){e.exports={red:\"#ff444f\",light_chart_text:\"#555975\",dark_chart_text:\"#999\",light_chart_grid:\"#f2f3f4\",dark_chart_grid:\"#1d1f20\",light_chart_mountain_border:\"#85acb0\",dark_chart_mountain_border:\"#fff\",light_chart_mountain_bg:\"rgba(133,172,176,0.16)\",dark_chart_mountain_bg:\"rgba(255,255,255,0.36)\",light_chart_mountain_bg_shade:\"rgba(255,255,255,0)\",dark_chart_mountain_bg_shade:\"rgba(16,19,32,0)\",light_candle_text_closed:\"rgba(0,0,0,0.16)\",dark_candle_text_closed:\"rgba(127,131,151,0.3)\",light_candle_bg_closed:\"#d6d6d6\",dark_candle_bg_closed:\"#303342\",light_chart_closed_candle:\"#d6d6d6\",dark_chart_closed_candle:\"#303342\",light_chart_bg:\"#fff\",dark_chart_bg:\"#0e0e0e\",light_float_labels_bg:\"#d6dadb\",dark_float_labels_bg:\"#323738\",light_float_labels_text:\"#333\",dark_float_labels_text:\"#fff\"}},function(e,t,r){e.exports={red:\"#ff444f\",light_chart_text:\"#555975\",dark_chart_text:\"#999\",light_chart_grid:\"#f2f3f4\",dark_chart_grid:\"#1d1f20\",light_chart_mountain_border:\"#85acb0\",dark_chart_mountain_border:\"#fff\",light_chart_mountain_bg:\"rgba(133,172,176,0.16)\",dark_chart_mountain_bg:\"rgba(255,255,255,0.36)\",light_chart_mountain_bg_shade:\"rgba(255,255,255,0)\",dark_chart_mountain_bg_shade:\"rgba(16,19,32,0)\",light_candle_text_closed:\"rgba(0,0,0,0.16)\",dark_candle_text_closed:\"rgba(127,131,151,0.3)\",light_candle_bg_closed:\"#d6d6d6\",dark_candle_bg_closed:\"#303342\",light_chart_closed_candle:\"#d6d6d6\",dark_chart_closed_candle:\"#303342\",light_chart_bg:\"#fff\",dark_chart_bg:\"#0e0e0e\",light_float_labels_bg:\"#d6dadb\",dark_float_labels_bg:\"#323738\",light_float_labels_text:\"#333\",dark_float_labels_text:\"#fff\"}},function(e,t,r){e.exports={red:\"#ff444f\",light_chart_text:\"#555975\",dark_chart_text:\"#999\",light_chart_grid:\"#f2f3f4\",dark_chart_grid:\"#1d1f20\",light_chart_mountain_border:\"#85acb0\",dark_chart_mountain_border:\"#fff\",light_chart_mountain_bg:\"rgba(133,172,176,0.16)\",dark_chart_mountain_bg:\"rgba(255,255,255,0.36)\",light_chart_mountain_bg_shade:\"rgba(255,255,255,0)\",dark_chart_mountain_bg_shade:\"rgba(16,19,32,0)\",light_candle_text_closed:\"rgba(0,0,0,0.16)\",dark_candle_text_closed:\"rgba(127,131,151,0.3)\",light_candle_bg_closed:\"#d6d6d6\",dark_candle_bg_closed:\"#303342\",light_chart_closed_candle:\"#d6d6d6\",dark_chart_closed_candle:\"#303342\",light_chart_bg:\"#fff\",dark_chart_bg:\"#0e0e0e\",light_float_labels_bg:\"#d6dadb\",dark_float_labels_bg:\"#323738\",light_float_labels_text:\"#333\",dark_float_labels_text:\"#fff\"}},function(e,t,r){e.exports={red:\"#ff444f\",light_chart_text:\"#555975\",dark_chart_text:\"#999\",light_chart_grid:\"#f2f3f4\",dark_chart_grid:\"#1d1f20\",light_chart_mountain_border:\"#85acb0\",dark_chart_mountain_border:\"#fff\",light_chart_mountain_bg:\"rgba(133,172,176,0.16)\",dark_chart_mountain_bg:\"rgba(255,255,255,0.36)\",light_chart_mountain_bg_shade:\"rgba(255,255,255,0)\",dark_chart_mountain_bg_shade:\"rgba(16,19,32,0)\",light_candle_text_closed:\"rgba(0,0,0,0.16)\",dark_candle_text_closed:\"rgba(127,131,151,0.3)\",light_candle_bg_closed:\"#d6d6d6\",dark_candle_bg_closed:\"#303342\",light_chart_closed_candle:\"#d6d6d6\",dark_chart_closed_candle:\"#303342\",light_chart_bg:\"#fff\",dark_chart_bg:\"#0e0e0e\",light_float_labels_bg:\"#d6dadb\",dark_float_labels_bg:\"#323738\",light_float_labels_text:\"#333\",dark_float_labels_text:\"#fff\"}},function(e,t,r){e.exports={red:\"#ff444f\",light_chart_text:\"#555975\",dark_chart_text:\"#999\",light_chart_grid:\"#f2f3f4\",dark_chart_grid:\"#1d1f20\",light_chart_mountain_border:\"#85acb0\",dark_chart_mountain_border:\"#fff\",light_chart_mountain_bg:\"rgba(133,172,176,0.16)\",dark_chart_mountain_bg:\"rgba(255,255,255,0.36)\",light_chart_mountain_bg_shade:\"rgba(255,255,255,0)\",dark_chart_mountain_bg_shade:\"rgba(16,19,32,0)\",light_candle_text_closed:\"rgba(0,0,0,0.16)\",dark_candle_text_closed:\"rgba(127,131,151,0.3)\",light_candle_bg_closed:\"#d6d6d6\",dark_candle_bg_closed:\"#303342\",light_chart_closed_candle:\"#d6d6d6\",dark_chart_closed_candle:\"#303342\",light_chart_bg:\"#fff\",dark_chart_bg:\"#0e0e0e\",light_float_labels_bg:\"#d6dadb\",dark_float_labels_bg:\"#323738\",light_float_labels_text:\"#333\",dark_float_labels_text:\"#fff\"}},function(e,t,r){e.exports={red:\"#ff444f\",light_chart_text:\"#555975\",dark_chart_text:\"#999\",light_chart_grid:\"#f2f3f4\",dark_chart_grid:\"#1d1f20\",light_chart_mountain_border:\"#85acb0\",dark_chart_mountain_border:\"#fff\",light_chart_mountain_bg:\"rgba(133,172,176,0.16)\",dark_chart_mountain_bg:\"rgba(255,255,255,0.36)\",light_chart_mountain_bg_shade:\"rgba(255,255,255,0)\",dark_chart_mountain_bg_shade:\"rgba(16,19,32,0)\",light_candle_text_closed:\"rgba(0,0,0,0.16)\",dark_candle_text_closed:\"rgba(127,131,151,0.3)\",light_candle_bg_closed:\"#d6d6d6\",dark_candle_bg_closed:\"#303342\",light_chart_closed_candle:\"#d6d6d6\",dark_chart_closed_candle:\"#303342\",light_chart_bg:\"#fff\",dark_chart_bg:\"#0e0e0e\",light_float_labels_bg:\"#d6dadb\",dark_float_labels_bg:\"#323738\",light_float_labels_text:\"#333\",dark_float_labels_text:\"#fff\"}},function(e,t,r){e.exports={red:\"#ff444f\",light_chart_text:\"#555975\",dark_chart_text:\"#999\",light_chart_grid:\"#f2f3f4\",dark_chart_grid:\"#1d1f20\",light_chart_mountain_border:\"#85acb0\",dark_chart_mountain_border:\"#fff\",light_chart_mountain_bg:\"rgba(133,172,176,0.16)\",dark_chart_mountain_bg:\"rgba(255,255,255,0.36)\",light_chart_mountain_bg_shade:\"rgba(255,255,255,0)\",dark_chart_mountain_bg_shade:\"rgba(16,19,32,0)\",light_candle_text_closed:\"rgba(0,0,0,0.16)\",dark_candle_text_closed:\"rgba(127,131,151,0.3)\",light_candle_bg_closed:\"#d6d6d6\",dark_candle_bg_closed:\"#303342\",light_chart_closed_candle:\"#d6d6d6\",dark_chart_closed_candle:\"#303342\",light_chart_bg:\"#fff\",dark_chart_bg:\"#0e0e0e\",light_float_labels_bg:\"#d6dadb\",dark_float_labels_bg:\"#323738\",light_float_labels_text:\"#333\",dark_float_labels_text:\"#fff\"}},function(e,t,r){e.exports={red:\"#ff444f\",light_chart_text:\"#555975\",dark_chart_text:\"#999\",light_chart_grid:\"#f2f3f4\",dark_chart_grid:\"#1d1f20\",light_chart_mountain_border:\"#85acb0\",dark_chart_mountain_border:\"#fff\",light_chart_mountain_bg:\"rgba(133,172,176,0.16)\",dark_chart_mountain_bg:\"rgba(255,255,255,0.36)\",light_chart_mountain_bg_shade:\"rgba(255,255,255,0)\",dark_chart_mountain_bg_shade:\"rgba(16,19,32,0)\",light_candle_text_closed:\"rgba(0,0,0,0.16)\",dark_candle_text_closed:\"rgba(127,131,151,0.3)\",light_candle_bg_closed:\"#d6d6d6\",dark_candle_bg_closed:\"#303342\",light_chart_closed_candle:\"#d6d6d6\",dark_chart_closed_candle:\"#303342\",light_chart_bg:\"#fff\",dark_chart_bg:\"#0e0e0e\",light_float_labels_bg:\"#d6dadb\",dark_float_labels_bg:\"#323738\",light_float_labels_text:\"#333\",dark_float_labels_text:\"#fff\"}},function(e,t,r){e.exports={red:\"#ff444f\",light_chart_text:\"#555975\",dark_chart_text:\"#999\",light_chart_grid:\"#f2f3f4\",dark_chart_grid:\"#1d1f20\",light_chart_mountain_border:\"#85acb0\",dark_chart_mountain_border:\"#fff\",light_chart_mountain_bg:\"rgba(133,172,176,0.16)\",dark_chart_mountain_bg:\"rgba(255,255,255,0.36)\",light_chart_mountain_bg_shade:\"rgba(255,255,255,0)\",dark_chart_mountain_bg_shade:\"rgba(16,19,32,0)\",light_candle_text_closed:\"rgba(0,0,0,0.16)\",dark_candle_text_closed:\"rgba(127,131,151,0.3)\",light_candle_bg_closed:\"#d6d6d6\",dark_candle_bg_closed:\"#303342\",light_chart_closed_candle:\"#d6d6d6\",dark_chart_closed_candle:\"#303342\",light_chart_bg:\"#fff\",dark_chart_bg:\"#0e0e0e\",light_float_labels_bg:\"#d6dadb\",dark_float_labels_bg:\"#323738\",light_float_labels_text:\"#333\",dark_float_labels_text:\"#fff\"}},function(e,t,r){e.exports={red:\"#ff444f\",light_chart_text:\"#555975\",dark_chart_text:\"#999\",light_chart_grid:\"#f2f3f4\",dark_chart_grid:\"#1d1f20\",light_chart_mountain_border:\"#85acb0\",dark_chart_mountain_border:\"#fff\",light_chart_mountain_bg:\"rgba(133,172,176,0.16)\",dark_chart_mountain_bg:\"rgba(255,255,255,0.36)\",light_chart_mountain_bg_shade:\"rgba(255,255,255,0)\",dark_chart_mountain_bg_shade:\"rgba(16,19,32,0)\",light_candle_text_closed:\"rgba(0,0,0,0.16)\",dark_candle_text_closed:\"rgba(127,131,151,0.3)\",light_candle_bg_closed:\"#d6d6d6\",dark_candle_bg_closed:\"#303342\",light_chart_closed_candle:\"#d6d6d6\",dark_chart_closed_candle:\"#303342\",light_chart_bg:\"#fff\",dark_chart_bg:\"#0e0e0e\",light_float_labels_bg:\"#d6dadb\",dark_float_labels_bg:\"#323738\",light_float_labels_text:\"#333\",dark_float_labels_text:\"#fff\"}},function(e,t,r){e.exports={red:\"#ff444f\",light_chart_text:\"#555975\",dark_chart_text:\"#999\",light_chart_grid:\"#f2f3f4\",dark_chart_grid:\"#1d1f20\",light_chart_mountain_border:\"#85acb0\",dark_chart_mountain_border:\"#fff\",light_chart_mountain_bg:\"rgba(133,172,176,0.16)\",dark_chart_mountain_bg:\"rgba(255,255,255,0.36)\",light_chart_mountain_bg_shade:\"rgba(255,255,255,0)\",dark_chart_mountain_bg_shade:\"rgba(16,19,32,0)\",light_candle_text_closed:\"rgba(0,0,0,0.16)\",dark_candle_text_closed:\"rgba(127,131,151,0.3)\",light_candle_bg_closed:\"#d6d6d6\",dark_candle_bg_closed:\"#303342\",light_chart_closed_candle:\"#d6d6d6\",dark_chart_closed_candle:\"#303342\",light_chart_bg:\"#fff\",dark_chart_bg:\"#0e0e0e\",light_float_labels_bg:\"#d6dadb\",dark_float_labels_bg:\"#323738\",light_float_labels_text:\"#333\",dark_float_labels_text:\"#fff\"}},function(e,t,r){e.exports={red:\"#ff444f\",light_chart_text:\"#555975\",dark_chart_text:\"#999\",light_chart_grid:\"#f2f3f4\",dark_chart_grid:\"#1d1f20\",light_chart_mountain_border:\"#85acb0\",dark_chart_mountain_border:\"#fff\",light_chart_mountain_bg:\"rgba(133,172,176,0.16)\",dark_chart_mountain_bg:\"rgba(255,255,255,0.36)\",light_chart_mountain_bg_shade:\"rgba(255,255,255,0)\",dark_chart_mountain_bg_shade:\"rgba(16,19,32,0)\",light_candle_text_closed:\"rgba(0,0,0,0.16)\",dark_candle_text_closed:\"rgba(127,131,151,0.3)\",light_candle_bg_closed:\"#d6d6d6\",dark_candle_bg_closed:\"#303342\",light_chart_closed_candle:\"#d6d6d6\",dark_chart_closed_candle:\"#303342\",light_chart_bg:\"#fff\",dark_chart_bg:\"#0e0e0e\",light_float_labels_bg:\"#d6dadb\",dark_float_labels_bg:\"#323738\",light_float_labels_text:\"#333\",dark_float_labels_text:\"#fff\"}},function(e,t,r){e.exports={red:\"#ff444f\",light_chart_text:\"#555975\",dark_chart_text:\"#999\",light_chart_grid:\"#f2f3f4\",dark_chart_grid:\"#1d1f20\",light_chart_mountain_border:\"#85acb0\",dark_chart_mountain_border:\"#fff\",light_chart_mountain_bg:\"rgba(133,172,176,0.16)\",dark_chart_mountain_bg:\"rgba(255,255,255,0.36)\",light_chart_mountain_bg_shade:\"rgba(255,255,255,0)\",dark_chart_mountain_bg_shade:\"rgba(16,19,32,0)\",light_candle_text_closed:\"rgba(0,0,0,0.16)\",dark_candle_text_closed:\"rgba(127,131,151,0.3)\",light_candle_bg_closed:\"#d6d6d6\",dark_candle_bg_closed:\"#303342\",light_chart_closed_candle:\"#d6d6d6\",dark_chart_closed_candle:\"#303342\",light_chart_bg:\"#fff\",dark_chart_bg:\"#0e0e0e\",light_float_labels_bg:\"#d6dadb\",dark_float_labels_bg:\"#323738\",light_float_labels_text:\"#333\",dark_float_labels_text:\"#fff\"}},function(e,t,r){e.exports={red:\"#ff444f\",light_chart_text:\"#555975\",dark_chart_text:\"#999\",light_chart_grid:\"#f2f3f4\",dark_chart_grid:\"#1d1f20\",light_chart_mountain_border:\"#85acb0\",dark_chart_mountain_border:\"#fff\",light_chart_mountain_bg:\"rgba(133,172,176,0.16)\",dark_chart_mountain_bg:\"rgba(255,255,255,0.36)\",light_chart_mountain_bg_shade:\"rgba(255,255,255,0)\",dark_chart_mountain_bg_shade:\"rgba(16,19,32,0)\",light_candle_text_closed:\"rgba(0,0,0,0.16)\",dark_candle_text_closed:\"rgba(127,131,151,0.3)\",light_candle_bg_closed:\"#d6d6d6\",dark_candle_bg_closed:\"#303342\",light_chart_closed_candle:\"#d6d6d6\",dark_chart_closed_candle:\"#303342\",light_chart_bg:\"#fff\",dark_chart_bg:\"#0e0e0e\",light_float_labels_bg:\"#d6dadb\",dark_float_labels_bg:\"#323738\",light_float_labels_text:\"#333\",dark_float_labels_text:\"#fff\"}},function(e,t,r){e.exports={red:\"#ff444f\",light_chart_text:\"#555975\",dark_chart_text:\"#999\",light_chart_grid:\"#f2f3f4\",dark_chart_grid:\"#1d1f20\",light_chart_mountain_border:\"#85acb0\",dark_chart_mountain_border:\"#fff\",light_chart_mountain_bg:\"rgba(133,172,176,0.16)\",dark_chart_mountain_bg:\"rgba(255,255,255,0.36)\",light_chart_mountain_bg_shade:\"rgba(255,255,255,0)\",dark_chart_mountain_bg_shade:\"rgba(16,19,32,0)\",light_candle_text_closed:\"rgba(0,0,0,0.16)\",dark_candle_text_closed:\"rgba(127,131,151,0.3)\",light_candle_bg_closed:\"#d6d6d6\",dark_candle_bg_closed:\"#303342\",light_chart_closed_candle:\"#d6d6d6\",dark_chart_closed_candle:\"#303342\",light_chart_bg:\"#fff\",dark_chart_bg:\"#0e0e0e\",light_float_labels_bg:\"#d6dadb\",dark_float_labels_bg:\"#323738\",light_float_labels_text:\"#333\",dark_float_labels_text:\"#fff\"}},function(e,t,r){e.exports={red:\"#ff444f\",light_chart_text:\"#555975\",dark_chart_text:\"#999\",light_chart_grid:\"#f2f3f4\",dark_chart_grid:\"#1d1f20\",light_chart_mountain_border:\"#85acb0\",dark_chart_mountain_border:\"#fff\",light_chart_mountain_bg:\"rgba(133,172,176,0.16)\",dark_chart_mountain_bg:\"rgba(255,255,255,0.36)\",light_chart_mountain_bg_shade:\"rgba(255,255,255,0)\",dark_chart_mountain_bg_shade:\"rgba(16,19,32,0)\",light_candle_text_closed:\"rgba(0,0,0,0.16)\",dark_candle_text_closed:\"rgba(127,131,151,0.3)\",light_candle_bg_closed:\"#d6d6d6\",dark_candle_bg_closed:\"#303342\",light_chart_closed_candle:\"#d6d6d6\",dark_chart_closed_candle:\"#303342\",light_chart_bg:\"#fff\",dark_chart_bg:\"#0e0e0e\",light_float_labels_bg:\"#d6dadb\",dark_float_labels_bg:\"#323738\",light_float_labels_text:\"#333\",dark_float_labels_text:\"#fff\"}},function(e,t,r){e.exports={red:\"#ff444f\",light_chart_text:\"#555975\",dark_chart_text:\"#999\",light_chart_grid:\"#f2f3f4\",dark_chart_grid:\"#1d1f20\",light_chart_mountain_border:\"#85acb0\",dark_chart_mountain_border:\"#fff\",light_chart_mountain_bg:\"rgba(133,172,176,0.16)\",dark_chart_mountain_bg:\"rgba(255,255,255,0.36)\",light_chart_mountain_bg_shade:\"rgba(255,255,255,0)\",dark_chart_mountain_bg_shade:\"rgba(16,19,32,0)\",light_candle_text_closed:\"rgba(0,0,0,0.16)\",dark_candle_text_closed:\"rgba(127,131,151,0.3)\",light_candle_bg_closed:\"#d6d6d6\",dark_candle_bg_closed:\"#303342\",light_chart_closed_candle:\"#d6d6d6\",dark_chart_closed_candle:\"#303342\",light_chart_bg:\"#fff\",dark_chart_bg:\"#0e0e0e\",light_float_labels_bg:\"#d6dadb\",dark_float_labels_bg:\"#323738\",light_float_labels_text:\"#333\",dark_float_labels_text:\"#fff\"}},function(e,t,r){e.exports={red:\"#ff444f\",light_chart_text:\"#555975\",dark_chart_text:\"#999\",light_chart_grid:\"#f2f3f4\",dark_chart_grid:\"#1d1f20\",light_chart_mountain_border:\"#85acb0\",dark_chart_mountain_border:\"#fff\",light_chart_mountain_bg:\"rgba(133,172,176,0.16)\",dark_chart_mountain_bg:\"rgba(255,255,255,0.36)\",light_chart_mountain_bg_shade:\"rgba(255,255,255,0)\",dark_chart_mountain_bg_shade:\"rgba(16,19,32,0)\",light_candle_text_closed:\"rgba(0,0,0,0.16)\",dark_candle_text_closed:\"rgba(127,131,151,0.3)\",light_candle_bg_closed:\"#d6d6d6\",dark_candle_bg_closed:\"#303342\",light_chart_closed_candle:\"#d6d6d6\",dark_chart_closed_candle:\"#303342\",light_chart_bg:\"#fff\",dark_chart_bg:\"#0e0e0e\",light_float_labels_bg:\"#d6dadb\",dark_float_labels_bg:\"#323738\",light_float_labels_text:\"#333\",dark_float_labels_text:\"#fff\"}},function(e,t,r){e.exports={red:\"#ff444f\",light_chart_text:\"#555975\",dark_chart_text:\"#999\",light_chart_grid:\"#f2f3f4\",dark_chart_grid:\"#1d1f20\",light_chart_mountain_border:\"#85acb0\",dark_chart_mountain_border:\"#fff\",light_chart_mountain_bg:\"rgba(133,172,176,0.16)\",dark_chart_mountain_bg:\"rgba(255,255,255,0.36)\",light_chart_mountain_bg_shade:\"rgba(255,255,255,0)\",dark_chart_mountain_bg_shade:\"rgba(16,19,32,0)\",light_candle_text_closed:\"rgba(0,0,0,0.16)\",dark_candle_text_closed:\"rgba(127,131,151,0.3)\",light_candle_bg_closed:\"#d6d6d6\",dark_candle_bg_closed:\"#303342\",light_chart_closed_candle:\"#d6d6d6\",dark_chart_closed_candle:\"#303342\",light_chart_bg:\"#fff\",dark_chart_bg:\"#0e0e0e\",light_float_labels_bg:\"#d6dadb\",dark_float_labels_bg:\"#323738\",light_float_labels_text:\"#333\",dark_float_labels_text:\"#fff\"}},function(e,t,r){e.exports={red:\"#ff444f\",light_chart_text:\"#555975\",dark_chart_text:\"#999\",light_chart_grid:\"#f2f3f4\",dark_chart_grid:\"#1d1f20\",light_chart_mountain_border:\"#85acb0\",dark_chart_mountain_border:\"#fff\",light_chart_mountain_bg:\"rgba(133,172,176,0.16)\",dark_chart_mountain_bg:\"rgba(255,255,255,0.36)\",light_chart_mountain_bg_shade:\"rgba(255,255,255,0)\",dark_chart_mountain_bg_shade:\"rgba(16,19,32,0)\",light_candle_text_closed:\"rgba(0,0,0,0.16)\",dark_candle_text_closed:\"rgba(127,131,151,0.3)\",light_candle_bg_closed:\"#d6d6d6\",dark_candle_bg_closed:\"#303342\",light_chart_closed_candle:\"#d6d6d6\",dark_chart_closed_candle:\"#303342\",light_chart_bg:\"#fff\",dark_chart_bg:\"#0e0e0e\",light_float_labels_bg:\"#d6dadb\",dark_float_labels_bg:\"#323738\",light_float_labels_text:\"#333\",dark_float_labels_text:\"#fff\"}},function(e,t,r){e.exports={red:\"#ff444f\",light_chart_text:\"#555975\",dark_chart_text:\"#999\",light_chart_grid:\"#f2f3f4\",dark_chart_grid:\"#1d1f20\",light_chart_mountain_border:\"#85acb0\",dark_chart_mountain_border:\"#fff\",light_chart_mountain_bg:\"rgba(133,172,176,0.16)\",dark_chart_mountain_bg:\"rgba(255,255,255,0.36)\",light_chart_mountain_bg_shade:\"rgba(255,255,255,0)\",dark_chart_mountain_bg_shade:\"rgba(16,19,32,0)\",light_candle_text_closed:\"rgba(0,0,0,0.16)\",dark_candle_text_closed:\"rgba(127,131,151,0.3)\",light_candle_bg_closed:\"#d6d6d6\",dark_candle_bg_closed:\"#303342\",light_chart_closed_candle:\"#d6d6d6\",dark_chart_closed_candle:\"#303342\",light_chart_bg:\"#fff\",dark_chart_bg:\"#0e0e0e\",light_float_labels_bg:\"#d6dadb\",dark_float_labels_bg:\"#323738\",light_float_labels_text:\"#333\",dark_float_labels_text:\"#fff\"}},function(e,t,r){e.exports={red:\"#ff444f\",light_chart_text:\"#555975\",dark_chart_text:\"#999\",light_chart_grid:\"#f2f3f4\",dark_chart_grid:\"#1d1f20\",light_chart_mountain_border:\"#85acb0\",dark_chart_mountain_border:\"#fff\",light_chart_mountain_bg:\"rgba(133,172,176,0.16)\",dark_chart_mountain_bg:\"rgba(255,255,255,0.36)\",light_chart_mountain_bg_shade:\"rgba(255,255,255,0)\",dark_chart_mountain_bg_shade:\"rgba(16,19,32,0)\",light_candle_text_closed:\"rgba(0,0,0,0.16)\",dark_candle_text_closed:\"rgba(127,131,151,0.3)\",light_candle_bg_closed:\"#d6d6d6\",dark_candle_bg_closed:\"#303342\",light_chart_closed_candle:\"#d6d6d6\",dark_chart_closed_candle:\"#303342\",light_chart_bg:\"#fff\",dark_chart_bg:\"#0e0e0e\",light_float_labels_bg:\"#d6dadb\",dark_float_labels_bg:\"#323738\",light_float_labels_text:\"#333\",dark_float_labels_text:\"#fff\"}},function(e,t,r){e.exports={red:\"#ff444f\",light_chart_text:\"#555975\",dark_chart_text:\"#999\",light_chart_grid:\"#f2f3f4\",dark_chart_grid:\"#1d1f20\",light_chart_mountain_border:\"#85acb0\",dark_chart_mountain_border:\"#fff\",light_chart_mountain_bg:\"rgba(133,172,176,0.16)\",dark_chart_mountain_bg:\"rgba(255,255,255,0.36)\",light_chart_mountain_bg_shade:\"rgba(255,255,255,0)\",dark_chart_mountain_bg_shade:\"rgba(16,19,32,0)\",light_candle_text_closed:\"rgba(0,0,0,0.16)\",dark_candle_text_closed:\"rgba(127,131,151,0.3)\",light_candle_bg_closed:\"#d6d6d6\",dark_candle_bg_closed:\"#303342\",light_chart_closed_candle:\"#d6d6d6\",dark_chart_closed_candle:\"#303342\",light_chart_bg:\"#fff\",dark_chart_bg:\"#0e0e0e\",light_float_labels_bg:\"#d6dadb\",dark_float_labels_bg:\"#323738\",light_float_labels_text:\"#333\",dark_float_labels_text:\"#fff\"}},function(e,t,r){\"use strict\";r.r(t);var n,i,a,o,s,c,l,u=r(38),h=r(11),d=r(26),p=r(27),f=r(28),m=r(29),g=r(30),b=r(31),y=r(32),v=r(33),_=r(53),S=r(34),w=r(0),x=r.n(w),k=r(23),O=r(1);function C(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function T(e,t,r){return t&&E(e.prototype,t),r&&E(e,r),e}function P(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,(\"value\"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var D=(n=O.action.bound,a=P((i=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),C(this,\"bottom\",a,this),C(this,\"isReadyToShow\",o,this),C(this,\"mainChartHeight\",s,this),C(this,\"top\",c,this),C(this,\"totalHeight\",l,this),this.initial=function(){r.stx.append(\"drawPanels\",function(){return r.updateChartHeight()}),r.isReadyToShow=!0},this.updateChartMargin=function(e){if(r.context&&r.stx){var t=125;if(200===e)if(r.stx.chart.yAxis.height<325){var n=325-(e=100)-r.stx.chart.yAxis.height;t=n>0?n:0}else Object.keys(r.stx.panels).length>3&&(e=100,t=10);r.stx.chart.yAxis.initialMarginTop=t,r.stx.chart.yAxis.initialMarginBottom=e,r.stx.calculateYAxisMargins(r.stx.chart.panel.yAxis),r.stx.draw(),r.mainStore.state.shouldMinimiseLastDigits||r.mainStore.state.setShouldMinimiseLastDigit(r.stx.chart.panel.height<460)}},this.mainStore=t,Object(O.when)(function(){return r.context},this.initial)}return T(e,[{key:\"context\",get:function(){return this.mainStore.chart.context}},{key:\"stx\",get:function(){return this.context.stx}}]),T(e,[{key:\"updateChartHeight\",value:function(){var e=this;this.mainChartHeight=this.stx.panels.chart.height,this.totalHeight=Object.keys(this.stx.panels).reduce(function(t,r){return t+(e.stx.panels[r].hidden?0:e.stx.panels[r].height)},0);var t=this.totalHeight>this.mainChartHeight?0:30,r=\"bottom\"===this.mainStore.chartSetting.position&&this.mainStore.state.chartControlsWidgets?40:0;this.top=this.mainChartHeight-t-200,this.bottom=this.totalHeight-this.mainChartHeight+t+r}}]),e}()).prototype,\"bottom\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),o=P(i.prototype,\"isReadyToShow\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s=P(i.prototype,\"mainChartHeight\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=P(i.prototype,\"top\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=P(i.prototype,\"totalHeight\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P(i.prototype,\"updateChartHeight\",[n],Object.getOwnPropertyDescriptor(i.prototype,\"updateChartHeight\"),i.prototype),i),j=r(157),A=r(158),N=r(165),I=r(168),M=r(170),z=r(171),L=r(172);function R(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var H,q,B,F,V,U=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.onContextReady=function(){r.stx.prepend(\"headsUpHR\",r.update)},this._container=null,this._spot=null,this._open=null,this._close=null,this._high=null,this._low=null,this.update=function(){if(!r._container){if(r._container=r.context.topNode.querySelector(\".ciq-asset-information\"),!r._container)return;r._spot=r._container.querySelector(\".ciq-ai-spot\"),r._open=r._container.querySelector(\".ciq-ai-open\"),r._close=r._container.querySelector(\".ciq-ai-close\"),r._high=r._container.querySelector(\".ciq-ai-high\"),r._low=r._container.querySelector(\".ciq-ai-low\")}var e=r._container;if(r.visible){var t=r.stx.barFromPixel(r.stx.cx),n=r.stx.chart.xaxis[t];if(n){var i=n.data||{},a=i.Open,o=i.High,s=i.Low,c=i.Close;if(a||o||s||c){if(e.style.visibility=\"visible\",r.isTick)for(var l=e.children,u=r.isTick?\"hidden\":\"visible\",h=1;h<l.length;++h)l[h].style.visibility=u;r._container&&(r._open.textContent=a&&!r.isTick?a.toFixed(r.decimalPlaces):\"\",r._high.textContent=o&&!r.isTick?o.toFixed(r.decimalPlaces):\"\",r._low.textContent=s&&!r.isTick?s.toFixed(r.decimalPlaces):\"\",r._close.textContent=c&&!r.isTick?c.toFixed(r.decimalPlaces):\"\",r._spot.textContent=c?c.toFixed(r.decimalPlaces):null)}else e.style.visibility=\"hidden\"}}else e.style.visibility=\"hidden\"},this.mainStore=t,Object(O.when)(function(){return r.context},this.onContextReady)}var t,r,n;return t=e,(r=[{key:\"decimalPlaces\",get:function(){return this.mainStore.chart.currentActiveSymbol.decimal_places}},{key:\"isTick\",get:function(){return\"tick\"===this.mainStore.timeperiod.timeUnit}},{key:\"context\",get:function(){return this.mainStore.chart.context}},{key:\"visible\",get:function(){return!this.mainStore.chart.isMobile&&this.mainStore.chartSetting.assetInformation}},{key:\"stx\",get:function(){return this.context.stx}}])&&R(t.prototype,r),n&&R(t,n),e}(),W=r(47),Q=r(48);function G(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function K(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,(\"value\"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Y,X,Z,J=(H=O.action.bound,q=O.action.bound,B=O.action.bound,V=K((F=function(){function e(t){var r,n,i,a,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),r=this,n=\"animatedPrices\",a=this,(i=V)&&Object.defineProperty(r,n,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0}),this.animatedPriceStore=[],this.mainStore=t,Object(O.reaction)(function(){return o.comparisonSymbols.length},this.syncAnimatedPricesWithComparisons),Object(O.reaction)(function(){return o.comparisonSymbols.map(function(e){return e.price})},this.updatePrices)}var t,r,n;return t=e,(r=[{key:\"syncAnimatedPricesWithComparisons\",value:function(){var e=this.comparisonSymbols.length-this.animatedPrices.length;if(e>0)for(;0!=e--;){var t=new W.a;this.animatedPriceStore.push(t),this.animatedPrices=this.animatedPrices.concat([t.connect(Q.a)])}else if(e<0)for(;0!=e++;)this.animatedPrices.pop(),this.animatedPriceStore.pop()}},{key:\"updatePrices\",value:function(){var e=this;this.comparisonSymbols.map(function(t,r){var n=t.price,i=t.prevPrice;e.animatedPriceStore[r].setPrice(n,i)})}},{key:\"onDeleteItem\",value:function(e){this.mainStore.comparison.removeComparison(e)}},{key:\"comparisonSymbols\",get:function(){return this.mainStore.comparison.comparisonSymbols}},{key:\"context\",get:function(){return this.mainStore.chart.context}}])&&G(t.prototype,r),n&&G(t,n),e}()).prototype,\"animatedPrices\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K(F.prototype,\"syncAnimatedPricesWithComparisons\",[H],Object.getOwnPropertyDescriptor(F.prototype,\"syncAnimatedPricesWithComparisons\"),F.prototype),K(F.prototype,\"updatePrices\",[q],Object.getOwnPropertyDescriptor(F.prototype,\"updatePrices\"),F.prototype),K(F.prototype,\"onDeleteItem\",[B],Object.getOwnPropertyDescriptor(F.prototype,\"onDeleteItem\"),F.prototype),F),$=r(43),ee=r(4),te=r(7),re=r.n(te);function ne(e){return(ne=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function ie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ae(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,(\"value\"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var oe,se,ce,le,ue,he=(Y=O.action.bound,ae((X=function(){function e(t){var r,n,i,a,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),r=this,n=\"state\",a=this,(i=Z)&&Object.defineProperty(r,n,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0}),this.node=null,this.lastBar={},this.showChange=!1,this.showSeries=!0,this.showStudies=!0,this.onContextReady=function(){var e=o.stx.layout.crosshair,t=\"number\"!=typeof e?2:e;o.setCrosshairState(t),o.stx.append(\"headsUpHR\",o.renderCrosshairTooltip)},this.renderCrosshairTooltip=function(){if(2===o.state){var e=o.stx,t=e.controls,r=t.crossX,n=t.crossY;if(!(r&&\"none\"===r.style.display||n&&\"none\"===n.style.display)){var i=e.barFromPixel(e.cx),a=e.chart.dataSegment[i];if(a&&o.isChartReady){var s,c=!0;if(void 0!==a&&a&&a.DT&&(s=!0,a.High&&e.pixelFromPrice(a.High),a.Low&&e.pixelFromPrice(a.Low),e.highLowBars[e.layout.chartType]||a.Close&&(e.pixelFromPrice(a.Close)-15,e.pixelFromPrice(a.Close)+15)),!(e.insideChart&&e.layout.crosshair&&e.displayCrosshairs)||e.overXAxis||e.overYAxis||e.openDialog||e.activeDrawing||e.grabbingScreen||!s||!c)return o.updateTooltipPosition({left:-5e3,top:0,rows:null}),void(o.lastBar={});var l=null;Object(ee.o)(a,o.lastBar)&&i!==e.chart.dataSegment.length-1||(l=o.calculateRows(a),o.lastBar=a),o.updateTooltipPosition({left:CIQ.ChartEngine.crosshairX-o.stx.left,top:CIQ.ChartEngine.crosshairY-o.stx.top,rows:l})}else o.updateTooltipPosition({left:-5e3,top:0,rows:null})}}},this.updateVisibility=function(e){var t=o.stx.container.querySelector(\".cq-crosshair\");2===o.state&&e?t.classList.add(\"active\"):2===o.state&&t.classList.remove(\"active\")},this.mainStore=t,Object(O.when)(function(){return o.context},this.onContextReady)}var t,r,n;return t=e,(r=[{key:\"setFloatPriceLabelStyle\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.mainStore.chartSetting.theme,t=this.stx.container.querySelector(\".cq-crosshair\");2===this.state?(this.stx.setStyle(\"stx-float-price\",\"color\",\"transparent\"),this.stx.setStyle(\"stx-float-price\",\"background-color\",\"transparent\"),this.stx.controls.floatDate.style.color=\"transparent\",this.stx.controls.floatDate.style.backgroundColor=\"transparent\",this.stx.controls.floatDate.style.display=\"none\",this.stx.controls.crossX.style.height=\"calc(100% - \".concat(this.stx.xaxisHeight,\"px)\"),t.classList.add(\"active\")):(this.stx.setStyle(\"stx-float-price\",\"color\",re.a[\"\".concat(e,\"_float_labels_text\")]),this.stx.setStyle(\"stx-float-price\",\"background-color\",re.a[\"\".concat(e,\"_float_labels_bg\")]),this.stx.controls.floatDate.style.color=re.a[\"\".concat(e,\"_float_labels_text\")],this.stx.controls.floatDate.style.backgroundColor=re.a[\"\".concat(e,\"_float_labels_bg\")],this.stx.controls.floatDate.style.display=\"block\",this.stx.controls.crossX.style.height=\"100%\",t.classList.remove(\"active\"))}},{key:\"toggleState\",value:function(){var e=(this.state+1)%3;this.setCrosshairState(e),this.mainStore.state.saveLayout()}},{key:\"setCrosshairState\",value:function(e){this.state=e,this.setFloatPriceLabelStyle(),this.stx.layout.crosshair=e,this.stx.doDisplayCrosshairs()}},{key:\"calculateRows\",value:function(e){var t=this.stx,r={},n=[],i=t.chart.panel,a=i.yAxis;if(n.push({member:\"DT\",display:\"DT\",panel:i,yAxis:a}),r.DT=r.Close=1,this.showChange&&CIQ.ChartEngine.isDailyInterval(t.layout.interval)&&n.push({member:\"Change\",display:\"Change\",panel:i,yAxis:a}),this.showOhl){for(var o=0,s=[\"Open\",\"Close\",\"High\",\"Low\"];o<s.length;o++){var c=s[o];n.push({member:c,display:c,panel:i,yAxis:a})}r.Open=r.High=r.Low=1}if(this.showSeries){var l=t.chart.seriesRenderers;for(var u in l){var h=l[u],d=t.panels[h.params.panel],p=h.params.yAxis;!p&&h.params.shareYAxis&&(p=d.yAxis);for(var f=0;f<h.seriesParams.length;f++){var m=h.seriesParams[f];if(m.display===this.activeSymbol.symbol){var g=this.activeSymbol.name;n.push({member:\"Close\",display:g,panel:d,yAxis:p}),r[g]=1}else{var b=m.symbol,y=m.field;b?y&&b!==y&&(b=CIQ.createObjectChainNames(b,y)[0]):b=y;var v=m.display||m.symbol||m.field;!b||r[v]&&void 0!==m.symbol||(n.push({member:b,display:v,panel:d,yAxis:p}),r[v]=1)}}}}if(this.showStudies){var _=t.layout.studies;for(var S in _){var w=t.panels[_[S].panel],x=w.yAxis;for(var k in _[S].outputMap)k&&!r[k]&&(n.push({member:k,display:k,panel:w,yAxis:x}),r[k]=1);var O=\"\".concat(S,\"_hist\");if(!r[O]){n.push({member:O,display:O,panel:w,yAxis:x});var C=\"\".concat(S,\"_hist1\"),E=\"\".concat(S,\"_hist2\");n.push({member:C,display:C,panel:w,yAxis:x}),n.push({member:E,display:E,panel:w,yAxis:x}),r[O]=1}}}for(var T=[],P=0,D=n;P<D.length;P++){var j=D[P],A=j.member,N=j.display,I=j.panel,M=j.yAxis,z=this.decimalPlaces;M&&(I!==I.chart.panel?M.decimalPlaces||0===M.decimalPlaces?z=M.decimalPlaces:(M.maxDecimalPlaces||0===M.maxDecimalPlaces)&&(z=M.maxDecimalPlaces):(z=Math.max(M.printDecimalPlaces,I.chart.decimalPlaces),(M.maxDecimalPlaces||0===M.maxDecimalPlaces)&&(z=Math.min(z,M.maxDecimalPlaces))));var L=null,R=CIQ.existsInObjectChain(e,A);R?L=R.obj[R.member]:\"Change\"===A&&(L=e.Close-e.iqPrevClose);var H=N.replace(/^(Result )(.*)/,\"$2\");if((L||0===L)&&(\"DT\"===A||\"object\"!==ne(L)||L.Close||0===L.Close)){var q=\"\";if((L.Close||0===L.Close)&&(L=L.Close),L.constructor===Number)q=M?M.originalPriceFormatter&&M.originalPriceFormatter.func?M.originalPriceFormatter.func(t,I,L,z):M.priceFormatter&&M.priceFormatter!==CIQ.Comparison.priceFormat?M.priceFormatter(t,I,L,z):t.formatYAxisPrice(L,I,z,M):L.toFixed(z);else if(L.constructor===Date){var B=t.controls.floatDate;if(\"DT\"===A&&B&&B.innerHTML){if(t.chart.xAxis.noDraw)continue;q=B.innerHTML}else q=CIQ.yyyymmdd(L),CIQ.ChartEngine.isDailyInterval(t.layout.interval)||(q+=\" \".concat(L.toTimeString().substr(0,8)))}else q=L;T.push({name:H.toUpperCase(),value:q})}}return T}},{key:\"updateTooltipPosition\",value:function(e){var t=e.top,r=e.left,n=e.rows,i=this.stx.container.querySelector(\".cq-crosshair\");i.style.transform=\"translate(\".concat(r,\"px, \").concat(t,\"px)\");var a=r<=315?\"arrow-left\":\"arrow-right\";(a!==this.prev_arrow&&(i.classList.remove(this.prev_arrow),i.classList.add(a),this.prev_arrow=a),null!==n)&&(i.querySelector(\".cq-crosshair-content\").innerHTML=n.map(function(e){return'\\n                <div class=\"row\">\\n                    <span>'.concat(\"DT\"!==e.name?e.name:e.value,\"</span>\\n                    <span>\").concat(\"DT\"!==e.name?e.value:\"\",\"</span>\\n                </div>\\n            \")}).join(\"\"))}},{key:\"activeSymbol\",get:function(){return this.mainStore.chart.currentActiveSymbol}},{key:\"decimalPlaces\",get:function(){return this.activeSymbol.decimal_places}},{key:\"showOhl\",get:function(){return\"second\"!==this.stx.layout.timeUnit}},{key:\"context\",get:function(){return this.mainStore.chart.context}},{key:\"stx\",get:function(){return this.context.stx}},{key:\"isChartReady\",get:function(){return this.mainStore.state.isChartReady}}])&&ie(t.prototype,r),n&&ie(t,n),e}()).prototype,\"activeSymbol\",[O.computed],Object.getOwnPropertyDescriptor(X.prototype,\"activeSymbol\"),X.prototype),ae(X.prototype,\"decimalPlaces\",[O.computed],Object.getOwnPropertyDescriptor(X.prototype,\"decimalPlaces\"),X.prototype),Z=ae(X.prototype,\"state\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),ae(X.prototype,\"toggleState\",[Y],Object.getOwnPropertyDescriptor(X.prototype,\"toggleState\"),X.prototype),X),de=r(8),pe=r(9),fe=r(3);function me(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ge(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,(\"value\"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var be,ye,ve,_e,Se=(oe=O.action.bound,se=O.action.bound,ce=O.action.bound,ge((le=function(){function e(t){var r,n,i,a,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),r=this,n=\"isLoadingPNG\",a=this,(i=ue)&&Object.defineProperty(r,n,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0}),this.onContextReady=function(){o.screenshotArea=o.context.topNode.querySelector(\".ciq-chart\")},this.mainStore=t,this.menu=new de.a(t,{route:\"download\"}),Object(O.when)(function(){return o.context},this.onContextReady),this.ShareMenu=this.menu.connect(pe.a)}var t,n,i;return t=e,(n=[{key:\"createNewTab\",value:function(){return navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)?window.open():null}},{key:\"downloadPNG\",value:function(){var e=this;this.isLoadingPNG=!0;var t=this.createNewTab();r.e(4).then(r.t.bind(null,251,7)).then(function(r){CIQ.appendClassName(e.screenshotArea,\"ciq-screenshot\"),r.default(e.screenshotArea).then(function(r){return e._onCanvasReady(r,t)})}),Object(fe.d)(fe.b.ChartControl,fe.a.Download,\"Download PNG\")}},{key:\"_onCanvasReady\",value:function(e,t){var r=e.toDataURL(\"image/png\");Object(ee.g)(\"\".concat((new Date).toUTCString(),\".png\"),r,\"image/png;\",t),this.isLoadingPNG=!1,CIQ.unappendClassName(this.screenshotArea,\"ciq-screenshot\")}},{key:\"downloadCSV\",value:function(){var e=this,t=\"tick\"===this.timeUnit,r=[\"Date,Time,\".concat(t?this.marketDisplayName:\"Open,High,Low,Close\")],n=this.stx.masterData.length;(n<=100?this.stx.masterData:this.stx.masterData.slice(n-100,n)).forEach(function(n){var i=n.DT,a=n.Open,o=n.High,s=n.Low,c=n.Close,l=i.getFullYear(),u=i.getMonth()+1,h=i.getDate(),d=i.getHours(),p=i.getMinutes(),f=i.getSeconds(),m=f>9?\":\".concat(f):\":0\".concat(f),g=\"\".concat(l,\"-\").concat(u>9?u:\"0\".concat(u),\"-\").concat(h>9?h:\"0\".concat(h)),b=\"\".concat(d>9?d:\"0\".concat(d),\":\").concat(p>9?p:\"0\".concat(p)).concat(t?m:\"\");t&&c&&r.push(\"\".concat(g,\",\").concat(b,\",\").concat(c)),!t&&a&&o&&s&&c&&r.push([g,b,a.toFixed(e.decimalPlaces),o.toFixed(e.decimalPlaces),s.toFixed(e.decimalPlaces),c.toFixed(e.decimalPlaces)].join(\",\"))}),Object(ee.g)(\"\".concat(this.marketDisplayName,\" (\").concat(this.timeperiodDisplay,\").csv\"),r.join(\"\\n\"),\"text/csv;charset=utf-8;\",this.createNewTab()),Object(fe.d)(fe.b.ChartControl,fe.a.Download,\"Download CSV\")}},{key:\"context\",get:function(){return this.mainStore.chart.context}},{key:\"stx\",get:function(){return this.context.stx}},{key:\"timeUnit\",get:function(){return this.mainStore.timeperiod.timeUnit}},{key:\"timeperiodDisplay\",get:function(){return this.mainStore.timeperiod.display}},{key:\"marketDisplayName\",get:function(){return this.mainStore.chart.currentActiveSymbol.market_display_name}},{key:\"decimalPlaces\",get:function(){return this.mainStore.chart.currentActiveSymbol.decimal_places}}])&&me(t.prototype,n),i&&me(t,i),e}()).prototype,\"timeUnit\",[O.computed],Object.getOwnPropertyDescriptor(le.prototype,\"timeUnit\"),le.prototype),ge(le.prototype,\"timeperiodDisplay\",[O.computed],Object.getOwnPropertyDescriptor(le.prototype,\"timeperiodDisplay\"),le.prototype),ge(le.prototype,\"marketDisplayName\",[O.computed],Object.getOwnPropertyDescriptor(le.prototype,\"marketDisplayName\"),le.prototype),ge(le.prototype,\"decimalPlaces\",[O.computed],Object.getOwnPropertyDescriptor(le.prototype,\"decimalPlaces\"),le.prototype),ue=ge(le.prototype,\"isLoadingPNG\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ge(le.prototype,\"downloadPNG\",[oe],Object.getOwnPropertyDescriptor(le.prototype,\"downloadPNG\"),le.prototype),ge(le.prototype,\"_onCanvasReady\",[se],Object.getOwnPropertyDescriptor(le.prototype,\"_onCanvasReady\"),le.prototype),ge(le.prototype,\"downloadCSV\",[ce],Object.getOwnPropertyDescriptor(le.prototype,\"downloadCSV\"),le.prototype),le),we=r(174),xe=r(175),ke=r(46);function Oe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ce(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,(\"value\"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Ee,Te,Pe,De,je,Ae=(be=O.action.bound,ye=O.action.bound,_e=Ce((ve=function(){function e(t){var r,n,i,a,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),r=this,n=\"stx\",a=this,(i=_e)&&Object.defineProperty(r,n,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0}),this.onContextReady=function(){o.stx=o.mainStore.chart.context.stx},this.mainStore=t,Object(O.when)(function(){return o.mainStore.chart.context},this.onContextReady)}var t,r,n;return t=e,(r=[{key:\"zoomIn\",value:function(){Object(fe.d)(fe.b.ChartControl,fe.a.ChartSize,\"zoom In\"),this.stx&&(this.stx.chart.lockScroll=!1,this.stx.chart.lockAutoScroll=!1,this.stx.zoomIn())}},{key:\"zoomOut\",value:function(){Object(fe.d)(fe.b.ChartControl,fe.a.ChartSize,\"zoom Out\"),this.stx&&(this.stx.chart.lockScroll=!1,this.stx.chart.lockAutoScroll=!1,this.stx.zoomOut())}}])&&Oe(t.prototype,r),n&&Oe(t,n),e}()).prototype,\"stx\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ce(ve.prototype,\"zoomIn\",[be],Object.getOwnPropertyDescriptor(ve.prototype,\"zoomIn\"),ve.prototype),Ce(ve.prototype,\"zoomOut\",[ye],Object.getOwnPropertyDescriptor(ve.prototype,\"zoomOut\"),ve.prototype),ve);function Ne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ie(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,(\"value\"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Me=[],ze=(Ee=O.action.bound,Te=O.action.bound,Pe=O.action.bound,De=O.action.bound,Ie((je=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.mainStore=t}var t,r,n;return t=e,(r=[{key:\"handleRouting\",value:function(){var e=this;window.addEventListener(\"hashchange\",function(){\"\"===window.history.state.urlPath.replace(\"#\",\"\")&&e.closeAll()},!1)}},{key:\"updateRoute\",value:function(e,t){var r=this.mainStore.chart.enableRouting;r&&t&&e?(window.history.replaceState({urlPath:\"#\"},\"\",\"#\"),window.history.pushState({urlPath:\"#\".concat(e)},\"\",\"#\".concat(e))):r&&!t&&e&&window.history.replaceState({urlPath:\"#\"},\"\",\"#\")}},{key:\"registerDialog\",value:function(e){Me.push(e)}},{key:\"closeAll\",value:function(){Me.forEach(function(e){return e.setOpen(!1)})}}])&&Ne(t.prototype,r),n&&Ne(t,n),e}()).prototype,\"handleRouting\",[Ee],Object.getOwnPropertyDescriptor(je.prototype,\"handleRouting\"),je.prototype),Ie(je.prototype,\"updateRoute\",[Te],Object.getOwnPropertyDescriptor(je.prototype,\"updateRoute\"),je.prototype),Ie(je.prototype,\"registerDialog\",[Pe],Object.getOwnPropertyDescriptor(je.prototype,\"registerDialog\"),je.prototype),Ie(je.prototype,\"closeAll\",[De],Object.getOwnPropertyDescriptor(je.prototype,\"closeAll\"),je.prototype),je);function Le(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Re,He,qe,Be,Fe,Ve,Ue,We,Qe,Ge,Ke,Ye=navigator.userAgent.search(\"Firefox\")>0,Xe=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.onContextReady=function(){r.mainStore.state.isAnimationEnabled&&r.stx.append(\"draw\",r.drawSpot),Object(ee.n)(r.stx)},this.drawSpot=function(){if(!r.state.endEpoch){var e=r.stx,t=e.chart,n=t.dataSet.length;if(n){var i=t.dataSet[n-1],a=t.dataSet[n-2];if(i&&a&&i.Close&&a.Close){var o=e.pixelFromTick(n-1,t),s=i.chartJustAdvanced?o-e.pixelFromTick(n-2,t):0,c=e.pixelFromPrice(i.Close,t.panel),l=Math.min(i.tickAnimationProgress||0,1);if(l&&(o-=(1-l)*s),!(o<0||o>t.yAxis.left||c<t.yAxis.top||c>t.yAxis.bottom)){var u=Ye?0:l,h=e.chart.context;if(h.save(),u){h.shadowBlur=35*u+4|0;var d=255*Math.sqrt(1-u);d=(d|=0).toString(16),h.shadowColor=te.red+d}h.fillStyle=te.red;for(var p=0;p<(u?3:1);++p)h.beginPath(),h.arc(o-1,c,4,0,2*Math.PI),h.fill();h.restore()}}}}},this.mainStore=t,Object(O.when)(function(){return r.context},this.onContextReady)}var t,r,n;return t=e,(r=[{key:\"context\",get:function(){return this.mainStore.chart.context}},{key:\"stx\",get:function(){return this.context.stx}},{key:\"state\",get:function(){return this.mainStore.state}}])&&Le(t.prototype,r),n&&Le(t,n),e}();function Ze(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Je(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $e(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,(\"value\"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var et,tt,rt,nt,it,at,ot,st,ct,lt,ut,ht,dt,pt,ft,mt,gt,bt,yt,vt,_t,St,wt,xt,kt,Ot,Ct,Et,Tt,Pt,Dt,jt,At=(Re=O.action.bound,He=O.action.bound,qe=O.action.bound,Fe=$e((Be=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),Ze(this,\"isDrawing\",Fe,this),Ze(this,\"top\",Ve,this),Ze(this,\"left\",Ue,this),Ze(this,\"display\",We,this),this.onContextReady=function(){r.stx.append(\"mousemoveinner\",r.onMouseMove),r.stx.container.addEventListener(\"touchend\",r.onTouchEnd)},Ze(this,\"onMouseMove\",Qe,this),Ze(this,\"onTouchEnd\",Ge,this),Ze(this,\"updateDisplay\",Ke,this),this.mainStore=t,Object(O.when)(function(){return r.context},this.onContextReady)}var t,r,n;return t=e,(r=[{key:\"context\",get:function(){return this.mainStore.chart.context}},{key:\"stx\",get:function(){return this.context.stx}}])&&Je(t.prototype,r),n&&Je(t,n),e}()).prototype,\"isDrawing\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ve=$e(Be.prototype,\"top\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ue=$e(Be.prototype,\"left\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),We=$e(Be.prototype,\"display\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qe=$e(Be.prototype,\"onMouseMove\",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,r){e.isDrawing=e.stx.currentVectorParameters.vectorType,e.isDrawing?(e.display=\"block\",e.left=t-e.stx.left,e.top=r-e.stx.top-16):e.display=\"none\"}}}),Ge=$e(Be.prototype,\"onTouchEnd\",[He],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){setTimeout(e.updateDisplay,500)}}}),Ke=$e(Be.prototype,\"updateDisplay\",[qe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.isDrawing=e.stx.currentVectorParameters.vectorType,e.isDrawing||(e.display=\"none\")}}}),Be);function Nt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function It(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mt(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function zt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Lt(e,t,r){return t&&zt(e.prototype,t),r&&zt(e,r),e}function Rt(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,(\"value\"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Ht,qt,Bt,Ft,Vt,Ut,Wt,Qt,Gt,Kt,Yt,Xt,Zt,Jt=(et=O.action.bound,tt=O.action.bound,rt=O.action.bound,nt=O.action.bound,it=O.action.bound,at=O.action.bound,ot=O.action.bound,st=O.action.bound,ct=O.action.bound,ut=Rt((lt=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),Mt(this,\"granularity\",ut,this),Mt(this,\"chartType\",ht,this),Mt(this,\"startEpoch\",dt,this),Mt(this,\"endEpoch\",pt,this),Mt(this,\"symbol\",ft,this),Mt(this,\"isConnectionOpened\",mt,this),Mt(this,\"isChartReady\",gt,this),Mt(this,\"chartStatusListener\",bt,this),Mt(this,\"settings\",yt,this),Mt(this,\"showLastDigitStats\",vt,this),Mt(this,\"scrollToEpoch\",_t,this),Mt(this,\"onExportLayout\",St,this),Mt(this,\"clearChart\",wt,this),Mt(this,\"isChartClosed\",xt,this),Mt(this,\"shouldMinimiseLastDigits\",kt,this),Mt(this,\"isStaticChart\",Ot,this),Mt(this,\"shouldFetchTradingTimes\",Ct,this),Mt(this,\"refreshActiveSymbols\",Et,this),Mt(this,\"hasReachedEndOfData\",Tt,this),Mt(this,\"prevChartType\",Pt,this),Mt(this,\"isChartScrollingToEpoch\",Dt,this),this.chartControlsWidgets=void 0,Mt(this,\"onContextReady\",jt,this),this.scrollChartToLeft=function(e,t){var n=r.scrollToEpoch||e&&Object(ee.l)(e.DT);if(r.stxx.chart.entryTick=null,!r.scrollToEpoch||r.startEpoch||t)if(n&&r.startEpoch||t){r.stxx.chart.lockScroll=!0,r.stxx.chart.entryTick=r.stxx.tickFromDate(Object(ee.k)(r.startEpoch||n));var i=r.stxx.chart.dataSet.length-r.stxx.chart.entryTick;r.endEpoch?(r.stxx.setMaxTicks(i+(Math.floor(i/5)||2)),r.stxx.chart.scroll=i+(Math.floor(i/10)||1)):(r.stxx.setMaxTicks(i+3),r.stxx.chart.scroll=i+1),r.stxx.draw(),r.setIsChartScrollingToEpoch(!1)}else r.stxx.chart.entryTick=null,r.stxx.chart.lockScroll=!1,r.stxx.home(),r.stxx.draw(),r.setIsChartScrollingToEpoch(!1);else{var a=r.stxx.chart.dataSet.find(function(e){return e.DT.valueOf()===CIQ.strToDateTime(Object(ee.k)(n)).valueOf()});r.stxx.chart.entryTick=a?r.stxx.tickFromDate(a.DT):r.stxx.chart.dataSet.length-1;var o=r.stxx.chart.dataSet.length-r.stxx.chart.entryTick+1;r.stxx.animations.liveScroll&&r.stxx.animations.liveScroll.running&&r.stxx.animations.liveScroll.stop(),r.stxx.minimumLeftBars=1,r.stxx.micropixels=0,r.stxx.scrollTo(r.stxx.chart,o,function(){r.stxx.setMaxTicks(5),r.stxx.micropixels=0,r.setIsChartScrollingToEpoch(!1),r.stxx.draw(),r.stxx.chart.lockScroll=!0})}r.mainStore.chart.feed.offMasterDataReinitialize(r.scrollChartToLeft),r.mainStore.chart.feed.offMasterDataUpdate(r.scrollChartToLeft)},this.mainStore=t,this.chartStore=t.chart,Object(O.when)(function(){return r.context},this.onContextReady)}return Lt(e,[{key:\"comparisonStore\",get:function(){return this.mainStore.comparison}},{key:\"stxx\",get:function(){return this.chartStore.stxx}},{key:\"context\",get:function(){return this.chartStore.context}},{key:\"chartTypeStore\",get:function(){return this.mainStore.chartType}},{key:\"timeperiodStore\",get:function(){return this.mainStore.timeperiod}},{key:\"loader\",get:function(){return this.mainStore.loader}}]),Lt(e,[{key:\"updateProps\",value:function(e){var t=e.chartControlsWidgets,r=e.chartStatusListener,n=e.chartType,i=e.clearChart,a=e.endEpoch,o=e.id,s=e.isAnimationEnabled,c=void 0===s||s,l=e.isConnectionOpened,u=e.isStaticChart,h=e.granularity,d=e.margin,p=void 0===d?0:d,f=e.onExportLayout,m=e.refreshActiveSymbols,g=e.removeAllComparisons,b=e.scrollToEpoch,y=e.settings,v=e.shouldFetchTradingTimes,_=void 0===v||v,S=e.showLastDigitStats,w=void 0!==S&&S,x=e.startEpoch,k=e.symbol,O=!1,C=!1;this.chartId=o,this.chartStatusListener=r,this.isAnimationEnabled=c,this.isConnectionOpened=l,this.isStaticChart=u,this.margin=p,this.settings=y,this.shouldFetchTradingTimes=_,this.showLastDigitStats=w,t!==this.chartControlsWidgets&&(this.chartControlsWidgets=t,this.stxx&&this.mainStore.chart.updateHeight()),k!==this.symbol&&(this.symbol=k,O=!0,this.mainStore.chart&&this.mainStore.chart.feed&&b&&this.mainStore.chart.feed.onMasterDataReinitialize(this.scrollChartToLeft)),f!==this.onExportLayout&&(this.onExportLayout=f,this.exportLayout()),n!==this.chartType&&this.context&&(\"table\"===n&&(this.prevChartType=this.chartTypeStore.type.id),this.setChartType(n)),void 0!==h&&h!==this.granularity&&(this.setChartGranularity(h),C=!0,this.mainStore.chart&&this.mainStore.chart.feed&&!O&&b&&this.mainStore.chart.feed.onMasterDataReinitialize(this.scrollChartToLeft)),this.chartStore.activeSymbols&&m!==this.refreshActiveSymbols&&(this.refreshActiveSymbols=m,this.refreshActiveSymbols&&this.chartStore.activeSymbols.retrieveActiveSymbols(this.refreshActiveSymbols)),i!==this.clearChart&&(this.clearChart=i,this.cleanChart()),this.startEpoch===x&&this.endEpoch===a||(this.startEpoch=x,this.endEpoch=a,u&&this.stxx&&this.granularity===this.mainStore.chart.granularity?this.mainStore.chart.newChart():this.mainStore.chart.feed&&(this.scrollToEpoch||O||C||this.mainStore.chart.feed.onRangeChanged(!0))),u||b===this.scrollToEpoch||(this.scrollToEpoch=b,this.mainStore.chart&&this.mainStore.chart.feed&&!O&&!C&&(this.setIsChartScrollingToEpoch(!0),this.scrollChartToLeft())),g&&this.comparisonStore.removeAll(),this.mainStore.chartSetting.setSettings(this.settings),this.stxx&&(this.stxx.chart.panel.yAxis.drawCurrentPriceLabel=!this.endEpoch,this.stxx.preferences.currentPriceLine=!this.endEpoch,this.stxx.isAutoScale=this.settings&&!1!==this.settings.isAutoScale,this.stxx.draw())}},{key:\"setIsChartScrollingToEpoch\",value:function(e){this.isChartScrollingToEpoch=e}},{key:\"hasReachedEndOfData\",value:function(e){this.hasReachedEndOfData=e}},{key:\"setChartClosed\",value:function(e){this.isChartClosed=e}},{key:\"setChartTheme\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.isChartClosed;if(this.stxx.clearStyles(),this.stxx.setStyle(\"stx_grid\",\"color\",re.a[\"\".concat(e,\"_chart_grid\")]),this.stxx.setStyle(\"stx_yaxis\",\"color\",re.a[\"\".concat(e,\"_chart_text\")]),this.stxx.setStyle(\"stx_xaxis\",\"color\",re.a[\"\".concat(e,\"_chart_text\")]),this.stxx.setStyle(\"stx_xaxis_dark\",\"color\",re.a[\"\".concat(e,\"_chart_text\")]),this.rootNode||(this.rootNode=this.mainStore.chart.rootNode),this.rootNode.querySelector(\".chartContainer\").style.backgroundColor=re.a[\"\".concat(e,\"_chart_bg\")],t&&!this.isStaticChart){var r=\"rgba(129, 133, 152, 0.35)\";this.stxx.setStyle(\"stx_mountain_chart\",\"borderTopColor\",r),this.stxx.setStyle(\"stx_mountain_chart\",\"backgroundColor\",re.a[\"\".concat(e,\"_chart_mountain_bg\")]),this.stxx.setStyle(\"stx_mountain_chart\",\"color\",re.a[\"\".concat(e,\"_chart_mountain_bg_shade\")]),this.stxx.setStyle(\"stx_line_chart\",\"color\",r),this.stxx.setStyle(\"stx_line_up\",\"color\",r),this.stxx.setStyle(\"stx_line_down\",\"color\",r),this.stxx.setStyle(\"stx_line_even\",\"color\",r),this.stxx.setStyle(\"stx_bar_up\",\"color\",r),this.stxx.setStyle(\"stx_bar_down\",\"color\",r),this.stxx.setStyle(\"stx_bar_even\",\"color\",r),this.stxx.setStyle(\"stx_candle_up\",\"color\",re.a[\"\".concat(e,\"_chart_closed_candle\")]),this.stxx.setStyle(\"stx_candle_down\",\"color\",re.a[\"\".concat(e,\"_chart_closed_candle\")]),this.stxx.setStyle(\"stx_candle_even\",\"color\",re.a[\"\".concat(e,\"_chart_closed_candle\")]),this.stxx.setStyle(\"stx_candle_shadow_up\",\"color\",r),this.stxx.setStyle(\"stx_candle_shadow_down\",\"color\",r),this.stxx.setStyle(\"stx_candle_shadow_even\",\"color\",r),this.stxx.setStyle(\"stx_hollow_candle_up\",\"color\",re.a[\"\".concat(e,\"_chart_closed_candle\")]),this.stxx.setStyle(\"stx_hollow_candle_down\",\"color\",re.a[\"\".concat(e,\"_chart_closed_candle\")]),this.stxx.setStyle(\"stx_hollow_candle_even\",\"color\",re.a[\"\".concat(e,\"_chart_closed_candle\")]),this.stxx.setStyle(\"stx_baseline_up\",\"color\",r),this.stxx.setStyle(\"stx_baseline_down\",\"color\",r),this.stxx.setStyle(\"stx_baseline_even\",\"color\",r),this.stxx.setStyle(\"stx_kagi_up\",\"color\",r),this.stxx.setStyle(\"stx_kagi_down\",\"color\",r),this.stxx.setStyle(\"stx_pandf_up\",\"color\",r),this.stxx.setStyle(\"stx_pandf_down\",\"color\",r),this.stxx.setStyle(\"stx_current_hr_down\",\"color\",re.a[\"\".concat(e,\"_candle_text_closed\")]),this.stxx.setStyle(\"stx_current_hr_up\",\"color\",re.a[\"\".concat(e,\"_candle_text_closed\")]),this.stxx.setStyle(\"stx_current_hr_down\",\"background-color\",re.a[\"\".concat(e,\"_candle_bg_closed\")]),this.stxx.setStyle(\"stx_current_hr_up\",\"background-color\",re.a[\"\".concat(e,\"_candle_bg_closed\")])}else this.stxx.setStyle(\"stx_mountain_chart\",\"borderTopColor\",re.a[\"\".concat(e,\"_chart_mountain_border\")]),this.stxx.setStyle(\"stx_mountain_chart\",\"backgroundColor\",re.a[\"\".concat(e,\"_chart_mountain_bg\")]),this.stxx.setStyle(\"stx_mountain_chart\",\"color\",re.a[\"\".concat(e,\"_chart_mountain_bg_shade\")]),this.stxx.setStyle(\"stx_line_chart\",\"color\",re.a[\"\".concat(e,\"_chart_mountain_border\")]);this.stxx.draw()}},{key:\"setChartIsReady\",value:function(e){this.isChartReady!==e&&(this.isChartReady=e,this.chartStatusListener&&\"function\"==typeof this.chartStatusListener&&this.chartStatusListener(e))}},{key:\"setChartGranularity\",value:function(e){var t=\"second\"===Object(ee.b)(e).timeUnit,r=this.mainStore.chartType.isCandle||this.chartType&&this.mainStore.chartType.isTypeCandle(this.chartType);this.context&&t&&r&&this.setChartType(\"mountain\"),this.granularity=null===e?void 0:e}},{key:\"setChartType\",value:function(e){this.chartType=e,this.chartTypeStore.onChartTypeChanged&&this.chartTypeStore.onChartTypeChanged(e)}},{key:\"setShouldMinimiseLastDigit\",value:function(e){this.shouldMinimiseLastDigits=e}},{key:\"saveLayout\",value:function(){if(this.chartId){var e=this.stxx.exportLayout(!0),t=JSON.stringify(e);CIQ.localStorageSetItem(\"layout-\".concat(this.chartId),t)}}},{key:\"restoreLayout\",value:function(){var e=this,t=Object(ee.e)(\"layout-\".concat(this.chartId));if(!t||!t.symbols.length)return!1;if(void 0!==this.symbol&&this.symbol!==t.symbols[0].symbol){var r=this.chartStore.activeSymbols.getSymbolObj(this.symbol);t.symbols=[{symbol:this.symbol,symbolObject:r}]}var n=!0,i=!1,a=void 0;try{for(var o,s=t.symbols[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var c=o.value,l=c.symbol,u=this.chartStore.activeSymbols.getSymbolObj(l);c.symbolObject=u,c.parameters&&(c.parameters.display=u.name,c.parameters.fillGaps=!0,c.parameters.gapDisplayStyle=!0)}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}if(void 0!==this.granularity){var h=Object(ee.b)(this.granularity);t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nt(r,!0).forEach(function(t){It(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nt(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},t,{},h)}else{var d=t,p=d.timeUnit,f=d.interval,m=d.periodicity,g=p?f:m;this.chartStore.granularity=Object(ee.a)(g,p||f)}return(this.startEpoch||this.endEpoch)&&(delete t.span,delete t.range),void 0!==this.chartType&&(t.chartType=this.chartType),this.stxx.importLayout(t,{managePeriodicity:!0,cb:function(){t.tension&&(e.stxx.chart.tension=t.tension),e.restoreDrawings(),e.chartStore.loader&&(e.chartStore.loader.hide(),e.setChartIsReady(!0),e.stxx.home()),e.chartStore.setMainSeriesDisplay(e.stxx.chart.symbolObject.name)}}),this.chartStore.updateCurrentActiveSymbol(),!0}},{key:\"saveDrawings\",value:function(){if(this.chartId){var e=this.stxx.exportDrawings(),t=this.stxx.chart.symbol;0===e.length?CIQ.localStorage.removeItem(\"\".concat(t,\"-\").concat(this.chartId)):CIQ.localStorageSetItem(\"\".concat(t,\"-\").concat(this.chartId),JSON.stringify(e))}}},{key:\"restoreDrawings\",value:function(){if(this.stxx&&this.stxx.chart){var e=Object(ee.e)(\"\".concat(this.stxx.chart.symbol,\"-\").concat(this.chartId));e&&(this.stxx.importDrawings(e),this.stxx.draw())}}},{key:\"cleanChart\",value:function(){if(this.clearChart&&this.isChartReady){for(var e in this.stxx.chart.series)this.stxx.removeSeries(e);for(var t in this.stxx.layout.studies){var r=this.stxx.layout.studies[t];CIQ.Studies.removeStudy(this.stxx,r)}this.stxx.clearDrawings(),this.mainStore.crosshair.setCrosshairState(2)}}},{key:\"exportLayout\",value:function(){if(this.onExportLayout&&this.stxx){var e=this.stxx.exportLayout();for(var t in e.drawings=this.stxx.exportDrawings(),e.series=[],this.stxx.chart.series)e.series.push(t);e.previousMaxTicks=this.stxx.chart.maxTicks,this.onExportLayout(e)}}},{key:\"scrollListener\",value:function(e){if(e.grab&&this.stxx.chart.lockScroll&&(this.stxx.chart.lockScroll=!1),this.stxx&&this.stxx.chart&&!this.stxx.chart.lockScroll){var t=this.stxx.chart.dataSegment,r=this.chartStore.isMobile?50:150;if(this.stxx.masterData.length<this.stxx.chart.maxTicks-r)this.stxx.minimumLeftBars=this.stxx.chart.maxTicks-r;else if(t){var n=this.stxx.chart.scroll<=this.stxx.chart.maxTicks-1,i=this.hasReachedEndOfData||this.stxx.masterData.length===this.stxx.maxMasterDataSize,a=this.mainStore.chart.defaultMinimumBars;this.stxx.chart.maxTicks-10>50&&(a=50),this.stxx.minimumLeftBars=i&&!n?this.stxx.chart.maxTicks:Math.min(this.stxx.chart.maxTicks,a)}}}}]),e}()).prototype,\"granularity\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ht=Rt(lt.prototype,\"chartType\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dt=Rt(lt.prototype,\"startEpoch\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pt=Rt(lt.prototype,\"endEpoch\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ft=Rt(lt.prototype,\"symbol\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mt=Rt(lt.prototype,\"isConnectionOpened\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gt=Rt(lt.prototype,\"isChartReady\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bt=Rt(lt.prototype,\"chartStatusListener\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yt=Rt(lt.prototype,\"settings\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vt=Rt(lt.prototype,\"showLastDigitStats\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_t=Rt(lt.prototype,\"scrollToEpoch\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),St=Rt(lt.prototype,\"onExportLayout\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wt=Rt(lt.prototype,\"clearChart\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xt=Rt(lt.prototype,\"isChartClosed\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),kt=Rt(lt.prototype,\"shouldMinimiseLastDigits\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ot=Rt(lt.prototype,\"isStaticChart\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ct=Rt(lt.prototype,\"shouldFetchTradingTimes\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Et=Rt(lt.prototype,\"refreshActiveSymbols\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tt=Rt(lt.prototype,\"hasReachedEndOfData\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pt=Rt(lt.prototype,\"prevChartType\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dt=Rt(lt.prototype,\"isChartScrollingToEpoch\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),jt=Rt(lt.prototype,\"onContextReady\",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.stxx.addEventListener(\"layout\",e.saveLayout.bind(e)),e.stxx.addEventListener(\"symbolChange\",e.saveLayout.bind(e)),e.stxx.addEventListener(\"drawing\",e.saveDrawings.bind(e)),e.stxx.addEventListener(\"move\",e.scrollListener.bind(e)),e.rootNode=e.mainStore.chart.rootNode,e.granularity=e.chartStore.granularity,e.stxx.maxMasterDataSize=e.chartStore.getMaxMasterDataSize(e.granularity)}}}),Rt(lt.prototype,\"updateProps\",[tt],Object.getOwnPropertyDescriptor(lt.prototype,\"updateProps\"),lt.prototype),Rt(lt.prototype,\"setIsChartScrollingToEpoch\",[rt],Object.getOwnPropertyDescriptor(lt.prototype,\"setIsChartScrollingToEpoch\"),lt.prototype),Rt(lt.prototype,\"hasReachedEndOfData\",[nt],Object.getOwnPropertyDescriptor(lt.prototype,\"hasReachedEndOfData\"),lt.prototype),Rt(lt.prototype,\"setChartClosed\",[it],Object.getOwnPropertyDescriptor(lt.prototype,\"setChartClosed\"),lt.prototype),Rt(lt.prototype,\"setChartIsReady\",[at],Object.getOwnPropertyDescriptor(lt.prototype,\"setChartIsReady\"),lt.prototype),Rt(lt.prototype,\"setChartGranularity\",[ot],Object.getOwnPropertyDescriptor(lt.prototype,\"setChartGranularity\"),lt.prototype),Rt(lt.prototype,\"setChartType\",[st],Object.getOwnPropertyDescriptor(lt.prototype,\"setChartType\"),lt.prototype),Rt(lt.prototype,\"setShouldMinimiseLastDigit\",[ct],Object.getOwnPropertyDescriptor(lt.prototype,\"setShouldMinimiseLastDigit\"),lt.prototype),lt),$t=r(176),er=r(50),tr=r.n(er),rr=r(19),nr=r(44);function ir(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function ar(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function or(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,(\"value\"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var sr,cr,lr,ur,hr,dr,pr=(Ht=O.action.bound,qt=O.action.bound,Bt=O.action.bound,Ft=O.action.bound,Vt=O.action.bound,Ut=O.action.bound,or((Wt=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),ir(this,\"scrollPanel\",Qt,this),ir(this,\"scrollTop\",Gt,this),ir(this,\"tableData\",Kt,this),ir(this,\"isTick\",Yt,this),ir(this,\"lastTick\",Xt,this),ir(this,\"scrollPanelTop\",Zt,this),this.mainStore=t,this.dialog=new nr.a(t),this.Dialog=this.dialog.connect(rr.a),this.dateElements={},Object(O.reaction)(function(){return r.dialog.open},this.loadTableData)}var t,r,n;return t=e,(r=[{key:\"setOpen\",value:function(e){return this.dialog.setOpen(e)}},{key:\"loadTableData\",value:function(){var e=this;if(this.open){var t=this.stx.masterData.length;(t<=100?this.stx.masterData:this.stx.masterData.slice(t-100,t)).forEach(function(t){return e.updateTableData(t)}),this.mainStore.chart.feed.onMasterDataUpdate(this.updateTableData)}else this.mainStore.chart.feed&&this.mainStore.chart.feed.offMasterDataUpdate(this.updateTableData),this.tableData=[],this.chartTypeStore.onChartTypeChanged&&this.state.prevChartType&&this.chartTypeStore.onChartTypeChanged(this.state.prevChartType)}},{key:\"updateTableData\",value:function(e){var t=e.DT,r=e.Open,n=e.High,i=e.Low,a=e.Close;this.isTick=\"tick\"===this.mainStore.timeperiod.timeUnit;var o=a-(this.lastTick||{}).Close||0,s=\"\";0!==Math.sign(o)&&(s=1===Math.sign(o)?\"up\":\"down\");var c=tr()(t.getTime()).format(\"HH:mm\".concat(this.isTick?\":ss\":\"\")),l=tr()(t.getTime()).format(\"YYYYMMDD\"),u=this.tableData.find(function(e){return e.key===l}),h=this.isTick?{Date:c,Close:\"\".concat(a.toFixed(this.decimalPlaces)),Change:\"\".concat(Math.abs(o).toFixed(this.decimalPlaces)),Status:s}:{Date:c,Open:\"\".concat(r.toFixed(this.decimalPlaces)),High:\"\".concat(n.toFixed(this.decimalPlaces)),Low:\"\".concat(i.toFixed(this.decimalPlaces)),Close:\"\".concat(a.toFixed(this.decimalPlaces)),Change:\"\".concat(Math.abs(o).toFixed(this.decimalPlaces)),Status:s};if(u){var d=u.datas.find(function(e){return e.Date===c});if(d){var p=0;this.tableData.length&&this.tableData[0].datas.length>1?p=this.tableData[0].datas[1].Close:this.tableData.length&&this.tableData.length>1&&1===this.tableData[0].datas.length&&(p=this.tableData[1].datas[0].Close);var f=a-p,m=\"\";0!==Math.sign(f)&&(m=1===Math.sign(f)?\"up\":\"down\"),d.High=\"\".concat(n.toFixed(this.decimalPlaces)),d.Low=\"\".concat(i.toFixed(this.decimalPlaces)),d.Close=\"\".concat(a.toFixed(this.decimalPlaces)),d.Change=\"\".concat(Math.abs(f).toFixed(this.decimalPlaces)),d.Status=m}else u.datas.unshift(h)}else u={key:l,date:tr()(t.getTime()).format(\"DD MMM YYYY\"),datas:[h]},this.tableData.unshift(u);this.tableData=this.tableData.slice(0),this.lastTick=h}},{key:\"updateScrollSpy\",value:function(){var e=this.scrollPanel.getValues().top;this.scrollTop=e}},{key:\"setDateElement\",value:function(e,t){this.dateElements[e]=t}},{key:\"setScrollPanel\",value:function(e){this.scrollPanel=e}},{key:\"context\",get:function(){return this.mainStore.chart.context}},{key:\"stx\",get:function(){return this.context.stx}},{key:\"state\",get:function(){return this.mainStore.state}},{key:\"chartTypeStore\",get:function(){return this.mainStore.chartType}},{key:\"open\",get:function(){return this.dialog.open}},{key:\"symbol\",get:function(){return this.mainStore.chart.currentActiveSymbol?this.mainStore.chart.currentActiveSymbol:{}}},{key:\"decimalPlaces\",get:function(){return this.mainStore.chart.currentActiveSymbol.decimal_places}}])&&ar(t.prototype,r),n&&ar(t,n),e}()).prototype,\"open\",[O.computed],Object.getOwnPropertyDescriptor(Wt.prototype,\"open\"),Wt.prototype),or(Wt.prototype,\"setOpen\",[Ht],Object.getOwnPropertyDescriptor(Wt.prototype,\"setOpen\"),Wt.prototype),Qt=or(Wt.prototype,\"scrollPanel\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gt=or(Wt.prototype,\"scrollTop\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kt=or(Wt.prototype,\"tableData\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Yt=or(Wt.prototype,\"isTick\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xt=or(Wt.prototype,\"lastTick\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zt=or(Wt.prototype,\"scrollPanelTop\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),or(Wt.prototype,\"symbol\",[O.computed],Object.getOwnPropertyDescriptor(Wt.prototype,\"symbol\"),Wt.prototype),or(Wt.prototype,\"decimalPlaces\",[O.computed],Object.getOwnPropertyDescriptor(Wt.prototype,\"decimalPlaces\"),Wt.prototype),or(Wt.prototype,\"loadTableData\",[qt],Object.getOwnPropertyDescriptor(Wt.prototype,\"loadTableData\"),Wt.prototype),or(Wt.prototype,\"updateTableData\",[Bt],Object.getOwnPropertyDescriptor(Wt.prototype,\"updateTableData\"),Wt.prototype),or(Wt.prototype,\"updateScrollSpy\",[Ft],Object.getOwnPropertyDescriptor(Wt.prototype,\"updateScrollSpy\"),Wt.prototype),or(Wt.prototype,\"setDateElement\",[Vt],Object.getOwnPropertyDescriptor(Wt.prototype,\"setDateElement\"),Wt.prototype),or(Wt.prototype,\"setScrollPanel\",[Ut],Object.getOwnPropertyDescriptor(Wt.prototype,\"setScrollPanel\"),Wt.prototype),Wt);function fr(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}function mr(e,t,r,n,i,a,o){try{var s=e[a](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function gr(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function br(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function yr(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,(\"value\"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var vr,_r,Sr,wr,xr,kr,Or,Cr,Er=(sr=O.action.bound,cr=O.action.bound,lr=O.action.bound,hr=yr((ur=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.count=1e3,this.digits=[],this.latestData=[],this.lastSymbol=null,gr(this,\"bars\",hr,this),gr(this,\"lastTick\",dr,this),this.mainStore=t,Object(O.when)(function(){return r.context},function(){r.lastSymbol=r.marketDisplayName,r.updateLastDigitStats(),r.mainStore.chart.feed.onMasterDataUpdate(r.onMasterDataUpdate),r.mainStore.chart.feed.onMasterDataReinitialize(function(){r.mainStore.chart.feed.onMasterDataUpdate(r.onMasterDataUpdate)})})}var t,r,n,i,a;return t=e,(r=[{key:\"updateLastDigitStats\",value:(i=regeneratorRuntime.mark(function e(){var t,r,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(this.digits=[],this.bars=[],this.latestData=[],t=0;t<10;t++)this.digits.push(0),this.bars.push({height:0,cName:\"\"});if(!(this.stx.masterData&&this.stx.masterData.length>=this.count)){e.next=8;break}this.latestData=this.stx.masterData.slice(-this.count).map(function(e){return e.Close.toFixed(n.decimalPlaces)}),e.next=12;break;case 8:return e.next=10,this.api.getTickHistory({symbol:this.mainStore.chart.currentActiveSymbol.symbol,count:this.count});case 10:r=e.sent,this.latestData=r&&r.history?r.history.prices:[];case 12:this.latestData.forEach(function(e){var t=(+e).toFixed(n.decimalPlaces).slice(-1);n.digits[t]++}),this.updateBars();case 14:case\"end\":return e.stop()}},e,this)}),a=function(){var e=this,t=arguments;return new Promise(function(r,n){var a=i.apply(e,t);function o(e){mr(a,r,n,o,s,\"next\",e)}function s(e){mr(a,r,n,o,s,\"throw\",e)}o(void 0)})},function(){return a.apply(this,arguments)})},{key:\"onMasterDataUpdate\",value:function(e){var t=e.Close,r=e.tick;if(this.lastTick=r,this.marketDisplayName!==this.lastSymbol)this.lastSymbol=this.marketDisplayName,this.updateLastDigitStats();else if(this.latestData.length){var n=(+this.latestData.shift()).toFixed(this.decimalPlaces).slice(-1),i=(+t).toFixed(this.decimalPlaces),a=i.slice(-1);this.latestData.push(+i),this.digits[a]++,this.digits[n]--,this.updateBars()}}},{key:\"updateBars\",value:function(){var e=this,t=Math.min.apply(Math,fr(this.digits)),r=Math.max.apply(Math,fr(this.digits));this.digits.forEach(function(n,i){e.bars[i].height=100*n/e.count,e.bars[i].cName=n===t?\"min\":n===r?\"max\":\"\"}),this.bars=this.bars.slice(0)}},{key:\"context\",get:function(){return this.mainStore.chart.context}},{key:\"stx\",get:function(){return this.context.stx}},{key:\"api\",get:function(){return this.mainStore.chart.api}},{key:\"decimalPlaces\",get:function(){return this.mainStore.chart.currentActiveSymbol.decimal_places}},{key:\"isVisible\",get:function(){return this.mainStore.state.showLastDigitStats}},{key:\"marketDisplayName\",get:function(){return this.mainStore.chart.currentActiveSymbol?this.mainStore.chart.currentActiveSymbol.name:\"\"}},{key:\"shouldMinimiseLastDigits\",get:function(){return this.mainStore.state.shouldMinimiseLastDigits}}])&&br(t.prototype,r),n&&br(t,n),e}()).prototype,\"bars\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),dr=yr(ur.prototype,\"lastTick\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yr(ur.prototype,\"decimalPlaces\",[O.computed],Object.getOwnPropertyDescriptor(ur.prototype,\"decimalPlaces\"),ur.prototype),yr(ur.prototype,\"isVisible\",[O.computed],Object.getOwnPropertyDescriptor(ur.prototype,\"isVisible\"),ur.prototype),yr(ur.prototype,\"marketDisplayName\",[O.computed],Object.getOwnPropertyDescriptor(ur.prototype,\"marketDisplayName\"),ur.prototype),yr(ur.prototype,\"shouldMinimiseLastDigits\",[O.computed],Object.getOwnPropertyDescriptor(ur.prototype,\"shouldMinimiseLastDigits\"),ur.prototype),yr(ur.prototype,\"updateLastDigitStats\",[sr],Object.getOwnPropertyDescriptor(ur.prototype,\"updateLastDigitStats\"),ur.prototype),yr(ur.prototype,\"onMasterDataUpdate\",[cr],Object.getOwnPropertyDescriptor(ur.prototype,\"onMasterDataUpdate\"),ur.prototype),yr(ur.prototype,\"updateBars\",[lr],Object.getOwnPropertyDescriptor(ur.prototype,\"updateBars\"),ur.prototype),ur);function Tr(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Pr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Dr(e,t,r){return t&&Pr(e.prototype,t),r&&Pr(e,r),e}function jr(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,(\"value\"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Ar=(vr=O.action.bound,_r=O.action.bound,Sr=O.action.bound,wr=O.action.bound,xr=O.action.bound,Or=jr((kr=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),Tr(this,\"isHomeEnabled\",Or,this),this.moveTimer=void 0,this.onContextReady=function(){r.stxx.addEventListener(\"move\",function(){clearTimeout(r.moveTimer),r.moveTimer=setTimeout(r.updateHomeButton,50)}),r.stxx.prepend(\"mouseWheel\",function(){r.stxx.chart.lockScroll=!1})},Tr(this,\"updateHomeButton\",Cr,this),this.mainStore=t,Object(O.when)(function(){return r.mainStore.chart.context},this.onContextReady)}return Dr(e,[{key:\"chart\",get:function(){return this.mainStore.chart}},{key:\"stateStore\",get:function(){return this.mainStore.state}},{key:\"crosshairStore\",get:function(){return this.mainStore.crosshair}},{key:\"stxx\",get:function(){return this.chart.stxx}}]),Dr(e,[{key:\"onMouseEnter\",value:function(){this.crosshairStore.updateVisibility(!1)}},{key:\"onMouseLeave\",value:function(){this.crosshairStore.updateVisibility(!0)}},{key:\"onHome\",value:function(){this.isHomeEnabled=!1,this.stxx.chart.lockAutoScroll=!1,this.stxx.chart.isScrollLocationChanged=!1,this.stxx.home(),this.stxx.draw()}},{key:\"onScale\",value:function(){var e=null;this.isHomeEnabled=!1;var t=this.stxx.chart.dataSet;t&&t.length&&(e=t[0]),this.stateStore.scrollChartToLeft(e,!0)}}]),e}()).prototype,\"isHomeEnabled\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Cr=jr(kr.prototype,\"updateHomeButton\",[vr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.isHomeEnabled=!e.stxx.isHome()}}}),jr(kr.prototype,\"onMouseEnter\",[_r],Object.getOwnPropertyDescriptor(kr.prototype,\"onMouseEnter\"),kr.prototype),jr(kr.prototype,\"onMouseLeave\",[Sr],Object.getOwnPropertyDescriptor(kr.prototype,\"onMouseLeave\"),kr.prototype),jr(kr.prototype,\"onHome\",[wr],Object.getOwnPropertyDescriptor(kr.prototype,\"onHome\"),kr.prototype),jr(kr.prototype,\"onScale\",[xr],Object.getOwnPropertyDescriptor(kr.prototype,\"onScale\"),kr.prototype),kr);function Nr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ir,Mr,zr,Lr,Rr=function(){var e,t,r;function n(e){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,n),this.highest=null,this.lowest=null,this.injectionId=null,this.clearInjection=function(){t.injectionId&&(t.highestRef=null,t.lowestRef=null,t.stx.removeInjection(t.injectionId),t.injectionId=null)},this.enableMarker=function(){t.isHighestLowestMarkerEnabled?t.injectionId=t.stx.append(\"createDataSegment\",t.calculateHighestLowestByNewData):t.clearInjection()},this.setHighestRef=function(e){t.highestRef=e,null!==e&&(t.highestRef.value=e.div.querySelector(\".spot__value\"))},this.setLowestRef=function(e){t.lowestRef=e,null!==e&&(t.lowestRef.value=e.div.querySelector(\".spot__value\"))},this.onContextReady=this.enableMarker,this.calculateHighestLowestByNewData=function(){if(t.highestRef&&t.lowestRef){if(t.stx.chart&&t.stx.chart.dataSegment.length&&(t.highest=null,t.lowest=null,t.stx.chart.dataSegment.forEach(function(e){e&&((!t.highest||t.highest.Close<=e.Close)&&(t.highest=e),(!t.lowest||t.lowest.Close>=e.Close)&&(t.lowest=e))})),!t.highest||!t.lowest||t.highest.Close===t.lowest.Close)return t.highestRef.setPosition({epoch:null,price:null}),void t.lowestRef.setPosition({epoch:null,price:null});if(t.highest){var e=t.highest.Close.toFixed(t.decimalPlaces);t.highestRef.setPosition({epoch:Object(ee.l)(CIQ.strToDateTime(t.highest.Date)),price:e}),t.highestRef.value.textContent=e}if(t.lowest){var r=t.lowest.Close.toFixed(t.decimalPlaces);t.lowestRef.setPosition({epoch:Object(ee.l)(CIQ.strToDateTime(t.lowest.Date)),price:r}),t.lowestRef.value.textContent=r}}},this.mainStore=e,Object(O.when)(function(){return t.context},this.onContextReady),Object(O.reaction)(function(){return t.isHighestLowestMarkerEnabled},this.enableMarker)}return e=n,(t=[{key:\"feed\",get:function(){return this.mainStore.chart.feed}},{key:\"context\",get:function(){return this.mainStore.chart.context}},{key:\"stx\",get:function(){return this.mainStore.chart.stxx}},{key:\"isHighestLowestMarkerEnabled\",get:function(){return this.mainStore.chartSetting.isHighestLowestMarkerEnabled}},{key:\"decimalPlaces\",get:function(){return this.mainStore.chart.currentActiveSymbol.decimal_places||0}}])&&Nr(e.prototype,t),r&&Nr(e,r),n}();function Hr(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function qr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Br(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,(\"value\"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Fr=(Ir=O.action.bound,zr=Br((Mr=function(){var e,t,r;function n(e){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,n),Hr(this,\"isOnPagination\",zr,this),this.paginationEndEpoch=null,this.onContextReady=function(){t.feed.onStartPagination(t.setOnPagination),t.feed.onPagination(t.setOnPagination),t.stx.prepend(\"mouseWheel\",t.onMouseWheel)},this.onMouseWheel=function(e){e.preventDefault();var r=null;return t.stx.lastMouseWheelEvent&&(r=Date.now()-t.stx.lastMouseWheelEvent),!!(r&&r<40||t.isOnPagination)},this.setRef=function(e){t.ref=e,null!==t.ref&&t.ref.setPosition({epoch:t.paginationEndEpoch,price:0})},Hr(this,\"setOnPagination\",Lr,this),this.mainStore=e,Object(O.when)(function(){return t.context},this.onContextReady)}return e=n,(t=[{key:\"feed\",get:function(){return this.mainStore.chart.feed}},{key:\"context\",get:function(){return this.mainStore.chart.context}},{key:\"stx\",get:function(){return this.mainStore.chart.stxx}}])&&qr(e.prototype,t),r&&qr(e,r),n}()).prototype,\"isOnPagination\",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Lr=Br(Mr.prototype,\"setOnPagination\",[Ir],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var r=t.end;e.isOnPagination=!e.isOnPagination,e.paginationEndEpoch=e.isOnPagination?r:null,e.ref&&e.ref.setPosition({epoch:e.paginationEndEpoch,price:0})}}}),Mr);var Vr=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.notifier=new $t.a,this.favorites=ke.a.getInstance(),this.chart=new A.a(this),this.state=new Jt(this),this.chartType=new N.a(this),this.studies=new I.a(this),this.comparison=new M.a(this),this.drawTools=new z.a(this),this.chartTitle=new L.a(this),this.timeperiod=new j.a(this),this.assetInformation=new U(this),this.comparisonList=new J(this),this.view=new $.a(this),this.crosshair=new he(this),this.share=new Se(this),this.chartSetting=new we.a(this),this.loader=new xe.a,this.chartSize=new Ae(this),this.routing=new ze(this),this.currentSpot=new Xe(this),this.drawingCursor=new At(this),this.chartTable=new pr(this),this.lastDigitStats=new Er(this),this.bottomWidgetsContainer=new D(this),this.navigationWidget=new Ar(this),this.highestLowest=new Rr(this),this.paginationLoader=new Fr(this)},Ur=r(177);function Wr(e){return(Wr=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function Qr(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Gr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Kr(e,t){return!t||\"object\"!==Wr(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function Yr(e){return(Yr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xr(e,t){return(Xr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Zr=function(e){function t(){var e,r;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(r=Kr(this,(e=Yr(t)).call.apply(e,[this].concat(i)))).mainStore=new Vr,r}var r,n,i;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xr(e,t)}(t,x.a.Component),r=t,(n=[{key:\"render\",value:function(){var e=this.props,t=e.children,r=Qr(e,[\"children\"]);return x.a.createElement(k.Provider,this.mainStore,x.a.createElement(Ur.a,r,t))}},{key:\"chart\",get:function(){return this.mainStore.chart}},{key:\"stx\",get:function(){return this.chart.stxx}}])&&Gr(r.prototype,n),i&&Gr(r,i),t}(),Jr=r(35),$r=r(36),en=r(37),tn=r(16),rn=r(5);function nn(e){return(nn=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function an(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function on(e,t){return!t||\"object\"!==nn(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function sn(e){return(sn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cn(e,t){return(cn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ln=function(e){function t(){var e,r;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(r=on(this,(e=sn(t)).call.apply(e,[this].concat(i)))).price=null,r.date=null,r.elem=null,r.ctx=null,r.stx=null,r.injectionId=null,r.draw=function(){if(r.ctx){var e=r.props,t=e.threshold,n=void 0===t?0:t,i=e.epoch_array,a=e.draw_callback,o=e.price_array,s=void 0===o?[]:o;r.last_epoch_array&&r.last_epoch_array.toString()===i.toString()||(r.date_array=i.map(function(e){return{date:CIQ.strToDateTime(Object(ee.k)(e)),epoch:e}}),r.last_epoch_array=i);var c=r.stx,l=c.chart;if((!n||c.layout.candleWidth>=n)&&l.dataSet&&l.dataSet.length&&c.mainSeriesRenderer){var u=[];r.date_array.forEach(function(e){var t=e.date,r=e.epoch,n=c.tickFromDate(t,l),i=l.dataSet[n],a=l.dataSet[n+1],o=n>0?l.dataSet[n-1]:null,s=c.pixelFromTick(n,l),h=i?i.Close:null;if(i&&i.DT<t)if(a&&a.Close&&a.DT>t){var d=c.pixelFromTick(n+1,l)-s,p=a.Close-h,f=(t-i.DT)/(a.DT-i.DT);h+=f*p,s+=f*d}else if(o&&o.Close){var m=s-c.pixelFromTick(n-1,l),g=h-o.Close,b=(t-i.DT)/(i.DT-o.DT);s+=b*m,h+=b*g}var y=h?c.pixelFromPrice(h,l.panel):0,v=s>=0&&l.yAxis.left>s&&l.yAxis.top<=y&&l.yAxis.bottom>=y,_=l.yAxis,S=Math.min(Math.max(+y,_.top),_.bottom),w=Math.min(Math.max(s,0),_.left),x=c.layout.candleWidth;u.push({epoch:r,visible:v,top:S,left:w,zoom:x,max_left:_.left})});var h=s.map(function(e){return c.pixelFromPrice(1*e,l.panel)});a({ctx:c.chart.context,points:u,prices:h})}}},r}var r,n,i;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cn(e,t)}(t,x.a.Component),r=t,(n=[{key:\"componentDidMount\",value:function(){var e=this;this.props.contextPromise.then(function(t){e.ctx=t,e.stx=e.ctx.stx,e.injectionId=e.stx.append(\"draw\",e.draw),e.draw()})}},{key:\"componentWillUnmount\",value:function(){this.injectionId&&(this.stx.removeInjection(this.injectionId),this.ctx=null,this.stx=null)}},{key:\"render\",value:function(){return null}}])&&an(r.prototype,n),i&&an(r,i),t}(),un=Object(rn.a)(function(e){return{contextPromise:e.chart.contextPromise}})(ln);function hn(e){r.p=e}r.d(t,\"Marker\",function(){return dn}),r.d(t,\"setSmartChartsPublicPath\",function(){return hn}),r.d(t,\"AssetInformation\",function(){return en.a}),r.d(t,\"Barrier\",function(){return u.a}),r.d(t,\"ChartSetting\",function(){return _.a}),r.d(t,\"ChartSize\",function(){return y.a}),r.d(t,\"ChartTitle\",function(){return $r.a}),r.d(t,\"ChartTypes\",function(){return d.a}),r.d(t,\"Comparison\",function(){return f.a}),r.d(t,\"ComparisonList\",function(){return Jr.a}),r.d(t,\"createObjectFromLocalStorage\",function(){return ee.e}),r.d(t,\"CrosshairToggle\",function(){return g.a}),r.d(t,\"DrawTools\",function(){return v.a}),r.d(t,\"PendingPromise\",function(){return h.a}),r.d(t,\"Share\",function(){return S.a}),r.d(t,\"SmartChart\",function(){return Zr}),r.d(t,\"StudyLegend\",function(){return p.a}),r.d(t,\"Timeperiod\",function(){return b.a}),r.d(t,\"Views\",function(){return m.a}),r.d(t,\"logEvent\",function(){return fe.d}),r.d(t,\"LogCategories\",function(){return fe.b}),r.d(t,\"LogActions\",function(){return fe.a});var dn=tn.a;t.default={AssetInformation:en.a,Barrier:u.a,ChartSetting:_.a,ChartSize:y.a,ChartTitle:$r.a,ChartTypes:d.a,Comparison:f.a,ComparisonList:Jr.a,createObjectFromLocalStorage:ee.e,CrosshairToggle:g.a,DrawTools:v.a,FastMarker:tn.a,Marker:tn.a,PendingPromise:h.a,RawMarker:un,setSmartChartsPublicPath:hn,Share:S.a,SmartChart:Zr,StudyLegend:p.a,Timeperiod:b.a,Views:m.a,logEvent:fe.d,LogCategories:fe.b,LogActions:fe.a}}]).default});\n//# sourceMappingURL=smartcharts.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vdHJhZGVyL25vZGVfbW9kdWxlcy9zbWFydGNoYXJ0cy1iZXRhL2Rpc3Qvc21hcnRjaGFydHMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL3NhbXlvbmcvRG9jdW1lbnRzL1NvdXJjZV9jb2RlL2Rlcml2LWFwcC9wYWNrYWdlcy90cmFkZXIvbm9kZV9tb2R1bGVzL3NtYXJ0Y2hhcnRzLWJldGEvZGlzdC9zbWFydGNoYXJ0cy5qcz8yMWQ2Il0sInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbihlLHQpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPXQocmVxdWlyZShcInJlYWN0XCIpLHJlcXVpcmUoXCJtb2J4XCIpLHJlcXVpcmUoXCJtb2J4LXJlYWN0XCIpLHJlcXVpcmUoXCJyZWFjdC10cmFuc2l0aW9uLWdyb3VwXCIpLHJlcXVpcmUoXCJyZWFjdC1kb21cIikscmVxdWlyZShcIm1vbWVudFwiKSk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbLFwibW9ieFwiLCwsLF0sdCk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5zbWFydGNoYXJ0cz10KHJlcXVpcmUoXCJyZWFjdFwiKSxyZXF1aXJlKFwibW9ieFwiKSxyZXF1aXJlKFwibW9ieC1yZWFjdFwiKSxyZXF1aXJlKFwicmVhY3QtdHJhbnNpdGlvbi1ncm91cFwiKSxyZXF1aXJlKFwicmVhY3QtZG9tXCIpLHJlcXVpcmUoXCJtb21lbnRcIikpOmUuc21hcnRjaGFydHM9dChlLlJlYWN0LGUubW9ieCxlLm1vYnhSZWFjdCxlLlJlYWN0VHJhbnNpdGlvbkdyb3VwLGUuUmVhY3RET00sZS5tb21lbnQpfSh3aW5kb3csZnVuY3Rpb24oZSx0LHIsbixpLGEpe3JldHVybiBmdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe2Zvcih2YXIgcixpLGE9dFswXSxvPXRbMV0scz0wLGw9W107czxhLmxlbmd0aDtzKyspaT1hW3NdLE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLGkpJiZuW2ldJiZsLnB1c2gobltpXVswXSksbltpXT0wO2ZvcihyIGluIG8pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG8scikmJihlW3JdPW9bcl0pO2ZvcihjJiZjKHQpO2wubGVuZ3RoOylsLnNoaWZ0KCkoKX12YXIgcj17fSxuPXs3OjB9O2Z1bmN0aW9uIGkodCl7aWYoclt0XSlyZXR1cm4gclt0XS5leHBvcnRzO3ZhciBuPXJbdF09e2k6dCxsOiExLGV4cG9ydHM6e319O3JldHVybiBlW3RdLmNhbGwobi5leHBvcnRzLG4sbi5leHBvcnRzLGkpLG4ubD0hMCxuLmV4cG9ydHN9aS5lPWZ1bmN0aW9uKGUpe3ZhciB0PVtdLHI9bltlXTtpZigwIT09cilpZihyKXQucHVzaChyWzJdKTtlbHNle3ZhciBhPW5ldyBQcm9taXNlKGZ1bmN0aW9uKHQsaSl7cj1uW2VdPVt0LGldfSk7dC5wdXNoKHJbMl09YSk7dmFyIG8scz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO3MuY2hhcnNldD1cInV0Zi04XCIscy50aW1lb3V0PTEyMCxpLm5jJiZzLnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsaS5uYykscy5zcmM9ZnVuY3Rpb24oZSl7cmV0dXJuIGkucCtcIlwiKyh7MDpcImNoYXJ0aXFcIiwxOlwiZGUtcG9cIiwyOlwiZXMtcG9cIiwzOlwiZnItcG9cIiw0OlwiaHRtbDJjYW52YXNcIiw1OlwiaWQtcG9cIiw2OlwiaXQtcG9cIiw4OlwibmwtcG9cIiw5OlwicGwtcG9cIiwxMDpcInB0LXBvXCIsMTE6XCJydS1wb1wiLDEyOlwidGgtcG9cIiwxMzpcInZlbmRvcnN+cmVzaXplLW9ic2VydmVyLXBvbHlmaWxsXCIsMTQ6XCJ2aS1wb1wiLDE1OlwiemhfY24tcG9cIiwxNjpcInpoX3R3LXBvXCJ9W2VdfHxlKStcIi1cIit7MDpcImVlNTYzYlwiLDE6XCI2YmE1MzBcIiwyOlwiNGIxMGZmXCIsMzpcIjk3MWE3NFwiLDQ6XCIxNmQ2ZmFcIiw1OlwiYzc5MTY2XCIsNjpcImVmZDFlY1wiLDg6XCIxNzAyYmFcIiw5OlwiMzQ3OWUxXCIsMTA6XCI3ZDZhZmRcIiwxMTpcIjEyNjBhNFwiLDEyOlwiOGMwNTA2XCIsMTM6XCJmZjdhYjJcIiwxNDpcIjNiOTVkY1wiLDE1OlwiZGQwMTMzXCIsMTY6XCJhOGVjNmRcIn1bZV0rXCIuc21hcnRjaGFydHMuanNcIn0oZSk7dmFyIGM9bmV3IEVycm9yO289ZnVuY3Rpb24odCl7cy5vbmVycm9yPXMub25sb2FkPW51bGwsY2xlYXJUaW1lb3V0KGwpO3ZhciByPW5bZV07aWYoMCE9PXIpe2lmKHIpe3ZhciBpPXQmJihcImxvYWRcIj09PXQudHlwZT9cIm1pc3NpbmdcIjp0LnR5cGUpLGE9dCYmdC50YXJnZXQmJnQudGFyZ2V0LnNyYztjLm1lc3NhZ2U9XCJMb2FkaW5nIGNodW5rIFwiK2UrXCIgZmFpbGVkLlxcbihcIitpK1wiOiBcIithK1wiKVwiLGMubmFtZT1cIkNodW5rTG9hZEVycm9yXCIsYy50eXBlPWksYy5yZXF1ZXN0PWEsclsxXShjKX1uW2VdPXZvaWQgMH19O3ZhciBsPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtvKHt0eXBlOlwidGltZW91dFwiLHRhcmdldDpzfSl9LDEyZTQpO3Mub25lcnJvcj1zLm9ubG9hZD1vLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQocyl9cmV0dXJuIFByb21pc2UuYWxsKHQpfSxpLm09ZSxpLmM9cixpLmQ9ZnVuY3Rpb24oZSx0LHIpe2kubyhlLHQpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpyfSl9LGkucj1mdW5jdGlvbihlKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxpLnQ9ZnVuY3Rpb24oZSx0KXtpZigxJnQmJihlPWkoZSkpLDgmdClyZXR1cm4gZTtpZig0JnQmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHI9T2JqZWN0LmNyZWF0ZShudWxsKTtpZihpLnIociksT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6ZX0pLDImdCYmXCJzdHJpbmdcIiE9dHlwZW9mIGUpZm9yKHZhciBuIGluIGUpaS5kKHIsbixmdW5jdGlvbih0KXtyZXR1cm4gZVt0XX0uYmluZChudWxsLG4pKTtyZXR1cm4gcn0saS5uPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiBpLmQodCxcImFcIix0KSx0fSxpLm89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9LGkucD1cIlwiLGkub2U9ZnVuY3Rpb24oZSl7dGhyb3cgY29uc29sZS5lcnJvcihlKSxlfTt2YXIgYT13aW5kb3cud2VicGFja0pzb25wc21hcnRjaGFydHM9d2luZG93LndlYnBhY2tKc29ucHNtYXJ0Y2hhcnRzfHxbXSxvPWEucHVzaC5iaW5kKGEpO2EucHVzaD10LGE9YS5zbGljZSgpO2Zvcih2YXIgcz0wO3M8YS5sZW5ndGg7cysrKXQoYVtzXSk7dmFyIGM9bztyZXR1cm4gaShpLnM9MjM1KX0oW2Z1bmN0aW9uKHQscil7dC5leHBvcnRzPWV9LGZ1bmN0aW9uKGUscil7ZS5leHBvcnRzPXR9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtyLmQodCxcImVcIixmdW5jdGlvbigpe3JldHVybiBGcn0pLHIuZCh0LFwiZlwiLGZ1bmN0aW9uKCl7cmV0dXJuIFZyfSksci5kKHQsXCJyXCIsZnVuY3Rpb24oKXtyZXR1cm4gVXJ9KSxyLmQodCxcIkRcIixmdW5jdGlvbigpe3JldHVybiBXcn0pLHIuZCh0LFwid1wiLGZ1bmN0aW9uKCl7cmV0dXJuIFFyfSksci5kKHQsXCJ4XCIsZnVuY3Rpb24oKXtyZXR1cm4gR3J9KSxyLmQodCxcIkJcIixmdW5jdGlvbigpe3JldHVybiBLcn0pLHIuZCh0LFwiQ1wiLGZ1bmN0aW9uKCl7cmV0dXJuIFlyfSksci5kKHQsXCJFXCIsZnVuY3Rpb24oKXtyZXR1cm4gWHJ9KSxyLmQodCxcIkdcIixmdW5jdGlvbigpe3JldHVybiBacn0pLHIuZCh0LFwiSVwiLGZ1bmN0aW9uKCl7cmV0dXJuIEpyfSksci5kKHQsXCJMXCIsZnVuY3Rpb24oKXtyZXR1cm4gJHJ9KSxyLmQodCxcIk1cIixmdW5jdGlvbigpe3JldHVybiBlbn0pLHIuZCh0LFwiU1wiLGZ1bmN0aW9uKCl7cmV0dXJuIHRufSksci5kKHQsXCJiXCIsZnVuY3Rpb24oKXtyZXR1cm4gcm59KSxyLmQodCxcIldcIixmdW5jdGlvbigpe3JldHVybiBubn0pLHIuZCh0LFwia1wiLGZ1bmN0aW9uKCl7cmV0dXJuIGFufSksci5kKHQsXCJqXCIsZnVuY3Rpb24oKXtyZXR1cm4gb259KSxyLmQodCxcImlcIixmdW5jdGlvbigpe3JldHVybiBzbn0pLHIuZCh0LFwibFwiLGZ1bmN0aW9uKCl7cmV0dXJuIGNufSksci5kKHQsXCJtXCIsZnVuY3Rpb24oKXtyZXR1cm4gbG59KSxyLmQodCxcIm5cIixmdW5jdGlvbigpe3JldHVybiB1bn0pLHIuZCh0LFwib1wiLGZ1bmN0aW9uKCl7cmV0dXJuIGhufSksci5kKHQsXCJxXCIsZnVuY3Rpb24oKXtyZXR1cm4gZG59KSxyLmQodCxcImhcIixmdW5jdGlvbigpe3JldHVybiBwbn0pLHIuZCh0LFwidFwiLGZ1bmN0aW9uKCl7cmV0dXJuIGZufSksci5kKHQsXCJ6XCIsZnVuY3Rpb24oKXtyZXR1cm4gbW59KSxyLmQodCxcIkZcIixmdW5jdGlvbigpe3JldHVybiBnbn0pLHIuZCh0LFwiWFwiLGZ1bmN0aW9uKCl7cmV0dXJuIGJufSksci5kKHQsXCJRXCIsZnVuY3Rpb24oKXtyZXR1cm4geW59KSxyLmQodCxcIkhcIixmdW5jdGlvbigpe3JldHVybiB2bn0pLHIuZCh0LFwicFwiLGZ1bmN0aW9uKCl7cmV0dXJuIF9ufSksci5kKHQsXCJUXCIsZnVuY3Rpb24oKXtyZXR1cm4gU259KSxyLmQodCxcIlVcIixmdW5jdGlvbigpe3JldHVybiB3bn0pLHIuZCh0LFwiVlwiLGZ1bmN0aW9uKCl7cmV0dXJuIHhufSksci5kKHQsXCJPXCIsZnVuY3Rpb24oKXtyZXR1cm4ga259KSxyLmQodCxcIlBcIixmdW5jdGlvbigpe3JldHVybiBDbn0pLHIuZCh0LFwiY1wiLGZ1bmN0aW9uKCl7cmV0dXJuIEVufSksci5kKHQsXCJ1XCIsZnVuY3Rpb24oKXtyZXR1cm4gVG59KSxyLmQodCxcInNcIixmdW5jdGlvbigpe3JldHVybiBQbn0pLHIuZCh0LFwiS1wiLGZ1bmN0aW9uKCl7cmV0dXJuIERufSksci5kKHQsXCJKXCIsZnVuY3Rpb24oKXtyZXR1cm4gam59KSxyLmQodCxcImRcIixmdW5jdGlvbigpe3JldHVybiBBbn0pLHIuZCh0LFwieVwiLGZ1bmN0aW9uKCl7cmV0dXJuIE5ufSksci5kKHQsXCJOXCIsZnVuY3Rpb24oKXtyZXR1cm4gSW59KSxyLmQodCxcIllcIixmdW5jdGlvbigpe3JldHVybiBNbn0pLHIuZCh0LFwiWlwiLGZ1bmN0aW9uKCl7cmV0dXJuIHpufSksci5kKHQsXCJhYlwiLGZ1bmN0aW9uKCl7cmV0dXJuIFJufSksci5kKHQsXCJSXCIsZnVuY3Rpb24oKXtyZXR1cm4gSG59KSxyLmQodCxcImdcIixmdW5jdGlvbigpe3JldHVybiBxbn0pLHIuZCh0LFwidlwiLGZ1bmN0aW9uKCl7cmV0dXJuIEZufSksci5kKHQsXCJBXCIsZnVuY3Rpb24oKXtyZXR1cm4gVm59KSxyLmQodCxcImFcIixmdW5jdGlvbigpe3JldHVybiBYbn0pO3ZhciBuPXIoMCksaT1yLm4obiksYT0ocigxOTEpLHIoNjgpKSxvPXIubihhKSxzPXIoNjkpLGM9ci5uKHMpLGw9cig3MCksdT1yLm4obCksaD1yKDcxKSxkPXIubihoKSxwPXIoNzIpLGY9ci5uKHApLG09cig3MyksZz1yLm4obSksYj1yKDc0KSx5PXIubihiKSx2PXIoNzUpLF89ci5uKHYpLFM9cig3Niksdz1yLm4oUykseD1yKDc3KSxrPXIubih4KSxPPXIoNzgpLEM9ci5uKE8pLEU9cig3OSksVD1yLm4oRSksUD1yKDgwKSxEPXIubihQKSxqPXIoODEpLEE9ci5uKGopLE49cig4MiksST1yLm4oTiksTT1yKDgzKSx6PXIubihNKSxMPXIoODQpLFI9ci5uKEwpLEg9cig1NCkscT1yLm4oSCksQj1yKDg1KSxGPXIubihCKSxWPXIoODYpLFU9ci5uKFYpLFc9cig4NyksUT1yLm4oVyksRz1yKDg4KSxLPXIubihHKSxZPXIoODkpLFg9ci5uKFkpLFo9cig5MCksSj1yLm4oWiksJD1yKDkxKSxlZT1yLm4oJCksdGU9cigyNCkscmU9ci5uKHRlKSxuZT1yKDkyKSxpZT1yLm4obmUpLGFlPXIoOTMpLG9lPXIubihhZSksc2U9cig1NSksY2U9ci5uKHNlKSxsZT1yKDk0KSx1ZT1yLm4obGUpLGhlPXIoOTUpLGRlPXIubihoZSkscGU9cig0OSksZmU9ci5uKHBlKSxtZT1yKDk2KSxnZT1yLm4obWUpLGJlPXIoOTcpLHllPXIubihiZSksdmU9cig5OCksX2U9ci5uKHZlKSxTZT1yKDk5KSx3ZT1yLm4oU2UpLHhlPXIoMTAwKSxrZT1yLm4oeGUpLE9lPXIoMTAxKSxDZT1yLm4oT2UpLEVlPXIoMTAyKSxUZT1yLm4oRWUpLFBlPXIoMTAzKSxEZT1yLm4oUGUpLGplPXIoMTA0KSxBZT1yLm4oamUpLE5lPXIoMTA1KSxJZT1yLm4oTmUpLE1lPXIoMTA2KSx6ZT1yLm4oTWUpLExlPXIoMTgpLFJlPXIubihMZSksSGU9cigxMDcpLHFlPXIubihIZSksQmU9cigxMDgpLEZlPXIubihCZSksVmU9cigxMDkpLFVlPXIubihWZSksV2U9cigxMTApLFFlPXIubihXZSksR2U9cigxMTEpLEtlPXIubihHZSksWWU9cigxMTIpLFhlPXIubihZZSksWmU9cigxMTMpLEplPXIubihaZSksJGU9cigxMTQpLGV0PXIubigkZSksdHQ9cigxMTUpLHJ0PXIubih0dCksbnQ9cigxMTYpLGl0PXIubihudCksYXQ9cigxMTcpLG90PXIubihhdCksc3Q9cigxMTgpLGN0PXIubihzdCksbHQ9cigxMTkpLHV0PXIubihsdCksaHQ9cigxMjApLGR0PXIubihodCkscHQ9cigxMjEpLGZ0PXIubihwdCksbXQ9cigxMjIpLGd0PXIubihtdCksYnQ9cigxMjMpLHl0PXIubihidCksdnQ9cigxMjQpLF90PXIubih2dCksU3Q9cigxMjUpLHd0PXIubihTdCkseHQ9cigxMjYpLGt0PXIubih4dCksT3Q9cigxMjcpLEN0PXIubihPdCksRXQ9cigxMjgpLFR0PXIubihFdCksUHQ9cigxMjkpLER0PXIubihQdCksanQ9cigxMzApLEF0PXIubihqdCksTnQ9cig1NiksSXQ9ci5uKE50KSxNdD1yKDEzMSksenQ9ci5uKE10KSxMdD1yKDU3KSxSdD1yLm4oTHQpLEh0PXIoMTMyKSxxdD1yLm4oSHQpLEJ0PXIoMTMzKSxGdD1yLm4oQnQpLFZ0PXIoMTM0KSxVdD1yLm4oVnQpLFd0PXIoMTM1KSxRdD1yLm4oV3QpLEd0PXIoMTM2KSxLdD1yLm4oR3QpLFl0PXIoMTM3KSxYdD1yLm4oWXQpLFp0PXIoMTM4KSxKdD1yLm4oWnQpLCR0PXIoMTM5KSxlcj1yLm4oJHQpLHRyPXIoNTgpLHJyPXIubih0ciksbnI9cigxNDApLGlyPXIubihuciksYXI9cig1OSksb3I9ci5uKGFyKSxzcj1yKDE0MSksY3I9ci5uKHNyKSxscj1yKDYwKSx1cj1yLm4obHIpLGhyPXIoMTQyKSxkcj1yLm4oaHIpLHByPXIoMTQzKSxmcj1yLm4ocHIpLG1yPXIoMTQ0KSxncj1yLm4obXIpLGJyPXIoMTQ1KSx5cj1yLm4oYnIpLHZyPXIoMTQ2KSxfcj1yLm4odnIpLFNyPXIoMTQ3KSx3cj1yLm4oU3IpLHhyPXIoMTQ4KSxrcj1yLm4oeHIpLE9yPXIoMTQ5KSxDcj1yLm4oT3IpLEVyPXIoMTUwKSxUcj1yLm4oRXIpLFByPXIoMTUxKSxEcj1yLm4oUHIpLGpyPXIoMTUyKSxBcj1yLm4oanIpLE5yPXIoMTUzKSxJcj1yLm4oTnIpLE1yPXIoMTU0KSx6cj1yLm4oTXIpLExyPXIoMTU1KSxScj1yLm4oTHIpO2Z1bmN0aW9uIEhyKCl7cmV0dXJuKEhyPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPWFyZ3VtZW50c1t0XTtmb3IodmFyIG4gaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixuKSYmKGVbbl09cltuXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gcXIoZSx0KXtpZihudWxsPT1lKXJldHVybnt9O3ZhciByLG4saT1mdW5jdGlvbihlLHQpe2lmKG51bGw9PWUpcmV0dXJue307dmFyIHIsbixpPXt9LGE9T2JqZWN0LmtleXMoZSk7Zm9yKG49MDtuPGEubGVuZ3RoO24rKylyPWFbbl0sdC5pbmRleE9mKHIpPj0wfHwoaVtyXT1lW3JdKTtyZXR1cm4gaX0oZSx0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgYT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO2ZvcihuPTA7bjxhLmxlbmd0aDtuKyspcj1hW25dLHQuaW5kZXhPZihyKT49MHx8T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUscikmJihpW3JdPWVbcl0pfXJldHVybiBpfXZhciBCcj1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIG49dC5jbGFzc05hbWUsYT10W1widG9vbHRpcC10aXRsZVwiXSxvPXFyKHQsW1wiY2xhc3NOYW1lXCIsXCJ0b29sdGlwLXRpdGxlXCJdKTtuPVwiaWMtaWNvbiBcIi5jb25jYXQobnx8XCJcIik7dmFyIHM9ZS52aWV3Qm94LnNwbGl0KFwiIFwiKS5zbGljZSgyKTtyZXR1cm4gaS5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsSHIoe2NsYXNzTmFtZTpuLFwidG9vbHRpcC10aXRsZVwiOmF9LG8pLGkuYS5jcmVhdGVFbGVtZW50KFwic3ZnXCIse3dpZHRoOnNbMF0saGVpZ2h0OnNbMV19LGkuYS5jcmVhdGVFbGVtZW50KFwidXNlXCIse3hsaW5rSHJlZjpyLnArZS51cmx9KSksYSYmaS5hLmNyZWF0ZUVsZW1lbnQoaS5hLkZyYWdtZW50LG51bGwsaS5hLmNyZWF0ZUVsZW1lbnQoXCJiclwiLG51bGwpLGkuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtjbGFzc05hbWU6XCJpYy1zdWJ0aXRsZVwifSxhKSkpfX0sRnI9KEJyKFhlLmEpLEJyKG8uYSkpLFZyPUJyKGMuYSksVXI9QnIodS5hKSxXcj1CcihkLmEpLFFyPUJyKGYuYSksR3I9QnIoZy5hKSxLcj1Ccih5LmEpLFlyPUJyKHcuYSksWHI9QnIoXy5hKSxacj1CcihrLmEpLEpyPUJyKEMuYSksJHI9QnIoVC5hKSxlbj1CcihELmEpLHRuPUJyKEkuYSkscm49QnIocS5hKSxubj1CcihxLmEpLGFuPUJyKEYuYSksb249QnIoVS5hKSxzbj1CcihRLmEpLGNuPUJyKEsuYSksbG49QnIoWC5hKSx1bj1CcihKLmEpLGhuPUJyKGVlLmEpLGRuPUJyKHJlLmEpLHBuPUJyKGllLmEpLGZuPUJyKG9lLmEpLG1uPUJyKGNlLmEpLGduPUJyKHVlLmEpLGJuPUJyKGRlLmEpLHluPUJyKEEuYSksdm49QnIoei5hKSxfbj1CcihSLmEpLFNuPShCcihmZS5hKSxCcihnZS5hKSksd249QnIoeWUuYSkseG49QnIoX2UuYSksa249QnIoemUuYSksT249QnIoUmUuYSksQ249QnIoUmUuYSksRW49QnIocWUuYSksVG49QnIoZmUuYSksUG49QnIoRmUuYSksRG49QnIoVWUuYSksam49QnIoUWUuYSksQW49QnIoS2UuYSksTm49QnIob3QuYSksSW49QnIoY3QuYSksTW49QnIodXQuYSksem49QnIoZHQuYSksTG49QnIoZ3IuYSksUm49e2luZm86QnIoaXQuYSksc3VjY2VzczpCcihydC5hKSx3YXJuaW5nOkJyKEplLmEpLGVycm9yOkJyKGV0LmEpfSxIbj1CcihmdC5hKSxxbj17YWN0aXZlOkJyKHdlLmEpLGNvbW1vZGl0aWVzOkJyKGtlLmEpLGZhdm9yaXRlOkJyKGZlLmEpLGZvcmV4OkJyKENlLmEpLGluZGljZXM6QnIoVGUuYSksc3RvY2tzOkJyKERlLmEpLHZvbGlkeDpCcihJZS5hKSxzeW50aGV0aWNfaW5kZXg6QnIoQWUuYSksaW5kaWNhdG9yczpCcihjZS5hKX0sQm49e0FVRDpCcihndC5hKSxDQUQ6QnIoeXQuYSksQ0hGOkJyKF90LmEpLEVVUjpCcih3dC5hKSxHQlA6QnIoa3QuYSksSlBZOkJyKEN0LmEpLE1YTjpCcihUdC5hKSxOT0s6QnIoRHQuYSksTlpEOkJyKEF0LmEpLFBMTjpCcihJdC5hKSxTRUs6QnIoenQuYSksVVNEOkJyKFJ0LmEpLEhvbmdLb25nOkJyKGlyLmEpLER1dGNoOkJyKGNyLmEpLEdlcm1hbjpCcihyci5hKSxGcmVuY2g6QnIob3IuYSksU3BhbmlzaDpCcih1ci5hKSxXYWxsU3RyZWV0OkJyKGRyLmEpfSxGbj17VVNEOkJyKFJ0LmEpLEdlcm1hbjpCcihyci5hKSxGcmVuY2g6QnIob3IuYSksUG9ydHVnYWw6QnIocXQuYSksUnVzc2lhOkJyKEZ0LmEpLFRoYWlsYW5kOkJyKFV0LmEpLEluZG9uZXNpYTpCcihRdC5hKSxWaWV0bmFtOkJyKEt0LmEpLEl0YWx5OkJyKFh0LmEpLENoaW5lc2U6QnIoSnQuYSksQ2hpbmVzZVRyYWRpdGlvbmFsOkJyKGVyLmEpLFBvbGFuZDpCcihJdC5hKSxTcGFuaXNoOkJyKHVyLmEpfSxWbj17U1BDOkJuLlVTRCxBUzUxOkJuLkFVRCxIU0k6Qm4uSG9uZ0tvbmcsTjIyNTpCbi5KUFksQUVYOkJuLkR1dGNoLEZDSEk6Qm4uRnJlbmNoLFNTTUk6Qm4uQ0hGLEdEQVhJOkJuLkdlcm1hbixmcnhCUk9VU0Q6QnIoZnIuYSksZnJ4WEFVVVNEOkxuLGZyeFhQRFVTRDpMbixmcnhYUFRVU0Q6TG4sZnJ4WEFHVVNEOkxuLFJfMTA6QnIoeXIuYSksUl8yNTpCcihfci5hKSxSXzUwOkJyKHdyLmEpLFJfNzU6QnIoa3IuYSksUl8xMDA6QnIoQ3IuYSksXCIxSFoxMFZcIjpCcihUci5hKSxcIjFIWjEwMFZcIjpCcihEci5hKSxSREJFQVI6QnIoQXIuYSksUkRCVUxMOkJyKElyLmEpfTtmdW5jdGlvbiBVbihlLHQscil7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBhPW4uY2xhc3NOYW1lLG89cXIobixbXCJjbGFzc05hbWVcIl0pO3JldHVybiBpLmEuY3JlYXRlRWxlbWVudChcInNwYW5cIixIcih7Y2xhc3NOYW1lOlwiXCIuY29uY2F0KHIsXCIgXCIpLmNvbmNhdChhKX0sbyksaS5hLmNyZWF0ZUVsZW1lbnQoZSxudWxsKSxpLmEuY3JlYXRlRWxlbWVudCh0LG51bGwpKX19ZnVuY3Rpb24gV24oZSx0KXt2YXIgcj1CbltlXSxuPUJuW3RdO1ZuW1wiZnJ4XCIuY29uY2F0KGUpLmNvbmNhdCh0KV09VW4ocixuLFwiaWMtZnJ4XCIpfXZhciBRbj1Ccih6ci5hKSxHbj1CcihSci5hKTtmdW5jdGlvbiBLbihlLHQpe3ZhciByPUJuW2VdO1ZuW3RdPVVuKHIsUW4sXCJpYy1vdGNcIil9ZnVuY3Rpb24gWW4oZSl7dmFyIHQ9Qm5bZV07Vm5bXCJXTERcIi5jb25jYXQoZSldPVVuKEduLHQsXCJpYy13bGRcIil9V24oXCJBVURcIixcIkpQWVwiKSxXbihcIkFVRFwiLFwiVVNEXCIpLFduKFwiRVVSXCIsXCJBVURcIiksV24oXCJFVVJcIixcIkNIRlwiKSxXbihcIkVVUlwiLFwiSlBZXCIpLFduKFwiRVVSXCIsXCJDQURcIiksV24oXCJFVVJcIixcIkdCUFwiKSxXbihcIkVVUlwiLFwiVVNEXCIpLFduKFwiR0JQXCIsXCJBVURcIiksV24oXCJHQlBcIixcIkpQWVwiKSxXbihcIkdCUFwiLFwiVVNEXCIpLFduKFwiVVNEXCIsXCJDQURcIiksV24oXCJVU0RcIixcIkNIRlwiKSxXbihcIlVTRFwiLFwiSlBZXCIpLFduKFwiQVVEXCIsXCJDQURcIiksV24oXCJBVURcIixcIkNIRlwiKSxXbihcIkFVRFwiLFwiTlpEXCIpLFduKFwiQVVEXCIsXCJQTE5cIiksV24oXCJFVVJcIixcIk5aRFwiKSxXbihcIkdCUFwiLFwiQ0FEXCIpLFduKFwiR0JQXCIsXCJDSEZcIiksV24oXCJHQlBcIixcIk5PS1wiKSxXbihcIkdCUFwiLFwiTlpEXCIpLFduKFwiR0JQXCIsXCJQTE5cIiksV24oXCJOWkRcIixcIkpQWVwiKSxXbihcIk5aRFwiLFwiVVNEXCIpLFduKFwiVVNEXCIsXCJNWE5cIiksV24oXCJVU0RcIixcIk5PS1wiKSxXbihcIlVTRFwiLFwiUExOXCIpLFduKFwiVVNEXCIsXCJTRUtcIiksWW4oXCJBVURcIiksWW4oXCJFVVJcIiksWW4oXCJHQlBcIiksWW4oXCJVU0RcIiksS24oXCJEdXRjaFwiLFwiT1RDX0FFWFwiKSxLbihcIkdCUFwiLFwiT1RDX0ZUU0VcIiksS24oXCJFVVJcIixcIk9UQ19TWDVFXCIpLEtuKFwiRnJlbmNoXCIsXCJPVENfRkNISVwiKSxLbihcIkdlcm1hblwiLFwiT1RDX0dEQVhJXCIpLEtuKFwiSlBZXCIsXCJPVENfTjIyNVwiKSxLbihcIlNwYW5pc2hcIixcIk9UQ19JQkVYMzVcIiksS24oXCJVU0RcIixcIk9UQ19TUENcIiksS24oXCJXYWxsU3RyZWV0XCIsXCJPVENfREpJXCIpLEtuKFwiVVNEXCIsXCJPVENfTkRYXCIpLEtuKFwiQ0hGXCIsXCJPVENfU1NNSVwiKSxLbihcIkhvbmdLb25nXCIsXCJPVENfSFNJXCIpLEtuKFwiQVVEXCIsXCJPVENfQVM1MVwiKTt2YXIgWG49e2RlbGV0ZTpkbixlZGl0Ok9ufX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3IuZCh0LFwiYlwiLGZ1bmN0aW9uKCl7cmV0dXJuIG59KSxyLmQodCxcImFcIixmdW5jdGlvbigpe3JldHVybiBpfSksci5kKHQsXCJjXCIsZnVuY3Rpb24oKXtyZXR1cm4gYX0pLHIuZCh0LFwiZVwiLGZ1bmN0aW9uKCl7cmV0dXJuIG99KSxyLmQodCxcImRcIixmdW5jdGlvbigpe3JldHVybiBzfSk7dmFyIG49T2JqZWN0LmZyZWV6ZSh7Q2hhcnRUaXRsZTpcIkNoYXJ0IFRpdGxlXCIsQ2F0ZWdvcmljYWxEaXNwbGF5OlwiQ2F0ZWdvcmljYWwgRGlzcGxheVwiLENoYXJ0Q29udHJvbDpcIkNoYXJ0IENvbnRyb2xcIn0pLGk9T2JqZWN0LmZyZWV6ZSh7TWFya2V0U2VsZWN0b3I6XCJNYXJrZXQgU2VsZWN0b3JcIixGYXZvcml0ZTpcIkZhdm9yaXRlXCIsQ2hhcnRTZXR0aW5nOlwiQ2hhcnQgU2V0dGluZ1wiLENoYXJ0U2l6ZTpcIkNoYXJ0IFNpemVcIixDaGFydFR5cGU6XCJDaGFydCBUeXBlXCIsQ29tcGFyaXNvbjpcIkNvbXBhcmlzb25cIixEcmF3VG9vbHM6XCJEcmF3IFRvb2xzXCIsRG93bmxvYWQ6XCJEb3dubG9hZFwiLEluZGljYXRvcjpcIkluZGljYXRvclwiLEludGVydmFsOlwiSW50ZXJ2YWxcIixUZW1wbGF0ZTpcIlRlbXBsYXRlXCJ9KTtmdW5jdGlvbiBhKCl7fWZ1bmN0aW9uIG8oKXt9ZnVuY3Rpb24gcyhlLHQscil7fX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSx0KXt2YXIgcj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSxyLnB1c2guYXBwbHkocixuKX1yZXR1cm4gcn1mdW5jdGlvbiBpKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP24ociwhMCkuZm9yRWFjaChmdW5jdGlvbih0KXthKGUsdCxyW3RdKX0pOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMocikpOm4ocikuZm9yRWFjaChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iocix0KSl9KX1yZXR1cm4gZX1mdW5jdGlvbiBhKGUsdCxyKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPXIsZX1mdW5jdGlvbiBvKGUpe3ZhciB0PWxvY2FsU3RvcmFnZS5nZXRJdGVtKGUpO2lmKG51bGwhPT10KXRyeXtyZXR1cm4gSlNPTi5wYXJzZSh0KX1jYXRjaChlKXtyZXR1cm59fWZ1bmN0aW9uIHMoZSl7cmV0dXJuIHZvaWQgMCE9PWUmJiFpc05hTihlKX1yLmQodCxcImVcIixmdW5jdGlvbigpe3JldHVybiBvfSksci5kKHQsXCJtXCIsZnVuY3Rpb24oKXtyZXR1cm4gc30pLHIuZCh0LFwialwiLGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSxyLmQodCxcImhcIixmdW5jdGlvbigpe3JldHVybiBsfSksci5kKHQsXCJwXCIsZnVuY3Rpb24oKXtyZXR1cm4gdX0pLHIuZCh0LFwib1wiLGZ1bmN0aW9uKCl7cmV0dXJuIGh9KSxyLmQodCxcImdcIixmdW5jdGlvbigpe3JldHVybiBkfSksci5kKHQsXCJsXCIsZnVuY3Rpb24oKXtyZXR1cm4gcH0pLHIuZCh0LFwia1wiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ9KSxyLmQodCxcImlcIixmdW5jdGlvbigpe3JldHVybiBtfSksci5kKHQsXCJiXCIsZnVuY3Rpb24oKXtyZXR1cm4gZ30pLHIuZCh0LFwiYVwiLGZ1bmN0aW9uKCl7cmV0dXJuIGJ9KSxyLmQodCxcImZcIixmdW5jdGlvbigpe3JldHVybiB5fSksci5kKHQsXCJkXCIsZnVuY3Rpb24oKXtyZXR1cm4gdn0pLHIuZCh0LFwiY1wiLGZ1bmN0aW9uKCl7cmV0dXJuIF99KSxyLmQodCxcIm5cIixmdW5jdGlvbigpe3JldHVybiBTfSk7dmFyIGM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50aW1lVW5pdCxyPWUuaW50ZXJ2YWw7cmV0dXJuIG51bGw9PT10JiZcImRheVwiPT09cj9cImRheVwiOlwibWludXRlXCI9PT10JiZyJTYwPT0wP1wiaG91clwiOlwic2Vjb25kXCI9PT10P1widGlja1wiOnR9LGw9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50aW1lVW5pdCxyPXQsbj1lLmludGVydmFsO3JldHVyblwiZGF5XCI9PT1uPyhyPTg2NDAwLG49MSk6XCJtaW51dGVcIj09PXQ/cj02MDpcInNlY29uZFwiPT09dCYmKHI9MSkscipufTtmdW5jdGlvbiB1KGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpmdW5jdGlvbihlLHQpe3JldHVybiBlPHR9LHI9ZS5zbGljZSgwKTtyZXR1cm4gZS5zb3J0KGZ1bmN0aW9uKGUsbil7dmFyIGk9dChlLG4pO3JldHVybiAwPT09aT9yLmluZGV4T2YoZSktci5pbmRleE9mKG4pOml9KSxlfWZ1bmN0aW9uIGgoZSx0KXtyZXR1cm4hKCFlfHwhdHx8K2UuRFQhPSt0LkRUfHxlLkNsb3NlIT09dC5DbG9zZXx8ZS5PcGVuIT09dC5PcGVufHxlLlZvbHVtZSE9PXQuVm9sdW1lKX1mdW5jdGlvbiBkKGUsdCxyLG4pe3ZhciBpPW5ldyBCbG9iKFt0XSx7dHlwZTpyfSk7aWYobmF2aWdhdG9yLm1zU2F2ZUJsb2IpbmF2aWdhdG9yLm1zU2F2ZUJsb2IoaSxlKTtlbHNle3ZhciBhPVwiaW1hZ2UvcG5nO1wiPT09cj90OlVSTC5jcmVhdGVPYmplY3RVUkwoaSksbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtpZih2b2lkIDAhPT1vLmRvd25sb2FkKXJldHVybiBvLnNldEF0dHJpYnV0ZShcImhyZWZcIixhKSxvLnNldEF0dHJpYnV0ZShcImRvd25sb2FkXCIsZSksby5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCIsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChvKSxvLmNsaWNrKCksdm9pZCBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG8pO2lmKG4paWYoXCJpbWFnZS9wbmc7XCI9PT1yKW4uZG9jdW1lbnQud3JpdGUoJzxpZnJhbWUgc3JjPVwiJy5jb25jYXQoYSwnXCIgZnJhbWVib3JkZXI9XCIwXCIgc3R5bGU9XCJib3JkZXI6MDsgdG9wOjBweDsgbGVmdDowcHg7IGJvdHRvbTowcHg7IHJpZ2h0OjBweDsgd2lkdGg6MTAwJTsgaGVpZ2h0OjEwMCU7XCIgYWxsb3dmdWxsc2NyZWVuPjwvaWZyYW1lPicpKTtlbHNlIGZvcih2YXIgcz10LnNwbGl0KFwiXFxuXCIpLGM9MDtjPHMubGVuZ3RoO2MrKyluLmRvY3VtZW50LndyaXRlKFwiXCIuY29uY2F0KHNbY10sXCI8YnIvPlwiKSl9fWZ1bmN0aW9uIHAoZSl7cmV0dXJuIGUuZ2V0VGltZSgpLzFlMy02MCplLmdldFRpbWV6b25lT2Zmc2V0KCl8MH1mdW5jdGlvbiBmKGUpe3JldHVybiBuZXcgRGF0ZSgxZTMqZSkudG9JU09TdHJpbmcoKS5zdWJzdHJpbmcoMCwxOSl9ZnVuY3Rpb24gbShlKXtyZXR1cm4gbmV3IERhdGUoMWUzKmUpfWZ1bmN0aW9uIGcoZSl7dmFyIHQ9MSxyPVwic2Vjb25kXCI7cmV0dXJuIDg2NDAwPT09ZT9yPVwiZGF5XCI6ZT4wJiYodD1lLzYwLHI9XCJtaW51dGVcIikse2ludGVydmFsOnQsdGltZVVuaXQ6cn19ZnVuY3Rpb24gYihlLHQpe3JldHVybntzZWNvbmQ6MCxtaW51dGU6NjAsZGF5Ojg2NDAwfVt0XSplfWZ1bmN0aW9uIHkoZSl7dmFyIHQ9ZS8xZTM7aWYodDw9MClyZXR1cm4gbnVsbDt2YXIgcj1mdW5jdGlvbihlKXtyZXR1cm5cIjBcIi5jb25jYXQoZSkuc2xpY2UoLTIpfSxuPXIoTWF0aC50cnVuYyh0JTYwKSksaT1yKE1hdGgudHJ1bmModC82MCU2MCkpLGE9TWF0aC50cnVuYyh0LzM2MDAlMjQpO3JldHVybiBhPWE/XCJcIi5jb25jYXQoYSxcIjpcIik6XCJcIixcIlwiLmNvbmNhdChhKS5jb25jYXQoaSxcIjpcIikuY29uY2F0KG4pfWZ1bmN0aW9uIHYoZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOmZ1bmN0aW9uKGUpe3JldHVybiBlfSxyPVtdLG49aSh7fSxlLHtkYXRhOnJ9KTtpZihlLmhhc1N1YmNhdGVnb3J5KXt2YXIgYT0hMCxvPSExLHM9dm9pZCAwO3RyeXtmb3IodmFyIGMsbD1lLmRhdGFbU3ltYm9sLml0ZXJhdG9yXSgpOyEoYT0oYz1sLm5leHQoKSkuZG9uZSk7YT0hMCl7dmFyIHU9Yy52YWx1ZSxoPVtdLGQ9aSh7fSx1LHtkYXRhOmh9KSxwPSEwLGY9ITEsbT12b2lkIDA7dHJ5e2Zvcih2YXIgZyxiPXUuZGF0YVtTeW1ib2wuaXRlcmF0b3JdKCk7IShwPShnPWIubmV4dCgpKS5kb25lKTtwPSEwKXt2YXIgeT1nLnZhbHVlO2gucHVzaCh0KHkpKX19Y2F0Y2goZSl7Zj0hMCxtPWV9ZmluYWxseXt0cnl7cHx8bnVsbD09Yi5yZXR1cm58fGIucmV0dXJuKCl9ZmluYWxseXtpZihmKXRocm93IG19fXIucHVzaChkKX19Y2F0Y2goZSl7bz0hMCxzPWV9ZmluYWxseXt0cnl7YXx8bnVsbD09bC5yZXR1cm58fGwucmV0dXJuKCl9ZmluYWxseXtpZihvKXRocm93IHN9fX1lbHNle3ZhciB2PSEwLF89ITEsUz12b2lkIDA7dHJ5e2Zvcih2YXIgdyx4PWUuZGF0YVtTeW1ib2wuaXRlcmF0b3JdKCk7ISh2PSh3PXgubmV4dCgpKS5kb25lKTt2PSEwKXt2YXIgaz13LnZhbHVlO3IucHVzaCh0KGspKX19Y2F0Y2goZSl7Xz0hMCxTPWV9ZmluYWxseXt0cnl7dnx8bnVsbD09eC5yZXR1cm58fHgucmV0dXJuKCl9ZmluYWxseXtpZihfKXRocm93IFN9fX1yZXR1cm4gbn1mdW5jdGlvbiBfKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpmdW5jdGlvbihlKXtyZXR1cm4gZX0scj1bXSxuPSEwLGk9ITEsYT12b2lkIDA7dHJ5e2Zvcih2YXIgbyxzPWVbU3ltYm9sLml0ZXJhdG9yXSgpOyEobj0obz1zLm5leHQoKSkuZG9uZSk7bj0hMCl7dmFyIGM9by52YWx1ZTtyLnB1c2godihjLHQpKX19Y2F0Y2goZSl7aT0hMCxhPWV9ZmluYWxseXt0cnl7bnx8bnVsbD09cy5yZXR1cm58fHMucmV0dXJuKCl9ZmluYWxseXtpZihpKXRocm93IGF9fXJldHVybiByfWZ1bmN0aW9uIFMoZSl7ZS5waXhlbEZyb21UaWNrPWZ1bmN0aW9uKHQscil7dmFyIG49cnx8ZS5jaGFydCxpPW4uZGF0YVNlZ21lbnQsYT1uLmRhdGFTZXQsbz1uLnNlZ21lbnRJbWFnZSxzPWUubWljcm9waXhlbHMsYz1pP2kubGVuZ3RoOjAsbD1uLnBhbmVsLHU9bi5zY3JvbGwsaD10LWEubGVuZ3RoK3UsZD1jP2lbaF06bnVsbDtpZihvJiYoZD1vW2hdKSxkJiZkLmxlZnRPZmZzZXQpcmV0dXJuIGwubGVmdCtkLmxlZnRPZmZzZXQrczt2YXIgcD0wLGY9MDtyZXR1cm4gZD1jP2lbYy0xXTpudWxsLG8mJihkPW9bYy0xXSksZCYmZC5sZWZ0T2Zmc2V0JiZjPHQtYS5sZW5ndGgrdSYmKHA9ZC5sZWZ0T2Zmc2V0LWQuY2FuZGxlV2lkdGgvMixmPWMpLHArbC5sZWZ0Kyh0LWYtYS5sZW5ndGgrdSsuNSkqZS5sYXlvdXQuY2FuZGxlV2lkdGgrc319fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ci5kKHQsXCJhXCIsZnVuY3Rpb24oKXtyZXR1cm4gbX0pO3ZhciBuPXIoMCksaT1yLm4obiksYT1yKDIzKTtmdW5jdGlvbiBvKGUpe3JldHVybihvPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBzKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1mdW5jdGlvbiBjKGUsdCl7cmV0dXJuIXR8fFwib2JqZWN0XCIhPT1vKHQpJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0P2Z1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiBlfShlKTp0fWZ1bmN0aW9uIGwoZSl7cmV0dXJuKGw9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZjpmdW5jdGlvbihlKXtyZXR1cm4gZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihlKX0pKGUpfWZ1bmN0aW9uIHUoZSx0KXtyZXR1cm4odT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuX19wcm90b19fPXQsZX0pKGUsdCl9ZnVuY3Rpb24gaChlLHQpe3ZhciByPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpLHIucHVzaC5hcHBseShyLG4pfXJldHVybiByfWZ1bmN0aW9uIGQoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/aChyLCEwKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3AoZSx0LHJbdF0pfSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhyKSk6aChyKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLHQpKX0pfXJldHVybiBlfWZ1bmN0aW9uIHAoZSx0LHIpe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09cixlfWZ1bmN0aW9uIGYoZSx0KXtyZXR1cm4gZnVuY3Rpb24ocil7dmFyIG89ZnVuY3Rpb24obyl7ZnVuY3Rpb24gaChuKXt2YXIgaTshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGgpO3ZhciBvPShpPWModGhpcyxsKGgpLmNhbGwodGhpcyxuKSkpLnByb3BzLm1haW5TdG9yZTtpLnN0b3JlPW5ldyB0KG8pO3JldHVybiBpLnN0b3JlLnVwZGF0ZVByb3BzJiZpLnN0b3JlLnVwZGF0ZVByb3BzKG4pLGkuaW5qZWN0ZWRDb21wb25lbnQ9T2JqZWN0KGEuaW5qZWN0KShmdW5jdGlvbih0LHIpe3JldHVybiBkKHt9LGUoaS5zdG9yZSkse30scil9KShyKSxpfXZhciBwLGYsbTtyZXR1cm4gZnVuY3Rpb24oZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJnUoZSx0KX0oaCxuW1wiQ29tcG9uZW50XCJdKSxwPWgsKGY9W3trZXk6XCJjb21wb25lbnREaWRVcGRhdGVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc3RvcmUudXBkYXRlUHJvcHMmJnRoaXMuc3RvcmUudXBkYXRlUHJvcHModGhpcy5wcm9wcyl9fSx7a2V5OlwiY29tcG9uZW50V2lsbFVubW91bnRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc3RvcmUuZGVzdHJ1Y3RvciYmdGhpcy5zdG9yZS5kZXN0cnVjdG9yKCl9fSx7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gaS5hLmNyZWF0ZUVsZW1lbnQodGhpcy5pbmplY3RlZENvbXBvbmVudCl9fV0pJiZzKHAucHJvdG90eXBlLGYpLG0mJnMocCxtKSxofSgpLGg9ci5kaXNwbGF5TmFtZXx8ci5uYW1lfHxyLmNvbnN0cnVjdG9yJiZyLmNvbnN0cnVjdG9yLm5hbWV8fFwiVW5rbm93blwiO3JldHVybiBvLmRpc3BsYXlOYW1lPVwidW5ib3gtXCIuY29uY2F0KGgpLE9iamVjdChhLmluamVjdCkoZnVuY3Rpb24oZSl7cmV0dXJue21haW5TdG9yZTplfX0pKG8pfX1mdW5jdGlvbiBtKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQ/ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24odCxyKXtyZXR1cm4gZCh7fSxlKHQpLHt9LHIpfTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChhLmluamVjdCkodCkoZSl9fShlKTpmKGUsdCl9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ci5yKHQpLHIuZCh0LFwiVHJhbnNsYXRpb25cIixmdW5jdGlvbigpe3JldHVybiBzfSksci5kKHQsXCJ0XCIsZnVuY3Rpb24oKXtyZXR1cm4gY30pO3ZhciBuPXIoNjcpLGk9ci5uKG4pO2Z1bmN0aW9uIGEoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fXZhciBvPXt9LHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOlwiZW5cIjshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpLHRoaXMubGFuZz10fXZhciB0LG4scztyZXR1cm4gdD1lLChuPVt7a2V5Olwic2V0TGFuZ3VhZ2VcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO29bZV18fFwiZW5cIj09PWU/dGhpcy5sYW5nPWU6cigxOTApKFwiLi9cIi5jb25jYXQoZSxcIi5wb1wiKSkudGhlbihmdW5jdGlvbihyKXtyPyhvW2VdPXIsdC5sYW5nPWUpOmNvbnNvbGUuZXJyb3IoXCJVbnN1cHBvcnRlZCBsYW5ndWFnZTpcIixlKX0pfX0se2tleTpcInRyYW5zbGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPW9bdGhpcy5sYW5nXSx0PWFyZ3VtZW50cy5sZW5ndGgscj1uZXcgQXJyYXkodCksbj0wO248dDtuKyspcltuXT1hcmd1bWVudHNbbl07aWYoIWUpcmV0dXJuIHRoaXMucmVwbGFjZShyWzBdLHJbMV0pO3ZhciBhLHM9aS5hW3JbMF1dO2lmKFwic3RyaW5nXCI9PXR5cGVvZiByWzFdKXRocm93IG5ldyBFcnJvcihcIlBsdXJhbCBjb252ZXJzaW9uIG5vdCB3b3JraW5nIVwiKTtyZXR1cm4gYT1lW3NdLGE9dGhpcy5yZXBsYWNlKGEsclsxXSl8fHJbMF19fSx7a2V5OlwicmVwbGFjZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7aWYoIXQpcmV0dXJuIGU7Zm9yKHZhciByPU9iamVjdC5rZXlzKHQpO3IubGVuZ3RoOyl7dmFyIG49ci5zaGlmdCgpO2U9ZS5yZXBsYWNlKFwiW1wiLmNvbmNhdChuLFwiXVwiKSx0W25dKX1yZXR1cm4gZX19XSkmJmEodC5wcm90b3R5cGUsbikscyYmYSh0LHMpLGV9KCksYz1uZXcgc30sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17cmVkOlwiI2ZmNDQ0ZlwiLGxpZ2h0X2NoYXJ0X3RleHQ6XCIjNTU1OTc1XCIsZGFya19jaGFydF90ZXh0OlwiIzk5OVwiLGxpZ2h0X2NoYXJ0X2dyaWQ6XCIjZjJmM2Y0XCIsZGFya19jaGFydF9ncmlkOlwiIzFkMWYyMFwiLGxpZ2h0X2NoYXJ0X21vdW50YWluX2JvcmRlcjpcIiM4NWFjYjBcIixkYXJrX2NoYXJ0X21vdW50YWluX2JvcmRlcjpcIiNmZmZcIixsaWdodF9jaGFydF9tb3VudGFpbl9iZzpcInJnYmEoMTMzLDE3MiwxNzYsMC4xNilcIixkYXJrX2NoYXJ0X21vdW50YWluX2JnOlwicmdiYSgyNTUsMjU1LDI1NSwwLjM2KVwiLGxpZ2h0X2NoYXJ0X21vdW50YWluX2JnX3NoYWRlOlwicmdiYSgyNTUsMjU1LDI1NSwwKVwiLGRhcmtfY2hhcnRfbW91bnRhaW5fYmdfc2hhZGU6XCJyZ2JhKDE2LDE5LDMyLDApXCIsbGlnaHRfY2FuZGxlX3RleHRfY2xvc2VkOlwicmdiYSgwLDAsMCwwLjE2KVwiLGRhcmtfY2FuZGxlX3RleHRfY2xvc2VkOlwicmdiYSgxMjcsMTMxLDE1MSwwLjMpXCIsbGlnaHRfY2FuZGxlX2JnX2Nsb3NlZDpcIiNkNmQ2ZDZcIixkYXJrX2NhbmRsZV9iZ19jbG9zZWQ6XCIjMzAzMzQyXCIsbGlnaHRfY2hhcnRfY2xvc2VkX2NhbmRsZTpcIiNkNmQ2ZDZcIixkYXJrX2NoYXJ0X2Nsb3NlZF9jYW5kbGU6XCIjMzAzMzQyXCIsbGlnaHRfY2hhcnRfYmc6XCIjZmZmXCIsZGFya19jaGFydF9iZzpcIiMwZTBlMGVcIixsaWdodF9mbG9hdF9sYWJlbHNfYmc6XCIjZDZkYWRiXCIsZGFya19mbG9hdF9sYWJlbHNfYmc6XCIjMzIzNzM4XCIsbGlnaHRfZmxvYXRfbGFiZWxzX3RleHQ6XCIjMzMzXCIsZGFya19mbG9hdF9sYWJlbHNfdGV4dDpcIiNmZmZcIn19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtyLmQodCxcImFcIixmdW5jdGlvbigpe3JldHVybiBtfSk7dmFyIG4saSxhLG8scyxjPXIoMSksbD1yKDUpLHU9cig0NCksaD1yKDE5KTtmdW5jdGlvbiBkKGUsdCxyLG4pe3ImJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse2VudW1lcmFibGU6ci5lbnVtZXJhYmxlLGNvbmZpZ3VyYWJsZTpyLmNvbmZpZ3VyYWJsZSx3cml0YWJsZTpyLndyaXRhYmxlLHZhbHVlOnIuaW5pdGlhbGl6ZXI/ci5pbml0aWFsaXplci5jYWxsKG4pOnZvaWQgMH0pfWZ1bmN0aW9uIHAoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fWZ1bmN0aW9uIGYoZSx0LHIsbixpKXt2YXIgYT17fTtyZXR1cm4gT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbihlKXthW2VdPW5bZV19KSxhLmVudW1lcmFibGU9ISFhLmVudW1lcmFibGUsYS5jb25maWd1cmFibGU9ISFhLmNvbmZpZ3VyYWJsZSwoXCJ2YWx1ZVwiaW4gYXx8YS5pbml0aWFsaXplcikmJihhLndyaXRhYmxlPSEwKSxhPXIuc2xpY2UoKS5yZXZlcnNlKCkucmVkdWNlKGZ1bmN0aW9uKHIsbil7cmV0dXJuIG4oZSx0LHIpfHxyfSxhKSxpJiZ2b2lkIDAhPT1hLmluaXRpYWxpemVyJiYoYS52YWx1ZT1hLmluaXRpYWxpemVyP2EuaW5pdGlhbGl6ZXIuY2FsbChpKTp2b2lkIDAsYS5pbml0aWFsaXplcj12b2lkIDApLHZvaWQgMD09PWEuaW5pdGlhbGl6ZXImJihPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LGEpLGE9bnVsbCksYX12YXIgbT0obj1jLmFjdGlvbi5ib3VuZCxpPWMuYWN0aW9uLmJvdW5kLG89ZigoYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyKXt2YXIgbj10aGlzOyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksdGhpcy5vbkNvbnRleHRSZWFkeT1mdW5jdGlvbigpe24ubW9kYWxOb2RlPW4ubWFpblN0b3JlLmNoYXJ0Lm1vZGFsTm9kZX0sZCh0aGlzLFwibW9kYWxOb2RlXCIsbyx0aGlzKSxkKHRoaXMsXCJyb3V0ZVwiLHMsdGhpcyksdGhpcy5jb25uZWN0PU9iamVjdChsLmEpKGZ1bmN0aW9uKGUpe3ZhciB0PWUuY2hhcnQ7cmV0dXJue3NldE9wZW46bi5zZXRPcGVuLG9wZW46bi5vcGVuLG9uVGl0bGVDbGljazpuLm9uVGl0bGVDbGljayxEcm9wZG93bkRpYWxvZzpuLkRyb3BEb3duRGlhbG9nLG1vZGFsTm9kZTpuLm1vZGFsTm9kZSxpc01vYmlsZTp0LmlzTW9iaWxlLHNob3VsZFJlbmRlckRpYWxvZ3M6dC5zaG91bGRSZW5kZXJEaWFsb2dzfX0pLHRoaXMubWFpblN0b3JlPXQsdGhpcy5kaWFsb2c9bmV3IHUuYSh0KSxPYmplY3QoYy5yZWFjdGlvbikoZnVuY3Rpb24oKXtyZXR1cm4gbi5vcGVufSxmdW5jdGlvbigpe3JldHVybiBuLmJsdXJJbnB1dCgpfSksT2JqZWN0KGMud2hlbikoZnVuY3Rpb24oKXtyZXR1cm4gbi5tYWluU3RvcmUuY2hhcnQuY29udGV4dH0sdGhpcy5vbkNvbnRleHRSZWFkeSksciYmci5yb3V0ZSYmKHRoaXMucm91dGU9ci5yb3V0ZSksdGhpcy5Ecm9wRG93bkRpYWxvZz10aGlzLmRpYWxvZy5jb25uZWN0KGguYSl9dmFyIHQscixuO3JldHVybiB0PWUsKHI9W3trZXk6XCJzZXRPcGVuXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5kaWFsb2cuc2V0T3BlbihlKSx0aGlzLnJvdXRpbmdTdG9yZS51cGRhdGVSb3V0ZSh0aGlzLnJvdXRlLGUpfX0se2tleTpcImJsdXJJbnB1dFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5jb250ZXh0LnN0eDshMT09PXRoaXMub3Blbj8oZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ibHVyKCksZS5tb2RhbEVuZCgpKTplLm1vZGFsQmVnaW4oKSxlLmFsbG93U2Nyb2xsPWUuYWxsb3dab29tPSF0aGlzLm9wZW59fSx7a2V5Olwib25UaXRsZUNsaWNrXCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZSYmZS5zdG9wUHJvcGFnYXRpb24oKSx0aGlzLnNldE9wZW4oIXRoaXMub3Blbil9fSx7a2V5OlwiY29udGV4dFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC5jb250ZXh0fX0se2tleTpcInJvdXRpbmdTdG9yZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1haW5TdG9yZS5yb3V0aW5nfX0se2tleTpcIm9wZW5cIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaWFsb2cub3Blbn19XSkmJnAodC5wcm90b3R5cGUsciksbiYmcCh0LG4pLGV9KCkpLnByb3RvdHlwZSxcIm1vZGFsTm9kZVwiLFtjLm9ic2VydmFibGVdLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCxpbml0aWFsaXplcjpmdW5jdGlvbigpe3JldHVybiBudWxsfX0pLHM9ZihhLnByb3RvdHlwZSxcInJvdXRlXCIsW2Mub2JzZXJ2YWJsZV0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOmZ1bmN0aW9uKCl7cmV0dXJuXCJcIn19KSxmKGEucHJvdG90eXBlLFwib3BlblwiLFtjLmNvbXB1dGVkXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGEucHJvdG90eXBlLFwib3BlblwiKSxhLnByb3RvdHlwZSksZihhLnByb3RvdHlwZSxcInNldE9wZW5cIixbbl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhLnByb3RvdHlwZSxcInNldE9wZW5cIiksYS5wcm90b3R5cGUpLGYoYS5wcm90b3R5cGUsXCJvblRpdGxlQ2xpY2tcIixbaV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhLnByb3RvdHlwZSxcIm9uVGl0bGVDbGlja1wiKSxhLnByb3RvdHlwZSksYSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApLGk9ci5uKG4pLGE9cig0NSksbz1yLm4oYSkscz1yKDM5KSxjPXIoMik7ZnVuY3Rpb24gbChlKXtyZXR1cm4obD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gdShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19ZnVuY3Rpb24gaChlLHQpe3JldHVybiF0fHxcIm9iamVjdFwiIT09bCh0KSYmXCJmdW5jdGlvblwiIT10eXBlb2YgdD9mdW5jdGlvbihlKXtpZih2b2lkIDA9PT1lKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gZX0oZSk6dH1mdW5jdGlvbiBkKGUpe3JldHVybihkPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSl9KShlKX1mdW5jdGlvbiBwKGUsdCl7cmV0dXJuKHA9T2JqZWN0LnNldFByb3RvdHlwZU9mfHxmdW5jdGlvbihlLHQpe3JldHVybiBlLl9fcHJvdG9fXz10LGV9KShlLHQpfXZhciBmPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgZSxyOyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCk7Zm9yKHZhciBuPWFyZ3VtZW50cy5sZW5ndGgsaT1uZXcgQXJyYXkobiksYT0wO2E8bjthKyspaVthXT1hcmd1bWVudHNbYV07cmV0dXJuKHI9aCh0aGlzLChlPWQodCkpLmNhbGwuYXBwbHkoZSxbdGhpc10uY29uY2F0KGkpKSkpLm9uT3ZlcmxheUNsaWNrPWZ1bmN0aW9uKGUpe1wiY3EtbWVudS1vdmVybGF5XCI9PT1lLnRhcmdldC5jbGFzc05hbWUmJnIucHJvcHMuc2V0T3BlbighMSl9LHJ9dmFyIHIsYSxsO3JldHVybiBmdW5jdGlvbihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmcChlLHQpfSh0LG5bXCJDb21wb25lbnRcIl0pLHI9dCwoYT1be2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wcm9wcyx0PWUub3BlbixyPWUuY2xhc3NOYW1lLG49ZS5jaGlsZHJlbixhPWUudGl0bGUsbD1lLm9uVGl0bGVDbGljayx1PWUuRHJvcGRvd25EaWFsb2csaD1lLmlzTW9iaWxlLGQ9ZS5pc0Z1bGxzY3JlZW4scD1lLm1vZGFsTm9kZSxmPWUuZW5hYmxlZCxtPXZvaWQgMD09PWZ8fGYsZz1lLnNob3VsZFJlbmRlckRpYWxvZ3MsYj1lLm9uTW91c2VFbnRlcix5PWUub25Nb3VzZUxlYXZlLHY9aS5hLkNoaWxkcmVuLm1hcChuLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIDA9PT10P2U6bnVsbH0pLF89aS5hLkNoaWxkcmVuLm1hcChuLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIDAhPT10P2U6bnVsbH0pLFM9ZyYmaS5hLmNyZWF0ZUVsZW1lbnQocy5DU1NUcmFuc2l0aW9uLHtpbjp0LHRpbWVvdXQ6MTUwLGNsYXNzTmFtZXM6XCJjcS1tZW51LWRyb3Bkb3duXCJ9LGkuYS5jcmVhdGVFbGVtZW50KHUse2NsYXNzTmFtZTpcImNxLW1lbnUtZHJvcGRvd25cIixpc01vYmlsZTpoLGlzRnVsbHNjcmVlbjpkfSxhJiZpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJ0aXRsZVwifSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJ0aXRsZS10ZXh0XCJ9LGEpLGkuYS5jcmVhdGVFbGVtZW50KGMuayx7Y2xhc3NOYW1lOlwiaWNvbi1jbG9zZS1tZW51XCIsb25DbGljazpsfSkpLF8pKTtyZXR1cm4gbSYmaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY2lxLW1lbnUgY2lxLWVuYWJsZWQgXCIuY29uY2F0KHJ8fFwiXCIsXCIgXCIpLmNvbmNhdCh0P1wic3R4TWVudUFjdGl2ZVwiOlwiXCIpfSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJjcS1tZW51LWJ0blwiLG9uTW91c2VFbnRlcjpiLG9uTW91c2VMZWF2ZTp5LG9uQ2xpY2s6bH0sdiksaCYmcCYmby5hLmNyZWF0ZVBvcnRhbChpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJjcS1tb2RhbC1kcm9wZG93biBcIi5jb25jYXQocnx8XCJcIixcIiBcIikuY29uY2F0KHQ/XCJzdHhNZW51QWN0aXZlXCI6XCJcIil9LGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcImNxLW1lbnUtb3ZlcmxheVwiLG9uQ2xpY2s6dGhpcy5vbk92ZXJsYXlDbGlja30sUykpLHApfHxTKXx8aS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY2lxLW1lbnUgY2lxLWRpc2FibGVkIFwiLmNvbmNhdChyfHxcIlwiKX0saS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY3EtbWVudS1idG5cIixvbk1vdXNlRW50ZXI6Yixvbk1vdXNlTGVhdmU6eX0sdikpfX1dKSYmdShyLnByb3RvdHlwZSxhKSxsJiZ1KHIsbCksdH0oKTtmLlRpdGxlPWZ1bmN0aW9uKGUpe3JldHVybiBlLmNoaWxkcmVufSxmLkJvZHk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2hpbGRyZW59LHQuYT1mfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ci5kKHQsXCJnXCIsZnVuY3Rpb24oKXtyZXR1cm4gYn0pLHIuZCh0LFwiYlwiLGZ1bmN0aW9uKCl7cmV0dXJuIHl9KSxyLmQodCxcImZcIixmdW5jdGlvbigpe3JldHVybiB2fSksci5kKHQsXCJhXCIsZnVuY3Rpb24oKXtyZXR1cm4gX30pLHIuZCh0LFwiaFwiLGZ1bmN0aW9uKCl7cmV0dXJuIFN9KSxyLmQodCxcImVcIixmdW5jdGlvbigpe3JldHVybiB3fSksci5kKHQsXCJkXCIsZnVuY3Rpb24oKXtyZXR1cm4geH0pLHIuZCh0LFwiaVwiLGZ1bmN0aW9uKCl7cmV0dXJuIGt9KSxyLmQodCxcImNcIixmdW5jdGlvbigpe3JldHVybiBPfSk7dmFyIG49cigwKSxpPXIubihuKSxhPXIoMik7cigyMTQpO2Z1bmN0aW9uIG8oZSl7cmV0dXJuKG89XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIHMoZSx0KXt2YXIgcj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSxyLnB1c2guYXBwbHkocixuKX1yZXR1cm4gcn1mdW5jdGlvbiBjKGUsdCxyKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPXIsZX1mdW5jdGlvbiBsKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiB1KGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1mdW5jdGlvbiBoKGUsdCxyKXtyZXR1cm4gdCYmdShlLnByb3RvdHlwZSx0KSxyJiZ1KGUsciksZX1mdW5jdGlvbiBkKGUsdCl7cmV0dXJuIXR8fFwib2JqZWN0XCIhPT1vKHQpJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0P3AoZSk6dH1mdW5jdGlvbiBwKGUpe2lmKHZvaWQgMD09PWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiBlfWZ1bmN0aW9uIGYoZSl7cmV0dXJuKGY9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZjpmdW5jdGlvbihlKXtyZXR1cm4gZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihlKX0pKGUpfWZ1bmN0aW9uIG0oZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJmcoZSx0KX1mdW5jdGlvbiBnKGUsdCl7cmV0dXJuKGc9T2JqZWN0LnNldFByb3RvdHlwZU9mfHxmdW5jdGlvbihlLHQpe3JldHVybiBlLl9fcHJvdG9fXz10LGV9KShlLHQpfXZhciBiPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgZSxyO2wodGhpcyx0KTtmb3IodmFyIG49YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheShuKSxhPTA7YTxuO2ErKylpW2FdPWFyZ3VtZW50c1thXTtyZXR1cm4ocj1kKHRoaXMsKGU9Zih0KSkuY2FsbC5hcHBseShlLFt0aGlzXS5jb25jYXQoaSkpKSkub25DaGFuZ2U9ZnVuY3Rpb24oZSl7ci5wcm9wcy5vbkNoYW5nZShlLmN1cnJlbnRUYXJnZXQudmFsdWUpfSxyfXJldHVybiBtKHQsaS5hLkNvbXBvbmVudCksaCh0LFt7a2V5Olwic2hvdWxkQ29tcG9uZW50VXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucHJvcHMudmFsdWUhPT1lLnZhbHVlfX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wcm9wcyx0PWUubWluLHI9dm9pZCAwPT09dD8xOnQsbj1lLm1heCxhPXZvaWQgMD09PW4/MTA6bixvPWUuc3RlcCxzPXZvaWQgMD09PW8/MTpvLGM9ZS52YWx1ZSxsPU1hdGgucm91bmQoMTIwKihjLXIpLyhhLXIpKTtyZXR1cm4gaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY3Etc2xpZGVyXCJ9LGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcImNxLXNsaWRlci1yYW5nZVwifSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJjcS1zbGlkZXItYmFyXCJ9KSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJjcS1zbGlkZXItYWN0aXZlLWJhclwiLHN0eWxlOnt3aWR0aDpsfX0pLGkuYS5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIix7dHlwZTpcInJhbmdlXCIsbWluOnIsbWF4OmEsc3RlcDpzLG9uQ2hhbmdlOnRoaXMub25DaGFuZ2UsdmFsdWU6Y30pKSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJ2YWx1ZVwifSxjKSl9fV0pLHR9KCkseT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIGUscjtsKHRoaXMsdCk7Zm9yKHZhciBuPWFyZ3VtZW50cy5sZW5ndGgsaT1uZXcgQXJyYXkobiksYT0wO2E8bjthKyspaVthXT1hcmd1bWVudHNbYV07cmV0dXJuKHI9ZCh0aGlzLChlPWYodCkpLmNhbGwuYXBwbHkoZSxbdGhpc10uY29uY2F0KGkpKSkpLnN0YXRlPXtvcGVuOiExfSxyLnRpdGxlUmVmPW51bGwsci5vbkNsaWNrPWZ1bmN0aW9uKCl7cmV0dXJuIHIuc2V0U3RhdGUoZnVuY3Rpb24oZSl7cmV0dXJue29wZW46IWUub3Blbn19KX0sci5jbG9zZT1mdW5jdGlvbihlKXtlLnRhcmdldCE9PXIudGl0bGVSZWYmJnIuc2V0U3RhdGUoe29wZW46ITF9KX0scn1yZXR1cm4gbSh0LGkuYS5Db21wb25lbnQpLGgodCxbe2tleTpcImNvbXBvbmVudERpZE1vdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLmNsb3NlLCExKX19LHtrZXk6XCJjb21wb25lbnRXaWxsVW5tb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5jbG9zZSl9fSx7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcy5wcm9wcyxyPXQucm93cyxuPXQuY2hpbGRyZW4sbz10LnRpdGxlLHM9dC5vblJvd0NsaWNrLGM9dC5jbGFzc05hbWUsbD10aGlzLnN0YXRlLm9wZW47cmV0dXJuIGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcIlwiLmNvbmNhdChjfHxcIlwiLFwiIGNxLWRyb3Bkb3duXCIpfSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJ0aXRsZSBcIi5jb25jYXQobD9cImFjdGl2ZVwiOlwiXCIpLG9uQ2xpY2s6dGhpcy5vbkNsaWNrLHJlZjpmdW5jdGlvbih0KXtlLnRpdGxlUmVmPXR9fSxvLGkuYS5jcmVhdGVFbGVtZW50KGEuYyxudWxsKSksaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiZHJvcGRvd24gXCIuY29uY2F0KGw/XCJhY3RpdmVcIjpcIlwiKX0sci5tYXAoZnVuY3Rpb24oZSx0KXtyZXR1cm4gaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7a2V5OnQsY2xhc3NOYW1lOlwicm93XCIsb25DbGljazpmdW5jdGlvbigpe3JldHVybiBzJiZzKGUpfX0sbihlKSl9KSkpfX1dKSx0fSgpLHY9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciBlLHI7bCh0aGlzLHQpO2Zvcih2YXIgbj1hcmd1bWVudHMubGVuZ3RoLGk9bmV3IEFycmF5KG4pLGE9MDthPG47YSsrKWlbYV09YXJndW1lbnRzW2FdO3JldHVybihyPWQodGhpcywoZT1mKHQpKS5jYWxsLmFwcGx5KGUsW3RoaXNdLmNvbmNhdChpKSkpKS5wYXR0ZXJucz1be3dpZHRoOjEscGF0dGVybjpcInNvbGlkXCJ9LHt3aWR0aDozLHBhdHRlcm46XCJzb2xpZFwifSx7d2lkdGg6NSxwYXR0ZXJuOlwic29saWRcIn0se3dpZHRoOjEscGF0dGVybjpcImRvdHRlZFwifSx7d2lkdGg6MyxwYXR0ZXJuOlwiZG90dGVkXCJ9LHt3aWR0aDo1LHBhdHRlcm46XCJkb3R0ZWRcIn0se3dpZHRoOjEscGF0dGVybjpcImRhc2hlZFwifSx7d2lkdGg6MyxwYXR0ZXJuOlwiZGFzaGVkXCJ9LHt3aWR0aDo1LHBhdHRlcm46XCJkYXNoZWRcIn0se3dpZHRoOjAscGF0dGVybjpcIm5vbmVcIn1dLHJ9cmV0dXJuIG0odCxpLmEuQ29tcG9uZW50KSxoKHQsW3trZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMucHJvcHMsdD1lLnBhdHRlcm4scj1lLmxpbmVXaWR0aCxuPWUub25DaGFuZ2UsYT1cIm5vbmVcIiE9PXQ/aS5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIse2NsYXNzTmFtZTpcIm9wdGlvbiBcIi5jb25jYXQodCxcIi1cIikuY29uY2F0KHIpfSk6aS5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIse2NsYXNzTmFtZTpcIm5vbmVcIn0sXCJOb25lXCIpO3JldHVybiBpLmEuY3JlYXRlRWxlbWVudCh5LHtyb3dzOnRoaXMucGF0dGVybnMsdGl0bGU6YSxvblJvd0NsaWNrOm59LGZ1bmN0aW9uKGUpe3JldHVyblwibm9uZVwiIT09ZS5wYXR0ZXJuP2kuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtjbGFzc05hbWU6XCJvcHRpb24gXCIuY29uY2F0KGUucGF0dGVybixcIi1cIikuY29uY2F0KGUud2lkdGgpfSk6aS5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIse2NsYXNzTmFtZTpcIm5vbmVcIn0sXCJOb25lXCIpfSl9fV0pLHR9KCksXz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIGUscjtsKHRoaXMsdCk7Zm9yKHZhciBuPWFyZ3VtZW50cy5sZW5ndGgsaT1uZXcgQXJyYXkobiksYT0wO2E8bjthKyspaVthXT1hcmd1bWVudHNbYV07cmV0dXJuKHI9ZCh0aGlzLChlPWYodCkpLmNhbGwuYXBwbHkoZSxbdGhpc10uY29uY2F0KGkpKSkpLmNvbG9yTWFwPVtbXCIjZmZmZmZmXCIsXCIjZTFlMWUxXCIsXCIjY2NjY2NjXCIsXCIjYjdiN2I3XCIsXCIjYTBhMGE1XCIsXCIjODk4OTg5XCIsXCIjNzA3MDcwXCIsXCIjNjI2MjYyXCIsXCIjNTU1NTU1XCIsXCIjNDY0NjQ2XCIsXCIjMzYzNjM2XCIsXCIjMjYyNjI2XCIsXCIjMWQxZDFkXCIsXCIjMDAwMDAwXCJdLFtcIiNmNDk3N2NcIixcIiNmN2FjODRcIixcIiNmYmM1OGRcIixcIiNmZmY2OWVcIixcIiNjNGRlOWVcIixcIiM4NWM5OWVcIixcIiM3ZmNkYzdcIixcIiM3NWQwZjRcIixcIiM4MWE4ZDdcIixcIiM4NTk0YzhcIixcIiM4OTgzYmNcIixcIiNhMTg3YmRcIixcIiNiYjhkYmVcIixcIiNmMjliYzFcIl0sW1wiI2VmNmM1M1wiLFwiI2YzOGQ1YlwiLFwiI2Y4YWU2M1wiLFwiI2ZmZjM3MVwiLFwiI2FjZDI3N1wiLFwiIzQzYjc3YVwiLFwiIzJlYmJiM1wiLFwiIzAwYmZmMFwiLFwiIzRhOGRjOFwiLFwiIzU4NzViN1wiLFwiIzYyNWRhNlwiLFwiIzg1NjFhN1wiLFwiI2E2NjVhN1wiLFwiI2VlNmZhOVwiXSxbXCIjZWExZDJjXCIsXCIjZWU2NTJlXCIsXCIjZjQ5MzJmXCIsXCIjZmZmMTI2XCIsXCIjOGVjNjQ4XCIsXCIjMDBhNTUzXCIsXCIjMDBhOTljXCIsXCIjMDBhZmVkXCIsXCIjMDA3M2JhXCIsXCIjMDA1NmE0XCIsXCIjMzIzMzkwXCIsXCIjNjYzMDhmXCIsXCIjOTEyYThlXCIsXCIjZTkwODhjXCJdLFtcIiM5YjBiMTZcIixcIiM5ZTQxMTdcIixcIiNhMTYxMThcIixcIiNjNmI5MjBcIixcIiM1YTg1MmRcIixcIiMwMDcyMzhcIixcIiMwMDc0NmFcIixcIiMwMDc3YTFcIixcIiMwMDRjN2ZcIixcIiMwMDM1NzBcIixcIiMxZDE3NjJcIixcIiM0NDEyNjFcIixcIiM2MjA5NWZcIixcIiM5YzAwNWRcIl0sW1wiIzc3MDAwMVwiLFwiIzc5MmUwM1wiLFwiIzdiNDkwNlwiLFwiIzgxN2EwYlwiLFwiIzQxNjYxZVwiLFwiIzAwNTgyN1wiLFwiIzAwNTk1MVwiLFwiIzAwM2I1Y1wiLFwiIzAwMWQ0MFwiLFwiIzAwMGUzNVwiLFwiIzA0MDAyY1wiLFwiIzE5MDAyYlwiLFwiIzJjMDAyYVwiLFwiIzU4MDAyOFwiXV0sci5zdGF0ZT17b3BlbjohMX0sci50aXRsZVJlZj1udWxsLHIub25DbGljaz1mdW5jdGlvbigpe3JldHVybiByLnNldFN0YXRlKGZ1bmN0aW9uKGUpe3JldHVybntvcGVuOiFlLm9wZW59fSl9LHIuY2xvc2U9ZnVuY3Rpb24oZSl7ZS50YXJnZXQhPT1yLnRpdGxlUmVmJiZyLnNldFN0YXRlKHtvcGVuOiExfSl9LHIuZGVmYXVsdENvbG9yPWZ1bmN0aW9uKCl7cmV0dXJuXCJsaWdodFwiPT09ci5wcm9wcy50aGVtZT9cIiMwMDAwMDBcIjpcIiNmZmZmZmZcIn0scn1yZXR1cm4gbSh0LGkuYS5Db21wb25lbnQpLGgodCxbe2tleTpcImNvbXBvbmVudERpZE1vdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLmNsb3NlLCExKX19LHtrZXk6XCJjb21wb25lbnRXaWxsVW5tb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5jbG9zZSl9fSx7a2V5Olwic2hvdWxkQ29tcG9uZW50VXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5zdGF0ZS5vcGVuIT09dC5vcGVufHx0aGlzLnByb3BzLmNvbG9yIT09ZS5jb2xvcnx8dGhpcy5wcm9wcy50aGVtZSE9PWUudGhlbWV9fSx7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcy5wcm9wcyxyPXQuY29sb3Isbj10LnNldENvbG9yLGE9XCJhdXRvXCI9PT1yP3RoaXMuZGVmYXVsdENvbG9yKCk6cjtyZXR1cm4gaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY3EtY29sb3ItcGlja2VyXCJ9LGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcInRpdGxlXCJ9LGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse3JlZjpmdW5jdGlvbih0KXtlLnRpdGxlUmVmPXR9LG9uQ2xpY2s6dGhpcy5vbkNsaWNrLGNsYXNzTmFtZTpcImlucHV0LWNvbG9yXCIsc3R5bGU6e2JhY2tncm91bmRDb2xvcjphfX0pKSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJkcm9wZG93biBcIi5jb25jYXQodGhpcy5zdGF0ZS5vcGVuP1wib3BlblwiOlwiXCIpfSx0aGlzLmNvbG9yTWFwLm1hcChmdW5jdGlvbihlLHQpe3JldHVybiBpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtrZXk6dCxjbGFzc05hbWU6XCJyb3dcIn0sZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2tleTplLGNsYXNzTmFtZTpcInRpbGUtY29sb3JcIixzdHlsZTp7YmFja2dyb3VuZENvbG9yOmV9LG9uQ2xpY2s6ZnVuY3Rpb24oKXtyZXR1cm4gbihlKX19KX0pKX0pKSl9fV0pLHR9KCksUz1mdW5jdGlvbihlKXt2YXIgdD1lLnZhbHVlLHI9ZS5vbkNoYW5nZTtyZXR1cm4gaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY3Etc3dpdGNoIFwiLmNvbmNhdCh0P1wib25cIjpcIm9mZlwiKSxvbkNsaWNrOmZ1bmN0aW9uKCl7cmV0dXJuIHIoIXQpfX0saS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiaGFuZGxlXCJ9KSl9LHc9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt2YXIgcjtyZXR1cm4gbCh0aGlzLHQpLChyPWQodGhpcyxmKHQpLmNhbGwodGhpcyxlKSkpLmZpcmVPbkNoYW5nZT1mdW5jdGlvbigpe3ZhciBlPXIucHJvcHMsdD1lLm1pbixuPWUubWF4LGk9ZS5vbkNoYW5nZSxhPWZ1bmN0aW9uKGUpe3JldHVybiByLnNldFN0YXRlKHt2YWx1ZTplfSxmdW5jdGlvbigpe3JldHVybiBpKHIuc3RhdGUudmFsdWUpfSl9O3ZvaWQgMCE9PW4mJnIuc3RhdGUudmFsdWU+bj9hKG4pOnZvaWQgMCE9PXQmJnIuc3RhdGUudmFsdWU8dD9hKHQpOmkoci5zdGF0ZS52YWx1ZSl9LHIub25VcGRhdGVWYWx1ZT1mdW5jdGlvbihlKXtlLnBlcnNpc3QoKSxyLnNldFN0YXRlKGZ1bmN0aW9uKCl7cmV0dXJue3ZhbHVlOmUudGFyZ2V0LnZhbHVlfX0pfSxyLmZpcmVPbkVudGVyPWZ1bmN0aW9uKGUpe1wiRW50ZXJcIj09PWUua2V5JiZyLmZpcmVPbkNoYW5nZSgpfSxyLnN0YXRlPXtvcmlnaW5hbFZhbHVlOlwiXCIsdmFsdWU6XCJcIn0sci5vblVwZGF0ZVZhbHVlPXIub25VcGRhdGVWYWx1ZS5iaW5kKHAocikpLHJ9cmV0dXJuIG0odCxpLmEuUHVyZUNvbXBvbmVudCksaCh0LFt7a2V5OlwiY29tcG9uZW50RGlkTW91bnRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5zZXRTdGF0ZShmdW5jdGlvbigpe3JldHVybntvcmlnaW5hbFZhbHVlOmUucHJvcHMudmFsdWUsdmFsdWU6ZS5wcm9wcy52YWx1ZX19KX19LHtrZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMucHJvcHMsdD1lLm1pbixyPWUubWF4LG49ZS5zdGVwO3JldHVybiBpLmEuY3JlYXRlRWxlbWVudChcImlucHV0XCIse3R5cGU6XCJudW1iZXJcIix2YWx1ZTp0aGlzLnN0YXRlLnZhbHVlLG9uQmx1cjp0aGlzLmZpcmVPbkNoYW5nZSxvbkNoYW5nZTp0aGlzLm9uVXBkYXRlVmFsdWUsb25LZXlQcmVzczp0aGlzLmZpcmVPbkVudGVyLG1pbjp0LG1heDpyLHN0ZXA6bn0pfX1dLFt7a2V5OlwiZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLnZhbHVlLG49ZS5taW4saT1lLm1heCxhPWUub25DaGFuZ2Usbz1yO3JldHVybiByIT09dC5vcmlnaW5hbFZhbHVlPyh2b2lkIDAhPT1pJiZyPmk/bz1pOnZvaWQgMCE9PW4mJnI8biYmKG89biksYShvKSx7b3JpZ2luYWxWYWx1ZTpyLHZhbHVlOm99KTpudWxsfX1dKSx0fSgpLHg9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS52YWx1ZSxyPWUub25DaGFuZ2Usbj10LlZhbHVlLGE9dC5Db2xvcixvPWZ1bmN0aW9uKGUpe3JldHVybiByKHtDb2xvcjphLFZhbHVlOmV9KX07cmV0dXJuIGkuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtjbGFzc05hbWU6XCJjcS1udW1iZXJjb2xvcnBpY2tlclwifSxpLmEuY3JlYXRlRWxlbWVudCh3LHt2YWx1ZTpuLG9uQ2hhbmdlOmZ1bmN0aW9uKGUpe3JldHVybiBvKGUpfX0pLGkuYS5jcmVhdGVFbGVtZW50KF8se2NvbG9yOmEsc2V0Q29sb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIHIoe0NvbG9yOmUsVmFsdWU6bn0pfX0pKX0saz1mdW5jdGlvbihlKXt2YXIgdD1lLmNsYXNzTmFtZSxyPWUuY2hpbGRyZW4sbj1lLmFjdGl2ZSxhPWUub25DaGFuZ2U7cmV0dXJuIGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse29uQ2xpY2s6ZnVuY3Rpb24oKXtyZXR1cm4gYSghbil9LGNsYXNzTmFtZTpcIlwiLmNvbmNhdCh0fHxcIlwiLFwiIFwiKS5jb25jYXQobj9cImFjdGl2ZVwiOlwiXCIsXCIgY3EtdG9nZ2xlXCIpfSxyKX0sTz1mdW5jdGlvbihlKXt2YXIgdD1lLm9uQ2hhbmdlLHI9ZS52YWx1ZSxuPVtcIkRlZmF1bHRcIixcIkhlbHZldGljYVwiLFwiQ291cmllclwiLFwiR2FyYW1vbmRcIixcIlBhbGF0aW5vXCIsXCJUaW1lcyBOZXcgUm9tYW5cIl0sYT1mdW5jdGlvbihlKXtyZXR1cm4gdChmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9zKHIsITApLmZvckVhY2goZnVuY3Rpb24odCl7YyhlLHQsclt0XSl9KTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHIpKTpzKHIpLmZvckVhY2goZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsdCkpfSl9cmV0dXJuIGV9KHt9LHIse30sZSkpfSxvPXIuZmFtaWx5LGw9ci5zdHlsZSx1PXIud2VpZ2h0LGg9ci5zaXplO3JldHVybiBpLmEuY3JlYXRlRWxlbWVudChcInNwYW5cIix7Y2xhc3NOYW1lOlwiY3EtZm9udHNldHRpbmdcIn0saS5hLmNyZWF0ZUVsZW1lbnQoayx7b25DaGFuZ2U6ZnVuY3Rpb24oZSl7cmV0dXJuIGEoe3dlaWdodDplP1wiYm9sZFwiOnZvaWQgMH0pfSxhY3RpdmU6ISF1fSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJjcS10ZXh0LWljb25cIn0saS5hLmNyZWF0ZUVsZW1lbnQoXCJiXCIsbnVsbCxcIkJcIikpKSxpLmEuY3JlYXRlRWxlbWVudChrLHthY3RpdmU6ISFsLG9uQ2hhbmdlOmZ1bmN0aW9uKGUpe3JldHVybiBhKHtzdHlsZTplP1wiaXRhbGljXCI6dm9pZCAwfSl9fSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJjcS10ZXh0LWljb25cIn0saS5hLmNyZWF0ZUVsZW1lbnQoXCJpXCIsbnVsbCxcImlcIikpKSxpLmEuY3JlYXRlRWxlbWVudCh5LHtjbGFzc05hbWU6XCJjcS1jaGFuZ2Vmb250c2l6ZVwiLHJvd3M6WzgsMTAsMTIsMTMsMTQsMTYsMjAsMjgsMzYsNDgsNjRdLHRpdGxlOmh8fFwiMTNweFwiLG9uUm93Q2xpY2s6ZnVuY3Rpb24oZSl7cmV0dXJuIGEoe3NpemU6XCJcIi5jb25jYXQoZSxcInB4XCIpfSl9fSxmdW5jdGlvbihlKXtyZXR1cm4gaS5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIse2NsYXNzTmFtZTpcIm9wdGlvblwifSxlKX0pLGkuYS5jcmVhdGVFbGVtZW50KHkse2NsYXNzTmFtZTpcImNxLWNoYW5nZWZvbnRmYW1pbHlcIixyb3dzOm4sdGl0bGU6b3x8blswXSxvblJvd0NsaWNrOmZ1bmN0aW9uKGUpe3JldHVybiBhKHtmYW1pbHk6ZX0pfX0sZnVuY3Rpb24oZSl7cmV0dXJuIGkuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtjbGFzc05hbWU6XCJvcHRpb25cIn0sZSl9KSl9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbigpe3ZhciBlLHQscj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06bnVsbCxuPW5ldyBQcm9taXNlKGZ1bmN0aW9uKHIsbil7ZT1yLHQ9bn0pO3JldHVybiBuLnJlc29sdmU9ZnVuY3Rpb24odCl7bi5pc1BlbmRpbmc9ITEsZSh0KX0sbi5yZWplY3Q9ZnVuY3Rpb24oZSl7bi5pc1BlbmRpbmc9ITEsdChlKX0sbi5kYXRhPXIsbn1yLmQodCxcImFcIixmdW5jdGlvbigpe3JldHVybiBufSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApLGk9ci5uKG4pLGE9KHIoMjIyKSxyKDE0KSksbz1yLm4oYSkscz1pLmEubWVtbyhmdW5jdGlvbihlKXt2YXIgdD1lLm9uU2VsZWN0SXRlbSxyPWUudXBkYXRlU2Nyb2xsU3B5LG49ZS5zZXRTY3JvbGxQYW5lbCxhPWUuUmVzdWx0c1BhbmVsLHM9ZS5GaWx0ZXJQYW5lbCxjPWUuU2VhcmNoSW5wdXQsbD1lLmlzTW9iaWxlLHU9ZS5oZWlnaHQsaD1lLmlkLGQ9ZS5zZWFyY2hJbnB1dENsYXNzTmFtZSxwPWUuZGlzYWJsZUFsbDtyZXR1cm4gaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY3EtY2F0ZWdvcmljYWwtZGlzcGxheVwiLHN0eWxlOntoZWlnaHQ6dX0saWQ6aH0saS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY3EtbG9va3VwLWZpbHRlcnNcIn0saS5hLmNyZWF0ZUVsZW1lbnQoYyx7c2VhcmNoSW5wdXRDbGFzc05hbWU6ZH0pLGkuYS5jcmVhdGVFbGVtZW50KHMsbnVsbCkpLGkuYS5jcmVhdGVFbGVtZW50KG8uYSx7Y2xhc3NOYW1lOlwiY3Etc2Nyb2xsLXBhbmVsXCIsb25TY3JvbGw6cixyZWY6bixzdHlsZTp7d2lkdGg6bD9cIjEwMCVcIjpcIjMxMnB4XCJ9fSxpLmEuY3JlYXRlRWxlbWVudChhLHtvblNlbGVjdEl0ZW06dCxpZDpoLGRpc2FibGVBbGw6cH0pKSl9KSxjPXIoNjUpLGw9cig1MiksdT1yKDY2KTtyLmQodCxcImJcIixmdW5jdGlvbigpe3JldHVybiBzfSksci5kKHQsXCJjXCIsZnVuY3Rpb24oKXtyZXR1cm4gYy5hfSksci5kKHQsXCJkXCIsZnVuY3Rpb24oKXtyZXR1cm4gbC5ifSksci5kKHQsXCJhXCIsZnVuY3Rpb24oKXtyZXR1cm4gbC5hfSksci5kKHQsXCJlXCIsZnVuY3Rpb24oKXtyZXR1cm4gdS5hfSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbiYmZSh0LG4pLHR9fSgpO3ZhciBpPXtlbWl0RGVsYXk6MTAsc3RyaWN0TW9kZTohMX0sYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPD0wfHx2b2lkIDA9PT1hcmd1bWVudHNbMF0/aTphcmd1bWVudHNbMF07IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKTt2YXIgcj12b2lkIDAsbj12b2lkIDA7cj10Lmhhc093blByb3BlcnR5KFwiZW1pdERlbGF5XCIpP3QuZW1pdERlbGF5OmkuZW1pdERlbGF5LHRoaXMuX2VtaXREZWxheT1yLG49dC5oYXNPd25Qcm9wZXJ0eShcInN0cmljdE1vZGVcIik/dC5zdHJpY3RNb2RlOmkuc3RyaWN0TW9kZSx0aGlzLl9zdHJpY3RNb2RlPW4sdGhpcy5fbGlzdGVuZXJzPXt9LHRoaXMuZXZlbnRzPVtdfXJldHVybiBuKGUsW3trZXk6XCJfYWRkTGlzdGVubmVyXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgVHlwZUVycm9yKFwibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpOy0xPT09dGhpcy5ldmVudHMuaW5kZXhPZihlKT8odGhpcy5fbGlzdGVuZXJzW2VdPVt7b25jZTpyLGZuOnR9XSx0aGlzLmV2ZW50cy5wdXNoKGUpKTp0aGlzLl9saXN0ZW5lcnNbZV0ucHVzaCh7b25jZTpyLGZuOnR9KX19LHtrZXk6XCJvblwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5fYWRkTGlzdGVubmVyKGUsdCwhMSl9fSx7a2V5Olwib25jZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5fYWRkTGlzdGVubmVyKGUsdCwhMCl9fSx7a2V5Olwib2ZmXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcixuLGk9dGhpcyxhPXRoaXMuZXZlbnRzLmluZGV4T2YoZSk7ZSYmLTEhPT1hJiYodD8ocj1bXSwobj1pLl9saXN0ZW5lcnNbZV0pLmZvckVhY2goZnVuY3Rpb24oZSxuKXtlLmZuPT09dCYmci51bnNoaWZ0KG4pfSksci5mb3JFYWNoKGZ1bmN0aW9uKGUpe24uc3BsaWNlKGUsMSl9KSxuLmxlbmd0aHx8KGkuZXZlbnRzLnNwbGljZShhLDEpLGRlbGV0ZSBpLl9saXN0ZW5lcnNbZV0pKTooZGVsZXRlIHRoaXMuX2xpc3RlbmVyc1tlXSx0aGlzLmV2ZW50cy5zcGxpY2UoYSwxKSkpfX0se2tleTpcIl9hcHBseUV2ZW50c1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5fbGlzdGVuZXJzW2VdO2lmKHImJnIubGVuZ3RoKXt2YXIgbj1bXTtyLmZvckVhY2goZnVuY3Rpb24oZSxyKXtlLmZuLmFwcGx5KG51bGwsdCksZS5vbmNlJiZuLnVuc2hpZnQocil9KSxuLmZvckVhY2goZnVuY3Rpb24oZSl7ci5zcGxpY2UoZSwxKX0pfWVsc2UgaWYodGhpcy5fc3RyaWN0TW9kZSl0aHJvd1wiTm8gbGlzdGVuZXJzIHNwZWNpZmllZCBmb3IgZXZlbnQ6IFwiK2V9fSx7a2V5OlwiZW1pdFwiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLHI9YXJndW1lbnRzLmxlbmd0aCxuPUFycmF5KHI+MT9yLTE6MCksaT0xO2k8cjtpKyspbltpLTFdPWFyZ3VtZW50c1tpXTt0aGlzLl9lbWl0RGVsYXk/c2V0VGltZW91dChmdW5jdGlvbigpe3QuX2FwcGx5RXZlbnRzLmNhbGwodCxlLG4pfSx0aGlzLl9lbWl0RGVsYXkpOnRoaXMuX2FwcGx5RXZlbnRzKGUsbil9fSx7a2V5OlwiZW1pdFN5bmNcIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxyPUFycmF5KHQ+MT90LTE6MCksbj0xO248dDtuKyspcltuLTFdPWFyZ3VtZW50c1tuXTt0aGlzLl9hcHBseUV2ZW50cyhlLHIpfX0se2tleTpcImRlc3Ryb3lcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2xpc3RlbmVycz17fSx0aGlzLmV2ZW50cz1bXX19XSksZX0oKTtlLmV4cG9ydHM9YX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuU2Nyb2xsYmFycz12b2lkIDA7dmFyIG4saT1yKDE5MyksYT0obj1pKSYmbi5fX2VzTW9kdWxlP246e2RlZmF1bHQ6bn07dC5kZWZhdWx0PWEuZGVmYXVsdCx0LlNjcm9sbGJhcnM9YS5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cig0KSxpPXIoMTEpO2Z1bmN0aW9uIGEoZSx0LHIsbixpLGEsbyl7dHJ5e3ZhciBzPWVbYV0obyksYz1zLnZhbHVlfWNhdGNoKGUpe3JldHVybiB2b2lkIHIoZSl9cy5kb25lP3QoYyk6UHJvbWlzZS5yZXNvbHZlKGMpLnRoZW4obixpKX1mdW5jdGlvbiBvKGUpe3JldHVybiBmdW5jdGlvbigpe3ZhciB0PXRoaXMscj1hcmd1bWVudHM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKG4saSl7dmFyIG89ZS5hcHBseSh0LHIpO2Z1bmN0aW9uIHMoZSl7YShvLG4saSxzLGMsXCJuZXh0XCIsZSl9ZnVuY3Rpb24gYyhlKXthKG8sbixpLHMsYyxcInRocm93XCIsZSl9cyh2b2lkIDApfSl9fWZ1bmN0aW9uIHMoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fXZhciBjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3ZhciB0PXRoaXM7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0aGlzLmNsb2NrU3RhcnRlZD0hMSx0aGlzLmNsb2NrU3RhcnRlZFByb21pc2U9bmV3IGkuYSx0aGlzLl90aW1lUmVzcG9uc2U9ZnVuY3Rpb24oZSl7aWYoZS5lcnJvciYmKHQuY2xvY2tTdGFydGVkPSExKSx0LmNsb2NrU3RhcnRlZCl7dmFyIHI9ZS50aW1lLGk9T2JqZWN0KG4ubCkobmV3IERhdGUpO3Quc2VydmVyVGltZUF0UmVzcG9uc2U9cisoaS10LmNsaWVudFRpbWVBdFJlcXVlc3QpLzI7Y2xlYXJJbnRlcnZhbCh0LnVwZGF0ZVRpbWVJbnRlcnZhbCksdC51cGRhdGVUaW1lSW50ZXJ2YWw9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXt0LnNlcnZlclRpbWVBdFJlc3BvbnNlKz0xfSwxZTMpfWVsc2UgdC5pbml0KCl9fXZhciB0LHIsYSxjLGw7cmV0dXJuIHQ9ZSxyPVt7a2V5OlwiaW5pdFwiLHZhbHVlOihsPW8ocmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gZSh0KXtyZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6aWYodGhpcy5fYXBpPXQsdGhpcy5jbG9ja1N0YXJ0ZWQpe2UubmV4dD05O2JyZWFrfXJldHVybiB0aGlzLmNsb2NrU3RhcnRlZD0hMCxjbGVhckludGVydmFsKHRoaXMuZ2V0VGltZUludGVydmFsKSxlLm5leHQ9Nix0aGlzLnJlcXVlc3RUaW1lKCk7Y2FzZSA2OnRoaXMuZ2V0VGltZUludGVydmFsPXNldEludGVydmFsKHRoaXMucmVxdWVzdFRpbWUuYmluZCh0aGlzKSwzZTQpLGUubmV4dD0xMDticmVhaztjYXNlIDk6cmV0dXJuIGUuYWJydXB0KFwicmV0dXJuXCIsdGhpcy5jbG9ja1N0YXJ0ZWRQcm9taXNlKTtjYXNlIDEwOmNhc2VcImVuZFwiOnJldHVybiBlLnN0b3AoKX19LGUsdGhpcyl9KSksZnVuY3Rpb24oZSl7cmV0dXJuIGwuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJyZXF1ZXN0VGltZVwiLHZhbHVlOihjPW8ocmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gZSgpe3JldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gdGhpcy5jbGllbnRUaW1lQXRSZXF1ZXN0PU9iamVjdChuLmwpKG5ldyBEYXRlKSxlLm5leHQ9Myx0aGlzLl9hcGkuZ2V0U2VydmVyVGltZSgpLnRoZW4odGhpcy5fdGltZVJlc3BvbnNlKTtjYXNlIDM6dGhpcy5jbG9ja1N0YXJ0ZWRQcm9taXNlLnJlc29sdmUoKTtjYXNlIDQ6Y2FzZVwiZW5kXCI6cmV0dXJuIGUuc3RvcCgpfX0sZSx0aGlzKX0pKSxmdW5jdGlvbigpe3JldHVybiBjLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlwiZ2V0RXBvY2hcIix2YWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMuc2VydmVyVGltZUF0UmVzcG9uc2UpcmV0dXJuIHRoaXMuc2VydmVyVGltZUF0UmVzcG9uc2U7dGhyb3cgbmV3IEVycm9yKFwiU2VydmVyIHRpbWUgaXMgdW5kZWZpbmVkIVwiKX19LHtrZXk6XCJnZXRMb2NhbERhdGVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBPYmplY3Qobi5pKSh0aGlzLmdldEVwb2NoKCkpfX0se2tleTpcImdldFVUQ0RhdGVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBDSVEuc3RyVG9EYXRlVGltZShPYmplY3Qobi5rKSh0aGlzLmdldEVwb2NoKCkpKX19XSxhPVt7a2V5OlwiZ2V0SW5zdGFuY2VcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnN0YW5jZXx8KHRoaXMuX2luc3RhbmNlPW5ldyBlKSx0aGlzLl9pbnN0YW5jZX19XSxyJiZzKHQucHJvdG90eXBlLHIpLGEmJnModCxhKSxlfSgpO2MuX2luc3RhbmNlPXZvaWQgMCx0LmE9Y30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMCksaT1yLm4obiksYT1yKDUpLG89cig0KTtmdW5jdGlvbiBzKGUpe3JldHVybihzPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBjKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1mdW5jdGlvbiBsKGUsdCl7cmV0dXJuIXR8fFwib2JqZWN0XCIhPT1zKHQpJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0P2Z1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiBlfShlKTp0fWZ1bmN0aW9uIHUoZSl7cmV0dXJuKHU9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZjpmdW5jdGlvbihlKXtyZXR1cm4gZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihlKX0pKGUpfWZ1bmN0aW9uIGgoZSx0KXtyZXR1cm4oaD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuX19wcm90b19fPXQsZX0pKGUsdCl9dmFyIGQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciBlLHI7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KTtmb3IodmFyIG49YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheShuKSxhPTA7YTxuO2ErKylpW2FdPWFyZ3VtZW50c1thXTtyZXR1cm4ocj1sKHRoaXMsKGU9dSh0KSkuY2FsbC5hcHBseShlLFt0aGlzXS5jb25jYXQoaSkpKSkucHJpY2U9bnVsbCxyLmRhdGU9bnVsbCxyLmVsZW09bnVsbCxyLmN0eD1udWxsLHIuc3R4PW51bGwsci5pbmplY3Rpb25JZD1udWxsLHIuc2V0UG9zaXRpb249ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5lcG9jaCxuPWUucHJpY2U7ci5wcmljZT0rbnx8bnVsbCxyLmRhdGU9Q0lRLnN0clRvRGF0ZVRpbWUoT2JqZWN0KG8uaykodCkpLHIudXBkYXRlQ1NTKCl9LHIudXBkYXRlQ1NTPWZ1bmN0aW9uKCl7aWYoci5lbGVtJiZyLmN0eClpZihyLmRhdGUpe3ZhciBlPXIuZWxlbSx0PXIuc3R4LG49dC5jaGFydCxpPTAsYT0wLG89ITAscz0rci5wcm9wcy50aHJlc2hvbGR8fDA7aWYoKG89IXN8fHQubGF5b3V0LmNhbmRsZVdpZHRoPj1zKSYmbi5kYXRhU2V0JiZuLmRhdGFTZXQubGVuZ3RoJiZ0Lm1haW5TZXJpZXNSZW5kZXJlcil7dmFyIGM9dC50aWNrRnJvbURhdGUoci5kYXRlLG4pO2M+LTEmJnQuY2hhcnQuZGF0YVNldFtjXSYmdC5jaGFydC5kYXRhU2V0W2NdLkNsb3NlIT09ci5wcmljZSYmKGRlbGV0ZSB0LmNoYXJ0LnRpY2tDYWNoZVtyLmRhdGUuZ2V0VGltZSgpXSxjPXQudGlja0Zyb21EYXRlKHIuZGF0ZSxuKSk7dmFyIGw9dC5waXhlbEZyb21UaWNrKGMsbiksdT1uLmRhdGFTZXRbY107aWYodSYmdS5EVDxyLmRhdGUpe3ZhciBoPW4uZGF0YVNldFtjKzFdLGQ9Yz4wP24uZGF0YVNldFtjLTFdOm51bGw7aWYoaCYmaC5DbG9zZSYmaC5EVD5yLmRhdGUpe3ZhciBwPXQucGl4ZWxGcm9tVGljayhjKzEsbiktbDtsKz0oci5kYXRlLXUuRFQpLyhoLkRULXUuRFQpKnB9ZWxzZSBpZihkJiZkLkNsb3NlKXt2YXIgZj1sLXQucGl4ZWxGcm9tVGljayhjLTEsbik7bCs9KHIuZGF0ZS11LkRUKS8odS5EVC1kLkRUKSpmfX12YXIgbT1yLnByaWNlP3QucGl4ZWxGcm9tUHJpY2Uoci5wcmljZSxuLnBhbmVsKTowO24ueUF4aXMubGVmdD5sJiZuLnlBeGlzLnRvcDw9bSYmbi55QXhpcy5ib3R0b20+PW0/KGk9K20sYT1NYXRoLnJvdW5kKGwpKTpvPSExfWUuc3R5bGUudHJhbnNmb3JtPVwidHJhbnNsYXRlKFwiLmNvbmNhdChhLFwicHgsIFwiKS5jb25jYXQoaSxcInB4KVwiKSxlLnN0eWxlLnZpc2liaWxpdHk9bz9cInZpc2libGVcIjpcImhpZGRlblwifWVsc2Ugci5lbGVtLnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIn0sci5zZXRSZWY9ZnVuY3Rpb24oZSl7ci5lbGVtPWU7dmFyIHQ9ZT97ZGl2OmUsc2V0UG9zaXRpb246ci5zZXRQb3NpdGlvbn06bnVsbDsoci5wcm9wcy5tYXJrZXJSZWYmJnIucHJvcHMubWFya2VyUmVmKHQpLG51bGwhPT1lKT9yLnByb3BzLmNvbnRleHRQcm9taXNlLnRoZW4oZnVuY3Rpb24oZSl7ci5jdHg9ZSxyLnN0eD1yLmN0eC5zdHgsci5pbmplY3Rpb25JZD1yLnN0eC5hcHBlbmQoXCJkcmF3XCIsci51cGRhdGVDU1MpLHIudXBkYXRlQ1NTKCl9KTpyLmluamVjdGlvbklkJiYoci5zdHgucmVtb3ZlSW5qZWN0aW9uKHIuaW5qZWN0aW9uSWQpLHIuY3R4PW51bGwsci5zdHg9bnVsbCl9LHJ9dmFyIHIsYSxzO3JldHVybiBmdW5jdGlvbihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmaChlLHQpfSh0LG5bXCJDb21wb25lbnRcIl0pLHI9dCwoYT1be2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wcm9wcyx0PWUuY2xhc3NOYW1lLHI9ZS5jaGlsZHJlbjtyZXR1cm4gaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOnQscmVmOnRoaXMuc2V0UmVmLHN0eWxlOntwb3NpdGlvbjpcImFic29sdXRlXCJ9fSxyKX19XSkmJmMoci5wcm90b3R5cGUsYSkscyYmYyhyLHMpLHR9KCk7dC5hPU9iamVjdChhLmEpKGZ1bmN0aW9uKGUpe3JldHVybntjb250ZXh0UHJvbWlzZTplLmNoYXJ0LmNvbnRleHRQcm9taXNlfX0pKGQpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ci5kKHQsXCJhXCIsZnVuY3Rpb24oKXtyZXR1cm4gbn0pO3ZhciBuPVtdfSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtpZDpcImljLWVkaXQtdXNhZ2VcIix2aWV3Qm94OlwiMCAwIDE2IDE2XCIsdXJsOnIucCtcInNwcml0ZS0yNzg2ZWEuc21hcnRjaGFydHMuc3ZnI2ljLWVkaXQtdXNhZ2VcIix0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVybH19fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigwKSxpPXIubihuKTtyKDIxMik7dC5hPWZ1bmN0aW9uKGUpe3ZhciB0PWUub3BlbixyPWUuY2hpbGRyZW4sbj1lLm9uQ29udGFpbmVyQ2xpY2ssYT1lLmNsYXNzTmFtZTtyZXR1cm4gaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiXCIuY29uY2F0KGF8fFwiY3EtZGlhbG9nXCIsXCIgXCIpLmNvbmNhdCh0P1wiIG9wZW5cIjpcIlwiKSxvbkNsaWNrOm59LHIpfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3IuZCh0LFwiYVwiLGZ1bmN0aW9uKCl7cmV0dXJuIGt9KTt2YXIgbixpLGEsbyxzLGMsbCx1LGgsZCxwLGY9cigxKSxtPXIoNSksZz1yKDE5KSxiPXIoOCk7ZnVuY3Rpb24geShlLHQpe3ZhciByPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpLHIucHVzaC5hcHBseShyLG4pfXJldHVybiByfWZ1bmN0aW9uIHYoZSx0LHIpe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09cixlfWZ1bmN0aW9uIF8oZSx0LHIsbil7ciYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7ZW51bWVyYWJsZTpyLmVudW1lcmFibGUsY29uZmlndXJhYmxlOnIuY29uZmlndXJhYmxlLHdyaXRhYmxlOnIud3JpdGFibGUsdmFsdWU6ci5pbml0aWFsaXplcj9yLmluaXRpYWxpemVyLmNhbGwobik6dm9pZCAwfSl9ZnVuY3Rpb24gUyhlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19ZnVuY3Rpb24gdyhlLHQscil7cmV0dXJuIHQmJlMoZS5wcm90b3R5cGUsdCksciYmUyhlLHIpLGV9ZnVuY3Rpb24geChlLHQscixuLGkpe3ZhciBhPXt9O3JldHVybiBPYmplY3Qua2V5cyhuKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2FbZV09bltlXX0pLGEuZW51bWVyYWJsZT0hIWEuZW51bWVyYWJsZSxhLmNvbmZpZ3VyYWJsZT0hIWEuY29uZmlndXJhYmxlLChcInZhbHVlXCJpbiBhfHxhLmluaXRpYWxpemVyKSYmKGEud3JpdGFibGU9ITApLGE9ci5zbGljZSgpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24ocixuKXtyZXR1cm4gbihlLHQscil8fHJ9LGEpLGkmJnZvaWQgMCE9PWEuaW5pdGlhbGl6ZXImJihhLnZhbHVlPWEuaW5pdGlhbGl6ZXI/YS5pbml0aWFsaXplci5jYWxsKGkpOnZvaWQgMCxhLmluaXRpYWxpemVyPXZvaWQgMCksdm9pZCAwPT09YS5pbml0aWFsaXplciYmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsYSksYT1udWxsKSxhfXZhciBrPShuPWYuYWN0aW9uLmJvdW5kLGk9Zi5hY3Rpb24uYm91bmQsYT1mLmFjdGlvbi5ib3VuZCxvPWYuYWN0aW9uLmJvdW5kLHM9Zi5hY3Rpb24uYm91bmQsbD14KChjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXt2YXIgcj10aGlzLG49dC5tYWluU3RvcmUsaT10LmdldENvbnRleHQsYT10Lm9uRGVsZXRlZCxvPXQuZmF2b3JpdGVzSWQscz10Lm9uQ2hhbmdlZDshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpLF8odGhpcyxcIml0ZW1zXCIsbCx0aGlzKSxfKHRoaXMsXCJ0aXRsZVwiLHUsdGhpcyksXyh0aGlzLFwiZGVzY3JpcHRpb25cIixoLHRoaXMpLF8odGhpcyxcImlkXCIsZCx0aGlzKSxfKHRoaXMsXCJhY3RpdmVUYWJcIixwLHRoaXMpLHRoaXMuY29ubmVjdD1PYmplY3QobS5hKShmdW5jdGlvbigpe3JldHVybntpdGVtczpyLml0ZW1zLHRpdGxlOnIudGl0bGUsZGVzY3JpcHRpb246ci5kZXNjcmlwdGlvbixhY3RpdmVUYWI6ci5hY3RpdmVUYWIsc2hvd1RhYnM6ci5zaG93VGFicyxzZXRPcGVuOnIuc2V0T3BlbixvblRhYkNsaWNrOnIub25UYWJDbGljayxvbkRlbGV0ZUNsaWNrOnIub25EZWxldGVkP3Iub25EZWxldGVDbGljazp2b2lkIDAsZmF2b3JpdGVzSWQ6ci5mYXZvcml0ZXNJZCxvblJlc2V0Q2xpY2s6ci5vblJlc2V0Q2xpY2ssb25JdGVtQ2hhbmdlOnIub25JdGVtQ2hhbmdlLERpYWxvZzpyLkRpYWxvZyxvcGVuOnIub3BlbixpZDpyLmlkLHRoZW1lOnIudGhlbWV9fSksdGhpcy5tYWluU3RvcmU9bix0aGlzLmdldENvbnRleHQ9aSx0aGlzLm9uRGVsZXRlZD1hLHRoaXMuZmF2b3JpdGVzSWQ9byx0aGlzLm9uQ2hhbmdlZD1zLHRoaXMubWVudT1uZXcgYi5hKG4se3JvdXRlOlwiaW5kaWNhdG9yLXNldHRpbmdcIn0pLHRoaXMuRGlhbG9nPXRoaXMubWVudS5kaWFsb2cuY29ubmVjdChnLmEpfXJldHVybiB3KGUsW3trZXk6XCJzaG93VGFic1wiLGdldDpmdW5jdGlvbigpe3JldHVybiEhdGhpcy5kZXNjcmlwdGlvbn19XSksdyhlLFt7a2V5Olwic2V0T3BlblwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm1lbnUuc2V0T3BlbihlKX19LHtrZXk6XCJvbkRlbGV0ZUNsaWNrXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLm9uRGVsZXRlZCgpLHRoaXMubWVudS5zZXRPcGVuKCExKX19LHtrZXk6XCJvblRhYkNsaWNrXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5hY3RpdmVUYWI9ZX19LHtrZXk6XCJvblJlc2V0Q2xpY2tcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuaXRlbXMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj95KHIsITApLmZvckVhY2goZnVuY3Rpb24odCl7dihlLHQsclt0XSl9KTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHIpKTp5KHIpLmZvckVhY2goZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsdCkpfSl9cmV0dXJuIGV9KHt9LGUse3ZhbHVlOmUuZGVmYXVsdFZhbHVlfSl9KTt0aGlzLml0ZW1zPWUsdGhpcy5vbkNoYW5nZWQoZSl9fSx7a2V5Olwib25JdGVtQ2hhbmdlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLml0ZW1zLmZpbmQoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWQ9PT1lfSk7ciYmci52YWx1ZSE9PXQmJihyLnZhbHVlPXQsdGhpcy5pdGVtcz10aGlzLml0ZW1zLnNsaWNlKDApLHRoaXMub25DaGFuZ2VkKHRoaXMuaXRlbXMpKX19LHtrZXk6XCJjb250ZXh0XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0LmNvbnRleHR9fSx7a2V5Olwic3R4XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGV4dC5zdHh9fSx7a2V5OlwidGhlbWVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnRTZXR0aW5nLnRoZW1lfX0se2tleTpcIm9wZW5cIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tZW51Lm9wZW59fV0pLGV9KCkpLnByb3RvdHlwZSxcIml0ZW1zXCIsW2Yub2JzZXJ2YWJsZV0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOmZ1bmN0aW9uKCl7cmV0dXJuW119fSksdT14KGMucHJvdG90eXBlLFwidGl0bGVcIixbZi5vYnNlcnZhYmxlXSx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITAsaW5pdGlhbGl6ZXI6ZnVuY3Rpb24oKXtyZXR1cm5cIlwifX0pLGg9eChjLnByb3RvdHlwZSxcImRlc2NyaXB0aW9uXCIsW2Yub2JzZXJ2YWJsZV0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOmZ1bmN0aW9uKCl7cmV0dXJuXCJcIn19KSxkPXgoYy5wcm90b3R5cGUsXCJpZFwiLFtmLm9ic2VydmFibGVdLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCxpbml0aWFsaXplcjpudWxsfSkscD14KGMucHJvdG90eXBlLFwiYWN0aXZlVGFiXCIsW2Yub2JzZXJ2YWJsZV0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOmZ1bmN0aW9uKCl7cmV0dXJuXCJzZXR0aW5nc1wifX0pLHgoYy5wcm90b3R5cGUsXCJzaG93VGFic1wiLFtmLmNvbXB1dGVkXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGMucHJvdG90eXBlLFwic2hvd1RhYnNcIiksYy5wcm90b3R5cGUpLHgoYy5wcm90b3R5cGUsXCJvcGVuXCIsW2YuY29tcHV0ZWRdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYy5wcm90b3R5cGUsXCJvcGVuXCIpLGMucHJvdG90eXBlKSx4KGMucHJvdG90eXBlLFwic2V0T3BlblwiLFtuXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGMucHJvdG90eXBlLFwic2V0T3BlblwiKSxjLnByb3RvdHlwZSkseChjLnByb3RvdHlwZSxcIm9uRGVsZXRlQ2xpY2tcIixbaV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjLnByb3RvdHlwZSxcIm9uRGVsZXRlQ2xpY2tcIiksYy5wcm90b3R5cGUpLHgoYy5wcm90b3R5cGUsXCJvblRhYkNsaWNrXCIsW2FdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYy5wcm90b3R5cGUsXCJvblRhYkNsaWNrXCIpLGMucHJvdG90eXBlKSx4KGMucHJvdG90eXBlLFwib25SZXNldENsaWNrXCIsW29dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYy5wcm90b3R5cGUsXCJvblJlc2V0Q2xpY2tcIiksYy5wcm90b3R5cGUpLHgoYy5wcm90b3R5cGUsXCJvbkl0ZW1DaGFuZ2VcIixbc10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjLnByb3RvdHlwZSxcIm9uSXRlbUNoYW5nZVwiKSxjLnByb3RvdHlwZSksYyl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oZSl7dmFyIG49cigwKSxpPXIubihuKSxhPXIoMTApLG89cigyKSxzPXIoNDApLGM9KHIoMjIxKSxmdW5jdGlvbihlKXt2YXIgdD1lLml0ZW1zLHI9ZS50aGVtZSxuPWUub25JdGVtQ2hhbmdlLG89e3N3aXRjaDpmdW5jdGlvbihlKXtyZXR1cm4gaS5hLmNyZWF0ZUVsZW1lbnQoYS5oLHt2YWx1ZTplLnZhbHVlLG9uQ2hhbmdlOmZ1bmN0aW9uKHQpe3JldHVybiBuKGUuaWQsdCl9fSl9LGNvbG9ycGlja2VyOmZ1bmN0aW9uKGUpe3JldHVybiBpLmEuY3JlYXRlRWxlbWVudChhLmEse3RoZW1lOnIsY29sb3I6ZS52YWx1ZSxzZXRDb2xvcjpmdW5jdGlvbih0KXtyZXR1cm4gbihlLmlkLHQpfX0pfSxwYXR0ZXJuOmZ1bmN0aW9uKGUpe3ZhciByPXQuZmluZChmdW5jdGlvbihlKXtyZXR1cm5cImxpbmVXaWR0aFwiPT09ZS5pZH0pLnZhbHVlO3JldHVybiBpLmEuY3JlYXRlRWxlbWVudChhLmYse3BhdHRlcm46ZS52YWx1ZSxsaW5lV2lkdGg6cixvbkNoYW5nZTpmdW5jdGlvbihlKXtuKFwicGF0dGVyblwiLGUucGF0dGVybiksbihcImxpbmVXaWR0aFwiLGUud2lkdGgpfX0pfSxzZWxlY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIGkuYS5jcmVhdGVFbGVtZW50KGEuYix7cm93czpPYmplY3Qua2V5cyhlLm9wdGlvbnMpLHRpdGxlOmUudmFsdWUsb25Sb3dDbGljazpmdW5jdGlvbih0KXtyZXR1cm4gbihlLmlkLHQpfX0sZnVuY3Rpb24oZSl7cmV0dXJuIGV9KX0sbnVtYmVyOmZ1bmN0aW9uKGUpe3JldHVybiBpLmEuY3JlYXRlRWxlbWVudChhLmcse21pbjplLm1pbnx8MSxzdGVwOmUuc3RlcHx8MSxtYXg6ZS5tYXh8fDEwMCx2YWx1ZTplLnZhbHVlLG9uQ2hhbmdlOmZ1bmN0aW9uKHQpe3JldHVybiBuKGUuaWQsdCl9fSl9LG51bWVyaWNpbnB1dDpmdW5jdGlvbihlKXtyZXR1cm4gaS5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIse2NsYXNzTmFtZTpcImNpcS1udW0taW5wdXRcIn0saS5hLmNyZWF0ZUVsZW1lbnQoYS5lLHt2YWx1ZTplLnZhbHVlLG9uQ2hhbmdlOmZ1bmN0aW9uKHQpe3JldHVybiBuKGUuaWQsdCl9LG1pbjplLm1pbixzdGVwOmUuc3RlcCxtYXg6ZS5tYXh9KSl9LG51bWJlcmNvbG9ycGlja2VyOmZ1bmN0aW9uKGUpe3JldHVybiBpLmEuY3JlYXRlRWxlbWVudChhLmQse3ZhbHVlOmUudmFsdWUsb25DaGFuZ2U6ZnVuY3Rpb24odCl7cmV0dXJuIG4oZS5pZCx0KX19KX0sZm9udDpmdW5jdGlvbihlKXtyZXR1cm4gaS5hLmNyZWF0ZUVsZW1lbnQoYS5jLHt2YWx1ZTplLnZhbHVlLG9uQ2hhbmdlOmZ1bmN0aW9uKHQpe3JldHVybiBuKGUuaWQsdCl9fSl9fTtyZXR1cm4gaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiaXRlbXNcIn0sdC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIG9bZS50eXBlXSYmaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7a2V5OmUuaWQsY2xhc3NOYW1lOlwiaXRlbVwifSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJ0aXRsZVwifSxpLmEuY3JlYXRlRWxlbWVudChcInNwYW5cIixudWxsLGUudGl0bGUpLG9bZS50eXBlXShlKSkpfSkpfSksbD1mdW5jdGlvbih0KXt2YXIgcj10Lm9uUmVzZXRDbGljaztyZXR1cm4gaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwicmVzZXRcIixvbkNsaWNrOnJ9LGUudHJhbnNsYXRlKFwiUkVTRVRcIikpfSx1PWZ1bmN0aW9uKHQpe3ZhciByPXQuc2V0T3BlbjtyZXR1cm4gaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiZG9uZVwiLG9uQ2xpY2s6ZnVuY3Rpb24oKXtyZXR1cm4gcighMSl9fSxlLnRyYW5zbGF0ZShcIkRPTkVcIikpfSxoPWZ1bmN0aW9uKGUpe3ZhciB0PWUub25UYWJDbGljayxyPWUuYWN0aXZlVGFiO3JldHVybiBpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJ0YWJzXCJ9LGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse29uQ2xpY2s6ZnVuY3Rpb24oKXtyZXR1cm4gdChcInNldHRpbmdzXCIpfSxjbGFzc05hbWU6XCJzZXR0aW5nc1wiPT09cj9cImFjdGl2ZVwiOlwiXCJ9LFwiIFNldHRpbmdzXCIpLGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse29uQ2xpY2s6ZnVuY3Rpb24oKXtyZXR1cm4gdChcImRlc2NyaXB0aW9uXCIpfSxjbGFzc05hbWU6XCJkZXNjcmlwdGlvblwiPT09cj9cImFjdGl2ZVwiOlwiXCJ9LFwiIERlc2NyaXB0aW9uXCIpLGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcImFjdGl2ZS1ib3JkZXIgXCIuY29uY2F0KFwic2V0dGluZ3NcIj09PXI/XCJmaXJzdFwiOlwic2Vjb25kXCIpfSkpfTt0LmE9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5pZCxyPWUuaXRlbXMsbj1lLnRpdGxlLGE9ZS5kZXNjcmlwdGlvbixkPWUuYWN0aXZlVGFiLHA9ZS5zZXRPcGVuLGY9ZS5zaG93VGFicyxtPWUub25UYWJDbGljayxnPWUub25EZWxldGVDbGljayxiPWUuZmF2b3JpdGVzSWQseT1lLm9uUmVzZXRDbGljayx2PWUub25JdGVtQ2hhbmdlLF89ZS5EaWFsb2csUz1lLm9wZW4sdz1lLnRoZW1lO3JldHVybiBpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJjcS1kaWFsb2ctb3ZlcmxheSBcIi5jb25jYXQoUz9cImNxLWRpYWxvZy1hY3RpdmVcIjpcIlwiKX0saS5hLmNyZWF0ZUVsZW1lbnQoXyx7Y2xhc3NOYW1lOlwiY3EtZGlhbG9nIGNxLXNldHRpbmdzLWRpYWxvZ1wifSxpLmEuY3JlYXRlRWxlbWVudChpLmEuRnJhZ21lbnQsbnVsbCxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJ0aXRsZWJhciBcIi5jb25jYXQoZj9cIlwiOlwibm8tdGFic1wiKX0saS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwidGl0bGVcIn0sbiksaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiaWNvbnNcIn0sZyYmaS5hLmNyZWF0ZUVsZW1lbnQoby5xLHtvbkNsaWNrOmcsY2xhc3NOYW1lOlwibWFyZ2luXCJ9KSxiJiZpLmEuY3JlYXRlRWxlbWVudChzLmEse2lkOnQsY2F0ZWdvcnk6Yn0pKSksZiYmaS5hLmNyZWF0ZUVsZW1lbnQoaCx7YWN0aXZlVGFiOmQsb25UYWJDbGljazptfSksXCJzZXR0aW5nc1wiPT09ZD9pLmEuY3JlYXRlRWxlbWVudChpLmEuRnJhZ21lbnQsbnVsbCxpLmEuY3JlYXRlRWxlbWVudChjLHtpdGVtczpyLHRoZW1lOncsb25JdGVtQ2hhbmdlOnZ9KSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJidXR0b25zXCJ9LGkuYS5jcmVhdGVFbGVtZW50KGwse29uUmVzZXRDbGljazp5fSksaS5hLmNyZWF0ZUVsZW1lbnQodSx7c2V0T3BlbjpwfSkpKTppLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJkZXNjcmlwdGlvblwifSxhKSkpKX19KS5jYWxsKHRoaXMscig2KS50KX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihlKXtyLmQodCxcImFcIixmdW5jdGlvbigpe3JldHVybiBNfSk7dmFyIG4saSxhLG8scyxjLGwsdSxoLGQscCxmLG0sZyxiLHksdixfLFM9cigwKSx3PXIubihTKSx4PXIoMSksaz1yKDUpLE89cig0KSxDPXIoMTY5KSxFPXIoMTIpO2Z1bmN0aW9uIFQoZSl7cmV0dXJuKFQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIFAoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpe2Zvcih2YXIgdD0wLHI9bmV3IEFycmF5KGUubGVuZ3RoKTt0PGUubGVuZ3RoO3QrKylyW3RdPWVbdF07cmV0dXJuIHJ9fShlKXx8ZnVuY3Rpb24oZSl7aWYoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChlKXx8XCJbb2JqZWN0IEFyZ3VtZW50c11cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSlyZXR1cm4gQXJyYXkuZnJvbShlKX0oZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpfSgpfWZ1bmN0aW9uIEQoZSx0KXt2YXIgcj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSxyLnB1c2guYXBwbHkocixuKX1yZXR1cm4gcn1mdW5jdGlvbiBqKGUsdCxyKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPXIsZX1mdW5jdGlvbiBBKGUsdCxyLG4pe3ImJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse2VudW1lcmFibGU6ci5lbnVtZXJhYmxlLGNvbmZpZ3VyYWJsZTpyLmNvbmZpZ3VyYWJsZSx3cml0YWJsZTpyLndyaXRhYmxlLHZhbHVlOnIuaW5pdGlhbGl6ZXI/ci5pbml0aWFsaXplci5jYWxsKG4pOnZvaWQgMH0pfWZ1bmN0aW9uIE4oZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fWZ1bmN0aW9uIEkoZSx0LHIsbixpKXt2YXIgYT17fTtyZXR1cm4gT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbihlKXthW2VdPW5bZV19KSxhLmVudW1lcmFibGU9ISFhLmVudW1lcmFibGUsYS5jb25maWd1cmFibGU9ISFhLmNvbmZpZ3VyYWJsZSwoXCJ2YWx1ZVwiaW4gYXx8YS5pbml0aWFsaXplcikmJihhLndyaXRhYmxlPSEwKSxhPXIuc2xpY2UoKS5yZXZlcnNlKCkucmVkdWNlKGZ1bmN0aW9uKHIsbil7cmV0dXJuIG4oZSx0LHIpfHxyfSxhKSxpJiZ2b2lkIDAhPT1hLmluaXRpYWxpemVyJiYoYS52YWx1ZT1hLmluaXRpYWxpemVyP2EuaW5pdGlhbGl6ZXIuY2FsbChpKTp2b2lkIDAsYS5pbml0aWFsaXplcj12b2lkIDApLHZvaWQgMD09PWEuaW5pdGlhbGl6ZXImJihPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LGEpLGE9bnVsbCksYX12YXIgTT0obj14LmFjdGlvbi5ib3VuZCxpPXguYWN0aW9uLmJvdW5kLGE9eC5hY3Rpb24uYm91bmQsbz14LmFjdGlvbi5ib3VuZCxzPXguYWN0aW9uLmJvdW5kLGM9eC5hY3Rpb24uYm91bmQsbD14LmFjdGlvbi5ib3VuZCx1PXguYWN0aW9uLmJvdW5kLGQ9SSgoaD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIHI9dGhpcyxuPWUuZ2V0Q2F0ZWdvcmljYWxJdGVtcyxpPWUub25TZWxlY3RJdGVtLGE9ZS5nZXRJc1Nob3duLG89ZS5nZXRBY3RpdmVDYXRlZ29yeSxzPWUuYWN0aXZlT3B0aW9ucyxjPWUucGxhY2Vob2xkZXJUZXh0LGw9ZS5mYXZvcml0ZXNJZCx1PWUubWFpblN0b3JlLGg9ZS5pZCxTPWUuZ2V0Q3VycmVudEFjdGl2ZUNhdGVnb3J5LE89ZS5nZXRDdXJyZW50QWN0aXZlU3ViQ2F0ZWdvcnksVD1lLnNlYXJjaElucHV0Q2xhc3NOYW1lOyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksQSh0aGlzLFwiaXNTaG93blwiLGQsdGhpcyksQSh0aGlzLFwic2Nyb2xsUGFuZWxcIixwLHRoaXMpLEEodGhpcyxcImZpbHRlclRleHRcIixmLHRoaXMpLEEodGhpcyxcImFjdGl2ZUNhdGVnb3J5S2V5XCIsbSx0aGlzKSxBKHRoaXMsXCJmb2N1c2VkQ2F0ZWdvcnlLZXlcIixnLHRoaXMpLEEodGhpcyxcImlzU2Nyb2xsaW5nRG93blwiLGIsdGhpcyksdGhpcy5zY3JvbGxUb3A9dm9pZCAwLEEodGhpcyxcImFjdGl2ZUhlYWRLZXlcIix5LHRoaXMpLEEodGhpcyxcImFjdGl2ZUhlYWRUb3BcIix2LHRoaXMpLEEodGhpcyxcImFjdGl2ZUhlYWRPZmZzZXRcIixfLHRoaXMpLHRoaXMuaXNVc2VyU2Nyb2xsaW5nPSEwLHRoaXMubGFzdEZpbHRlcmVkSXRlbXM9W10sdGhpcy5jb25uZWN0PU9iamVjdChrLmEpKGZ1bmN0aW9uKCl7cmV0dXJue2ZpbHRlcmVkSXRlbXM6ci5maWx0ZXJlZEl0ZW1zLHVwZGF0ZVNjcm9sbFNweTpyLnVwZGF0ZVNjcm9sbFNweSxzZXRTY3JvbGxQYW5lbDpyLnNldFNjcm9sbFBhbmVsLGlzU2Nyb2xsaW5nRG93bjpyLmlzU2Nyb2xsaW5nRG93bixzY3JvbGxVcDpyLnNjcm9sbFVwLHNjcm9sbERvd246ci5zY3JvbGxEb3duLG9uU2VsZWN0SXRlbTpyLm9uU2VsZWN0SXRlbSxSZXN1bHRzUGFuZWw6ci5SZXN1bHRzUGFuZWwsRmlsdGVyUGFuZWw6ci5GaWx0ZXJQYW5lbCxTZWFyY2hJbnB1dDpyLlNlYXJjaElucHV0LGlzTW9iaWxlOnIuY2hhcnQuaXNNb2JpbGUsaGVpZ2h0OnIuaGVpZ2h0fX0pLE9iamVjdCh4LnJlYWN0aW9uKShhLGZ1bmN0aW9uKCl7aWYoYSgpKXt2YXIgZT1vP28oKS5kYXRhLmxlbmd0aDowO3IuZm9jdXNlZENhdGVnb3J5S2V5PW51bGwsci5hY3RpdmVDYXRlZ29yeUtleT1yLmdldEN1cnJlbnRBY3RpdmVDYXRlZ29yeT9yLmdldEN1cnJlbnRBY3RpdmVDYXRlZ29yeSgpOlwiZmF2b3JpdGVcIixyLmFjdGl2ZVN1YkNhdGVnb3J5PXIuZ2V0Q3VycmVudEFjdGl2ZVN1YkNhdGVnb3J5P3IuZ2V0Q3VycmVudEFjdGl2ZVN1YkNhdGVnb3J5KCk6XCJcIjt2YXIgdD1yLmNhdGVnb3J5RWxlbWVudHNbci5hY3RpdmVDYXRlZ29yeUtleV0sbj1yLmlkP1wiLlwiLmNvbmNhdChyLmlkLFwiLXN1YmNhdGVnb3J5LWl0ZW0tXCIpLmNvbmNhdChyLmFjdGl2ZVN1YkNhdGVnb3J5KTpcIi5zdWJjYXRlZ29yeS1pdGVtLVwiLmNvbmNhdChyLmFjdGl2ZVN1YkNhdGVnb3J5KSxpPXIubWFpblN0b3JlLmNoYXJ0LnJvb3ROb2RlLnF1ZXJ5U2VsZWN0b3Iobik7ci5hY3RpdmVIZWFkS2V5PXIuYWN0aXZlQ2F0ZWdvcnlLZXl8fG51bGwsci5hY3RpdmVIZWFkVG9wPTAsci5wYXVzZVNjcm9sbFNweT0hMCxyLmlzVXNlclNjcm9sbGluZz0hMSxlPyhyLmFjdGl2ZUNhdGVnb3J5S2V5PVwiYWN0aXZlXCIsci5hY3RpdmVIZWFkS2V5PW51bGwsci5zY3JvbGxQYW5lbC5zY3JvbGxUb3AoMCkpOnQmJihyLnNjcm9sbFBhbmVsLnNjcm9sbFRvcCh0Lm9mZnNldFRvcCksaSYmci5zY3JvbGxQYW5lbC5zY3JvbGxUb3AodC5vZmZzZXRUb3AraS5vZmZzZXRUb3AtNDApKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ci5wYXVzZVNjcm9sbFNweT0hMX0sMjApLHIuaXNJbml0fHxyLmluaXQoKSx1LmNoYXJ0LmlzTW9iaWxlfHxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ci5zZWFyY2hJbnB1dC5jdXJyZW50LmZvY3VzKCl9LDApfX0pLHRoaXMuZ2V0Q2F0ZWdvcmljYWxJdGVtcz1uLHRoaXMub25TZWxlY3RJdGVtPWksdGhpcy5nZXRBY3RpdmVDYXRlZ29yeT1vLHRoaXMuZmF2b3JpdGVzSWQ9bCx0aGlzLmlkPWgsdGhpcy5jYXRlZ29yeUVsZW1lbnRzPXt9LHRoaXMubWFpblN0b3JlPXUsdGhpcy5nZXRDdXJyZW50QWN0aXZlQ2F0ZWdvcnk9Uyx0aGlzLmdldEN1cnJlbnRBY3RpdmVTdWJDYXRlZ29yeT1PLHRoaXMuaXNJbml0PSExLHRoaXMuc2VhcmNoSW5wdXQ9dy5hLmNyZWF0ZVJlZigpLHRoaXMuc2VhcmNoSW5wdXRDbGFzc05hbWU9VDt2YXIgUD1PYmplY3Qoay5hKShmdW5jdGlvbigpe3JldHVybntmYXZvcml0ZXNJZDpsLGlkOmh9fSkoRS5kKSxEPU9iamVjdChrLmEpKGZ1bmN0aW9uKCl7cmV0dXJue2FjdGl2ZU9wdGlvbnM6cyxmYXZvcml0ZXNJZDpsfX0pKEUuYSksaj1mdW5jdGlvbihlKXtyZXR1cm5cImFjdGl2ZVwiPT09ZSYmdm9pZCAwIT09ci5nZXRBY3RpdmVDYXRlZ29yeT9EOlB9O3RoaXMuUmVzdWx0c1BhbmVsPU9iamVjdChrLmEpKGZ1bmN0aW9uKCl7cmV0dXJue2ZpbHRlcmVkSXRlbXM6ci5maWx0ZXJlZEl0ZW1zLHNldENhdGVnb3J5RWxlbWVudDpyLnNldENhdGVnb3J5RWxlbWVudCxnZXRJdGVtVHlwZTpqLGFjdGl2ZUhlYWRUb3A6ci5hY3RpdmVIZWFkVG9wLGFjdGl2ZUhlYWRLZXk6ci5hY3RpdmVIZWFkS2V5LGFjdGl2ZUhlYWRPZmZzZXQ6ci5hY3RpdmVIZWFkT2Zmc2V0fX0pKEUuZSksdGhpcy5GaWx0ZXJQYW5lbD1PYmplY3Qoay5hKShmdW5jdGlvbihlKXtyZXR1cm57aXNNb2JpbGU6ZS5jaGFydC5pc01vYmlsZSxmaWx0ZXJlZEl0ZW1zOnIuZmlsdGVyZWRJdGVtcyxoYW5kbGVGaWx0ZXJDbGljazpyLmhhbmRsZUZpbHRlckNsaWNrLGFjdGl2ZUNhdGVnb3J5S2V5OnIuYWN0aXZlQ2F0ZWdvcnlLZXksZm9jdXNlZENhdGVnb3J5S2V5OnIuZm9jdXNlZENhdGVnb3J5S2V5fX0pKEUuYyksdGhpcy5TZWFyY2hJbnB1dD1PYmplY3Qoay5hKShmdW5jdGlvbigpe3JldHVybntwbGFjZWhvbGRlcjpjLHZhbHVlOnIuZmlsdGVyVGV4dCxvbkNoYW5nZTpyLnNldEZpbHRlclRleHQsc2VhcmNoSW5wdXQ6ci5zZWFyY2hJbnB1dCxzZWFyY2hJbnB1dENsYXNzTmFtZTpyLnNlYXJjaElucHV0Q2xhc3NOYW1lfX0pKEMuYSl9dmFyIHIsbixpO3JldHVybiByPXQsKG49W3trZXk6XCJ1cGRhdGVTY3JvbGxTcHlcIix2YWx1ZTpmdW5jdGlvbigpe2lmKCF0aGlzLnBhdXNlU2Nyb2xsU3B5JiZ0aGlzLnNjcm9sbFBhbmVsJiYwIT09dGhpcy5maWx0ZXJlZEl0ZW1zLmxlbmd0aCl7dmFyIGU9dGhpcy5zY3JvbGxQYW5lbC5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wLHQ9MCxyPW51bGwsbj0hMCxpPSExLGE9dm9pZCAwO3RyeXtmb3IodmFyIG8scz10aGlzLmZpbHRlcmVkSXRlbXNbU3ltYm9sLml0ZXJhdG9yXSgpOyEobj0obz1zLm5leHQoKSkuZG9uZSk7bj0hMCl7dmFyIGM9by52YWx1ZSxsPXRoaXMuY2F0ZWdvcnlFbGVtZW50c1tjLmNhdGVnb3J5SWRdO2lmKCFsKXJldHVybjt2YXIgdT1sLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGg9dS50b3AtZTtpZihoPDApe3I9Yy5jYXRlZ29yeUlkO3ZhciBkPXUuaGVpZ2h0K2gtNDQ7dD1kPDA/ZDowfX19Y2F0Y2goZSl7aT0hMCxhPWV9ZmluYWxseXt0cnl7bnx8bnVsbD09cy5yZXR1cm58fHMucmV0dXJuKCl9ZmluYWxseXtpZihpKXRocm93IGF9fXZhciBwPXRoaXMuc2Nyb2xsUGFuZWwuZ2V0VmFsdWVzKCkudG9wO3RoaXMuc2Nyb2xsVG9wPnA/dGhpcy5zY3JvbGxVcCgpOnRoaXMuc2Nyb2xsRG93bigpLHRoaXMuYWN0aXZlSGVhZE9mZnNldD10aGlzLmNoYXJ0LmlzTW9iaWxlP3RoaXMuc2Nyb2xsUGFuZWwuY29udGFpbmVyLm9mZnNldFRvcDowLHRoaXMuc2Nyb2xsVG9wPXAsdGhpcy5mb2N1c2VkQ2F0ZWdvcnlLZXk9cnx8dGhpcy5maWx0ZXJlZEl0ZW1zWzBdLmNhdGVnb3J5SWQsdGhpcy5hY3RpdmVIZWFkVG9wPXQsdGhpcy5hY3RpdmVIZWFkS2V5PTA9PT10aGlzLnNjcm9sbFRvcD9udWxsOnRoaXMuZm9jdXNlZENhdGVnb3J5S2V5fX19LHtrZXk6XCJzY3JvbGxVcFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5pc1Njcm9sbGluZ0Rvd249ITF9fSx7a2V5Olwic2Nyb2xsRG93blwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5pc1Njcm9sbGluZ0Rvd249dGhpcy5pc1VzZXJTY3JvbGxpbmcsdGhpcy5pc1VzZXJTY3JvbGxpbmc9ITB9fSx7a2V5OlwiaW5pdFwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5pc0luaXQ9ITAsXCJcIj09PXRoaXMuYWN0aXZlQ2F0ZWdvcnlLZXkmJnRoaXMuZmlsdGVyZWRJdGVtcy5sZW5ndGg+MCl7dmFyIGU9ITAsdD0hMSxyPXZvaWQgMDt0cnl7Zm9yKHZhciBuLGk9dGhpcy5maWx0ZXJlZEl0ZW1zW1N5bWJvbC5pdGVyYXRvcl0oKTshKGU9KG49aS5uZXh0KCkpLmRvbmUpO2U9ITApe3ZhciBhPW4udmFsdWU7aWYodGhpcy5jYXRlZ29yeUVsZW1lbnRzW2EuY2F0ZWdvcnlJZF0pe3RoaXMuYWN0aXZlQ2F0ZWdvcnlLZXk9YS5jYXRlZ29yeUlkO2JyZWFrfX19Y2F0Y2goZSl7dD0hMCxyPWV9ZmluYWxseXt0cnl7ZXx8bnVsbD09aS5yZXR1cm58fGkucmV0dXJuKCl9ZmluYWxseXtpZih0KXRocm93IHJ9fX19fSx7a2V5Olwic2V0Q2F0ZWdvcnlFbGVtZW50XCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLmNhdGVnb3J5RWxlbWVudHNbdF09ZX19LHtrZXk6XCJzZXRGaWx0ZXJUZXh0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLmZpbHRlclRleHQ9ZSx0aGlzLmlzVXNlclNjcm9sbGluZz0hMSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC51cGRhdGVTY3JvbGxTcHkoKX0sMCl9fSx7a2V5OlwiaGFuZGxlRmlsdGVyQ2xpY2tcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dGhpcy5jYXRlZ29yeUVsZW1lbnRzW2UuY2F0ZWdvcnlJZF07ciYmKHRoaXMucGF1c2VTY3JvbGxTcHk9ITAsdGhpcy5pc1VzZXJTY3JvbGxpbmc9ITEsdGhpcy5zY3JvbGxQYW5lbC5zY3JvbGxUb3Aoci5vZmZzZXRUb3ApLHRoaXMuZm9jdXNlZENhdGVnb3J5S2V5PWUuY2F0ZWdvcnlJZCx0aGlzLmFjdGl2ZUhlYWRLZXk9bnVsbCxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5wYXVzZVNjcm9sbFNweT0hMX0sMjApKX19LHtrZXk6XCJzZXRTY3JvbGxQYW5lbFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuc2Nyb2xsUGFuZWw9ZX19LHtrZXk6XCJjaGFydFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydH19LHtrZXk6XCJjb250ZXh0XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2hhcnQuY29udGV4dH19LHtrZXk6XCJoZWlnaHRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGFydC5jaGFydENvbnRhaW5lckhlaWdodC0odGhpcy5jaGFydC5pc01vYmlsZT8wOjEyMCl9fSx7a2V5OlwiZmF2b3JpdGVzQ2F0ZWdvcnlcIixnZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMucGF1c2VTY3JvbGxTcHk9ITA7dmFyIHI9e2NhdGVnb3J5TmFtZTplLnRyYW5zbGF0ZShcIkZhdm9yaXRlc1wiKSxjYXRlZ29yeUlkOlwiZmF2b3JpdGVcIixoYXNTdWJjYXRlZ29yeTohMSxlbXB0eURlc2NyaXB0aW9uOmUudHJhbnNsYXRlKFwiVGhlcmUgYXJlIG5vIGZhdm9yaXRlcyB5ZXQuXCIpLGRhdGE6T2JqZWN0LmtleXModGhpcy5tYWluU3RvcmUuZmF2b3JpdGVzLmZhdm9yaXRlc01hcFt0aGlzLmZhdm9yaXRlc0lkXSl8fFtdfTtyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe3QucGF1c2VTY3JvbGxTcHk9ITF9LDIwKSxyfX0se2tleTpcImZpbHRlcmVkSXRlbXNcIixnZXQ6ZnVuY3Rpb24oKXt2YXIgZT1PYmplY3QoTy5jKSh0aGlzLmdldENhdGVnb3JpY2FsSXRlbXMoKSk7aWYodGhpcy5mYXZvcml0ZXNJZCl7dmFyIHQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/RChyLCEwKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2ooZSx0LHJbdF0pfSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhyKSk6RChyKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLHQpKX0pfXJldHVybiBlfSh7fSx0aGlzLmZhdm9yaXRlc0NhdGVnb3J5KSxyPXQuZGF0YS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIGV9KTtlLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIG49ZnVuY3Rpb24gZShyKXt2YXIgbj1bXTtyZXR1cm4gci5oYXNTdWJjYXRlZ29yeT9yLmRhdGEuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgcj1lKHQpO24ucHVzaC5hcHBseShuLFAocikpfSk6dC5kYXRhLmZvckVhY2goZnVuY3Rpb24oZSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpe3ZhciB0PXIuZGF0YS5maW5kKGZ1bmN0aW9uKHQpe3JldHVybiB0Lml0ZW1JZD09PWV9KTt0JiZuLnB1c2godCl9fSksbn0oZSk7ci5wdXNoLmFwcGx5KHIsUChuKSl9KSx0LmRhdGE9ci5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSxlLnVuc2hpZnQodCl9aWYodGhpcy5nZXRBY3RpdmVDYXRlZ29yeSl7dmFyIG49T2JqZWN0KE8uZCkodGhpcy5nZXRBY3RpdmVDYXRlZ29yeSgpKTtlLnVuc2hpZnQobil9aWYoXCJcIj09PXRoaXMuZmlsdGVyVGV4dClyZXR1cm4gdGhpcy5sYXN0RmlsdGVyZWRJdGVtcz1lLGU7dmFyIGk9ITEsYT10aGlzLmZpbHRlclRleHQuc3BsaXQoXCIgXCIpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm5cIlwiIT09ZX0pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS50b0xvd2VyQ2FzZSgpLnRyaW0oKX0pLG89ZnVuY3Rpb24oZSl7ZS5kYXRhPWUuZGF0YS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIHQ9ZS5kaXNwbGF5fHxcIm9iamVjdFwiPT09VChlLmRhdGFPYmplY3QpJiZlLmRhdGFPYmplY3Quc3ltYm9sLGEucmVkdWNlKGZ1bmN0aW9uKGUscil7cmV0dXJuIHQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhyKSYmZX0sITApO3ZhciB0fSksZS5kYXRhLmxlbmd0aCYmKGk9ITApfSxzPSEwLGM9ITEsbD12b2lkIDA7dHJ5e2Zvcih2YXIgdSxoPWVbU3ltYm9sLml0ZXJhdG9yXSgpOyEocz0odT1oLm5leHQoKSkuZG9uZSk7cz0hMCl7dmFyIGQ9dS52YWx1ZTtpZihkLmhhc1N1YmNhdGVnb3J5KXt2YXIgcD0hMCxmPSExLG09dm9pZCAwO3RyeXtmb3IodmFyIGcsYj1kLmRhdGFbU3ltYm9sLml0ZXJhdG9yXSgpOyEocD0oZz1iLm5leHQoKSkuZG9uZSk7cD0hMCl7byhnLnZhbHVlKX19Y2F0Y2goZSl7Zj0hMCxtPWV9ZmluYWxseXt0cnl7cHx8bnVsbD09Yi5yZXR1cm58fGIucmV0dXJuKCl9ZmluYWxseXtpZihmKXRocm93IG19fX1lbHNlIG8oZCl9fWNhdGNoKGUpe2M9ITAsbD1lfWZpbmFsbHl7dHJ5e3N8fG51bGw9PWgucmV0dXJufHxoLnJldHVybigpfWZpbmFsbHl7aWYoYyl0aHJvdyBsfX1yZXR1cm4gaXx8KGU9dGhpcy5sYXN0RmlsdGVyZWRJdGVtcyksdGhpcy5wYXVzZVNjcm9sbFNweXx8KHRoaXMubGFzdEZpbHRlcmVkSXRlbXM9ZSksZX19XSkmJk4oci5wcm90b3R5cGUsbiksaSYmTihyLGkpLHR9KCkpLnByb3RvdHlwZSxcImlzU2hvd25cIixbeC5vYnNlcnZhYmxlXSx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITAsaW5pdGlhbGl6ZXI6ZnVuY3Rpb24oKXtyZXR1cm4hMX19KSxwPUkoaC5wcm90b3R5cGUsXCJzY3JvbGxQYW5lbFwiLFt4Lm9ic2VydmFibGVdLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCxpbml0aWFsaXplcjpudWxsfSksZj1JKGgucHJvdG90eXBlLFwiZmlsdGVyVGV4dFwiLFt4Lm9ic2VydmFibGVdLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCxpbml0aWFsaXplcjpmdW5jdGlvbigpe3JldHVyblwiXCJ9fSksbT1JKGgucHJvdG90eXBlLFwiYWN0aXZlQ2F0ZWdvcnlLZXlcIixbeC5vYnNlcnZhYmxlXSx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITAsaW5pdGlhbGl6ZXI6ZnVuY3Rpb24oKXtyZXR1cm5cIlwifX0pLGc9SShoLnByb3RvdHlwZSxcImZvY3VzZWRDYXRlZ29yeUtleVwiLFt4Lm9ic2VydmFibGVdLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCxpbml0aWFsaXplcjpmdW5jdGlvbigpe3JldHVybiBudWxsfX0pLGI9SShoLnByb3RvdHlwZSxcImlzU2Nyb2xsaW5nRG93blwiLFt4Lm9ic2VydmFibGVdLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCxpbml0aWFsaXplcjpmdW5jdGlvbigpe3JldHVybiExfX0pLHk9SShoLnByb3RvdHlwZSxcImFjdGl2ZUhlYWRLZXlcIixbeC5vYnNlcnZhYmxlXSx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITAsaW5pdGlhbGl6ZXI6ZnVuY3Rpb24oKXt9fSksdj1JKGgucHJvdG90eXBlLFwiYWN0aXZlSGVhZFRvcFwiLFt4Lm9ic2VydmFibGVdLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCxpbml0aWFsaXplcjpmdW5jdGlvbigpe3JldHVybiAwfX0pLF89SShoLnByb3RvdHlwZSxcImFjdGl2ZUhlYWRPZmZzZXRcIixbeC5vYnNlcnZhYmxlXSx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITAsaW5pdGlhbGl6ZXI6ZnVuY3Rpb24oKXt9fSksSShoLnByb3RvdHlwZSxcInVwZGF0ZVNjcm9sbFNweVwiLFtuXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGgucHJvdG90eXBlLFwidXBkYXRlU2Nyb2xsU3B5XCIpLGgucHJvdG90eXBlKSxJKGgucHJvdG90eXBlLFwic2Nyb2xsVXBcIixbaV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihoLnByb3RvdHlwZSxcInNjcm9sbFVwXCIpLGgucHJvdG90eXBlKSxJKGgucHJvdG90eXBlLFwic2Nyb2xsRG93blwiLFthXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGgucHJvdG90eXBlLFwic2Nyb2xsRG93blwiKSxoLnByb3RvdHlwZSksSShoLnByb3RvdHlwZSxcImluaXRcIixbb10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihoLnByb3RvdHlwZSxcImluaXRcIiksaC5wcm90b3R5cGUpLEkoaC5wcm90b3R5cGUsXCJmYXZvcml0ZXNDYXRlZ29yeVwiLFt4LmNvbXB1dGVkXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGgucHJvdG90eXBlLFwiZmF2b3JpdGVzQ2F0ZWdvcnlcIiksaC5wcm90b3R5cGUpLEkoaC5wcm90b3R5cGUsXCJmaWx0ZXJlZEl0ZW1zXCIsW3guY29tcHV0ZWRdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaC5wcm90b3R5cGUsXCJmaWx0ZXJlZEl0ZW1zXCIpLGgucHJvdG90eXBlKSxJKGgucHJvdG90eXBlLFwic2V0Q2F0ZWdvcnlFbGVtZW50XCIsW3NdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaC5wcm90b3R5cGUsXCJzZXRDYXRlZ29yeUVsZW1lbnRcIiksaC5wcm90b3R5cGUpLEkoaC5wcm90b3R5cGUsXCJzZXRGaWx0ZXJUZXh0XCIsW2NdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaC5wcm90b3R5cGUsXCJzZXRGaWx0ZXJUZXh0XCIpLGgucHJvdG90eXBlKSxJKGgucHJvdG90eXBlLFwiaGFuZGxlRmlsdGVyQ2xpY2tcIixbbF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihoLnByb3RvdHlwZSxcImhhbmRsZUZpbHRlckNsaWNrXCIpLGgucHJvdG90eXBlKSxJKGgucHJvdG90eXBlLFwic2V0U2Nyb2xsUGFuZWxcIixbdV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihoLnByb3RvdHlwZSxcInNldFNjcm9sbFBhbmVsXCIpLGgucHJvdG90eXBlKSxoKX0pLmNhbGwodGhpcyxyKDYpLnQpfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1yfSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtpZDpcImljLWRlbGV0ZS11c2FnZVwiLHZpZXdCb3g6XCIwIDAgMTYgMTZcIix1cmw6ci5wK1wic3ByaXRlLTI3ODZlYS5zbWFydGNoYXJ0cy5zdmcjaWMtZGVsZXRlLXVzYWdlXCIsdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51cmx9fX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDIwMykoKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihlKXt2YXIgbj1yKDApLGk9ci5uKG4pLGE9cig1KSxvPXIoMik7cigxOTIpO3QuYT1PYmplY3QoYS5hKShmdW5jdGlvbihlKXt2YXIgdD1lLmNoYXJ0VHlwZTtyZXR1cm57Y2hhcnRJZDplLnN0YXRlLmNoYXJ0SWQsQ2hhcnRUeXBlTWVudTp0LkNoYXJ0VHlwZU1lbnUsQ2hhcnRUeXBlTGlzdDp0LkNoYXJ0VHlwZUxpc3QsbWVudU9wZW46dC5tZW51Lm9wZW4sb25DaGFuZ2U6dC5zZXRUeXBlRnJvbVVJLHNldE9wZW46dC5tZW51LnNldE9wZW4sc2hvd0FnZ3JlZ2F0ZURpYWxvZzp0LnNob3dBZ2dyZWdhdGVEaWFsb2csVHlwZTp0LnR5cGUsdXBkYXRlUHJvcHM6dC51cGRhdGVQcm9wc319KShmdW5jdGlvbih0KXt2YXIgcj10LmNoYXJ0SWQsbj10LkNoYXJ0VHlwZUxpc3QsYT10LkNoYXJ0VHlwZU1lbnUscz10LmVuYWJsZWQsYz10Lm1lbnVPcGVuLGw9dC5vbkNoYW5nZSx1PXQuc2V0T3BlbixoPXQuc2hvd0FnZ3JlZ2F0ZURpYWxvZyxkPXQuVHlwZSxwPXQudXBkYXRlUHJvcHM7aWYodm9pZCAwPT09ZClyZXR1cm4gbnVsbDtyZXR1cm4gcChsKSxpLmEuY3JlYXRlRWxlbWVudChhLHtjbGFzc05hbWU6XCJjaXEtZGlzcGxheSBjaXEtY2hhcnQtdHlwZXNcIixlbmFibGVkOnMsdGl0bGU6ZS50cmFuc2xhdGUoXCJDaGFydCB0eXBlc1wiKX0saS5hLmNyZWF0ZUVsZW1lbnQoYS5UaXRsZSxudWxsLGkuYS5jcmVhdGVFbGVtZW50KGQuaWNvbix7Y2xhc3NOYW1lOlwiaWMtaWNvbi13aXRoLXN1YiBcIi5jb25jYXQoYz9cImFjdGl2ZVwiOlwiXCIpLFwidG9vbHRpcC10aXRsZVwiOmUudHJhbnNsYXRlKGQudGV4dCl9KSksaS5hLmNyZWF0ZUVsZW1lbnQoYS5Cb2R5LG51bGwsaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiYm9keVwifSxpLmEuY3JlYXRlRWxlbWVudChuLHtoZWlnaHQ6MjYwLG9uSXRlbUNsaWNrOmZ1bmN0aW9uKGUsdCl7ZC5pZCE9PXQuaWQmJmwodC5pZCx0LmNhbmRsZU9ubHksciksdSghMSl9fSxmdW5jdGlvbihlKXtyZXR1cm4gaS5hLmNyZWF0ZUVsZW1lbnQoaS5hLkZyYWdtZW50LG51bGwsaS5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIse2NsYXNzTmFtZTpcImxlZnRcIn0saS5hLmNyZWF0ZUVsZW1lbnQoZS5pY29uLHtjbGFzc05hbWU6XCJtYXJnaW4gXCIuY29uY2F0KGUuYWN0aXZlP1wiYWN0aXZlXCI6XCJcIil9KSxpLmEuY3JlYXRlRWxlbWVudChcInNwYW5cIix7Y2xhc3NOYW1lOlwiY2lxLWljb24tdGV4dFwifSxlLnRleHQpKSxlLnNldHRpbmdzT25DbGljayYmaS5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIse2NsYXNzTmFtZTpcImNpcS1hZ2dyZWdhdGUtc2V0dGluZ1wiLG9uQ2xpY2s6ZnVuY3Rpb24oKXtyZXR1cm4gaChlLmlkKX19LGkuYS5jcmVhdGVFbGVtZW50KG8uUCxudWxsKSkpfSkpKSl9KX0pLmNhbGwodGhpcyxyKDYpLnQpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGUpe3ZhciBuPXIoMCksaT1yLm4obiksYT1yKDQyKSxvPXIoNSkscz1yKDIpO3QuYT1PYmplY3Qoby5hKShmdW5jdGlvbihlKXt2YXIgdD1lLnN0dWRpZXMscj1lLmNoYXJ0O3JldHVybntpc09wZW5lZDp0Lm9wZW4sc2V0T3Blbjp0LnNldE9wZW4sU3R1ZHlNZW51OnQuU3R1ZHlNZW51LG1lbnVPcGVuOnQubWVudS5vcGVuLFN0dWR5Q2F0ZWdvcmljYWxEaXNwbGF5OnQuU3R1ZHlDYXRlZ29yaWNhbERpc3BsYXksaXNNb2JpbGU6ci5pc01vYmlsZSxhY3RpdmVTdHVkaWVzTm86dC5hY3RpdmVTdHVkaWVzLmRhdGEubGVuZ3RoLGRpc2FibGVBbGw6dC5oYXNSZWFjaGVkTGltaXRzfX0pKGZ1bmN0aW9uKHQpe3ZhciByPXQuaXNPcGVuZWQsbj10LnNldE9wZW4sbz10LlN0dWR5TWVudSxjPXQubWVudU9wZW4sbD10LlN0dWR5Q2F0ZWdvcmljYWxEaXNwbGF5LHU9dC5pc01vYmlsZSxoPXQuYWN0aXZlU3R1ZGllc05vLGQ9dC5zZWFyY2hJbnB1dENsYXNzTmFtZSxwPXQuZGlzYWJsZUFsbDtyZXR1cm4gaS5hLmNyZWF0ZUVsZW1lbnQobyx7Y2xhc3NOYW1lOlwiY2lxLXN0dWRpZXNcIixpc09wZW5lZDpyLHNldE9wZW46bixpc01vYmlsZTp1LHRpdGxlOnU/ZS50cmFuc2xhdGUoXCJJbmRpY2F0b3JzXCIpOlwiXCJ9LGkuYS5jcmVhdGVFbGVtZW50KG8uVGl0bGUsbnVsbCxpLmEuY3JlYXRlRWxlbWVudChzLnose2NsYXNzTmFtZTpcImljLWljb24td2l0aC1zdWIgXCIuY29uY2F0KGM/XCJhY3RpdmVcIjpcIlwiKSxcInRvb2x0aXAtdGl0bGVcIjplLnRyYW5zbGF0ZShcIkluZGljYXRvcnNcIil9KSxpLmEuY3JlYXRlRWxlbWVudChhLmEse25vdGlmaWNhdGlvbkNvdW50Omh9KSksaS5hLmNyZWF0ZUVsZW1lbnQoby5Cb2R5LG51bGwsaS5hLmNyZWF0ZUVsZW1lbnQobCx7c2VhcmNoSW5wdXRDbGFzc05hbWU6ZCxkaXNhYmxlQWxsOnB9KSkpfSl9KS5jYWxsKHRoaXMscig2KS50KX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihlKXt2YXIgbj1yKDApLGk9ci5uKG4pLGE9cig1KSxvPXIoNDIpLHM9cigyKTt0LmE9T2JqZWN0KGEuYSkoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jb21wYXJpc29uLHI9ZS5jaGFydDtyZXR1cm57Q29tcGFyaXNvblNlbGVjdG9yOnQuQ29tcGFyaXNvblNlbGVjdG9yLENvbXBhcmlzb25NZW51OnQuQ29tcGFyaXNvbk1lbnUsbWVudU9wZW46dC5tZW51Lm9wZW4saXNNb2JpbGU6ci5pc01vYmlsZSxhY3RpdmVDb21wYXJpc29uc05vOnQuY29tcGFyaXNvblN5bWJvbHMubGVuZ3RofX0pKGZ1bmN0aW9uKHQpe3ZhciByPXQuQ29tcGFyaXNvblNlbGVjdG9yLG49dC5Db21wYXJpc29uTWVudSxhPXQubWVudU9wZW4sYz10LmlzTW9iaWxlLGw9dC5hY3RpdmVDb21wYXJpc29uc05vLHU9dC5zZWFyY2hJbnB1dENsYXNzTmFtZTtyZXR1cm4gaS5hLmNyZWF0ZUVsZW1lbnQobix7Y2xhc3NOYW1lOlwiY3EtY29tcGFyaXNvbi1uZXcgY3Etc3ltYm9scy1kaXNwbGF5XCIsaXNNb2JpbGU6Yyx0aXRsZTpjP2UudHJhbnNsYXRlKFwiQ29tcGFyaXNvblwiKTpcIlwifSxpLmEuY3JlYXRlRWxlbWVudChuLlRpdGxlLG51bGwsaS5hLmNyZWF0ZUVsZW1lbnQocy5sLHtjbGFzc05hbWU6XCJpYy1pY29uLXdpdGgtc3ViIFwiLmNvbmNhdChhP1wiYWN0aXZlXCI6XCJcIiksXCJ0b29sdGlwLXRpdGxlXCI6ZS50cmFuc2xhdGUoXCJDb21wYXJpc29uXCIpfSksaS5hLmNyZWF0ZUVsZW1lbnQoby5hLHtub3RpZmljYXRpb25Db3VudDpsfSkpLGkuYS5jcmVhdGVFbGVtZW50KG4uQm9keSxudWxsLGkuYS5jcmVhdGVFbGVtZW50KHIse3NlYXJjaElucHV0Q2xhc3NOYW1lOnV9KSkpfSl9KS5jYWxsKHRoaXMscig2KS50KX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihlKXt2YXIgbj1yKDApLGk9ci5uKG4pLGE9cigxNCksbz1yLm4oYSkscz1yKDUpLGM9cig0MyksbD1yKDIpLHU9KHIoMjEzKSxmdW5jdGlvbihlKXt2YXIgdD1lLnZpZXcscj1lLnJlbW92ZSxuPWUub25DbGljaztyZXR1cm4gaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY2lxLWxpc3QtaXRlbVwiLG9uQ2xpY2s6bn0saS5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIse2NsYXNzTmFtZTpcImNpcS1saXN0LWl0ZW0tdGV4dFwifSx0Lm5hbWUpLGkuYS5jcmVhdGVFbGVtZW50KGwucSx7b25DbGljazpyfSkpfSk7dC5hPU9iamVjdChzLmEpKGZ1bmN0aW9uKGUpe3ZhciB0PWUudmlldztyZXR1cm57Vmlld3NNZW51OnQuVmlld3NNZW51LHZpZXdzOmMuYS52aWV3cyxyb3V0ZXM6dC5yb3V0ZXMsb25PdmVyd3JpdGU6dC5vbk92ZXJ3cml0ZSxvbkNhbmNlbDp0Lm9uQ2FuY2VsLG9uQ2hhbmdlOnQub25DaGFuZ2UscmVtb3ZlOnQucmVtb3ZlLG9uU3VibWl0OnQub25TdWJtaXQsYXBwbHlMYXlvdXQ6dC5hcHBseUxheW91dCxtZW51T3Blbjp0Lm1lbnUuZGlhbG9nLm9wZW4saW5wdXRSZWY6dC5pbnB1dFJlZixjdXJyZW50Um91dGU6dC5jdXJyZW50Um91dGUsdGVtcGxhdGVOYW1lOnQudGVtcGxhdGVOYW1lfX0pKGZ1bmN0aW9uKHQpe3ZhciByPXQuVmlld3NNZW51LG49dC5tZW51T3BlbixhPXQudmlld3Mscz10LmN1cnJlbnRSb3V0ZSxjPXQucm91dGVzLGg9Yy5hZGQsZD1jLm1haW4scD1jLm92ZXJ3cml0ZSxmPWMuY2FuY2VsLG09dC5vbkNoYW5nZSxnPXQub25TdWJtaXQsYj10LmFwcGx5TGF5b3V0LHk9dC5yZW1vdmUsdj10LmlucHV0UmVmLF89dC50ZW1wbGF0ZU5hbWUsUz10LnNlYXJjaElucHV0Q2xhc3NOYW1lO3JldHVybiBpLmEuY3JlYXRlRWxlbWVudChyLHtjbGFzc05hbWU6XCJjaXEtdmlld3NcIix0aXRsZTplLnRyYW5zbGF0ZShcIlRlbXBsYXRlc1wiKX0saS5hLmNyZWF0ZUVsZW1lbnQoci5UaXRsZSx7Y2xhc3NOYW1lOlwiY3EtbWVudS1idG5cIn0saS5hLmNyZWF0ZUVsZW1lbnQobC5ULHtjbGFzc05hbWU6XCJpYy1pY29uLXdpdGgtc3ViIFwiLmNvbmNhdChuP1wiYWN0aXZlXCI6XCJcIiksXCJ0b29sdGlwLXRpdGxlXCI6ZS50cmFuc2xhdGUoXCJUZW1wbGF0ZXNcIil9KSksaS5hLmNyZWF0ZUVsZW1lbnQoci5Cb2R5LG51bGwsaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY29udGVudFwifSxcIm92ZXJ3cml0ZVwiIT09cz9cIlwiOmkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcIm92cndyaXQtYWxydFwifSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJvdnJ3cml0LWFscnQtdGl0bGVcIn0saS5hLmNyZWF0ZUVsZW1lbnQobC5hYi53YXJuaW5nLG51bGwpLGkuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLG51bGwsXytlLnRyYW5zbGF0ZShcIiBhbHJlYWR5IGV4aXN0cy5cIikpLGkuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLG51bGwsZS50cmFuc2xhdGUoXCJXb3VsZCB5b3UgbGlrZSB0byBvdmVyd3JpdGUgaXQ/XCIpKSksaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwib3Zyd3JpdC1hbHJ0LWJ1dHRvbnNcIn0saS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7b25DbGljazpkfSxlLnRyYW5zbGF0ZShcIkNBTkNFTFwiKSksaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7b25DbGljazpwfSxlLnRyYW5zbGF0ZShcIk9WRVJXUklURVwiKSkpKSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJ0ZW1wbGF0ZS1uYW1lXCJ9LFwiYWRkXCI9PT1zP2kuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtjbGFzc05hbWU6XCJhZGRcIn0saS5hLmNyZWF0ZUVsZW1lbnQobC5kLHtvbkNsaWNrOmZ9KSxpLmEuY3JlYXRlRWxlbWVudChcImlucHV0XCIse3JlZjp2LGNsYXNzTmFtZTpcInZpZXctaW5wdXQgXCIuY29uY2F0KFN8fFwiXCIpLHZhbHVlOl8scGxhY2Vob2xkZXI6ZS50cmFuc2xhdGUoXCJUZW1wbGF0ZSBuYW1lXCIpLG1heExlbmd0aDoyMCxvbkNoYW5nZTptLG9uS2V5VXA6Z30pKTppLmEuY3JlYXRlRWxlbWVudChcInNwYW5cIix7Y2xhc3NOYW1lOlwiYWRkLW5ld1wiLG9uQ2xpY2s6ZH0sXCIgXCIsZS50cmFuc2xhdGUoXCJBZGQgbmV3XCIpLFwiIFwiKSxpLmEuY3JlYXRlRWxlbWVudChcInNwYW5cIix7Y2xhc3NOYW1lOlwiaWNvblwifSxcImFkZFwiPT09cz9pLmEuY3JlYXRlRWxlbWVudChsLlUse2NsYXNzTmFtZTpcInRpY2staWNvblwiLG9uQ2xpY2s6aH0pOmkuYS5jcmVhdGVFbGVtZW50KGwuYix7Y2xhc3NOYW1lOlwiYWRkLWljb25cIixvbkNsaWNrOmR9KSkpLGkuYS5jcmVhdGVFbGVtZW50KG8uYSx7Y2xhc3NOYW1lOlwiY2lxLWxpc3RcIn0sYS5tYXAoZnVuY3Rpb24oZSx0KXtyZXR1cm4gaS5hLmNyZWF0ZUVsZW1lbnQodSx7dmlldzplLGtleTplLm5hbWUsb25DbGljazpmdW5jdGlvbihlKXtyZXR1cm4gYih0LGUpfSxyZW1vdmU6ZnVuY3Rpb24oZSl7cmV0dXJuIHkodCxlKX19KX0pKSkpKX0pfSkuY2FsbCh0aGlzLHIoNikudCl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oZSl7dmFyIG49cigwKSxpPXIubihuKSxhPXIoNSksbz1yKDIpLHM9cigxMCk7dC5hPU9iamVjdChhLmEpKGZ1bmN0aW9uKGUpe3ZhciB0PWUuY3Jvc3NoYWlyO3JldHVybnt0b2dnbGVTdGF0ZTpmdW5jdGlvbigpe3JldHVybiB0LnRvZ2dsZVN0YXRlKCl9LHN0YXRlOlwibnVtYmVyXCIhPXR5cGVvZiB0LnN0YXRlPzA6dC5zdGF0ZX19KShmdW5jdGlvbih0KXt2YXIgcj10LnRvZ2dsZVN0YXRlLG49dC5zdGF0ZSxhPVtvLm0sby5uLG8ub11bbl07cmV0dXJuIGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcImNpcS1tZW51IGNxLWNyb3NzaGFpci10b2dnbGVcIn0saS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY3EtbWVudS1idG5cIn0saS5hLmNyZWF0ZUVsZW1lbnQocy5pLHthY3RpdmU6MCE9PW4sb25DaGFuZ2U6cn0saS5hLmNyZWF0ZUVsZW1lbnQoYSx7Y2xhc3NOYW1lOlwiaWMtaWNvbi13aXRoLXN1YlwiLFwidG9vbHRpcC10aXRsZVwiOmUudHJhbnNsYXRlKFwiQ3Jvc3NoYWlyXCIpfSkpKSl9KX0pLmNhbGwodGhpcyxyKDYpLnQpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGUpe3ZhciBuPXIoMCksaT1yLm4obiksYT1yKDUpO3IoMjE1KTt0LmE9T2JqZWN0KGEuYSkoZnVuY3Rpb24oZSl7dmFyIHQ9ZS50aW1lcGVyaW9kO3JldHVybntjaGFydElkOmUuc3RhdGUuY2hhcnRJZCx0aW1lVW5pdDp0LnRpbWVVbml0LGludGVydmFsOnQuaW50ZXJ2YWwsaW50ZXJ2YWxfZGlzcGxheTp0LmludGVydmFsX2Rpc3BsYXksaXNNb2JpbGU6dC5tYWluU3RvcmUuY2hhcnQuaXNNb2JpbGUsb25DaGFuZ2U6dC5zZXRHcmFudWxhcml0eSxzZXRPcGVuOnQubWVudS5zZXRPcGVuLFRpbWVQZXJpb2RNZW51OnQuVGltZVBlcmlvZE1lbnUsdGltZVVuaXRfZGlzcGxheTp0LnRpbWVVbml0X2Rpc3BsYXksdXBkYXRlUHJvcHM6dC51cGRhdGVQcm9wc319KShmdW5jdGlvbih0KXt2YXIgcj10LmNoYXJ0SWQsYT10LmVuYWJsZWQsbz10LmludGVydmFsLHM9dC50aW1lVW5pdCxjPXQuaW50ZXJ2YWxfZGlzcGxheSxsPXQuaXNNb2JpbGUsdT10Lm9uQ2hhbmdlLGg9dC5zZXRPcGVuLGQ9dC5UaW1lUGVyaW9kTWVudSxwPXQudGltZVVuaXRfZGlzcGxheSxmPXQudXBkYXRlUHJvcHMsbT1mdW5jdGlvbihlKXt1KGUsciksaCghMSl9O3JldHVybiBPYmplY3Qobi51c2VFZmZlY3QpKGZ1bmN0aW9uKCl7cmV0dXJuIGYodSl9KSxpLmEuY3JlYXRlRWxlbWVudChkLHtjbGFzc05hbWU6XCJjaXEtcGVyaW9kXCIsZW5hYmxlZDphLHRpdGxlOmw/ZS50cmFuc2xhdGUoXCJJbnRlcnZhbFwiKTpcIlwifSxpLmEuY3JlYXRlRWxlbWVudChkLlRpdGxlLG51bGwsaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiYnQtcHJpb2RcIn0saS5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIse2NsYXNzTmFtZTpcImljLXByaW9kXCJ9LGkuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtjbGFzc05hbWU6XCJpbnRlcnZhbF9kaXNwbGF5XCJ9LGMpLGkuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtjbGFzc05hbWU6XCJ1bml0X2Rpc3BsYXlcIn0scCkpLGkuYS5jcmVhdGVFbGVtZW50KFwiYnJcIixudWxsKSxpLmEuY3JlYXRlRWxlbWVudChcInNwYW5cIix7Y2xhc3NOYW1lOlwiaWMtc3VidGl0bGVcIn0sZS50cmFuc2xhdGUoXCJJbnRlcnZhbFwiKSkpKSxpLmEuY3JlYXRlRWxlbWVudChkLkJvZHksbnVsbCxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJjcS1pbnRlcnZhbFwifSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJ0aW1lVW5pdFwifSxpLmEuY3JlYXRlRWxlbWVudChcInNwYW5cIix7Y2xhc3NOYW1lOlwidGlja1wiPT09cz9cInNlbGVjdGVkXCI6XCJcIn0sZS50cmFuc2xhdGUoXCJUaWNrXCIpKSxpLmEuY3JlYXRlRWxlbWVudChcInNwYW5cIix7Y2xhc3NOYW1lOlwibWludXRlXCI9PT1zP1wic2VsZWN0ZWRcIjpcIlwifSxlLnRyYW5zbGF0ZShcIk1pbnV0ZVwiKSksaS5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIse2NsYXNzTmFtZTpcImhvdXJcIj09PXM/XCJzZWxlY3RlZFwiOlwiXCJ9LGUudHJhbnNsYXRlKFwiSG91clwiKSksaS5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIse2NsYXNzTmFtZTpcImRheVwiPT09cz9cInNlbGVjdGVkXCI6XCJcIn0sZS50cmFuc2xhdGUoXCJEYXlcIikpKSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJpbnRlcnZhbFwifSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJyb3dcIn0saS5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIse29uQ2xpY2s6ZnVuY3Rpb24oKXtyZXR1cm4gbSgwKX0sY2xhc3NOYW1lOlwidGlja1wiPT09cyYmMT09PW8/XCJzZWxlY3RlZFwiOlwiXCJ9LFwiMVwiKSksaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwicm93XCJ9LGkuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtvbkNsaWNrOmZ1bmN0aW9uKCl7cmV0dXJuIG0oNjApfSxjbGFzc05hbWU6XCJtaW51dGVcIj09PXMmJjE9PT1vP1wic2VsZWN0ZWRcIjpcIlwifSxcIjFcIiksaS5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIse29uQ2xpY2s6ZnVuY3Rpb24oKXtyZXR1cm4gbSgxMjApfSxjbGFzc05hbWU6Mj09PW8/XCJzZWxlY3RlZFwiOlwiXCJ9LFwiMlwiKSxpLmEuY3JlYXRlRWxlbWVudChcInNwYW5cIix7b25DbGljazpmdW5jdGlvbigpe3JldHVybiBtKDE4MCl9LGNsYXNzTmFtZTozPT09bz9cInNlbGVjdGVkXCI6XCJcIn0sXCIzXCIpLGkuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtvbkNsaWNrOmZ1bmN0aW9uKCl7cmV0dXJuIG0oMzAwKX0sY2xhc3NOYW1lOjU9PT1vP1wic2VsZWN0ZWRcIjpcIlwifSxcIjVcIiksaS5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIse29uQ2xpY2s6ZnVuY3Rpb24oKXtyZXR1cm4gbSg2MDApfSxjbGFzc05hbWU6MTA9PT1vP1wic2VsZWN0ZWRcIjpcIlwifSxcIjEwXCIpLGkuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtvbkNsaWNrOmZ1bmN0aW9uKCl7cmV0dXJuIG0oOTAwKX0sY2xhc3NOYW1lOjE1PT09bz9cInNlbGVjdGVkXCI6XCJcIn0sXCIxNVwiKSxpLmEuY3JlYXRlRWxlbWVudChcInNwYW5cIix7b25DbGljazpmdW5jdGlvbigpe3JldHVybiBtKDE4MDApfSxjbGFzc05hbWU6MzA9PT1vP1wic2VsZWN0ZWRcIjpcIlwifSxcIjMwXCIpKSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJyb3dcIn0saS5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIse29uQ2xpY2s6ZnVuY3Rpb24oKXtyZXR1cm4gbSgzNjAwKX0sY2xhc3NOYW1lOjYwPT09bz9cInNlbGVjdGVkXCI6XCJcIn0sXCIxXCIpLGkuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtvbkNsaWNrOmZ1bmN0aW9uKCl7cmV0dXJuIG0oNzIwMCl9LGNsYXNzTmFtZToxMjA9PT1vP1wic2VsZWN0ZWRcIjpcIlwifSxcIjJcIiksaS5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIse29uQ2xpY2s6ZnVuY3Rpb24oKXtyZXR1cm4gbSgxNDQwMCl9LGNsYXNzTmFtZToyNDA9PT1vP1wic2VsZWN0ZWRcIjpcIlwifSxcIjRcIiksaS5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIse29uQ2xpY2s6ZnVuY3Rpb24oKXtyZXR1cm4gbSgyODgwMCl9LGNsYXNzTmFtZTo0ODA9PT1vP1wic2VsZWN0ZWRcIjpcIlwifSxcIjhcIikpLGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcInJvd1wifSxpLmEuY3JlYXRlRWxlbWVudChcInNwYW5cIix7b25DbGljazpmdW5jdGlvbigpe3JldHVybiBtKDg2NDAwKX0sY2xhc3NOYW1lOlwiZGF5XCI9PT1zP1wic2VsZWN0ZWRcIjpcIlwifSxcIjFcIikpKSkpKX0pfSkuY2FsbCh0aGlzLHIoNikudCl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oZSl7dmFyIG49cigwKSxpPXIubihuKSxhPXIoMiksbz0ocigyMTYpLHIoNSkpO3QuYT1PYmplY3Qoby5hKShmdW5jdGlvbihlKXt2YXIgdD1lLmNoYXJ0U2l6ZTtyZXR1cm57em9vbUluOnQuem9vbUluLHpvb21PdXQ6dC56b29tT3V0fX0pKGZ1bmN0aW9uKHQpe3ZhciByPXQuem9vbUluLG49dC56b29tT3V0O3JldHVybiBpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJjaXEtbWVudSBjcS1jaGFydC1zaXplXCJ9LGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcImNxLW1lbnUtYnRuXCJ9LGkuYS5jcmVhdGVFbGVtZW50KGEuWCx7Y2xhc3NOYW1lOlwiaWMtaWNvbi13aXRoLXN1YiBjcS16b29tLW91dFwiLFwidG9vbHRpcC10aXRsZVwiOmUudHJhbnNsYXRlKFwiWm9vbSBvdXRcIiksb25DbGljazpufSkpLGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcImNxLW1lbnUtYnRuXCJ9LGkuYS5jcmVhdGVFbGVtZW50KGEuVyx7Y2xhc3NOYW1lOlwiaWMtaWNvbi13aXRoLXN1YiBjcS16b29tLWluXCIsXCJ0b29sdGlwLXRpdGxlXCI6ZS50cmFuc2xhdGUoXCJab29tIGluXCIpLG9uQ2xpY2s6cn0pKSl9KX0pLmNhbGwodGhpcyxyKDYpLnQpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGUpe3ZhciBuPXIoMCksaT1yLm4obiksYT1yKDE0KSxvPXIubihhKSxzPXIoNSksYz1yKDIpO3IoMjE3KTt0LmE9T2JqZWN0KHMuYSkoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kcmF3VG9vbHM7cmV0dXJue2NsZWFyQWxsOnQuY2xlYXJBbGwsc2VsZWN0VG9vbDp0LnNlbGVjdFRvb2wsRHJhd1Rvb2xzTWVudTp0LkRyYXdUb29sc01lbnUsbWVudU9wZW46dC5tZW51Lm9wZW4sZHJhd1Rvb2xzSXRlbXM6dC5kcmF3VG9vbHNJdGVtc319KShmdW5jdGlvbih0KXt2YXIgcj10LmNsZWFyQWxsLG49dC5zZWxlY3RUb29sLGE9dC5EcmF3VG9vbHNNZW51LHM9dC5tZW51T3BlbixsPXQuZHJhd1Rvb2xzSXRlbXM7cmV0dXJuIGkuYS5jcmVhdGVFbGVtZW50KGEse2NsYXNzTmFtZTpcImNpcS1kcmF3LXRvb2xzXCIsdGl0bGU6ZS50cmFuc2xhdGUoXCJEcmF3IHRvb2xzXCIpfSxpLmEuY3JlYXRlRWxlbWVudChhLlRpdGxlLG51bGwsaS5hLmNyZWF0ZUVsZW1lbnQoYy50LHtjbGFzc05hbWU6XCJpYy1pY29uLXdpdGgtc3ViIFwiLmNvbmNhdChzP1wiYWN0aXZlXCI6XCJcIiksXCJ0b29sdGlwLXRpdGxlXCI6ZS50cmFuc2xhdGUoXCJEcmF3IHRvb2xzXCIpfSkpLGkuYS5jcmVhdGVFbGVtZW50KGEuQm9keSxudWxsLGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcImJvZHlcIn0saS5hLmNyZWF0ZUVsZW1lbnQoby5hLHthdXRvSGVpZ2h0OiEwLGF1dG9IZWlnaHRNYXg6MjYwLGNsYXNzTmFtZTpcImNpcS1saXN0XCJ9LGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcImNxLWRyYXctYnV0dG9uc1wifSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJjcS1kcmF3LWJ1dHRvblwiLG9uQ2xpY2s6cn0saS5hLmNyZWF0ZUVsZW1lbnQoYy5oLG51bGwpLGkuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLG51bGwsZS50cmFuc2xhdGUoXCJDbGVhciBBbGxcIikpKSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJjcS1kcmF3LWJ1dHRvblwiLG9uQ2xpY2s6ZnVuY3Rpb24oKXtyZXR1cm4gbihcIm1lYXN1cmVcIil9LHN0eWxlOntkaXNwbGF5Olwibm9uZVwifX0saS5hLmNyZWF0ZUVsZW1lbnQoYy5GLG51bGwpLGkuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLG51bGwsZS50cmFuc2xhdGUoXCJNZWFzdXJlXCIpKSkpLGwubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtrZXk6ZS5pZCxjbGFzc05hbWU6XCJjaXEtbGlzdC1pdGVtXCIsb25DbGljazpmdW5jdGlvbigpe3JldHVybiBuKGUuaWQpfX0sZS50ZXh0KX0pKSkpKX0pfSkuY2FsbCh0aGlzLHIoNikudCl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oZSl7dmFyIG49cigwKSxpPXIubihuKSxhPXIoNSksbz1yKDIpO3IoMjE5KTt0LmE9T2JqZWN0KGEuYSkoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zaGFyZTtyZXR1cm57U2hhcmVNZW51OnQuU2hhcmVNZW51LG1lbnVPcGVuOnQubWVudS5kaWFsb2cub3Blbixkb3dubG9hZFBORzp0LmRvd25sb2FkUE5HLGRvd25sb2FkQ1NWOnQuZG93bmxvYWRDU1YsaXNMb2FkaW5nUE5HOnQuaXNMb2FkaW5nUE5HfX0pKGZ1bmN0aW9uKHQpe3ZhciByPXQuU2hhcmVNZW51LG49dC5tZW51T3BlbixhPXQuZG93bmxvYWRDU1Yscz10LmRvd25sb2FkUE5HLGM9dC5pc0xvYWRpbmdQTkc7cmV0dXJuIGkuYS5jcmVhdGVFbGVtZW50KHIse2NsYXNzTmFtZTpcImNxLWRvd25sb2FkXCIsdGl0bGU6ZS50cmFuc2xhdGUoXCJEb3dubG9hZCBDaGFydFwiKX0saS5hLmNyZWF0ZUVsZW1lbnQoci5UaXRsZSxudWxsLGkuYS5jcmVhdGVFbGVtZW50KG8ucyx7Y2xhc3NOYW1lOlwiaWMtaWNvbi13aXRoLXN1YiBcIi5jb25jYXQobj9cImFjdGl2ZVwiOlwiXCIpLFwidG9vbHRpcC10aXRsZVwiOmUudHJhbnNsYXRlKFwiRG93bmxvYWRcIil9KSksaS5hLmNyZWF0ZUVsZW1lbnQoci5Cb2R5LG51bGwsaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiYm9keVwifSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJjb250ZW50XCJ9LGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcImNpcS1saXN0IGNpcS1saXN0LWRvd25sb2FkXCJ9LGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcImNpcS1saXN0LWl0ZW1cIixvbkNsaWNrOnN9LGkuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtjbGFzc05hbWU6XCJjaXEtaWNvbi10ZXh0XCJ9LGUudHJhbnNsYXRlKFwiRG93bmxvYWQgYXMgUE5HXCIpLGMmJmkuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtjbGFzc05hbWU6XCJjcS1sb2FkaW5nXCJ9KSksaS5hLmNyZWF0ZUVsZW1lbnQoby5ILG51bGwpKSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJjaXEtbGlzdC1pdGVtXCIsb25DbGljazphfSxpLmEuY3JlYXRlRWxlbWVudChcInNwYW5cIix7Y2xhc3NOYW1lOlwiY2lxLWljb24tdGV4dFwifSxlLnRyYW5zbGF0ZShcIkRvd25sb2FkIGFzIENTVlwiKSksaS5hLmNyZWF0ZUVsZW1lbnQoby5wLG51bGwpKSkpKSkpfSl9KS5jYWxsKHRoaXMscig2KS50KX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMCksaT1yLm4obiksYT1yKDUpLG89cigyKSxzPShyKDIyMyksZnVuY3Rpb24oZSl7dmFyIHQ9ZS5pdGVtLHI9ZS5BbmltYXRlZFByaWNlLG49ZS5vbkRlbGV0ZUl0ZW07cmV0dXJuIGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcImNxLWNvbXBhcmlzb24taXRlbVwifSxpLmEuY3JlYXRlRWxlbWVudChcInNwYW5cIix7Y2xhc3NOYW1lOlwibGVmdFwifSxpLmEuY3JlYXRlRWxlbWVudChcInNwYW5cIix7Y2xhc3NOYW1lOlwiY3EtY29tcGFyaXNvbi1zd2F0Y2hcIixzdHlsZTp7YmFja2dyb3VuZENvbG9yOnQuY29sb3J9fSksaS5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIse2NsYXNzTmFtZTpcImNxLWNvbXBhcmlzb24tbGFiZWxcIn0sdC5zeW1ib2xPYmplY3QubmFtZSkpLGkuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtjbGFzc05hbWU6XCJyaWdodFwifSxpLmEuY3JlYXRlRWxlbWVudChyLG51bGwpLGkuYS5jcmVhdGVFbGVtZW50KG8ucSx7Y2xhc3NOYW1lOlwiY2lxLWNsb3NlXCIsb25DbGljazpmdW5jdGlvbigpe3JldHVybiBuKHQuc3ltYm9sT2JqZWN0KX19KSkpfSk7dC5hPU9iamVjdChhLmEpKGZ1bmN0aW9uKGUpe3ZhciB0PWUuY29tcGFyaXNvbkxpc3Q7cmV0dXJue2NvbXBhcmlzb25TeW1ib2xzOnQuY29tcGFyaXNvblN5bWJvbHMsYW5pbWF0ZWRQcmljZXM6dC5hbmltYXRlZFByaWNlcyxvbkRlbGV0ZUl0ZW06dC5vbkRlbGV0ZUl0ZW19fSkoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jb21wYXJpc29uU3ltYm9scyxyPWUuYW5pbWF0ZWRQcmljZXMsbj1lLm9uRGVsZXRlSXRlbTtyZXR1cm4gaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY3EtY29tcGFyaXNvblwifSx0Lm1hcChmdW5jdGlvbihlLHQpe3JldHVybiBpLmEuY3JlYXRlRWxlbWVudChzLHtrZXk6ZS5zeW1ib2xPYmplY3Quc3ltYm9sLGl0ZW06ZSxvbkRlbGV0ZUl0ZW06bixBbmltYXRlZFByaWNlOnJbdF19KX0pKX0pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGUpe3ZhciBuPXIoMCksaT1yLm4obiksYT1yKDUpO3IoMjI0KTt0LmE9T2JqZWN0KGEuYSkoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jaGFydFRpdGxlLHI9ZS5jaGFydDtyZXR1cm57Y2hhcnRJZDplLnN0YXRlLmNoYXJ0SWQsQ2hhcnRUaXRsZU1lbnU6dC5DaGFydFRpdGxlTWVudSxjdXJyZW50U3ltYm9sOnQuY3VycmVudFN5bWJvbCxpc01vYmlsZTpyLmlzTW9iaWxlLE1hcmtldFNlbGVjdG9yOnQuTWFya2V0U2VsZWN0b3Isb25DaGFuZ2U6dC5zZXRTeW1ib2wsc2V0TWVudU9wZW46dC5tZW51LnNldE9wZW4sU3ltYm9sU2VsZWN0QnV0dG9uOnQuU3ltYm9sU2VsZWN0QnV0dG9uLG9uTW91c2VFbnRlcjp0Lm9uTW91c2VFbnRlcixvbk1vdXNlTGVhdmU6dC5vbk1vdXNlTGVhdmV9fSkoZnVuY3Rpb24odCl7dmFyIHI9dC5jaGFydElkLG49dC5DaGFydFRpdGxlTWVudSxhPXQuY3VycmVudFN5bWJvbCxvPXQuZW5hYmxlZCxzPXQuaXNNb2JpbGUsYz10Lk1hcmtldFNlbGVjdG9yLGw9dC5vbkNoYW5nZSx1PXQuU3ltYm9sU2VsZWN0QnV0dG9uLGg9dC5zZXRNZW51T3BlbixkPXQuc2VhcmNoSW5wdXRDbGFzc05hbWUscD10Lm9uTW91c2VFbnRlcixmPXQub25Nb3VzZUxlYXZlO3JldHVybiBhP2kuYS5jcmVhdGVFbGVtZW50KG4se2VuYWJsZWQ6byxjbGFzc05hbWU6XCJjcS1jaGFydC10aXRsZSBzdHgtc2hvdyBjcS1zeW1ib2xzLWRpc3BsYXlcIixpc0Z1bGxzY3JlZW46ITAsdGl0bGU6cz9lLnRyYW5zbGF0ZShcIlVuZGVybHlpbmcgQXNzZXRzXCIpOlwiXCIsb25Nb3VzZUVudGVyOnAsb25Nb3VzZUxlYXZlOmZ9LGkuYS5jcmVhdGVFbGVtZW50KG4uVGl0bGUsbnVsbCxpLmEuY3JlYXRlRWxlbWVudCh1LG51bGwpKSxpLmEuY3JlYXRlRWxlbWVudChuLkJvZHksbnVsbCxpLmEuY3JlYXRlRWxlbWVudChjLHtzZWFyY2hJbnB1dENsYXNzTmFtZTpkLG9uU2VsZWN0SXRlbTpmdW5jdGlvbihlKXtlLnN5bWJvbCE9PWEuc3ltYm9sJiZsKGUuc3ltYm9sLHIpLGgoITEpfX0pKSk6bnVsbH0pfSkuY2FsbCh0aGlzLHIoNikudCl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oZSl7dmFyIG49cigwKSxpPXIubihuKSxhPShyKDIyNSksaS5hLm1lbW8oZnVuY3Rpb24oKXtyZXR1cm4gaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY2lxLWFzc2V0LWluZm9ybWF0aW9uXCIsc3R5bGU6e3Zpc2liaWxpdHk6XCJoaWRkZW5cIn19LGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsbnVsbCxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLG51bGwsZS50cmFuc2xhdGUoXCJTUE9UXCIpLFwiOlwiKSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJjaXEtYWktc3BvdFwifSkpLGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsbnVsbCxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLG51bGwsZS50cmFuc2xhdGUoXCJPUEVOXCIpLFwiOlwiKSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJjaXEtYWktb3BlblwifSkpLGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsbnVsbCxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLG51bGwsZS50cmFuc2xhdGUoXCJDTE9TRVwiKSxcIjpcIiksaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY2lxLWFpLWNsb3NlXCJ9KSksaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIixudWxsLGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsbnVsbCxlLnRyYW5zbGF0ZShcIkhJR0hcIiksXCI6XCIpLGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcImNpcS1haS1oaWdoXCJ9KSksaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIixudWxsLGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsbnVsbCxlLnRyYW5zbGF0ZShcIkxPV1wiKSxcIjpcIiksaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY2lxLWFpLWxvd1wifSkpKX0pKTt0LmE9YX0pLmNhbGwodGhpcyxyKDYpLnQpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG4saSxhLG8scyxjLGwsdSxoLGQ9cigwKSxwPXIubihkKSxmPXIoNSksbT1yKDEpLGc9cigxMyksYj1yLm4oZyk7ZnVuY3Rpb24geShlLHQscixuKXtyJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOnIuZW51bWVyYWJsZSxjb25maWd1cmFibGU6ci5jb25maWd1cmFibGUsd3JpdGFibGU6ci53cml0YWJsZSx2YWx1ZTpyLmluaXRpYWxpemVyP3IuaW5pdGlhbGl6ZXIuY2FsbChuKTp2b2lkIDB9KX1mdW5jdGlvbiB2KGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1mdW5jdGlvbiBfKGUsdCxyKXtyZXR1cm4gdCYmdihlLnByb3RvdHlwZSx0KSxyJiZ2KGUsciksZX1mdW5jdGlvbiBTKGUsdCxyLG4saSl7dmFyIGE9e307cmV0dXJuIE9iamVjdC5rZXlzKG4pLmZvckVhY2goZnVuY3Rpb24oZSl7YVtlXT1uW2VdfSksYS5lbnVtZXJhYmxlPSEhYS5lbnVtZXJhYmxlLGEuY29uZmlndXJhYmxlPSEhYS5jb25maWd1cmFibGUsKFwidmFsdWVcImluIGF8fGEuaW5pdGlhbGl6ZXIpJiYoYS53cml0YWJsZT0hMCksYT1yLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbihyLG4pe3JldHVybiBuKGUsdCxyKXx8cn0sYSksaSYmdm9pZCAwIT09YS5pbml0aWFsaXplciYmKGEudmFsdWU9YS5pbml0aWFsaXplcj9hLmluaXRpYWxpemVyLmNhbGwoaSk6dm9pZCAwLGEuaW5pdGlhbGl6ZXI9dm9pZCAwKSx2b2lkIDA9PT1hLmluaXRpYWxpemVyJiYoT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxhKSxhPW51bGwpLGF9dmFyIHcseCxrLE89NCxDPU8+PjEsRT0obj1tLmFjdGlvbi5ib3VuZCxpPW0uYWN0aW9uLmJvdW5kLGE9bS5hY3Rpb24uYm91bmQsbz1tLmFjdGlvbi5ib3VuZCxjPVMoKHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3ZhciByPXRoaXM7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0aGlzLl9yZWxhdGl2ZT0hMSx5KHRoaXMsXCJkcmFnZ2FibGVcIixjLHRoaXMpLHkodGhpcyxcImlzRHJhZ2dpbmdcIixsLHRoaXMpLHkodGhpcyxcInZpc2libGVcIix1LHRoaXMpLHkodGhpcyxcIl9wcmljZVwiLGgsdGhpcyksdGhpcy5vZmZTY3JlZW49ITEsdGhpcy5vbkNvbnRleHRSZWFkeT1mdW5jdGlvbigpe3IuX2luamVjdGlvbklkPXIuc3R4LmFwcGVuZChcImRyYXdcIixyLl9kcmF3KX0sdGhpcy5pbml0PWZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24oZSx0KXtyLnZpc2libGUmJnIuZHJhZ2dhYmxlJiZ0LmNhbGwocixlKX07Q0lRLnNhZmVEcmFnKHIuX2xpbmUsZnVuY3Rpb24odCl7cmV0dXJuIGUodCxyLl9zdGFydERyYWcpfSxmdW5jdGlvbih0KXtyZXR1cm4gZSh0LHIuX2RyYWdMaW5lKX0sZnVuY3Rpb24odCl7cmV0dXJuIGUodCxyLl9lbmREcmFnKX0pfSx0aGlzLl9jYWxjdWxhdGVUb3A9ZnVuY3Rpb24oKXtpZihudWxsIT09ci5zdHguY3VycmVudFF1b3RlKCkpe3ZhciBlPXIuX2xvY2F0aW9uRnJvbVByaWNlKHIucmVhbFByaWNlKTtyZXR1cm4gZTwwPyhlPC1DJiYoci5vZmZTY3JlZW49ITApLGU9MCk6ZStPPnIuY2hhcnQucGFuZWwuaGVpZ2h0PyhlK08tci5jaGFydC5wYW5lbC5oZWlnaHQ+QyYmKHIub2ZmU2NyZWVuPSEwKSxlPXIuY2hhcnQucGFuZWwuaGVpZ2h0LU8pOnIub2ZmU2NyZWVuPSExLGUrMzA+ci5jaGFydC5wYW5lbC5oZWlnaHQ/ZT1yLmNoYXJ0LnBhbmVsLmhlaWdodC0zMDplPDEwJiYoZT0xMCksMHxNYXRoLnJvdW5kKGUpfX0sdGhpcy5fZHJhdz1mdW5jdGlvbigpe3IudmlzaWJsZSYmci5fbGluZSYmKHIudG9wPXIuX2NhbGN1bGF0ZVRvcCgpKX0sdGhpcy5jb25uZWN0PU9iamVjdChmLmEpKGZ1bmN0aW9uKCl7cmV0dXJue3ByaWNlRGlzcGxheTpyLnByaWNlRGlzcGxheSx2aXNpYmxlOnIudmlzaWJsZSxzZXREcmFnTGluZTpyLnNldERyYWdMaW5lLGNsYXNzTmFtZTpyLmNsYXNzTmFtZSxkcmFnZ2FibGU6ci5kcmFnZ2FibGUsaXNEcmFnZ2luZzpyLmlzRHJhZ2dpbmcsaW5pdDpyLmluaXR9fSksdGhpcy5tYWluU3RvcmU9dCx0aGlzLl9lbWl0dGVyPW5ldyBiLmEoe2VtaXREZWxheTowfSksT2JqZWN0KG0ud2hlbikoZnVuY3Rpb24oKXtyZXR1cm4gci5jb250ZXh0fSx0aGlzLm9uQ29udGV4dFJlYWR5KX1yZXR1cm4gXyhlLFt7a2V5OlwiekluZGV4XCIsc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2xpbmUmJih0aGlzLl9saW5lLnN0eWxlLnpJbmRleD1lKX19LHtrZXk6XCJwaXBcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQuY3VycmVudEFjdGl2ZVN5bWJvbC5kZWNpbWFsX3BsYWNlc319XSksXyhlLFt7a2V5OlwiZGVzdHJ1Y3RvclwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zdHgucmVtb3ZlSW5qZWN0aW9uKHRoaXMuX2luamVjdGlvbklkKX19LHtrZXk6XCJzZXREcmFnTGluZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX2xpbmU9ZSx0aGlzLl9saW5lJiZ0aGlzLl9kcmF3KCl9fSx7a2V5OlwiX21vZGFsQmVnaW5cIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc3R4LmdyYWJiaW5nU2NyZWVufHwodGhpcy5zdHguZWRpdGluZ0Fubm90YXRpb249ITAsdGhpcy5zdHgubW9kYWxCZWdpbigpKX19LHtrZXk6XCJfbW9kYWxFbmRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc3R4Lm1vZGFsRW5kKCksdGhpcy5zdHguZWRpdGluZ0Fubm90YXRpb249ITF9fSx7a2V5OlwiX3N0YXJ0RHJhZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fbW9kYWxCZWdpbigpLHRoaXMuaXNEcmFnZ2luZz0hMCx0aGlzLl9pbml0aWFsUG9zaXRpb249dGhpcy50b3AsdGhpcy5fc3RhcnREcmFnUHJpY2U9dGhpcy5fcHJpY2V9fSx7a2V5OlwiX2RyYWdMaW5lXCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYodGhpcy5fbGluZSl7dmFyIHQ9dGhpcy5faW5pdGlhbFBvc2l0aW9uK2UuZGlzcGxhY2VtZW50WStDLHI9dGhpcy5fcHJpY2VGcm9tTG9jYXRpb24odCk7dGhpcy5fcHJpY2VDb25zdHJhaW5lciYmKHI9dGhpcy5fcHJpY2VDb25zdHJhaW5lcihyKSksdGhpcy5yZWxhdGl2ZSYmKHItPXRoaXMuc3R4LmN1cnJlbnRRdW90ZSgpLkNsb3NlKSx0aGlzLnByaWNlPXJ9fX0se2tleTpcIl9lbmREcmFnXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9tb2RhbEVuZCgpLHRoaXMuaXNEcmFnZ2luZz0hMSx0aGlzLl9zdGFydERyYWdQcmljZS50b0ZpeGVkKHRoaXMucGlwKSE9PXRoaXMuX3ByaWNlLnRvRml4ZWQodGhpcy5waXApJiZ0aGlzLl9lbWl0dGVyLmVtaXQoZS5FVkVOVF9EUkFHX1JFTEVBU0VELHRoaXMuX3ByaWNlKX19LHtrZXk6XCJfbG9jYXRpb25Gcm9tUHJpY2VcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zdHgucGl4ZWxGcm9tUHJpY2UoZSx0aGlzLmNoYXJ0LnBhbmVsKS10aGlzLmNoYXJ0LnBhbmVsLnRvcH19LHtrZXk6XCJfcHJpY2VGcm9tTG9jYXRpb25cIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zdHgudmFsdWVGcm9tUGl4ZWwoZSt0aGlzLmNoYXJ0LnBhbmVsLnRvcCx0aGlzLmNoYXJ0LnBhbmVsKX19LHtrZXk6XCJvblByaWNlQ2hhbmdlZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuX2VtaXR0ZXIub24oZS5FVkVOVF9QUklDRV9DSEFOR0VELHQpfX0se2tleTpcIm9uRHJhZ1JlbGVhc2VkXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5fZW1pdHRlci5vbihlLkVWRU5UX0RSQUdfUkVMRUFTRUQsdCl9fSx7a2V5OlwicHJpY2VEaXNwbGF5XCIsZ2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fcHJpY2UudG9GaXhlZCh0aGlzLnBpcCk7cmV0dXJuIHRoaXMucmVsYXRpdmUmJnRoaXMuX3ByaWNlPjAmJihlPVwiK1wiLmNvbmNhdChlKSksZX19LHtrZXk6XCJwcmljZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcmljZX0sc2V0OmZ1bmN0aW9uKHQpe3QhPT10aGlzLl9wcmljZSYmKHRoaXMuX3ByaWNlPXQsdGhpcy5fZHJhdygpLHRoaXMuX2VtaXR0ZXIuZW1pdChlLkVWRU5UX1BSSUNFX0NIQU5HRUQsdGhpcy5fcHJpY2UpKX19LHtrZXk6XCJyZWxhdGl2ZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWxhdGl2ZX0sc2V0OmZ1bmN0aW9uKGUpe2lmKHRoaXMuX3JlbGF0aXZlIT09ZSl7dGhpcy5fcmVsYXRpdmU9ZTt2YXIgdD10aGlzLnN0eC5jdXJyZW50UXVvdGUoKSxyPXQ/dC5DbG9zZTowO3RoaXMuX3JlbGF0aXZlJiYocj0tciksdGhpcy5wcmljZT10aGlzLl9wcmljZStyfX19LHtrZXk6XCJjb250ZXh0XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0LmNvbnRleHR9fSx7a2V5Olwic3R4XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGV4dC5zdHh9fSx7a2V5OlwiY2hhcnRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdHguY2hhcnR9fSx7a2V5OlwicHJpY2VDb25zdHJhaW5lclwiLHNldDpmdW5jdGlvbihlKXt0aGlzLl9wcmljZUNvbnN0cmFpbmVyPWV9fSx7a2V5OlwicmVhbFByaWNlXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVsYXRpdmU/dGhpcy5zdHguY3VycmVudFF1b3RlKCkuQ2xvc2UrdGhpcy5fcHJpY2U6dGhpcy5fcHJpY2V9fSx7a2V5OlwidG9wXCIsc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX190b3A9ZSx0aGlzLl9saW5lLnN0eWxlLnRyYW5zZm9ybT1cInRyYW5zbGF0ZVkoXCIuY29uY2F0KHRoaXMudG9wLFwicHgpXCIpfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fX3RvcH19XSxbe2tleTpcIkVWRU5UX1BSSUNFX0NIQU5HRURcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cIkVWRU5UX1BSSUNFX0NIQU5HRURcIn19LHtrZXk6XCJFVkVOVF9EUkFHX1JFTEVBU0VEXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuXCJFVkVOVF9EUkFHX1JFTEVBU0VEXCJ9fV0pLGV9KCkpLnByb3RvdHlwZSxcImRyYWdnYWJsZVwiLFttLm9ic2VydmFibGVdLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCxpbml0aWFsaXplcjpmdW5jdGlvbigpe3JldHVybiEwfX0pLGw9UyhzLnByb3RvdHlwZSxcImlzRHJhZ2dpbmdcIixbbS5vYnNlcnZhYmxlXSx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITAsaW5pdGlhbGl6ZXI6ZnVuY3Rpb24oKXtyZXR1cm4hMX19KSx1PVMocy5wcm90b3R5cGUsXCJ2aXNpYmxlXCIsW20ub2JzZXJ2YWJsZV0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOmZ1bmN0aW9uKCl7cmV0dXJuITB9fSksaD1TKHMucHJvdG90eXBlLFwiX3ByaWNlXCIsW20ub2JzZXJ2YWJsZV0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOmZ1bmN0aW9uKCl7cmV0dXJuIDB9fSksUyhzLnByb3RvdHlwZSxcInBpcFwiLFttLmNvbXB1dGVkXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHMucHJvdG90eXBlLFwicGlwXCIpLHMucHJvdG90eXBlKSxTKHMucHJvdG90eXBlLFwicHJpY2VEaXNwbGF5XCIsW20uY29tcHV0ZWRdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iocy5wcm90b3R5cGUsXCJwcmljZURpc3BsYXlcIikscy5wcm90b3R5cGUpLFMocy5wcm90b3R5cGUsXCJzZXREcmFnTGluZVwiLFtuXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHMucHJvdG90eXBlLFwic2V0RHJhZ0xpbmVcIikscy5wcm90b3R5cGUpLFMocy5wcm90b3R5cGUsXCJfc3RhcnREcmFnXCIsW2ldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iocy5wcm90b3R5cGUsXCJfc3RhcnREcmFnXCIpLHMucHJvdG90eXBlKSxTKHMucHJvdG90eXBlLFwiX2RyYWdMaW5lXCIsW2FdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iocy5wcm90b3R5cGUsXCJfZHJhZ0xpbmVcIikscy5wcm90b3R5cGUpLFMocy5wcm90b3R5cGUsXCJfZW5kRHJhZ1wiLFtvXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHMucHJvdG90eXBlLFwiX2VuZERyYWdcIikscy5wcm90b3R5cGUpLHMpO2Z1bmN0aW9uIFQoZSx0LHIsbil7ciYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7ZW51bWVyYWJsZTpyLmVudW1lcmFibGUsY29uZmlndXJhYmxlOnIuY29uZmlndXJhYmxlLHdyaXRhYmxlOnIud3JpdGFibGUsdmFsdWU6ci5pbml0aWFsaXplcj9yLmluaXRpYWxpemVyLmNhbGwobik6dm9pZCAwfSl9ZnVuY3Rpb24gUChlLHQscixuLGkpe3ZhciBhPXt9O3JldHVybiBPYmplY3Qua2V5cyhuKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2FbZV09bltlXX0pLGEuZW51bWVyYWJsZT0hIWEuZW51bWVyYWJsZSxhLmNvbmZpZ3VyYWJsZT0hIWEuY29uZmlndXJhYmxlLChcInZhbHVlXCJpbiBhfHxhLmluaXRpYWxpemVyKSYmKGEud3JpdGFibGU9ITApLGE9ci5zbGljZSgpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24ocixuKXtyZXR1cm4gbihlLHQscil8fHJ9LGEpLGkmJnZvaWQgMCE9PWEuaW5pdGlhbGl6ZXImJihhLnZhbHVlPWEuaW5pdGlhbGl6ZXI/YS5pbml0aWFsaXplci5jYWxsKGkpOnZvaWQgMCxhLmluaXRpYWxpemVyPXZvaWQgMCksdm9pZCAwPT09YS5pbml0aWFsaXplciYmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsYSksYT1udWxsKSxhfXZhciBEPSh4PVAoKHc9ZnVuY3Rpb24gZSh0KXt2YXIgcj10aGlzOyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksVCh0aGlzLFwiY2xhc3NOYW1lXCIseCx0aGlzKSxUKHRoaXMsXCJ2aXNpYmxlXCIsayx0aGlzKSx0aGlzLnNldFBvc2l0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PWUudG9wLG49ZS5ib3R0b20saT1lLnJpZ2h0O2lmKHIuX2Rpdil7dmFyIGE9bnVsbDtpZihuJiZ0KXt2YXIgbz0obit0KS8yKzYwLHM9KG4tdCkvMTIwO2E9XCJ0cmFuc2xhdGUoXCIuY29uY2F0KC1pLFwicHgsIFwiKS5jb25jYXQobyxcInB4KSBzY2FsZSgxLCBcIikuY29uY2F0KHMsXCIpXCIpfWVsc2Ugbj9hPVwidHJhbnNsYXRlKFwiLmNvbmNhdCgtaSxcInB4LCBcIikuY29uY2F0KG4sXCJweClcIik6dCYmKGE9XCJ0cmFuc2xhdGUoXCIuY29uY2F0KC1pLFwicHgsIFwiKS5jb25jYXQodCsxMjAsXCJweClcIikpO3IuX2Rpdi5zdHlsZS50cmFuc2Zvcm09YX19LHRoaXMuc2V0U2hhZGVSZWY9ZnVuY3Rpb24oZSl7ci5fZGl2PWV9LHRoaXMuY29ubmVjdD1PYmplY3QoZi5hKShmdW5jdGlvbigpe3JldHVybnt2aXNpYmxlOnIudmlzaWJsZSxjbGFzc05hbWU6ci5jbGFzc05hbWUsc2V0U2hhZGVSZWY6ci5zZXRTaGFkZVJlZn19KSx0aGlzLmNsYXNzTmFtZT10fSkucHJvdG90eXBlLFwiY2xhc3NOYW1lXCIsW20ub2JzZXJ2YWJsZV0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOmZ1bmN0aW9uKCl7cmV0dXJuXCJcIn19KSxrPVAody5wcm90b3R5cGUsXCJ2aXNpYmxlXCIsW20ub2JzZXJ2YWJsZV0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOmZ1bmN0aW9uKCl7cmV0dXJuITF9fSksdyksaj1yKDExKTtmdW5jdGlvbiBBKGUpe3JldHVybihBPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBOKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1mdW5jdGlvbiBJKGUsdCl7cmV0dXJuIXR8fFwib2JqZWN0XCIhPT1BKHQpJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0P2Z1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiBlfShlKTp0fWZ1bmN0aW9uIE0oZSl7cmV0dXJuKE09T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZjpmdW5jdGlvbihlKXtyZXR1cm4gZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihlKX0pKGUpfWZ1bmN0aW9uIHooZSx0KXtyZXR1cm4oej1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuX19wcm90b19fPXQsZX0pKGUsdCl9dmFyIEwsUixILHEsQixGLFYsVSxXLFEsRyxLLFksWCxaPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLEkodGhpcyxNKHQpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9dmFyIHIsbixpO3JldHVybiBmdW5jdGlvbihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmeihlLHQpfSh0LGRbXCJDb21wb25lbnRcIl0pLHI9dCwobj1be2tleTpcImNvbXBvbmVudERpZE1vdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnByb3BzLmluaXQoKX19LHtrZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMucHJvcHMsdD1lLmNsYXNzTmFtZSxyPWUuZHJhZ2dhYmxlLG49ZS5pc0RyYWdnaW5nLGk9ZS5wcmljZURpc3BsYXksYT1lLnNldERyYWdMaW5lLG89ZS52aXNpYmxlLHM9ZS5saW5lU3R5bGUsYz1lLmNvbG9yLGw9ZS5mb3JlZ3JvdW5kQ29sb3IsdT1lLndpZHRoO3JldHVybiBwLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJjaGFydC1saW5lIGhvcml6b250YWwgXCIuY29uY2F0KHI/XCJkcmFnZ2FibGVcIjpcIlwiLFwiIFwiKS5jb25jYXQobj9cImRyYWdnaW5nXCI6XCJcIixcIiBcIikuY29uY2F0KHR8fFwiXCIpLHN0eWxlOnt0b3A6MCxjb2xvcjpsLGJvcmRlckNvbG9yOmN9LHJlZjphLGhpZGRlbjohb30scC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiZHJhZy1saW5lXCIsc3R5bGU6e2JvcmRlclRvcFN0eWxlOnN9fSkscC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiZHJhZ2dhYmxlLWFyZWFcIn0pLHAuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcImRyYWctcHJpY2VcIixzdHlsZTp7YmFja2dyb3VuZENvbG9yOmMsd2lkdGg6dX19LHAuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcInByaWNlXCJ9LGkpKSl9fV0pJiZOKHIucHJvdG90eXBlLG4pLGkmJk4ocixpKSx0fSgpLEo9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS52aXNpYmxlLHI9ZS5jbGFzc05hbWUsbj1lLnNldFNoYWRlUmVmO3JldHVybiBwLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJzaGFkZSBcIi5jb25jYXQocnx8XCJcIixcIiBcIikuY29uY2F0KHQ/XCJcIjpcImhpZGRlblwiKSxyZWY6bixzdHlsZTp7dG9wOi0xMjB9fSl9LCQ9cig0KTtmdW5jdGlvbiBlZShlLHQscixuKXtyJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOnIuZW51bWVyYWJsZSxjb25maWd1cmFibGU6ci5jb25maWd1cmFibGUsd3JpdGFibGU6ci53cml0YWJsZSx2YWx1ZTpyLmluaXRpYWxpemVyP3IuaW5pdGlhbGl6ZXIuY2FsbChuKTp2b2lkIDB9KX1mdW5jdGlvbiB0ZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19ZnVuY3Rpb24gcmUoZSx0LHIpe3JldHVybiB0JiZ0ZShlLnByb3RvdHlwZSx0KSxyJiZ0ZShlLHIpLGV9ZnVuY3Rpb24gbmUoZSx0LHIsbixpKXt2YXIgYT17fTtyZXR1cm4gT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbihlKXthW2VdPW5bZV19KSxhLmVudW1lcmFibGU9ISFhLmVudW1lcmFibGUsYS5jb25maWd1cmFibGU9ISFhLmNvbmZpZ3VyYWJsZSwoXCJ2YWx1ZVwiaW4gYXx8YS5pbml0aWFsaXplcikmJihhLndyaXRhYmxlPSEwKSxhPXIuc2xpY2UoKS5yZXZlcnNlKCkucmVkdWNlKGZ1bmN0aW9uKHIsbil7cmV0dXJuIG4oZSx0LHIpfHxyfSxhKSxpJiZ2b2lkIDAhPT1hLmluaXRpYWxpemVyJiYoYS52YWx1ZT1hLmluaXRpYWxpemVyP2EuaW5pdGlhbGl6ZXIuY2FsbChpKTp2b2lkIDAsYS5pbml0aWFsaXplcj12b2lkIDApLHZvaWQgMD09PWEuaW5pdGlhbGl6ZXImJihPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LGEpLGE9bnVsbCksYX12YXIgaWU9KEw9bS5hY3Rpb24uYm91bmQsUj1tLmFjdGlvbi5ib3VuZCxIPW0uYWN0aW9uLmJvdW5kLEI9bmUoKHE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3ZhciByPXRoaXM7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSxlZSh0aGlzLFwic2hhZGVDb2xvclwiLEIsdGhpcyksZWUodGhpcyxcImNvbG9yXCIsRix0aGlzKSxlZSh0aGlzLFwiZm9yZWdyb3VuZENvbG9yXCIsVix0aGlzKSxlZSh0aGlzLFwiaXNCZXR3ZWVuU2hhZGVWaXNpYmxlXCIsVSx0aGlzKSxlZSh0aGlzLFwiaXNUb3BTaGFkZVZpc2libGVcIixXLHRoaXMpLGVlKHRoaXMsXCJpc0JvdHRvbVNoYWRlVmlzaWJsZVwiLFEsdGhpcyksZWUodGhpcyxcImhpZGVQcmljZUxpbmVzXCIsRyx0aGlzKSxlZSh0aGlzLFwibGluZVN0eWxlXCIsSyx0aGlzKSxlZSh0aGlzLFwiaXNJbml0aWFsaXplZFwiLFksdGhpcyksZWUodGhpcyxcImluaXRpYWxpemVQcm9taXNlXCIsWCx0aGlzKSx0aGlzLl9zaGFkZVN0YXRlPXZvaWQgMCx0aGlzLl9vbkJhcnJpZXJDaGFuZ2U9bnVsbCx0aGlzLl9maXJlT25CYXJyaWVyQ2hhbmdlPWZ1bmN0aW9uKCl7dmFyIGU9ci5faGlnaF9iYXJyaWVyLnZpc2libGU/K3IuX2hpZ2hfYmFycmllci5wcmljZS50b0ZpeGVkKHIucGlwKTp2b2lkIDAsdD1yLl9sb3dfYmFycmllci52aXNpYmxlPytyLl9sb3dfYmFycmllci5wcmljZS50b0ZpeGVkKHIucGlwKTp2b2lkIDA7ci5fb25CYXJyaWVyQ2hhbmdlJiZyLl9vbkJhcnJpZXJDaGFuZ2Uoe2hpZ2g6ZSxsb3c6dH0pfSx0aGlzLl9kcmF3U2hhZGVkQXJlYT1mdW5jdGlvbigpe2lmKHIuaXNJbml0aWFsaXplZCYmKHIuX3NoYWRlU3RhdGU9PT1lLlNIQURFX0FCT1ZFP3IuX3NoYWRlQWJvdmUoKTpyLl9zaGFkZVN0YXRlPT09ZS5TSEFERV9CRUxPVz9yLl9zaGFkZUJlbG93KCk6ci5fc2hhZGVTdGF0ZT09PWUuU0hBREVfQkVUV0VFTj9yLl9zaGFkZUJldHdlZW4oKTpyLl9zaGFkZVN0YXRlPT09ZS5TSEFERV9PVVRTSURFJiZyLl9zaGFkZU91dHNpZGUoKSxyLl9sb3dfYmFycmllci52aXNpYmxlJiZyLl9pc0JhcnJpZXJzT2ZmU2NyZWVuKCkpKXt2YXIgdD0wPT09ci5faGlnaF9iYXJyaWVyLnRvcD9udWxsOjEwMTtyLl9oaWdoX2JhcnJpZXIuekluZGV4PXR9fSx0aGlzLm1haW5TdG9yZT10LHRoaXMuX2hpZ2hfYmFycmllcj1uZXcgRSh0aGlzLm1haW5TdG9yZSksdGhpcy5fbG93X2JhcnJpZXI9bmV3IEUodGhpcy5tYWluU3RvcmUpLHRoaXMuX2hpZ2hfYmFycmllci5vblByaWNlQ2hhbmdlZCh0aGlzLl9kcmF3U2hhZGVkQXJlYSksdGhpcy5fbG93X2JhcnJpZXIub25QcmljZUNoYW5nZWQodGhpcy5fZHJhd1NoYWRlZEFyZWEpLHRoaXMuX2hpZ2hfYmFycmllci5vbkRyYWdSZWxlYXNlZCh0aGlzLl9maXJlT25CYXJyaWVyQ2hhbmdlKSx0aGlzLl9sb3dfYmFycmllci5vbkRyYWdSZWxlYXNlZCh0aGlzLl9maXJlT25CYXJyaWVyQ2hhbmdlKSx0aGlzLl9pbmplY3Rpb25JZD10aGlzLnN0eC5hcHBlbmQoXCJkcmF3XCIsdGhpcy5fZHJhd1NoYWRlZEFyZWEpLHRoaXMuX3NldHVwQ29uc3RyYWluQmFycmllclByaWNlcygpLHRoaXMuX2xpc3RlbmVySWQ9dGhpcy5zdHguYWRkRXZlbnRMaXN0ZW5lcihcIm5ld0NoYXJ0XCIsdGhpcy5pbml0KSx0aGlzLmFib3ZlU2hhZGVTdG9yZT1uZXcgRChcInRvcC1zaGFkZVwiKSx0aGlzLmJldHdlZW5TaGFkZVN0b3JlPW5ldyBEKFwiYmV0d2Vlbi1zaGFkZVwiKSx0aGlzLmJlbG93U2hhZGVTdG9yZT1uZXcgRChcImJvdHRvbS1zaGFkZVwiKSx0aGlzLkFib3ZlU2hhZGU9dGhpcy5hYm92ZVNoYWRlU3RvcmUuY29ubmVjdChKKSx0aGlzLkJldHdlZW5TaGFkZT10aGlzLmJldHdlZW5TaGFkZVN0b3JlLmNvbm5lY3QoSiksdGhpcy5CZWxvd1NoYWRlPXRoaXMuYmVsb3dTaGFkZVN0b3JlLmNvbm5lY3QoSiksdGhpcy5zaGFkZVN0YXRlPWUuU0hBREVfTk9ORV9TSU5HTEUsdGhpcy5jb250ZXh0JiZ0aGlzLnN0eC5jdXJyZW50UXVvdGUoKSYmdGhpcy5pbml0KCksdGhpcy5IaWdoUHJpY2VMaW5lPXRoaXMuX2hpZ2hfYmFycmllci5jb25uZWN0KFopLHRoaXMuTG93UHJpY2VMaW5lPXRoaXMuX2xvd19iYXJyaWVyLmNvbm5lY3QoWil9cmV0dXJuIHJlKGUsW3trZXk6XCJwaXBcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQuY3VycmVudEFjdGl2ZVN5bWJvbC5kZWNpbWFsX3BsYWNlc319LHtrZXk6XCJ5QXhpc1dpZHRoXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0LnlBeGlzd2lkdGh9fSx7a2V5OlwicHJpY2VMYWJlbFdpZHRoXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueUF4aXNXaWR0aCsxfX1dLFt7a2V5OlwiU0hBREVfTk9ORV9TSU5HTEVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cIlNIQURFX05PTkVfU0lOR0xFXCJ9fSx7a2V5OlwiU0hBREVfTk9ORV9ET1VCTEVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cIlNIQURFX05PTkVfRE9VQkxFXCJ9fSx7a2V5OlwiU0hBREVfQUJPVkVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cIlNIQURFX0FCT1ZFXCJ9fSx7a2V5OlwiU0hBREVfQkVMT1dcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cIlNIQURFX0JFTE9XXCJ9fSx7a2V5OlwiU0hBREVfQkVUV0VFTlwiLGdldDpmdW5jdGlvbigpe3JldHVyblwiU0hBREVfQkVUV0VFTlwifX0se2tleTpcIlNIQURFX09VVFNJREVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cIlNIQURFX09VVFNJREVcIn19LHtrZXk6XCJCQVJSSUVSX0NIQU5HRURcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cIkJBUlJJRVJfQ0hBTkdFRFwifX1dKSxyZShlLFt7a2V5OlwiaW5pdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5pc0luaXRpYWxpemVkPSEwLHRoaXMuaW5pdGlhbGl6ZVByb21pc2UucmVzb2x2ZSgpfX0se2tleTpcInNldERlZmF1bHRCYXJyaWVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnJlbGF0aXZlPzA6dGhpcy5zdHguY3VycmVudFF1b3RlKCkuQ2xvc2UsdD10aGlzLmNoYXJ0LnlBeGlzLnByaWNlVGljazt0aGlzLl9oaWdoX2JhcnJpZXIucHJpY2U9ZSt0LHRoaXMuX2xvd19iYXJyaWVyLnByaWNlPWUtdCx0aGlzLl9oaWdoX2JhcnJpZXIuX3VwZGF0ZVRvcCgpLHRoaXMuX2xvd19iYXJyaWVyLl91cGRhdGVUb3AoKSx0aGlzLl9kcmF3U2hhZGVkQXJlYSgpfX0se2tleTpcInVwZGF0ZVByb3BzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuY29sb3Isbj1lLmZvcmVncm91bmRDb2xvcixpPWUuc2hhZGVDb2xvcixhPWUuc2hhZGUsbz1lLmhpZ2gscz1lLmxvdyxjPWUucmVsYXRpdmUsbD1lLmRyYWdnYWJsZSx1PWUub25DaGFuZ2UsaD1lLmhpZGVQcmljZUxpbmVzLGQ9ZS5saW5lU3R5bGU7dGhpcy5pbml0aWFsaXplUHJvbWlzZS50aGVuKE9iamVjdChtLmFjdGlvbikoZnVuY3Rpb24oKXtyJiYodC5jb2xvcj1yKSxuJiYodC5mb3JlZ3JvdW5kQ29sb3I9biksaSYmKHQuc2hhZGVDb2xvcj1pKSxhJiYodC5zaGFkZVN0YXRlPVwiU0hBREVfXCIuY29uY2F0KGEpLnRvVXBwZXJDYXNlKCkpLHZvaWQgMCE9PWMmJih0LnJlbGF0aXZlPWMpLHZvaWQgMCE9PWwmJih0LmRyYWdnYWJsZT1sKSxPYmplY3QoJC5tKShvKSYmKHQuaGlnaF9iYXJyaWVyPW8pLE9iamVjdCgkLm0pKHMpJiYodC5sb3dfYmFycmllcj1zKSx1JiYodC5vbkJhcnJpZXJDaGFuZ2U9dSksdC5saW5lU3R5bGU9ZCx0LmhpZGVQcmljZUxpbmVzPSEhaH0pKX19LHtrZXk6XCJkZXN0cnVjdG9yXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnN0eC5yZW1vdmVJbmplY3Rpb24odGhpcy5faW5qZWN0aW9uSWQpLHRoaXMuc3R4LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5fbGlzdGVuZXJJZCksdGhpcy5faGlnaF9iYXJyaWVyLmRlc3RydWN0b3IoKSx0aGlzLl9sb3dfYmFycmllci5kZXN0cnVjdG9yKCl9fSx7a2V5OlwiX3NldHVwQ29uc3RyYWluQmFycmllclByaWNlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLl9oaWdoX2JhcnJpZXIucHJpY2VDb25zdHJhaW5lcj1mdW5jdGlvbih0KXt2YXIgcj1lLl9sb3dfYmFycmllci52aXNpYmxlJiZ0PGUuX2xvd19iYXJyaWVyLnJlYWxQcmljZT9lLl9oaWdoX2JhcnJpZXIucmVhbFByaWNlOnQ7cmV0dXJuIGUubWFpblN0b3JlLmNoYXJ0LmNhbGN1bGF0ZVlheGlzV2lkdGgocikscn0sdGhpcy5fbG93X2JhcnJpZXIucHJpY2VDb25zdHJhaW5lcj1mdW5jdGlvbih0KXt2YXIgcj10PmUuX2hpZ2hfYmFycmllci5yZWFsUHJpY2U/ZS5fbG93X2JhcnJpZXIucmVhbFByaWNlOnQ7cmV0dXJuIGUubWFpblN0b3JlLmNoYXJ0LmNhbGN1bGF0ZVlheGlzV2lkdGgocikscn19fSx7a2V5OlwiX2lzQmFycmllcnNPZmZTY3JlZW5cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oaWdoX2JhcnJpZXIub2ZmU2NyZWVuJiZ0aGlzLl9sb3dfYmFycmllci5vZmZTY3JlZW59fSx7a2V5OlwiX3NoYWRlQmV0d2VlblwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5iZXR3ZWVuU2hhZGVTdG9yZS5zZXRQb3NpdGlvbih7dG9wOnRoaXMuX2hpZ2hfYmFycmllci50b3AsYm90dG9tOnRoaXMuX2xvd19iYXJyaWVyLnRvcCxyaWdodDp0aGlzLnlBeGlzV2lkdGh9KX19LHtrZXk6XCJfc2hhZGVCZWxvd1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnRoaXMuX2hpZ2hfYmFycmllcjt0aGlzLmJlbG93U2hhZGVTdG9yZS5zZXRQb3NpdGlvbih7dG9wOmUudG9wLGJvdHRvbTowLHJpZ2h0OnRoaXMueUF4aXNXaWR0aH0pfX0se2tleTpcIl9zaGFkZUFib3ZlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dGhpcy5faGlnaF9iYXJyaWVyO3RoaXMuYWJvdmVTaGFkZVN0b3JlLnNldFBvc2l0aW9uKHt0b3A6MCxib3R0b206ZS50b3AscmlnaHQ6dGhpcy55QXhpc1dpZHRofSl9fSx7a2V5OlwiX3NoYWRlT3V0c2lkZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fc2hhZGVBYm92ZSh0aGlzLl9oaWdoX2JhcnJpZXIpLHRoaXMuX3NoYWRlQmVsb3codGhpcy5fbG93X2JhcnJpZXIpfX0se2tleTpcImhpZ2hfYmFycmllclwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oaWdoX2JhcnJpZXIucHJpY2V9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9oaWdoX2JhcnJpZXIucHJpY2U9ZX19LHtrZXk6XCJsb3dfYmFycmllclwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb3dfYmFycmllci5wcmljZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2xvd19iYXJyaWVyLnByaWNlPWV9fSx7a2V5OlwiY29udGV4dFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC5jb250ZXh0fX0se2tleTpcInN0eFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRleHQuc3R4fX0se2tleTpcImNoYXJ0XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3R4LmNoYXJ0fX0se2tleTpcIm9uQmFycmllckNoYW5nZVwiLHNldDpmdW5jdGlvbihlKXt0aGlzLl9vbkJhcnJpZXJDaGFuZ2UhPT1lJiYodGhpcy5fb25CYXJyaWVyQ2hhbmdlPWUpfX0se2tleTpcInNoYWRlU3RhdGVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hhZGVTdGF0ZX0sc2V0OmZ1bmN0aW9uKHQpe2lmKHRoaXMuX3NoYWRlU3RhdGUhPT10KXtpZih0aGlzLl9zaGFkZVN0YXRlPXQsdGhpcy5fc2hhZGVTdGF0ZT09PWUuU0hBREVfTk9ORV9TSU5HTEV8fHRoaXMuX3NoYWRlU3RhdGU9PT1lLlNIQURFX05PTkVfRE9VQkxFKXRoaXMuYWJvdmVTaGFkZVN0b3JlLnZpc2libGU9ITEsdGhpcy5iZXR3ZWVuU2hhZGVTdG9yZS52aXNpYmxlPSExLHRoaXMuYmVsb3dTaGFkZVN0b3JlLnZpc2libGU9ITE7ZWxzZXt2YXIgcj10aGlzLl9zaGFkZVN0YXRlPT09ZS5TSEFERV9BQk9WRXx8dGhpcy5fc2hhZGVTdGF0ZT09PWUuU0hBREVfT1VUU0lERSxuPXRoaXMuX3NoYWRlU3RhdGU9PT1lLlNIQURFX0JFTE9XfHx0aGlzLl9zaGFkZVN0YXRlPT09ZS5TSEFERV9PVVRTSURFLGk9dGhpcy5fc2hhZGVTdGF0ZT09PWUuU0hBREVfQkVUV0VFTjt0aGlzLmFib3ZlU2hhZGVTdG9yZS52aXNpYmxlPXIsdGhpcy5iZXR3ZWVuU2hhZGVTdG9yZS52aXNpYmxlPWksdGhpcy5iZWxvd1NoYWRlU3RvcmUudmlzaWJsZT1uLHRoaXMuX2RyYXdTaGFkZWRBcmVhKCl9dmFyIGE9dGhpcy5fc2hhZGVTdGF0ZT09PWUuU0hBREVfT1VUU0lERXx8dGhpcy5fc2hhZGVTdGF0ZT09PWUuU0hBREVfQkVUV0VFTnx8dGhpcy5fc2hhZGVTdGF0ZT09PWUuU0hBREVfTk9ORV9ET1VCTEUsbz10aGlzLl9sb3dfYmFycmllci52aXNpYmxlO3RoaXMuX2xvd19iYXJyaWVyLnZpc2libGU9YSx0aGlzLmlzSW5pdGlhbGl6ZWQmJmEmJiFvJiZ0aGlzLl9sb3dfYmFycmllci5yZWFsUHJpY2U+PXRoaXMuX2hpZ2hfYmFycmllci5yZWFsUHJpY2UmJih0aGlzLl9sb3dfYmFycmllci5wcmljZT10aGlzLl9oaWdoX2JhcnJpZXIucHJpY2UtdGhpcy5jaGFydC55QXhpcy5wcmljZVRpY2spfX19LHtrZXk6XCJyZWxhdGl2ZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oaWdoX2JhcnJpZXIucmVsYXRpdmV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9oaWdoX2JhcnJpZXIucmVsYXRpdmU9ZSx0aGlzLl9sb3dfYmFycmllci5yZWxhdGl2ZT1lfX0se2tleTpcImRyYWdnYWJsZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oaWdoX2JhcnJpZXIuZHJhZ2dhYmxlfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5faGlnaF9iYXJyaWVyLmRyYWdnYWJsZT1lLHRoaXMuX2xvd19iYXJyaWVyLmRyYWdnYWJsZT1lfX1dKSxlfSgpKS5wcm90b3R5cGUsXCJzaGFkZUNvbG9yXCIsW20ub2JzZXJ2YWJsZV0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOm51bGx9KSxGPW5lKHEucHJvdG90eXBlLFwiY29sb3JcIixbbS5vYnNlcnZhYmxlXSx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITAsaW5pdGlhbGl6ZXI6bnVsbH0pLFY9bmUocS5wcm90b3R5cGUsXCJmb3JlZ3JvdW5kQ29sb3JcIixbbS5vYnNlcnZhYmxlXSx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITAsaW5pdGlhbGl6ZXI6bnVsbH0pLFU9bmUocS5wcm90b3R5cGUsXCJpc0JldHdlZW5TaGFkZVZpc2libGVcIixbbS5vYnNlcnZhYmxlXSx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITAsaW5pdGlhbGl6ZXI6ZnVuY3Rpb24oKXtyZXR1cm4hMX19KSxXPW5lKHEucHJvdG90eXBlLFwiaXNUb3BTaGFkZVZpc2libGVcIixbbS5vYnNlcnZhYmxlXSx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITAsaW5pdGlhbGl6ZXI6ZnVuY3Rpb24oKXtyZXR1cm4hMX19KSxRPW5lKHEucHJvdG90eXBlLFwiaXNCb3R0b21TaGFkZVZpc2libGVcIixbbS5vYnNlcnZhYmxlXSx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITAsaW5pdGlhbGl6ZXI6ZnVuY3Rpb24oKXtyZXR1cm4hMX19KSxHPW5lKHEucHJvdG90eXBlLFwiaGlkZVByaWNlTGluZXNcIixbbS5vYnNlcnZhYmxlXSx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITAsaW5pdGlhbGl6ZXI6ZnVuY3Rpb24oKXtyZXR1cm4hMX19KSxLPW5lKHEucHJvdG90eXBlLFwibGluZVN0eWxlXCIsW20ub2JzZXJ2YWJsZV0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOmZ1bmN0aW9uKCl7fX0pLFk9bmUocS5wcm90b3R5cGUsXCJpc0luaXRpYWxpemVkXCIsW20ub2JzZXJ2YWJsZV0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOmZ1bmN0aW9uKCl7cmV0dXJuITF9fSksWD1uZShxLnByb3RvdHlwZSxcImluaXRpYWxpemVQcm9taXNlXCIsW20ub2JzZXJ2YWJsZV0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBqLmF9fSksbmUocS5wcm90b3R5cGUsXCJwaXBcIixbbS5jb21wdXRlZF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihxLnByb3RvdHlwZSxcInBpcFwiKSxxLnByb3RvdHlwZSksbmUocS5wcm90b3R5cGUsXCJ5QXhpc1dpZHRoXCIsW20uY29tcHV0ZWRdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocS5wcm90b3R5cGUsXCJ5QXhpc1dpZHRoXCIpLHEucHJvdG90eXBlKSxuZShxLnByb3RvdHlwZSxcInByaWNlTGFiZWxXaWR0aFwiLFttLmNvbXB1dGVkXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHEucHJvdG90eXBlLFwicHJpY2VMYWJlbFdpZHRoXCIpLHEucHJvdG90eXBlKSxuZShxLnByb3RvdHlwZSxcImluaXRcIixbTF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihxLnByb3RvdHlwZSxcImluaXRcIikscS5wcm90b3R5cGUpLG5lKHEucHJvdG90eXBlLFwidXBkYXRlUHJvcHNcIixbUl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihxLnByb3RvdHlwZSxcInVwZGF0ZVByb3BzXCIpLHEucHJvdG90eXBlKSxuZShxLnByb3RvdHlwZSxcImRlc3RydWN0b3JcIixbSF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihxLnByb3RvdHlwZSxcImRlc3RydWN0b3JcIikscS5wcm90b3R5cGUpLHEpLGFlPXAuYS5tZW1vKGZ1bmN0aW9uKGUpe3ZhciB0PWUuc2hhZGVDb2xvcixyPXZvaWQgMD09PXQ/XCIjMzliMTlkXCI6dCxuPWUuY29sb3IsaT12b2lkIDA9PT1uP1wiIzM5YjE5ZFwiOm4sYT1lLmZvcmVncm91bmRDb2xvcixvPXZvaWQgMD09PWE/XCIjZmZmZmZmXCI6YSxzPWUuSGlnaFByaWNlTGluZSxjPWUuTG93UHJpY2VMaW5lLGw9ZS5BYm92ZVNoYWRlLHU9ZS5CZXR3ZWVuU2hhZGUsaD1lLkJlbG93U2hhZGUsZD1lLmhpZGVQcmljZUxpbmVzLGY9ZS5saW5lU3R5bGUsbT1lLmlzSW5pdGlhbGl6ZWQsZz1lLnByaWNlTGFiZWxXaWR0aDtyZXR1cm4gbSYmcC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiYmFycmllciBcIi5jb25jYXQoZD9cImhpZGUtcHJpY2VsaW5lc1wiOlwiXCIpLHN0eWxlOntcIi0tc2hhZGUtY29sb3JcIjpyfX0scC5hLmNyZWF0ZUVsZW1lbnQocyx7d2lkdGg6ZyxsaW5lU3R5bGU6Zixjb2xvcjppLGZvcmVncm91bmRDb2xvcjpvfSkscC5hLmNyZWF0ZUVsZW1lbnQoYyx7d2lkdGg6ZyxsaW5lU3R5bGU6Zixjb2xvcjppLGZvcmVncm91bmRDb2xvcjpvfSkscC5hLmNyZWF0ZUVsZW1lbnQobCxudWxsKSxwLmEuY3JlYXRlRWxlbWVudCh1LG51bGwpLHAuYS5jcmVhdGVFbGVtZW50KGgsbnVsbCkpfSk7dC5hPU9iamVjdChmLmEpKGZ1bmN0aW9uKGUpe3JldHVybntIaWdoUHJpY2VMaW5lOmUuSGlnaFByaWNlTGluZSxMb3dQcmljZUxpbmU6ZS5Mb3dQcmljZUxpbmUsQWJvdmVTaGFkZTplLkFib3ZlU2hhZGUsQmV0d2VlblNoYWRlOmUuQmV0d2VlblNoYWRlLEJlbG93U2hhZGU6ZS5CZWxvd1NoYWRlLHNoYWRlQ29sb3I6ZS5zaGFkZUNvbG9yLGNvbG9yOmUuY29sb3IsZm9yZWdyb3VuZENvbG9yOmUuZm9yZWdyb3VuZENvbG9yLGhpZGVQcmljZUxpbmVzOmUuaGlkZVByaWNlTGluZXMsbGluZVN0eWxlOmUubGluZVN0eWxlLGlzSW5pdGlhbGl6ZWQ6ZS5pc0luaXRpYWxpemVkLGRlc3RydWN0b3I6ZS5kZXN0cnVjdG9yLHByaWNlTGFiZWxXaWR0aDplLnByaWNlTGFiZWxXaWR0aH19LGllKShhZSl9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApLGk9ci5uKG4pLGE9cigyKSxvPXIoNDYpLHM9cigzKTtmdW5jdGlvbiBjKGUpe3JldHVybihjPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBsKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1mdW5jdGlvbiB1KGUsdCl7cmV0dXJuIXR8fFwib2JqZWN0XCIhPT1jKHQpJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0P2Z1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiBlfShlKTp0fWZ1bmN0aW9uIGgoZSl7cmV0dXJuKGg9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZjpmdW5jdGlvbihlKXtyZXR1cm4gZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihlKX0pKGUpfWZ1bmN0aW9uIGQoZSx0KXtyZXR1cm4oZD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuX19wcm90b19fPXQsZX0pKGUsdCl9dmFyIHA9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt2YXIgcjshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLChyPXUodGhpcyxoKHQpLmNhbGwodGhpcyxlKSkpLnN0b3JlPW8uYS5nZXRJbnN0YW5jZSgpLHIub25GYXZvcml0ZVVwZGF0ZT1mdW5jdGlvbigpe3ZhciBlPXIucHJvcHMsdD1lLmNhdGVnb3J5LG49ZS5pZCxpPXIuaXNGYXZvcml0ZSh0LG4pO2khPT1yLnN0YXRlLmlzRmF2b3JpdGUmJihyLnNldFN0YXRlKHtpc0Zhdm9yaXRlOml9KSxPYmplY3Qocy5kKShzLmIuQ2F0ZWdvcmljYWxEaXNwbGF5LHMuYS5GYXZvcml0ZSxcIlwiLmNvbmNhdChpP1wiQWRkIFwiOlwiUmVtb3ZlIFwiLFwiIFwiKS5jb25jYXQobikpKX0sci5vbkNsaWNrPWZ1bmN0aW9uKGUpe2Uuc3RvcFByb3BhZ2F0aW9uKCksZS5uYXRpdmVFdmVudC5pc0hhbmRsZWRCeURpYWxvZz0hMDt2YXIgdD1yLnByb3BzLG49dC5jYXRlZ29yeSxpPXQuaWQ7ci50b2dnbGVGYXZvcml0ZShuLGkpfSxyLnN0b3JlLm9uRmF2b3JpdGVVcGRhdGUoci5vbkZhdm9yaXRlVXBkYXRlKSxyLmlzRmF2b3JpdGU9ci5zdG9yZS5pc0Zhdm9yaXRlLHIudG9nZ2xlRmF2b3JpdGU9ci5zdG9yZS50b2dnbGVGYXZvcml0ZTt2YXIgbj1yLnByb3BzLGk9bi5jYXRlZ29yeSxhPW4uaWQ7cmV0dXJuIHIuc3RhdGU9e2lzRmF2b3JpdGU6ci5pc0Zhdm9yaXRlKGksYSl9LHJ9dmFyIHIsYyxwO3JldHVybiBmdW5jdGlvbihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmZChlLHQpfSh0LG5bXCJDb21wb25lbnRcIl0pLHI9dCwoYz1be2tleTpcInNob3VsZENvbXBvbmVudFVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuc3RhdGUuaXNGYXZvcml0ZSE9PXQuaXNGYXZvcml0ZX19LHtrZXk6XCJjb21wb25lbnRXaWxsVW5tb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zdG9yZS5vZmZGYXZvcml0ZVVwZGF0ZSh0aGlzLm9uRmF2b3JpdGVVcGRhdGUpfX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wcm9wcyx0PWUuY2F0ZWdvcnkscj1lLmlkLG49dGhpcy5zdGF0ZS5pc0Zhdm9yaXRlO3JldHVybiB0JiZyP2kuYS5jcmVhdGVFbGVtZW50KGEudSx7b25DbGljazp0aGlzLm9uQ2xpY2ssY2xhc3NOYW1lOlwiY2lxLWZhdm9yaXRlIFwiLmNvbmNhdChuP1wiY2lxLWFjdGl2ZS1mYXZvcml0ZVwiOlwiXCIpfSk6bnVsbH19XSkmJmwoci5wcm90b3R5cGUsYykscCYmbChyLHApLHR9KCk7dC5hPXB9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApLGk9cig0NSksYT1yLm4oaSk7dmFyIG89cig1KTtmdW5jdGlvbiBzKGUpe3JldHVybihzPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBjKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1mdW5jdGlvbiBsKGUsdCl7cmV0dXJuIXR8fFwib2JqZWN0XCIhPT1zKHQpJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0P2Z1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiBlfShlKTp0fWZ1bmN0aW9uIHUoZSl7cmV0dXJuKHU9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZjpmdW5jdGlvbihlKXtyZXR1cm4gZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihlKX0pKGUpfWZ1bmN0aW9uIGgoZSx0KXtyZXR1cm4oaD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuX19wcm90b19fPXQsZX0pKGUsdCl9dmFyIGQ9XCJjcS1pbmNoYXJ0LVwiLHA9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt2YXIgcjshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHI9bCh0aGlzLHUodCkuY2FsbCh0aGlzLGUpKTt2YXIgbj1lLmF0LGk9dm9pZCAwPT09bj9cImhvbGRlclwiOm47cmV0dXJuIGUuY29udGV4dFByb21pc2UudGhlbihmdW5jdGlvbihlKXt2YXIgdCxuLGE9XCJcIi5jb25jYXQoZCkuY29uY2F0KGkpLG89ZS50b3BOb2RlLnF1ZXJ5U2VsZWN0b3IoXCIuXCIuY29uY2F0KGEpKTtvfHwodD0nPGRpdiBjbGFzcz1cIicuY29uY2F0KGEsJ1wiPjwvZGl2PicpLChuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLmlubmVySFRNTD10LG89bi5maXJzdENoaWxkLGUuc3R4LmNoYXJ0LnBhbmVsW2ldLmFwcGVuZENoaWxkKG8pKSxyLmNvbnRhaW5lcj1vLHIuZm9yY2VVcGRhdGUoKX0pLHJ9dmFyIHIsaSxvO3JldHVybiBmdW5jdGlvbihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmaChlLHQpfSh0LG5bXCJDb21wb25lbnRcIl0pLHI9dCwoaT1be2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJvcHMuaXNDaGFydFJlYWR5P3RoaXMucHJvcHMuaGlkZUluU2Nyb2xsVG9FcG9jaCYmdGhpcy5wcm9wcy5pc0NoYXJ0U2Nyb2xsaW5nVG9FcG9jaD9udWxsOnRoaXMuY29udGFpbmVyP2EuYS5jcmVhdGVQb3J0YWwodGhpcy5wcm9wcy5jaGlsZHJlbix0aGlzLmNvbnRhaW5lcik6bnVsbDpudWxsfX1dKSYmYyhyLnByb3RvdHlwZSxpKSxvJiZjKHIsbyksdH0oKTt0LmE9T2JqZWN0KG8uYSkoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jaGFydCxyPWUuc3RhdGU7cmV0dXJue2NvbnRleHRQcm9taXNlOnQuY29udGV4dFByb21pc2UsaXNDaGFydFJlYWR5OnIuaXNDaGFydFJlYWR5LGlzQ2hhcnRTY3JvbGxpbmdUb0Vwb2NoOnIuaXNDaGFydFNjcm9sbGluZ1RvRXBvY2h9fSkocCl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApLGk9ci5uKG4pO3QuYT1mdW5jdGlvbihlKXt2YXIgdD1lLm5vdGlmaWNhdGlvbkNvdW50O3JldHVybiB0P2kuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtjbGFzc05hbWU6XCJub3RpZmljYXRpb24tYmFkZ2UgXCIuY29uY2F0KHQ+OT9cIngyXCI6XCJcIil9LHQpOm51bGx9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ci5kKHQsXCJhXCIsZnVuY3Rpb24oKXtyZXR1cm4gQ30pO3ZhciBuLGksYSxvLHMsYyxsLHUsaCxkLHAsZixtLGcsYix5PXIoMSksdj1yKDQpLF89cig4KSxTPXIoOSksdz1yKDMpO2Z1bmN0aW9uIHgoZSx0LHIsbil7ciYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7ZW51bWVyYWJsZTpyLmVudW1lcmFibGUsY29uZmlndXJhYmxlOnIuY29uZmlndXJhYmxlLHdyaXRhYmxlOnIud3JpdGFibGUsdmFsdWU6ci5pbml0aWFsaXplcj9yLmluaXRpYWxpemVyLmNhbGwobik6dm9pZCAwfSl9ZnVuY3Rpb24gayhlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19ZnVuY3Rpb24gTyhlLHQscixuLGkpe3ZhciBhPXt9O3JldHVybiBPYmplY3Qua2V5cyhuKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2FbZV09bltlXX0pLGEuZW51bWVyYWJsZT0hIWEuZW51bWVyYWJsZSxhLmNvbmZpZ3VyYWJsZT0hIWEuY29uZmlndXJhYmxlLChcInZhbHVlXCJpbiBhfHxhLmluaXRpYWxpemVyKSYmKGEud3JpdGFibGU9ITApLGE9ci5zbGljZSgpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24ocixuKXtyZXR1cm4gbihlLHQscil8fHJ9LGEpLGkmJnZvaWQgMCE9PWEuaW5pdGlhbGl6ZXImJihhLnZhbHVlPWEuaW5pdGlhbGl6ZXI/YS5pbml0aWFsaXplci5jYWxsKGkpOnZvaWQgMCxhLmluaXRpYWxpemVyPXZvaWQgMCksdm9pZCAwPT09YS5pbml0aWFsaXplciYmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsYSksYT1udWxsKSxhfXZhciBDPShuPXkuYWN0aW9uLmJvdW5kLGk9eS5hY3Rpb24uYm91bmQsYT15LmFjdGlvbi5ib3VuZCxvPXkuYWN0aW9uLmJvdW5kLHM9eS5hY3Rpb24uYm91bmQsYz15LmFjdGlvbi5ib3VuZCxsPXkuYWN0aW9uLmJvdW5kLHU9eS5hY3Rpb24uYm91bmQsYj1nPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpLHgodGhpcyxcInRlbXBsYXRlTmFtZVwiLHAsdGhpcykseCh0aGlzLFwiY3VycmVudFJvdXRlXCIsZix0aGlzKSx4KHRoaXMsXCJyb3V0ZXNcIixtLHRoaXMpLHRoaXMuaW5wdXRSZWY9ZnVuY3Rpb24oZSl7ZSYmZS5mb2N1cygpfSx0aGlzLm1haW5TdG9yZT10LHRoaXMubWVudT1uZXcgXy5hKHQse3JvdXRlOlwidGVtcGxhdGVzXCJ9KSx0aGlzLlZpZXdzTWVudT10aGlzLm1lbnUuY29ubmVjdChTLmEpfXZhciB0LHIsbjtyZXR1cm4gdD1lLG49W3trZXk6XCJ1cGRhdGVMb2NhbFN0b3JhZ2VcIix2YWx1ZTpmdW5jdGlvbigpe0NJUS5sb2NhbFN0b3JhZ2VTZXRJdGVtKFwiY3Etdmlld3NcIixKU09OLnN0cmluZ2lmeShlLnZpZXdzKSl9fV0sKHI9W3trZXk6XCJvbkNoYW5nZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMudGVtcGxhdGVOYW1lPWUudGFyZ2V0LnZhbHVlfX0se2tleTpcIm9uU3VibWl0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7MTM9PT1lLmtleUNvZGUmJih0aGlzLnNhdmVWaWV3cygpLE9iamVjdCh3LmQpKHcuYi5DaGFydENvbnRyb2wsdy5hLlRlbXBsYXRlLFwiU2F2ZSBUZW1wbGF0ZVwiKSl9fSx7a2V5Olwib25DYW5jZWxcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMudGVtcGxhdGVOYW1lPVwiXCIsdGhpcy51cGRhdGVSb3V0ZShcIm1haW5cIil9fSx7a2V5OlwidXBkYXRlUm91dGVcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmN1cnJlbnRSb3V0ZT1lfX0se2tleTpcInNhdmVWaWV3c1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZihlLnZpZXdzLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIGUubmFtZS50b0xvd2VyQ2FzZSgpPT09dC50ZW1wbGF0ZU5hbWUudG9Mb3dlckNhc2UoKX0pKXRoaXMudXBkYXRlUm91dGUoXCJvdmVyd3JpdGVcIik7ZWxzZSBpZih0aGlzLnRlbXBsYXRlTmFtZS5sZW5ndGg+MCl7dGhpcy51cGRhdGVSb3V0ZShcIm1haW5cIik7dmFyIHI9dGhpcy5zdHguZXhwb3J0TGF5b3V0KCk7ZS52aWV3cy5wdXNoKHtuYW1lOnRoaXMudGVtcGxhdGVOYW1lLGxheW91dDpyfSksZS51cGRhdGVMb2NhbFN0b3JhZ2UoKSx0aGlzLnRlbXBsYXRlTmFtZT1cIlwifX19LHtrZXk6XCJvdmVyd3JpdGVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMscj10aGlzLnN0eC5leHBvcnRMYXlvdXQoKSxuPWUudmlld3MuZmluZEluZGV4KGZ1bmN0aW9uKGUpe3JldHVybiBlLm5hbWUudG9Mb3dlckNhc2UoKT09PXQudGVtcGxhdGVOYW1lLnRvTG93ZXJDYXNlKCl9KTtlLnZpZXdzW25dLmxheW91dD1yLGUudmlld3Nbbl0ubmFtZT10aGlzLnRlbXBsYXRlTmFtZSxlLnVwZGF0ZUxvY2FsU3RvcmFnZSgpLHRoaXMudXBkYXRlUm91dGUoXCJtYWluXCIpLHRoaXMudGVtcGxhdGVOYW1lPVwiXCJ9fSx7a2V5OlwicmVtb3ZlXCIsdmFsdWU6ZnVuY3Rpb24odCxyKXtlLnZpZXdzPWUudmlld3MuZmlsdGVyKGZ1bmN0aW9uKGUscil7cmV0dXJuIHQhPT1yfSksci5uYXRpdmVFdmVudC5pc19pdGVtX3JlbW92ZWQ9ITAsZS51cGRhdGVMb2NhbFN0b3JhZ2UoKSxPYmplY3Qody5kKSh3LmIuQ2hhcnRDb250cm9sLHcuYS5UZW1wbGF0ZSxcIlJlbW92ZSBUZW1wbGF0ZVwiKX19LHtrZXk6XCJhcHBseUxheW91dFwiLHZhbHVlOmZ1bmN0aW9uKHQscil7dmFyIG49dGhpcztpZighci5uYXRpdmVFdmVudC5pc19pdGVtX3JlbW92ZWQpe3RoaXMubG9hZGVyJiZ0aGlzLmxvYWRlci5zaG93KCksdGhpcy5tYWluU3RvcmUuc3RhdGUuc2V0Q2hhcnRJc1JlYWR5KCExKTt2YXIgaT10aGlzLnN0eCxhPU9iamVjdCh2LmgpKGUudmlld3NbdF0ubGF5b3V0KTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aS5pbXBvcnRMYXlvdXQoZS52aWV3c1t0XS5sYXlvdXQse21hbmFnZVBlcmlvZGljaXR5OiEwLHByZXNlcnZlVGlja3NBbmRDYW5kbGVXaWR0aDohMCxjYjpmdW5jdGlvbigpe2kuY2hhbmdlT2NjdXJyZWQoXCJsYXlvdXRcIiksbi5tYWluU3RvcmUuc3R1ZGllcy51cGRhdGVBY3RpdmVTdHVkaWVzKCksbi5sb2FkZXImJm4ubG9hZGVyLmhpZGUoKSxuLm1haW5TdG9yZS5zdGF0ZS5zZXRDaGFydElzUmVhZHkoITApLG4ubWFpblN0b3JlLnN0YXRlLnNldENoYXJ0R3JhbnVsYXJpdHkoYSl9fSk7dmFyIHI9ZS52aWV3c1t0XS5sYXlvdXQuY2hhcnRUeXBlO1wibW91bnRhaW5cIj09PXImJiguNT09PWUudmlld3NbdF0ubGF5b3V0LnRlbnNpb24mJihyPVwic3BsaW5lXCIpKTtuLm1haW5TdG9yZS5jaGFydFR5cGUuc2V0VHlwZShyKSxuLm1haW5TdG9yZS5zdGF0ZS5zZXRDaGFydFR5cGUociksbi5tZW51LnNldE9wZW4oITEpLE9iamVjdCh3LmQpKHcuYi5DaGFydENvbnRyb2wsdy5hLlRlbXBsYXRlLFwiTG9hZCBUZW1wbGF0ZVwiKX0sMTAwKX19fSx7a2V5OlwiY29udGV4dFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC5jb250ZXh0fX0se2tleTpcInN0eFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRleHQuc3R4fX0se2tleTpcImxvYWRlclwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1haW5TdG9yZS5sb2FkZXJ9fV0pJiZrKHQucHJvdG90eXBlLHIpLG4mJmsodCxuKSxlfSgpLGcudmlld3M9T2JqZWN0KHYuZSkoXCJjcS12aWV3c1wiKXx8W10sTyhoPWIsXCJ2aWV3c1wiLFt5Lm9ic2VydmFibGVdLChkPShkPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaCxcInZpZXdzXCIpKT9kLnZhbHVlOnZvaWQgMCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsaW5pdGlhbGl6ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gZH19KSxoKSxwPU8oaC5wcm90b3R5cGUsXCJ0ZW1wbGF0ZU5hbWVcIixbeS5vYnNlcnZhYmxlXSx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITAsaW5pdGlhbGl6ZXI6ZnVuY3Rpb24oKXtyZXR1cm5cIlwifX0pLGY9TyhoLnByb3RvdHlwZSxcImN1cnJlbnRSb3V0ZVwiLFt5Lm9ic2VydmFibGVdLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCxpbml0aWFsaXplcjpmdW5jdGlvbigpe3JldHVyblwibWFpblwifX0pLG09TyhoLnByb3RvdHlwZSxcInJvdXRlc1wiLFt5Lm9ic2VydmFibGVdLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCxpbml0aWFsaXplcjpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJue2FkZDpmdW5jdGlvbigpe3JldHVybiBlLnNhdmVWaWV3cygpfSxtYWluOmZ1bmN0aW9uKCl7cmV0dXJuIGUudXBkYXRlUm91dGUoXCJhZGRcIil9LGNhbmNlbDpmdW5jdGlvbigpe3JldHVybiBlLm9uQ2FuY2VsKCl9LG92ZXJ3cml0ZTpmdW5jdGlvbigpe3JldHVybiBlLm92ZXJ3cml0ZSgpfX19fSksTyhoLnByb3RvdHlwZSxcIm9uQ2hhbmdlXCIsW25dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaC5wcm90b3R5cGUsXCJvbkNoYW5nZVwiKSxoLnByb3RvdHlwZSksTyhoLnByb3RvdHlwZSxcIm9uU3VibWl0XCIsW2ldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaC5wcm90b3R5cGUsXCJvblN1Ym1pdFwiKSxoLnByb3RvdHlwZSksTyhoLnByb3RvdHlwZSxcIm9uQ2FuY2VsXCIsW2FdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaC5wcm90b3R5cGUsXCJvbkNhbmNlbFwiKSxoLnByb3RvdHlwZSksTyhoLnByb3RvdHlwZSxcInVwZGF0ZVJvdXRlXCIsW29dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaC5wcm90b3R5cGUsXCJ1cGRhdGVSb3V0ZVwiKSxoLnByb3RvdHlwZSksTyhoLnByb3RvdHlwZSxcInNhdmVWaWV3c1wiLFtzXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGgucHJvdG90eXBlLFwic2F2ZVZpZXdzXCIpLGgucHJvdG90eXBlKSxPKGgucHJvdG90eXBlLFwib3ZlcndyaXRlXCIsW2NdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaC5wcm90b3R5cGUsXCJvdmVyd3JpdGVcIiksaC5wcm90b3R5cGUpLE8oaC5wcm90b3R5cGUsXCJyZW1vdmVcIixbbF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihoLnByb3RvdHlwZSxcInJlbW92ZVwiKSxoLnByb3RvdHlwZSksTyhoLnByb3RvdHlwZSxcImFwcGx5TGF5b3V0XCIsW3VdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaC5wcm90b3R5cGUsXCJhcHBseUxheW91dFwiKSxoLnByb3RvdHlwZSksaCl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtyLmQodCxcImFcIixmdW5jdGlvbigpe3JldHVybiBnfSk7dmFyIG4saSxhLG8scyxjLGwsdT1yKDEpLGg9cigxNTYpLGQ9ci5uKGgpLHA9cig1KTtmdW5jdGlvbiBmKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1mdW5jdGlvbiBtKGUsdCxyLG4saSl7dmFyIGE9e307cmV0dXJuIE9iamVjdC5rZXlzKG4pLmZvckVhY2goZnVuY3Rpb24oZSl7YVtlXT1uW2VdfSksYS5lbnVtZXJhYmxlPSEhYS5lbnVtZXJhYmxlLGEuY29uZmlndXJhYmxlPSEhYS5jb25maWd1cmFibGUsKFwidmFsdWVcImluIGF8fGEuaW5pdGlhbGl6ZXIpJiYoYS53cml0YWJsZT0hMCksYT1yLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbihyLG4pe3JldHVybiBuKGUsdCxyKXx8cn0sYSksaSYmdm9pZCAwIT09YS5pbml0aWFsaXplciYmKGEudmFsdWU9YS5pbml0aWFsaXplcj9hLmluaXRpYWxpemVyLmNhbGwoaSk6dm9pZCAwLGEuaW5pdGlhbGl6ZXI9dm9pZCAwKSx2b2lkIDA9PT1hLmluaXRpYWxpemVyJiYoT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxhKSxhPW51bGwpLGF9dmFyIGc9KG49dS5hY3Rpb24uYm91bmQsaT11LmFjdGlvbi5ib3VuZCxhPXUuYWN0aW9uLmJvdW5kLG89dS5hY3Rpb24uYm91bmQsYz1tKChzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXt2YXIgcixuLGksYSxvPXRoaXM7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSxyPXRoaXMsbj1cIm9wZW5cIixhPXRoaXMsKGk9YykmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLG4se2VudW1lcmFibGU6aS5lbnVtZXJhYmxlLGNvbmZpZ3VyYWJsZTppLmNvbmZpZ3VyYWJsZSx3cml0YWJsZTppLndyaXRhYmxlLHZhbHVlOmkuaW5pdGlhbGl6ZXI/aS5pbml0aWFsaXplci5jYWxsKGEpOnZvaWQgMH0pLHRoaXMuc2V0T3Blbj1kKCkoZnVuY3Rpb24oZSl7by5vcGVuRGlhbG9nKGUpfSwzMDAse2xlYWRpbmc6ITAsdHJhaWxpbmc6ITF9KSx0aGlzLmhhbmRsZUNsaWNrT3V0c2lkZT1mdW5jdGlvbihlKXt2YXIgdD0hMTtcIndoaWNoXCJpbiBlP3Q9Mz09PWUud2hpY2g6XCJidXR0b25cImluIGUmJih0PTI9PT1lLmJ1dHRvbiksZS5pc0hhbmRsZWRCeURpYWxvZ3x8dHx8by5zZXRPcGVuKCExKX0sdGhpcy5jbG9zZU9uRXNjYXBlPWZ1bmN0aW9uKGUpezI3PT09ZS5rZXlDb2RlJiZvLnNldE9wZW4oITEpfSx0aGlzLmNvbm5lY3Q9T2JqZWN0KHAuYSkoZnVuY3Rpb24oKXtyZXR1cm57b3BlbjpvLm9wZW4sc2V0T3BlbjpvLnNldE9wZW4sb25Db250YWluZXJDbGljazpvLm9uQ29udGFpbmVyQ2xpY2ssaXNNb2JpbGU6by5tYWluU3RvcmUuY2hhcnQuaXNNb2JpbGV9fSksdGhpcy5tYWluU3RvcmU9dCxPYmplY3QodS53aGVuKShmdW5jdGlvbigpe3JldHVybiBvLmNvbnRleHR9LGZ1bmN0aW9uKCl7by5yb3V0aW5nU3RvcmUucmVnaXN0ZXJEaWFsb2cobyl9KX12YXIgdCxyLG47cmV0dXJuIHQ9ZSwocj1be2tleTpcIm9wZW5EaWFsb2dcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLm9wZW4hPT1lJiYodGhpcy5vcGVuPWUsdGhpcy5vcGVuP3RoaXMucmVnaXN0ZXIoKTp0aGlzLnVucmVnaXN0ZXIoKSwhMD09PWU/KGwmJmwub3BlbkRpYWxvZyghMSksbD10aGlzKTpsPXZvaWQgMCl9fSx7a2V5OlwicmVnaXN0ZXJcIix2YWx1ZTpmdW5jdGlvbigpe2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMuaGFuZGxlQ2xpY2tPdXRzaWRlLCExKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLHRoaXMuY2xvc2VPbkVzY2FwZSwhMSl9fSx7a2V5OlwidW5yZWdpc3RlclwiLHZhbHVlOmZ1bmN0aW9uKCl7ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5oYW5kbGVDbGlja091dHNpZGUpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsdGhpcy5jbG9zZU9uRXNjYXBlKX19LHtrZXk6XCJvbkNvbnRhaW5lckNsaWNrXCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZS5uYXRpdmVFdmVudC5pc0hhbmRsZWRCeURpYWxvZz0hMH19LHtrZXk6XCJjb250ZXh0XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0LmNvbnRleHR9fSx7a2V5Olwicm91dGluZ1N0b3JlXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFpblN0b3JlLnJvdXRpbmd9fV0pJiZmKHQucHJvdG90eXBlLHIpLG4mJmYodCxuKSxlfSgpKS5wcm90b3R5cGUsXCJvcGVuXCIsW3Uub2JzZXJ2YWJsZV0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOmZ1bmN0aW9uKCl7cmV0dXJuITF9fSksbShzLnByb3RvdHlwZSxcIm9wZW5EaWFsb2dcIixbbl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzLnByb3RvdHlwZSxcIm9wZW5EaWFsb2dcIikscy5wcm90b3R5cGUpLG0ocy5wcm90b3R5cGUsXCJyZWdpc3RlclwiLFtpXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHMucHJvdG90eXBlLFwicmVnaXN0ZXJcIikscy5wcm90b3R5cGUpLG0ocy5wcm90b3R5cGUsXCJ1bnJlZ2lzdGVyXCIsW2FdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iocy5wcm90b3R5cGUsXCJ1bnJlZ2lzdGVyXCIpLHMucHJvdG90eXBlKSxtKHMucHJvdG90eXBlLFwib25Db250YWluZXJDbGlja1wiLFtvXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHMucHJvdG90eXBlLFwib25Db250YWluZXJDbGlja1wiKSxzLnByb3RvdHlwZSkscyl9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbixpLGEsbyxzLGMsbD1yKDEzKSx1PXIubihsKSxoPXIoMSksZD1yKDQpO2Z1bmN0aW9uIHAoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fWZ1bmN0aW9uIGYoZSx0LHIpe3JldHVybiB0JiZwKGUucHJvdG90eXBlLHQpLHImJnAoZSxyKSxlfWZ1bmN0aW9uIG0oZSx0LHIsbixpKXt2YXIgYT17fTtyZXR1cm4gT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbihlKXthW2VdPW5bZV19KSxhLmVudW1lcmFibGU9ISFhLmVudW1lcmFibGUsYS5jb25maWd1cmFibGU9ISFhLmNvbmZpZ3VyYWJsZSwoXCJ2YWx1ZVwiaW4gYXx8YS5pbml0aWFsaXplcikmJihhLndyaXRhYmxlPSEwKSxhPXIuc2xpY2UoKS5yZXZlcnNlKCkucmVkdWNlKGZ1bmN0aW9uKHIsbil7cmV0dXJuIG4oZSx0LHIpfHxyfSxhKSxpJiZ2b2lkIDAhPT1hLmluaXRpYWxpemVyJiYoYS52YWx1ZT1hLmluaXRpYWxpemVyP2EuaW5pdGlhbGl6ZXIuY2FsbChpKTp2b2lkIDAsYS5pbml0aWFsaXplcj12b2lkIDApLHZvaWQgMD09PWEuaW5pdGlhbGl6ZXImJihPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LGEpLGE9bnVsbCksYX12YXIgZz0obj1oLmFjdGlvbi5ib3VuZCxpPWguYWN0aW9uLmJvdW5kLGM9cz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt2YXIgdCxyLG4saTshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpLHQ9dGhpcyxyPVwiZmF2b3JpdGVzTWFwXCIsaT10aGlzLChuPW8pJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLHtlbnVtZXJhYmxlOm4uZW51bWVyYWJsZSxjb25maWd1cmFibGU6bi5jb25maWd1cmFibGUsd3JpdGFibGU6bi53cml0YWJsZSx2YWx1ZTpuLmluaXRpYWxpemVyP24uaW5pdGlhbGl6ZXIuY2FsbChpKTp2b2lkIDB9KSx0aGlzLl9lbWl0dGVyPW5ldyB1LmEoe2VtaXREZWxheTowfSl9cmV0dXJuIGYoZSxudWxsLFt7a2V5OlwiZ2V0SW5zdGFuY2VcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBlLmluc3RhbmNlfHwoZS5pbnN0YW5jZT1uZXcgZSksZS5pbnN0YW5jZX19LHtrZXk6XCJFVkVOVF9GQVZPUklURVNfVVBEQVRFXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuXCJFVkVOVF9GQVZPUklURVNfVVBEQVRFXCJ9fV0pLGYoZSxbe2tleTpcIm9uRmF2b3JpdGVVcGRhdGVcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLl9lbWl0dGVyLm9uKGUuRVZFTlRfRkFWT1JJVEVTX1VQREFURSx0KX19LHtrZXk6XCJvZmZGYXZvcml0ZVVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuX2VtaXR0ZXIub2ZmKGUuRVZFTlRfRkFWT1JJVEVTX1VQREFURSx0KX19LHtrZXk6XCJpc0Zhdm9yaXRlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdCBpbiB0aGlzLmZhdm9yaXRlc01hcFtlXX19LHtrZXk6XCJ0b2dnbGVGYXZvcml0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQscil7dmFyIG49dGhpcy5mYXZvcml0ZXNNYXBbdF07bltyXT9kZWxldGUgbltyXTpuW3JdPSEwLHRoaXMuX2VtaXR0ZXIuZW1pdChlLkVWRU5UX0ZBVk9SSVRFU19VUERBVEUse2NhdGVnb3J5OnQsaWQ6cix2YWx1ZTpuW3JdfHwhMX0pLHRoaXMuc2F2ZUZhdm9yaXRlcygpfX0se2tleTpcInNhdmVGYXZvcml0ZXNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXt9O2Zvcih2YXIgdCBpbiB0aGlzLmZhdm9yaXRlc01hcCl7dmFyIHI9W107Zm9yKHZhciBuIGluIHRoaXMuZmF2b3JpdGVzTWFwW3RdKXIucHVzaChuKTtlW3RdPXJ9Q0lRLmxvY2FsU3RvcmFnZVNldEl0ZW0oXCJjcS1mYXZvcml0ZXNcIixKU09OLnN0cmluZ2lmeShlKSl9fV0pLGV9KCkscy5pbnN0YW5jZT12b2lkIDAsbz1tKChhPWMpLnByb3RvdHlwZSxcImZhdm9yaXRlc01hcFwiLFtoLm9ic2VydmFibGVdLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCxpbml0aWFsaXplcjpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3ZhciBlPU9iamVjdChkLmUpKFwiY3EtZmF2b3JpdGVzXCIpO2lmKGUpe3ZhciB0PXt9O2Zvcih2YXIgciBpbiBlKXt2YXIgbj17fSxpPSEwLGE9ITEsbz12b2lkIDA7dHJ5e2Zvcih2YXIgcyxjPWVbcl1bU3ltYm9sLml0ZXJhdG9yXSgpOyEoaT0ocz1jLm5leHQoKSkuZG9uZSk7aT0hMCl7bltzLnZhbHVlXT0hMH19Y2F0Y2goZSl7YT0hMCxvPWV9ZmluYWxseXt0cnl7aXx8bnVsbD09Yy5yZXR1cm58fGMucmV0dXJuKCl9ZmluYWxseXtpZihhKXRocm93IG99fXRbcl09bn1yZXR1cm4gdH19KCl8fHtpbmRpY2F0b3JzOnt9LFwiY2hhcnRUaXRsZSZDb21wYXJpc29uXCI6e319fX0pLG0oYS5wcm90b3R5cGUsXCJpc0Zhdm9yaXRlXCIsW25dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYS5wcm90b3R5cGUsXCJpc0Zhdm9yaXRlXCIpLGEucHJvdG90eXBlKSxtKGEucHJvdG90eXBlLFwidG9nZ2xlRmF2b3JpdGVcIixbaV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhLnByb3RvdHlwZSxcInRvZ2dsZUZhdm9yaXRlXCIpLGEucHJvdG90eXBlKSxhKTt0LmE9Z30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3IuZCh0LFwiYVwiLGZ1bmN0aW9uKCl7cmV0dXJuIHB9KTt2YXIgbixpLGEsbyxzLGM9cigxKSxsPXIoNSk7ZnVuY3Rpb24gdShlLHQscixuKXtyJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOnIuZW51bWVyYWJsZSxjb25maWd1cmFibGU6ci5jb25maWd1cmFibGUsd3JpdGFibGU6ci53cml0YWJsZSx2YWx1ZTpyLmluaXRpYWxpemVyP3IuaW5pdGlhbGl6ZXIuY2FsbChuKTp2b2lkIDB9KX1mdW5jdGlvbiBoKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1mdW5jdGlvbiBkKGUsdCxyLG4saSl7dmFyIGE9e307cmV0dXJuIE9iamVjdC5rZXlzKG4pLmZvckVhY2goZnVuY3Rpb24oZSl7YVtlXT1uW2VdfSksYS5lbnVtZXJhYmxlPSEhYS5lbnVtZXJhYmxlLGEuY29uZmlndXJhYmxlPSEhYS5jb25maWd1cmFibGUsKFwidmFsdWVcImluIGF8fGEuaW5pdGlhbGl6ZXIpJiYoYS53cml0YWJsZT0hMCksYT1yLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbihyLG4pe3JldHVybiBuKGUsdCxyKXx8cn0sYSksaSYmdm9pZCAwIT09YS5pbml0aWFsaXplciYmKGEudmFsdWU9YS5pbml0aWFsaXplcj9hLmluaXRpYWxpemVyLmNhbGwoaSk6dm9pZCAwLGEuaW5pdGlhbGl6ZXI9dm9pZCAwKSx2b2lkIDA9PT1hLmluaXRpYWxpemVyJiYoT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxhKSxhPW51bGwpLGF9dmFyIHA9KG49Yy5hY3Rpb24uYm91bmQsYT1kKChpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3ZhciB0PXRoaXM7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx1KHRoaXMsXCJwcmljZVwiLGEsdGhpcyksdSh0aGlzLFwiaXNJbmNyZWFzZVwiLG8sdGhpcyksdSh0aGlzLFwic3RhdHVzXCIscyx0aGlzKSx0aGlzLm9sZFByaWNlPVwiXCIsdGhpcy5jb25uZWN0PU9iamVjdChsLmEpKGZ1bmN0aW9uKCl7cmV0dXJue3ByaWNlOnQucHJpY2UsaXNJbmNyZWFzZTp0LmlzSW5jcmVhc2Usc3RhdHVzOnQuc3RhdHVzLGNsYXNzTmFtZTp0LmNsYXNzTmFtZX19KX12YXIgdCxyLG47cmV0dXJuIHQ9ZSwocj1be2tleTpcInNldFByaWNlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10fHwrdGhpcy5vbGRQcmljZSxuPStlLGk9ITE7aWYobj5yKWk9ITAsdGhpcy5zdGF0dXM9XCJ1cFwiO2Vsc2V7aWYoIShuPHIpKXJldHVybiB2b2lkKHRoaXMuc3RhdHVzPVwiXCIpO3RoaXMuc3RhdHVzPVwiZG93blwifXRoaXMucHJpY2U9ZSx0aGlzLm9sZFByaWNlPXRoaXMucHJpY2UsdGhpcy5pc0luY3JlYXNlPWl9fV0pJiZoKHQucHJvdG90eXBlLHIpLG4mJmgodCxuKSxlfSgpKS5wcm90b3R5cGUsXCJwcmljZVwiLFtjLm9ic2VydmFibGVdLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCxpbml0aWFsaXplcjpmdW5jdGlvbigpe3JldHVyblwiXCJ9fSksbz1kKGkucHJvdG90eXBlLFwiaXNJbmNyZWFzZVwiLFtjLm9ic2VydmFibGVdLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCxpbml0aWFsaXplcjpmdW5jdGlvbigpe3JldHVybiExfX0pLHM9ZChpLnByb3RvdHlwZSxcInN0YXR1c1wiLFtjLm9ic2VydmFibGVdLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCxpbml0aWFsaXplcjpmdW5jdGlvbigpe3JldHVyblwiXCJ9fSksZChpLnByb3RvdHlwZSxcInNldFByaWNlXCIsW25dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaS5wcm90b3R5cGUsXCJzZXRQcmljZVwiKSxpLnByb3RvdHlwZSksaSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApLGk9ci5uKG4pO3QuYT1mdW5jdGlvbihlKXt2YXIgdD1lLmlzSW5jcmVhc2Uscj1lLnByaWNlLG49ZS5jbGFzc05hbWUsYT1cImNxLWFuaW1hdGVkLXByaWNlIFwiLmNvbmNhdChufHxcIlwiLFwiIFwiKS5jb25jYXQodD9cImNxLXVwXCI6XCJjcS1kb3duXCIpO3JldHVybiBpLmEuY3JlYXRlRWxlbWVudChpLmEuRnJhZ21lbnQsbnVsbCwhciYmaS5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIse2NsYXNzTmFtZTpcImNxLWNvbXBhcmlzb24tbG9hZGVyIHN0eC1zaG93XCJ9KSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6YX0scikpfX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17aWQ6XCJpYy1mYXZvcml0ZS1ub3JtYWwtdXNhZ2VcIix2aWV3Qm94OlwiMCAwIDE2IDE2XCIsdXJsOnIucCtcInNwcml0ZS0yNzg2ZWEuc21hcnRjaGFydHMuc3ZnI2ljLWZhdm9yaXRlLW5vcm1hbC11c2FnZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfX19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWF9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbixpLGEsbyxzPXIoMSksYz1yKDQpLGw9cigxMSk7ZnVuY3Rpb24gdShlLHQpe3ZhciByPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpLHIucHVzaC5hcHBseShyLG4pfXJldHVybiByfWZ1bmN0aW9uIGgoZSx0LHIpe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09cixlfWZ1bmN0aW9uIGQoZSx0LHIsbixpLGEsbyl7dHJ5e3ZhciBzPWVbYV0obyksYz1zLnZhbHVlfWNhdGNoKGUpe3JldHVybiB2b2lkIHIoZSl9cy5kb25lP3QoYyk6UHJvbWlzZS5yZXNvbHZlKGMpLnRoZW4obixpKX1mdW5jdGlvbiBwKGUsdCxyLG4pe3ImJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse2VudW1lcmFibGU6ci5lbnVtZXJhYmxlLGNvbmZpZ3VyYWJsZTpyLmNvbmZpZ3VyYWJsZSx3cml0YWJsZTpyLndyaXRhYmxlLHZhbHVlOnIuaW5pdGlhbGl6ZXI/ci5pbml0aWFsaXplci5jYWxsKG4pOnZvaWQgMH0pfWZ1bmN0aW9uIGYoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fWZ1bmN0aW9uIG0oZSx0LHIsbixpKXt2YXIgYT17fTtyZXR1cm4gT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbihlKXthW2VdPW5bZV19KSxhLmVudW1lcmFibGU9ISFhLmVudW1lcmFibGUsYS5jb25maWd1cmFibGU9ISFhLmNvbmZpZ3VyYWJsZSwoXCJ2YWx1ZVwiaW4gYXx8YS5pbml0aWFsaXplcikmJihhLndyaXRhYmxlPSEwKSxhPXIuc2xpY2UoKS5yZXZlcnNlKCkucmVkdWNlKGZ1bmN0aW9uKHIsbil7cmV0dXJuIG4oZSx0LHIpfHxyfSxhKSxpJiZ2b2lkIDAhPT1hLmluaXRpYWxpemVyJiYoYS52YWx1ZT1hLmluaXRpYWxpemVyP2EuaW5pdGlhbGl6ZXIuY2FsbChpKTp2b2lkIDAsYS5pbml0aWFsaXplcj12b2lkIDApLHZvaWQgMD09PWEuaW5pdGlhbGl6ZXImJihPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LGEpLGE9bnVsbCksYX12YXIgZz0obj1zLmFjdGlvbi5ib3VuZCxhPW0oKGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSxwKHRoaXMsXCJjaGFuZ2VzXCIsYSx0aGlzKSxwKHRoaXMsXCJjYXRlZ29yaXplZFN5bWJvbHNcIixvLHRoaXMpLHRoaXMuc3ltYm9sTWFwPXt9LHRoaXMuc3ltYm9sc1Byb21pc2U9bmV3IGwuYSx0aGlzLmlzUmV0cmlldmluZ1N5bWJvbHM9ITEsdGhpcy5fYXBpPXQsdGhpcy5fdHJhZGluZ1RpbWVzPXJ9dmFyIHQscixuLGksbTtyZXR1cm4gdD1lLChyPVt7a2V5OlwicmV0cmlldmVBY3RpdmVTeW1ib2xzXCIsdmFsdWU6KGk9cmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gZSgpe3ZhciB0LHIsbixpLGEsbyxjLGwsdSxoPXRoaXMsZD1hcmd1bWVudHM7cmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOmlmKHQ9ZC5sZW5ndGg+MCYmdm9pZCAwIT09ZFswXSYmZFswXSwhdGhpcy5pc1JldHJpZXZpbmdTeW1ib2xzfHx0KXtlLm5leHQ9NTticmVha31yZXR1cm4gZS5uZXh0PTQsdGhpcy5zeW1ib2xzUHJvbWlzZTtjYXNlIDQ6cmV0dXJuIGUuYWJydXB0KFwicmV0dXJuXCIsdGhpcy5hY3RpdmVTeW1ib2xzKTtjYXNlIDU6cmV0dXJuIHRoaXMuaXNSZXRyaWV2aW5nU3ltYm9scz0hMCxlLm5leHQ9OCx0aGlzLl9hcGkuZ2V0QWN0aXZlU3ltYm9scygpO2Nhc2UgODpmb3Iocj1lLnNlbnQsbj1yLmFjdGl2ZV9zeW1ib2xzLE9iamVjdChzLnJ1bkluQWN0aW9uKShmdW5jdGlvbigpe2gucHJvY2Vzc2VkU3ltYm9scz1oLl9wcm9jZXNzU3ltYm9scyhuKSxoLmNhdGVnb3JpemVkU3ltYm9scz1oLl9jYXRlZ29yaXplQWN0aXZlU3ltYm9scyhoLnByb2Nlc3NlZFN5bWJvbHMpfSksaT0hMCxhPSExLG89dm9pZCAwLGUucHJldj0xNCxjPXRoaXMucHJvY2Vzc2VkU3ltYm9sc1tTeW1ib2wuaXRlcmF0b3JdKCk7IShpPShsPWMubmV4dCgpKS5kb25lKTtpPSEwKXU9bC52YWx1ZSx0aGlzLnN5bWJvbE1hcFt1LnN5bWJvbF09dTtlLm5leHQ9MjI7YnJlYWs7Y2FzZSAxODplLnByZXY9MTgsZS50MD1lLmNhdGNoKDE0KSxhPSEwLG89ZS50MDtjYXNlIDIyOmUucHJldj0yMixlLnByZXY9MjMsaXx8bnVsbD09Yy5yZXR1cm58fGMucmV0dXJuKCk7Y2FzZSAyNTppZihlLnByZXY9MjUsIWEpe2UubmV4dD0yODticmVha310aHJvdyBvO2Nhc2UgMjg6cmV0dXJuIGUuZmluaXNoKDI1KTtjYXNlIDI5OnJldHVybiBlLmZpbmlzaCgyMik7Y2FzZSAzMDpyZXR1cm4gdGhpcy5fdHJhZGluZ1RpbWVzLm9uTWFya2V0T3BlbkNsb3NlQ2hhbmdlZChPYmplY3Qocy5hY3Rpb24pKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiBlKXt2YXIgcj1oLnN5bWJvbE1hcFt0XTtyJiYoci5leGNoYW5nZV9pc19vcGVuPWVbdF0pfWguY2hhbmdlcz1lfSkpLHRoaXMuc3ltYm9sc1Byb21pc2UucmVzb2x2ZSgpLGUuYWJydXB0KFwicmV0dXJuXCIsdGhpcy5hY3RpdmVTeW1ib2xzKTtjYXNlIDMzOmNhc2VcImVuZFwiOnJldHVybiBlLnN0b3AoKX19LGUsdGhpcyxbWzE0LDE4LDIyLDMwXSxbMjMsLDI1LDI5XV0pfSksbT1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1hcmd1bWVudHM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHIsbil7dmFyIGE9aS5hcHBseShlLHQpO2Z1bmN0aW9uIG8oZSl7ZChhLHIsbixvLHMsXCJuZXh0XCIsZSl9ZnVuY3Rpb24gcyhlKXtkKGEscixuLG8scyxcInRocm93XCIsZSl9byh2b2lkIDApfSl9LGZ1bmN0aW9uKCl7cmV0dXJuIG0uYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJnZXRTeW1ib2xPYmpcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zeW1ib2xNYXBbZV19fSx7a2V5OlwiX3Byb2Nlc3NTeW1ib2xzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9W107T2JqZWN0KGMucCkoZSxmdW5jdGlvbihlLHQpe3JldHVybiBlLnN1Ym1hcmtldF9kaXNwbGF5X25hbWUubG9jYWxlQ29tcGFyZSh0LnN1Ym1hcmtldF9kaXNwbGF5X25hbWUpfSk7dmFyIHI9ITAsbj0hMSxpPXZvaWQgMDt0cnl7Zm9yKHZhciBhLG89ZVtTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShhPW8ubmV4dCgpKS5kb25lKTtyPSEwKXt2YXIgcz1hLnZhbHVlO3QucHVzaCh7c3ltYm9sOnMuc3ltYm9sLG5hbWU6cy5kaXNwbGF5X25hbWUsbWFya2V0OnMubWFya2V0LG1hcmtldF9kaXNwbGF5X25hbWU6cy5tYXJrZXRfZGlzcGxheV9uYW1lLHN1Ym1hcmtldF9kaXNwbGF5X25hbWU6cy5zdWJtYXJrZXRfZGlzcGxheV9uYW1lLGV4Y2hhbmdlX2lzX29wZW46ISFzLmV4Y2hhbmdlX2lzX29wZW4sZGVjaW1hbF9wbGFjZXM6cy5waXAudG9TdHJpbmcoKS5sZW5ndGgtMn0pfX1jYXRjaChlKXtuPSEwLGk9ZX1maW5hbGx5e3RyeXtyfHxudWxsPT1vLnJldHVybnx8by5yZXR1cm4oKX1maW5hbGx5e2lmKG4pdGhyb3cgaX19Zm9yKHZhciBsPVtdLHU9MCxoPVtcImZvcmV4XCIsXCJpbmRpY2VzXCIsXCJzdG9ja3NcIixcImNvbW1vZGl0aWVzXCIsXCJzeW50aGV0aWNfaW5kZXhcIl07dTxoLmxlbmd0aDt1KyspZm9yKHZhciBkPWhbdV0scD0wLGY9dDtwPGYubGVuZ3RoO3ArKyl7dmFyIG09ZltwXTtkPT09bS5tYXJrZXQmJmwucHVzaChtKX1yZXR1cm4gbH19LHtrZXk6XCJfY2F0ZWdvcml6ZUFjdGl2ZVN5bWJvbHNcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1bXSxyPWVbMF0sbj1mdW5jdGlvbihlKXtyZXR1cm57c3ViY2F0ZWdvcnlOYW1lOmUuc3VibWFya2V0X2Rpc3BsYXlfbmFtZSxkYXRhOltdfX0saT1mdW5jdGlvbihlKXtyZXR1cm57Y2F0ZWdvcnlOYW1lOmUubWFya2V0X2Rpc3BsYXlfbmFtZSxjYXRlZ29yeUlkOmUubWFya2V0LGhhc1N1YmNhdGVnb3J5OiEwLGRhdGE6W119fSxhPW4ociksbz1pKHIpLHM9ITAsYz0hMSxsPXZvaWQgMDt0cnl7Zm9yKHZhciB1LGg9ZVtTeW1ib2wuaXRlcmF0b3JdKCk7IShzPSh1PWgubmV4dCgpKS5kb25lKTtzPSEwKXt2YXIgZD11LnZhbHVlO28uY2F0ZWdvcnlOYW1lIT09ZC5tYXJrZXRfZGlzcGxheV9uYW1lJiYoby5kYXRhLnB1c2goYSksdC5wdXNoKG8pLGE9bihkKSxvPWkoZCkpLGEuc3ViY2F0ZWdvcnlOYW1lIT09ZC5zdWJtYXJrZXRfZGlzcGxheV9uYW1lJiYoby5kYXRhLnB1c2goYSksYT1uKGQpKSxhLmRhdGEucHVzaCh7ZW5hYmxlZDohMCxpdGVtSWQ6ZC5zeW1ib2wsZGlzcGxheTpkLm5hbWUsZGF0YU9iamVjdDpkfSl9fWNhdGNoKGUpe2M9ITAsbD1lfWZpbmFsbHl7dHJ5e3N8fG51bGw9PWgucmV0dXJufHxoLnJldHVybigpfWZpbmFsbHl7aWYoYyl0aHJvdyBsfX1yZXR1cm4gby5kYXRhLnB1c2goYSksdC5wdXNoKG8pLHR9fSx7a2V5OlwiYWN0aXZlU3ltYm9sc1wiLGdldDpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIE9iamVjdChjLmMpKHRoaXMuY2F0ZWdvcml6ZWRTeW1ib2xzLGZ1bmN0aW9uKHQpe3ZhciByPXQuZGF0YU9iamVjdC5zeW1ib2w7cmV0dXJuIHIgaW4gZS5jaGFuZ2VzJiYodC5kYXRhT2JqZWN0LmV4Y2hhbmdlX2lzX29wZW49ZS5jaGFuZ2VzW3JdKSxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj91KHIsITApLmZvckVhY2goZnVuY3Rpb24odCl7aChlLHQsclt0XSl9KTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHIpKTp1KHIpLmZvckVhY2goZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsdCkpfSl9cmV0dXJuIGV9KHt9LHQpfSl9fV0pJiZmKHQucHJvdG90eXBlLHIpLG4mJmYodCxuKSxlfSgpKS5wcm90b3R5cGUsXCJjaGFuZ2VzXCIsW3Mub2JzZXJ2YWJsZV0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOmZ1bmN0aW9uKCl7cmV0dXJue319fSksbz1tKGkucHJvdG90eXBlLFwiY2F0ZWdvcml6ZWRTeW1ib2xzXCIsW3Mub2JzZXJ2YWJsZV0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOmZ1bmN0aW9uKCl7cmV0dXJuW119fSksbShpLnByb3RvdHlwZSxcInJldHJpZXZlQWN0aXZlU3ltYm9sc1wiLFtuXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGkucHJvdG90eXBlLFwicmV0cmlldmVBY3RpdmVTeW1ib2xzXCIpLGkucHJvdG90eXBlKSxtKGkucHJvdG90eXBlLFwiYWN0aXZlU3ltYm9sc1wiLFtzLmNvbXB1dGVkXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGkucHJvdG90eXBlLFwiYWN0aXZlU3ltYm9sc1wiKSxpLnByb3RvdHlwZSksaSksYj1yKDEzKSx5PXIubihiKSx2PXIoMTUpO2Z1bmN0aW9uIF8oZSx0LHIsbixpLGEsbyl7dHJ5e3ZhciBzPWVbYV0obyksYz1zLnZhbHVlfWNhdGNoKGUpe3JldHVybiB2b2lkIHIoZSl9cy5kb25lP3QoYyk6UHJvbWlzZS5yZXNvbHZlKGMpLnRoZW4obixpKX1mdW5jdGlvbiBTKGUpe3JldHVybiBmdW5jdGlvbigpe3ZhciB0PXRoaXMscj1hcmd1bWVudHM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKG4saSl7dmFyIGE9ZS5hcHBseSh0LHIpO2Z1bmN0aW9uIG8oZSl7XyhhLG4saSxvLHMsXCJuZXh0XCIsZSl9ZnVuY3Rpb24gcyhlKXtfKGEsbixpLG8scyxcInRocm93XCIsZSl9byh2b2lkIDApfSl9fWZ1bmN0aW9uIHcoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fWZ1bmN0aW9uIHgoZSx0LHIpe3JldHVybiB0JiZ3KGUucHJvdG90eXBlLHQpLHImJncoZSxyKSxlfXZhciBrPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXt2YXIgcj0hKGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdKXx8YXJndW1lbnRzWzFdOyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksdGhpcy5pc0luaXRpYWxpemVkPSExLHRoaXMudHJhZGluZ1RpbWVzUHJvbWlzZT1uZXcgbC5hLHRoaXMuX3Nob3VsZEZldGNoVHJhZGluZ1RpbWVzPXIsdGhpcy5fYXBpPXQsdGhpcy5fc2VydmVyVGltZT12LmEuZ2V0SW5zdGFuY2UoKSx0aGlzLl9lbWl0dGVyPW5ldyB5LmEoe2VtaXREZWxheTowfSl9dmFyIHQscjtyZXR1cm4geChlLG51bGwsW3trZXk6XCJFVkVOVF9NQVJLRVRfT1BFTl9DTE9TRV9DSEFOR0VcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cIkVWRU5UX01BUktFVF9PUEVOX0NMT1NFX0NIQU5HRVwifX0se2tleTpcIkZFRURfVU5BVkFJTEFCTEVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cImNoYXJ0b25seVwifX1dKSx4KGUsW3trZXk6XCJkZXN0cnVjdG9yXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl91cGRhdGVUaW1lciYmY2xlYXJUaW1lb3V0KHRoaXMuX3VwZGF0ZVRpbWVyKX19LHtrZXk6XCJpbml0aWFsaXplXCIsdmFsdWU6KHI9UyhyZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiB0KCl7dmFyIHIsbj10aGlzO3JldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gdC5uZXh0PTIsdGhpcy5fc2VydmVyVGltZS5pbml0KHRoaXMuX2FwaSk7Y2FzZSAyOmlmKCF0aGlzLmlzSW5pdGlhbGl6ZWQpe3QubmV4dD00O2JyZWFrfXJldHVybiB0LmFicnVwdChcInJldHVyblwiLHRoaXMudHJhZGluZ1RpbWVzUHJvbWlzZSk7Y2FzZSA0OmlmKHRoaXMuaXNJbml0aWFsaXplZD0hMCx0aGlzLmxhc3RVcGRhdGVEYXRlPXRoaXMuX3NlcnZlclRpbWUuZ2V0TG9jYWxEYXRlKCkudG9JU09TdHJpbmcoKS5zdWJzdHJpbmcoMCwxMCksdGhpcy5fdHJhZGluZ1RpbWVzTWFwfHwhdGhpcy5fc2hvdWxkRmV0Y2hUcmFkaW5nVGltZXMpe3QubmV4dD0xMzticmVha31yZXR1cm4gdC5uZXh0PTksdGhpcy5fdXBkYXRlVHJhZGVUaW1lcygpO2Nhc2UgOTpyZXR1cm4gdGhpcy50cmFkaW5nVGltZXNQcm9taXNlLnJlc29sdmUoKSxyPWZ1bmN0aW9uKCl7dmFyIHQ9UyhyZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiB0KCl7dmFyIGksYSxvLHMsYyxsLHUsaDtyZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6aWYoaT1uLl91cGRhdGVNYXJrZXRPcGVuQ2xvc2VkKCksT2JqZWN0LmtleXMoaSkubGVuZ3RoPjAmJm4uX2VtaXR0ZXIuZW1pdChlLkVWRU5UX01BUktFVF9PUEVOX0NMT1NFX0NIQU5HRSxpKSxhPW4uX25leHRVcGRhdGVEYXRlKCkpe3QubmV4dD0xNDticmVha31mb3IobCBpbiBvPW4uX3NlcnZlclRpbWUuZ2V0TG9jYWxEYXRlKCksKHM9bmV3IERhdGUoXCJcIi5jb25jYXQobi5sYXN0VXBkYXRlRGF0ZSxcIlQwMDowMDowMFpcIikpKS5zZXREYXRlKHMuZ2V0RGF0ZSgpKzEpLG4ubGFzdFVwZGF0ZURhdGU9KG8+cz9vOnMpLnRvSVNPU3RyaW5nKCkuc3Vic3RyaW5nKDAsMTApLGM9e30sbi5fdHJhZGluZ1RpbWVzTWFwKWNbbF09bi5fdHJhZGluZ1RpbWVzTWFwW2xdLmlzT3BlbmVkO3JldHVybiB0Lm5leHQ9MTIsbi5fdXBkYXRlVHJhZGVUaW1lcygpO2Nhc2UgMTI6Zm9yKHUgaW4gbi5fdHJhZGluZ1RpbWVzTWFwKW4uX3RyYWRpbmdUaW1lc01hcFt1XS5pc09wZW5lZD1jW3VdO2E9cztjYXNlIDE0Omg9YS1uLl9zZXJ2ZXJUaW1lLmdldExvY2FsRGF0ZSgpLG4uX3VwZGF0ZVRpbWVyPXNldFRpbWVvdXQocixoKTtjYXNlIDE2OmNhc2VcImVuZFwiOnJldHVybiB0LnN0b3AoKX19LHQpfSkpO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KCksdC5uZXh0PTEzLHIoKTtjYXNlIDEzOmNhc2VcImVuZFwiOnJldHVybiB0LnN0b3AoKX19LHQsdGhpcyl9KSksZnVuY3Rpb24oKXtyZXR1cm4gci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcIl91cGRhdGVNYXJrZXRPcGVuQ2xvc2VkXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17fTtmb3IodmFyIHQgaW4gdGhpcy5fdHJhZGluZ1RpbWVzTWFwKXt2YXIgcj10aGlzLl9jYWxjSXNNYXJrZXRPcGVuZWQodCk7dGhpcy5fdHJhZGluZ1RpbWVzTWFwW3RdLmlzT3BlbmVkIT09ciYmKHRoaXMuX3RyYWRpbmdUaW1lc01hcFt0XS5pc09wZW5lZD1yLGVbdF09cil9cmV0dXJuIGV9fSx7a2V5OlwiX3VwZGF0ZVRyYWRlVGltZXNcIix2YWx1ZToodD1TKHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGUoKXt2YXIgdCxyLG4saSxhLG8scyxjLGwsdSxoLGQscCxmLG0sZyxiLHksdixfLFMsdyx4LGssTyxDLEU9dGhpcztyZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6cmV0dXJuIGUubmV4dD0yLHRoaXMuX2FwaS5nZXRUcmFkaW5nVGltZXModGhpcy5sYXN0VXBkYXRlRGF0ZSk7Y2FzZSAyOmlmKCEodD1lLnNlbnQpLmVycm9yKXtlLm5leHQ9NzticmVha31yZXR1cm4gcj10LmVycm9yLGNvbnNvbGUuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHRyYWRpbmcgdGltZXMgb24gXCIuY29uY2F0KHRoaXMubGFzdFVwZGF0ZURhdGUsXCI6IFtcIikuY29uY2F0KHIuY29kZSwnXSBcIicpLmNvbmNhdChyLm1lc3NhZ2UsJ1wiJykpLGUuYWJydXB0KFwicmV0dXJuXCIpO2Nhc2UgNzpuPXRoaXMuX3NlcnZlclRpbWUuZ2V0TG9jYWxEYXRlKCksaT1uLnRvSVNPU3RyaW5nKCkuc3Vic3RyaW5nKDAsMTEpLGE9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBEYXRlKFwiXCIuY29uY2F0KGkpLmNvbmNhdChlLFwiWlwiKSl9LHRoaXMuX3RyYWRpbmdUaW1lc01hcD17fSxvPXQudHJhZGluZ190aW1lcy5tYXJrZXRzLHM9ITAsYz0hMSxsPXZvaWQgMCxlLnByZXY9MTUsdT1vW1N5bWJvbC5pdGVyYXRvcl0oKTtjYXNlIDE3OmlmKHM9KGg9dS5uZXh0KCkpLmRvbmUpe2UubmV4dD02ODticmVha31kPWgudmFsdWUscD1kLnN1Ym1hcmtldHMsZj0hMCxtPSExLGc9dm9pZCAwLGUucHJldj0yMyxiPXBbU3ltYm9sLml0ZXJhdG9yXSgpO2Nhc2UgMjU6aWYoZj0oeT1iLm5leHQoKSkuZG9uZSl7ZS5uZXh0PTUxO2JyZWFrfWZvcih2PXkudmFsdWUsXz12LnN5bWJvbHMsUz0hMCx3PSExLHg9dm9pZCAwLGUucHJldj0zMSxrPWZ1bmN0aW9uKCl7dmFyIGU9Qy52YWx1ZSx0PWUudGltZXMscj1lLnN5bWJvbCxuPWUuZmVlZF9saWNlbnNlLGk9ZS5kZWxheV9hbW91bnQsbz10Lm9wZW4scz10LmNsb3NlLGM9dm9pZCAwLGw9MT09PW8ubGVuZ3RoJiZcIjAwOjAwOjAwXCI9PT1vWzBdJiZcIjIzOjU5OjU5XCI9PT1zWzBdLHU9MT09PW8ubGVuZ3RoJiZcIi0tXCI9PT1vWzBdJiZcIi0tXCI9PT1zWzBdO2x8fHV8fChjPW8ubWFwKGZ1bmN0aW9uKGUsdCl7cmV0dXJue29wZW46YShlKSxjbG9zZTphKHNbdF0pfX0pKSxFLl90cmFkaW5nVGltZXNNYXBbcl09e2ZlZWRfbGljZW5zZTpuLGRlbGF5X2Ftb3VudDppfHwwLHRpbWVzOmMsaXNPcGVuQWxsRGF5OmwsaXNDbG9zZWRBbGxEYXk6dX19LE89X1tTeW1ib2wuaXRlcmF0b3JdKCk7IShTPShDPU8ubmV4dCgpKS5kb25lKTtTPSEwKWsoKTtlLm5leHQ9NDA7YnJlYWs7Y2FzZSAzNjplLnByZXY9MzYsZS50MD1lLmNhdGNoKDMxKSx3PSEwLHg9ZS50MDtjYXNlIDQwOmUucHJldj00MCxlLnByZXY9NDEsU3x8bnVsbD09Ty5yZXR1cm58fE8ucmV0dXJuKCk7Y2FzZSA0MzppZihlLnByZXY9NDMsIXcpe2UubmV4dD00NjticmVha310aHJvdyB4O2Nhc2UgNDY6cmV0dXJuIGUuZmluaXNoKDQzKTtjYXNlIDQ3OnJldHVybiBlLmZpbmlzaCg0MCk7Y2FzZSA0ODpmPSEwLGUubmV4dD0yNTticmVhaztjYXNlIDUxOmUubmV4dD01NzticmVhaztjYXNlIDUzOmUucHJldj01MyxlLnQxPWUuY2F0Y2goMjMpLG09ITAsZz1lLnQxO2Nhc2UgNTc6ZS5wcmV2PTU3LGUucHJldj01OCxmfHxudWxsPT1iLnJldHVybnx8Yi5yZXR1cm4oKTtjYXNlIDYwOmlmKGUucHJldj02MCwhbSl7ZS5uZXh0PTYzO2JyZWFrfXRocm93IGc7Y2FzZSA2MzpyZXR1cm4gZS5maW5pc2goNjApO2Nhc2UgNjQ6cmV0dXJuIGUuZmluaXNoKDU3KTtjYXNlIDY1OnM9ITAsZS5uZXh0PTE3O2JyZWFrO2Nhc2UgNjg6ZS5uZXh0PTc0O2JyZWFrO2Nhc2UgNzA6ZS5wcmV2PTcwLGUudDI9ZS5jYXRjaCgxNSksYz0hMCxsPWUudDI7Y2FzZSA3NDplLnByZXY9NzQsZS5wcmV2PTc1LHN8fG51bGw9PXUucmV0dXJufHx1LnJldHVybigpO2Nhc2UgNzc6aWYoZS5wcmV2PTc3LCFjKXtlLm5leHQ9ODA7YnJlYWt9dGhyb3cgbDtjYXNlIDgwOnJldHVybiBlLmZpbmlzaCg3Nyk7Y2FzZSA4MTpyZXR1cm4gZS5maW5pc2goNzQpO2Nhc2UgODI6Y2FzZVwiZW5kXCI6cmV0dXJuIGUuc3RvcCgpfX0sZSx0aGlzLFtbMTUsNzAsNzQsODJdLFsyMyw1Myw1Nyw2NV0sWzMxLDM2LDQwLDQ4XSxbNDEsLDQzLDQ3XSxbNTgsLDYwLDY0XSxbNzUsLDc3LDgxXV0pfSkpLGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJpc0ZlZWRVbmF2YWlsYWJsZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHRoaXMuX3RyYWRpbmdUaW1lc01hcClyZXR1cm4gdCBpbiB0aGlzLl90cmFkaW5nVGltZXNNYXA/dGhpcy5fdHJhZGluZ1RpbWVzTWFwW3RdLmZlZWRfbGljZW5zZT09PWUuRkVFRF9VTkFWQUlMQUJMRTooY29uc29sZS5lcnJvcihcIlN5bWJvbCBub3QgaW4gX3RyYWRpbmdUaW1lc01hcDpcIix0LFwiIHRyYWRpbmcgbWFwOlwiLHRoaXMuX3RyYWRpbmdUaW1lc01hcCksITEpfX0se2tleTpcImdldERlbGF5ZWRNaW51dGVzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3RyYWRpbmdUaW1lc01hcFtlXS5kZWxheV9hbW91bnR9fSx7a2V5OlwiaXNNYXJrZXRPcGVuZWRcIix2YWx1ZTpmdW5jdGlvbihlKXtpZih0aGlzLl90cmFkaW5nVGltZXNNYXApcmV0dXJuIGUgaW4gdGhpcy5fdHJhZGluZ1RpbWVzTWFwP3RoaXMuX3RyYWRpbmdUaW1lc01hcFtlXS5pc09wZW5lZDooY29uc29sZS5lcnJvcihcIlN5bWJvbCBub3QgaW4gX3RyYWRpbmdUaW1lc01hcDpcIixlLFwiIHRyYWRpbmcgbWFwOlwiLHRoaXMuX3RyYWRpbmdUaW1lc01hcCksITEpfX0se2tleTpcIl9jYWxjSXNNYXJrZXRPcGVuZWRcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgcj10aGlzLl9zZXJ2ZXJUaW1lLmdldExvY2FsRGF0ZSgpLG49dGhpcy5fdHJhZGluZ1RpbWVzTWFwW3RdLGk9bi50aW1lcyxhPW4uZmVlZF9saWNlbnNlLG89bi5pc09wZW5BbGxEYXk7aWYobi5pc0Nsb3NlZEFsbERheXx8YT09PWUuRkVFRF9VTkFWQUlMQUJMRSlyZXR1cm4hMTtpZihvKXJldHVybiEwO3ZhciBzPSEwLGM9ITEsbD12b2lkIDA7dHJ5e2Zvcih2YXIgdSxoPWlbU3ltYm9sLml0ZXJhdG9yXSgpOyEocz0odT1oLm5leHQoKSkuZG9uZSk7cz0hMCl7dmFyIGQ9dS52YWx1ZSxwPWQub3BlbixmPWQuY2xvc2U7aWYocj49cCYmcjxmKXJldHVybiEwfX1jYXRjaChlKXtjPSEwLGw9ZX1maW5hbGx5e3RyeXtzfHxudWxsPT1oLnJldHVybnx8aC5yZXR1cm4oKX1maW5hbGx5e2lmKGMpdGhyb3cgbH19cmV0dXJuITF9fSx7a2V5OlwiX25leHRVcGRhdGVEYXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdCxyPXRoaXMuX3NlcnZlclRpbWUuZ2V0TG9jYWxEYXRlKCk7Zm9yKHZhciBuIGluIHRoaXMuX3RyYWRpbmdUaW1lc01hcCl7dmFyIGk9dGhpcy5fdHJhZGluZ1RpbWVzTWFwW25dLGE9aS50aW1lcyxvPWkuZmVlZF9saWNlbnNlLHM9aS5pc09wZW5BbGxEYXksYz1pLmlzQ2xvc2VkQWxsRGF5O2lmKCFzJiYhYyYmbyE9PWUuRkVFRF9VTkFWQUlMQUJMRSl7dmFyIGw9ITAsdT0hMSxoPXZvaWQgMDt0cnl7Zm9yKHZhciBkLHA9YVtTeW1ib2wuaXRlcmF0b3JdKCk7IShsPShkPXAubmV4dCgpKS5kb25lKTtsPSEwKXt2YXIgZj1kLnZhbHVlLG09Zi5vcGVuLGc9Zi5jbG9zZTttPnImJighdHx8bTx0KSYmKHQ9bSksZz5yJiYoIXR8fGc8dCkmJih0PWcpfX1jYXRjaChlKXt1PSEwLGg9ZX1maW5hbGx5e3RyeXtsfHxudWxsPT1wLnJldHVybnx8cC5yZXR1cm4oKX1maW5hbGx5e2lmKHUpdGhyb3cgaH19fX1yZXR1cm4gdH19LHtrZXk6XCJvbk1hcmtldE9wZW5DbG9zZUNoYW5nZWRcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLl9lbWl0dGVyLm9uKGUuRVZFTlRfTUFSS0VUX09QRU5fQ0xPU0VfQ0hBTkdFLHQpfX1dKSxlfSgpO2Z1bmN0aW9uIE8oZSx0KXt2YXIgcj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSxyLnB1c2guYXBwbHkocixuKX1yZXR1cm4gcn1mdW5jdGlvbiBDKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP08ociwhMCkuZm9yRWFjaChmdW5jdGlvbih0KXtFKGUsdCxyW3RdKX0pOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMocikpOk8ocikuZm9yRWFjaChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iocix0KSl9KX1yZXR1cm4gZX1mdW5jdGlvbiBFKGUsdCxyKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPXIsZX1mdW5jdGlvbiBUKGUsdCxyLG4saSxhLG8pe3RyeXt2YXIgcz1lW2FdKG8pLGM9cy52YWx1ZX1jYXRjaChlKXtyZXR1cm4gdm9pZCByKGUpfXMuZG9uZT90KGMpOlByb21pc2UucmVzb2x2ZShjKS50aGVuKG4saSl9ZnVuY3Rpb24gUChlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19ZnVuY3Rpb24gRChlLHQscil7cmV0dXJuIHQmJlAoZS5wcm90b3R5cGUsdCksciYmUChlLHIpLGV9dmFyIGo9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuLGkpeyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksdGhpcy5zdHJlYW1SZXF1ZXN0cz17fSx0aGlzLnRyYWRpbmdUaW1lc0NhY2hlPW51bGwsdGhpcy5yZXF1ZXN0QVBJPXQsdGhpcy5yZXF1ZXN0U3Vic2NyaWJlPXIsdGhpcy5yZXF1ZXN0Rm9yZ2V0PW4sdGhpcy5yZXF1ZXN0Rm9yZ2V0U3RyZWFtPWl9dmFyIHQscjtyZXR1cm4gRChlLG51bGwsW3trZXk6XCJERUZBVUxUX0NPVU5UXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDFlM319XSksRChlLFt7a2V5OlwiZ2V0QWN0aXZlU3ltYm9sc1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVxdWVzdEFQSSh7YWN0aXZlX3N5bWJvbHM6XCJicmllZlwifSl9fSx7a2V5OlwiZ2V0U2VydmVyVGltZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVxdWVzdEFQSSh7dGltZToxfSl9fSx7a2V5OlwiZ2V0VHJhZGluZ1RpbWVzXCIsdmFsdWU6KHQ9cmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gZSgpe3ZhciB0LHIsbj1hcmd1bWVudHM7cmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOmlmKHQ9bi5sZW5ndGg+MCYmdm9pZCAwIT09blswXT9uWzBdOlwidG9kYXlcIiwhdGhpcy50cmFkaW5nVGltZXNDYWNoZXx8dGhpcy50cmFkaW5nVGltZXNDYWNoZS50cmFkaW5nX3RpbWVzIT09dCl7ZS5uZXh0PTM7YnJlYWt9cmV0dXJuIGUuYWJydXB0KFwicmV0dXJuXCIsQyh7fSx0aGlzLnRyYWRpbmdUaW1lc0NhY2hlKSk7Y2FzZSAzOnJldHVybiBlLm5leHQ9NSx0aGlzLnJlcXVlc3RBUEkoe3RyYWRpbmdfdGltZXM6dH0pO2Nhc2UgNTpyZXR1cm4gcj1lLnNlbnQsXCJ0b2RheVwiIT09dCYmKHRoaXMudHJhZGluZ1RpbWVzQ2FjaGU9Qyh7fSxyKSksZS5hYnJ1cHQoXCJyZXR1cm5cIixyKTtjYXNlIDg6Y2FzZVwiZW5kXCI6cmV0dXJuIGUuc3RvcCgpfX0sZSx0aGlzKX0pLHI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHI9YXJndW1lbnRzO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihuLGkpe3ZhciBhPXQuYXBwbHkoZSxyKTtmdW5jdGlvbiBvKGUpe1QoYSxuLGksbyxzLFwibmV4dFwiLGUpfWZ1bmN0aW9uIHMoZSl7VChhLG4saSxvLHMsXCJ0aHJvd1wiLGUpfW8odm9pZCAwKX0pfSxmdW5jdGlvbigpe3JldHVybiByLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlwiZ2V0VGlja0hpc3RvcnlcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgcj1lLmNyZWF0ZVRpY2tIaXN0b3J5UmVxdWVzdCh0KTtyZXR1cm4gdGhpcy5yZXF1ZXN0QVBJKHIpfX0se2tleTpcInN1YnNjcmliZVRpY2tIaXN0b3J5XCIsdmFsdWU6ZnVuY3Rpb24odCxyKXt2YXIgbj10aGlzLl9nZXRLZXkodCksaT1lLmNyZWF0ZVRpY2tIaXN0b3J5UmVxdWVzdChDKHt9LHQse3N1YnNjcmliZToxfSkpO3RoaXMuc3RyZWFtUmVxdWVzdHNbbl09e3JlcXVlc3Q6aSxjYWxsYmFjazpyfSx0aGlzLnJlcXVlc3RTdWJzY3JpYmUoQyh7fSxpKSxyKX19LHtrZXk6XCJmb3JnZXRcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9nZXRLZXkoZSk7aWYodGhpcy5zdHJlYW1SZXF1ZXN0c1t0XSl7dmFyIHI9dGhpcy5zdHJlYW1SZXF1ZXN0c1t0XSxuPXIucmVxdWVzdCxpPXIuY2FsbGJhY2s7cmV0dXJuIGRlbGV0ZSB0aGlzLnN0cmVhbVJlcXVlc3RzW3RdLHRoaXMucmVxdWVzdEZvcmdldChuLGkpfX19LHtrZXk6XCJmb3JnZXRTdHJlYW1cIix2YWx1ZTpmdW5jdGlvbihlKXtpZih0aGlzLnJlcXVlc3RGb3JnZXRTdHJlYW0mJlwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMucmVxdWVzdEZvcmdldFN0cmVhbSlyZXR1cm4gdGhpcy5yZXF1ZXN0Rm9yZ2V0U3RyZWFtKGUpfX0se2tleTpcIl9nZXRLZXlcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnN5bWJvbCxyPWUuZ3JhbnVsYXJpdHk7cmV0dXJuXCJcIi5jb25jYXQodCxcIi1cIikuY29uY2F0KHIpfX1dLFt7a2V5OlwiY3JlYXRlVGlja0hpc3RvcnlSZXF1ZXN0XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIHI9dC5zeW1ib2wsbj10LmdyYW51bGFyaXR5LGk9dC5zdGFydCxhPXQuZW5kLG89dC5zdWJzY3JpYmUscz10LmFkanVzdF9zdGFydF90aW1lLGM9dm9pZCAwPT09cz8xOnMsbD17dGlja3NfaGlzdG9yeTpyLHN0eWxlOituP1wiY2FuZGxlc1wiOlwidGlja3NcIixlbmQ6XCJsYXRlc3RcIixjb3VudDp0LmNvdW50fHxlLkRFRkFVTFRfQ09VTlR9O3JldHVybiBuJiYobC5ncmFudWxhcml0eT0rbiksYyYmKGwuYWRqdXN0X3N0YXJ0X3RpbWU9YyksbyYmKGwuc3Vic2NyaWJlPTEpLGkmJihkZWxldGUgbC5jb3VudCxsLnN0YXJ0PWkpLGEmJihsLmVuZD1hKSxsfX1dKSxlfSgpO3IuZCh0LFwiYVwiLGZ1bmN0aW9uKCl7cmV0dXJuIGd9KSxyLmQodCxcImNcIixmdW5jdGlvbigpe3JldHVybiBrfSksci5kKHQsXCJiXCIsZnVuY3Rpb24oKXtyZXR1cm4gan0pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGUpe3IuZCh0LFwiYlwiLGZ1bmN0aW9uKCl7cmV0dXJuIGR9KSxyLmQodCxcImFcIixmdW5jdGlvbigpe3JldHVybiBwfSk7dmFyIG49cigwKSxpPXIubihuKSxhPXIoMiksbz1yKDQwKSxzPWkuYS5tZW1vKGZ1bmN0aW9uKGUpe3ZhciB0PWUuaWQ7aWYoIXR8fCFhLkFbdF0pcmV0dXJuXCJcIjt2YXIgcj1hLkFbdF07cmV0dXJuIGkuYS5jcmVhdGVFbGVtZW50KHIse2NsYXNzTmFtZTpcImljLVwiLmNvbmNhdCh0KX0pfSksYz1pLmEubWVtbyhmdW5jdGlvbihlKXt2YXIgdD1lLml0ZW0scj10Lml0ZW1JZCxuPXQuZGlzcGxheTtyZXR1cm4gaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwibGVmdFwifSxpLmEuY3JlYXRlRWxlbWVudChzLHtpZDpyfSksaS5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIse2NsYXNzTmFtZTpcImNpcS1pdGVtLWRpc3BsYXlcIn0sbikpfSksbD1pLmEubWVtbyhmdW5jdGlvbih0KXt2YXIgcj10LmZhdm9yaXRlc0lkLG49dC5pdGVtLGE9bi5kYXRhT2JqZWN0LHM9bi5pdGVtSWQ7cmV0dXJuIGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcInJpZ2h0XCJ9LGEmJih2b2lkIDA9PT1hLmV4Y2hhbmdlX2lzX29wZW58fGEuZXhjaGFuZ2VfaXNfb3Blbik/XCJcIjppLmEuY3JlYXRlRWxlbWVudChcInNwYW5cIix7Y2xhc3NOYW1lOlwiY2xvc2VkLW1hcmtldFwifSxlLnRyYW5zbGF0ZShcIkNMT1NFRFwiKSksaS5hLmNyZWF0ZUVsZW1lbnQoby5hLHtjYXRlZ29yeTpyLGlkOnN9KSl9KSx1PWZ1bmN0aW9uKGUpe3ZhciB0PWUub3B0LHI9ZS5pdGVtLG49YS5hW3QuaWRdO3JldHVybiBpLmEuY3JlYXRlRWxlbWVudChcInNwYW5cIix7Y2xhc3NOYW1lOlwiaWMtXCIuY29uY2F0KHQuaWQpLG9uQ2xpY2s6ZnVuY3Rpb24oZSl7cmV0dXJuIHQub25DbGljayYmdC5vbkNsaWNrKHIuZGF0YU9iamVjdCxlKX19LG4mJmkuYS5jcmVhdGVFbGVtZW50KG4sbnVsbCksdC5yZW5kZXJDaGlsZCYmdC5yZW5kZXJDaGlsZChyKSl9LGg9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5hY3RpdmVPcHRpb25zLHI9ZS5pdGVtO3JldHVybiB0JiZpLmEuY3JlYXRlRWxlbWVudChcInNwYW5cIix7Y2xhc3NOYW1lOlwiY3EtYWN0aXZlLW9wdGlvbnNcIn0sdC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGkuYS5jcmVhdGVFbGVtZW50KHUse2tleTplLmlkLG9wdDplLGl0ZW06cn0pfSkpfSxkPWkuYS5tZW1vKGZ1bmN0aW9uKGUpe3ZhciB0PWUub25TZWxlY3RJdGVtLHI9ZS5pdGVtLG49ZS5kaXNhYmxlQWxsLGE9ZS5mYXZvcml0ZXNJZCxvPWUuaWQscz1vP1wiXCIuY29uY2F0KG8sXCItc3ViY2F0ZWdvcnktaXRlbS1cIikuY29uY2F0KHIuaXRlbUlkKTpcInN1YmNhdGVnb3J5LWl0ZW0tXCIuY29uY2F0KHIuaXRlbUlkKTtyZXR1cm4gaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY3EtaXRlbSBcIi5jb25jYXQoci5zZWxlY3RlZD9cInNlbGVjdGVkIFwiOlwiXCIsXCIgXCIpLmNvbmNhdChzKSxvbkNsaWNrOmZ1bmN0aW9uKGUpe3JldHVybiByLmVuYWJsZWQmJnQoci5kYXRhT2JqZWN0LGUpfSxkaXNhYmxlZDohci5lbmFibGVkfHxufSxpLmEuY3JlYXRlRWxlbWVudChjLHtpdGVtOnJ9KSxpLmEuY3JlYXRlRWxlbWVudChsLHtpdGVtOnIsZmF2b3JpdGVzSWQ6YX0pKX0pLHA9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5pdGVtLHI9ZS5mYXZvcml0ZXNJZCxuPWUuYWN0aXZlT3B0aW9ucztyZXR1cm4gaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY3EtYWN0aXZlLWl0ZW1cIn0saS5hLmNyZWF0ZUVsZW1lbnQoYyx7aXRlbTp0fSksaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwicmlnaHRcIn0saS5hLmNyZWF0ZUVsZW1lbnQoaCx7YWN0aXZlT3B0aW9uczpuLGl0ZW06dH0pLGkuYS5jcmVhdGVFbGVtZW50KG8uYSx7Y2F0ZWdvcnk6cixpZDp0Lml0ZW1JZH0pKSl9fSkuY2FsbCh0aGlzLHIoNikudCl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oZSl7dmFyIG49cigwKSxpPXIubihuKSxhPXIoMzkpLG89cig1KSxzPXIoMTApLGM9cigyKSxsPShyKDIxOCksZnVuY3Rpb24odCl7dmFyIHI9dC52YWx1ZSxuPXQub25DaGFuZ2U7cmV0dXJuIGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcImNpcS1saXN0LWl0ZW1cIn0saS5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIse2NsYXNzTmFtZTpcImNpcS1pY29uLXRleHRcIn0sZS50cmFuc2xhdGUoXCJBc3NldCBJbmZvcm1hdGlvblwiKSksaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY2lxLWFjdGlvblwifSxpLmEuY3JlYXRlRWxlbWVudChzLmgse3ZhbHVlOnIsb25DaGFuZ2U6bn0pKSl9KSx1PWZ1bmN0aW9uKHQpe3ZhciByPXQucG9zaXRpb24sbj10LnNldFBvc2l0aW9uO3JldHVybiBpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJjaXEtbGlzdC1pdGVtIGNpcS1saXN0LWl0ZW0tcG9zaXRpb25cIn0saS5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIse2NsYXNzTmFtZTpcImNpcS1pY29uLXRleHRcIn0sZS50cmFuc2xhdGUoXCJQb3NpdGlvblwiKSksaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY2lxLWFjdGlvblwifSxpLmEuY3JlYXRlRWxlbWVudChjLkose29uQ2xpY2s6ZnVuY3Rpb24oKXtyZXR1cm4gbihcImJvdHRvbVwiKX0sY2xhc3NOYW1lOlwiXCIuY29uY2F0KFwiYm90dG9tXCI9PT1yP1wiYWN0aXZlXCI6XCJcIil9KSxpLmEuY3JlYXRlRWxlbWVudChjLksse29uQ2xpY2s6ZnVuY3Rpb24oKXtyZXR1cm4gbihcImxlZnRcIil9LGNsYXNzTmFtZTpcIlwiLmNvbmNhdChcImxlZnRcIj09PXI/XCJhY3RpdmVcIjpcIlwiKX0pKSl9O3QuYT1PYmplY3Qoby5hKShmdW5jdGlvbihlKXt2YXIgdD1lLmNoYXJ0U2V0dGluZyxyPWUuY2hhcnQ7cmV0dXJue2Fzc2V0SW5mb3JtYXRpb246dC5hc3NldEluZm9ybWF0aW9uLENoYXJ0U2V0dGluZ01lbnU6dC5DaGFydFNldHRpbmdNZW51LGNsb3NlTWVudTp0Lm1lbnUub25UaXRsZUNsaWNrLGNvdW50ZG93bjp0LmNvdW50ZG93bixoaXN0b3JpY2FsOnQuaGlzdG9yaWNhbCxpc01vYmlsZTpyLmlzTW9iaWxlLGlzQXV0b1NjYWxlOnQuaXNBdXRvU2NhbGUsaXNIaWdoZXN0TG93ZXN0TWFya2VyRW5hYmxlZDp0LmlzSGlnaGVzdExvd2VzdE1hcmtlckVuYWJsZWQsbGFuZ3VhZ2VzOnQubGFuZ3VhZ2VzLG1lbnVPcGVuOnQubWVudS5kaWFsb2cub3Blbixwb3NpdGlvbjp0LnBvc2l0aW9uLHNlbGVjdGVkTGFuZ3VhZ2U6dC5sYW5ndWFnZSxzZXRBc3NldEluZm9ybWF0aW9uOnQuc2V0QXNzZXRJbmZvcm1hdGlvbixzZXRBdXRvU2NhbGU6dC5zZXRBdXRvU2NhbGUsc2V0SGlzdG9yaWNhbDp0LnNldEhpc3RvcmljYWwsc2V0TGFuZ3VhZ2U6dC5zZXRMYW5ndWFnZSxzZXRQb3NpdGlvbjp0LnNldFBvc2l0aW9uLHNldFRoZW1lOnQuc2V0VGhlbWUsc2V0Vmlldzp0LnNldFZpZXcsc2hvd0NvdW50ZG93bjp0LnNob3dDb3VudGRvd24sdGhlbWU6dC50aGVtZSx0b2dnbGVIaWdoZXN0TG93ZXN0TWFya2VyOnQudG9nZ2xlSGlnaGVzdExvd2VzdE1hcmtlcix2aWV3OnQudmlld319KShmdW5jdGlvbih0KXt2YXIgcj10LmFzc2V0SW5mb3JtYXRpb24sbj10LkNoYXJ0U2V0dGluZ01lbnUsbz10LmNsb3NlTWVudSxoPXQuY291bnRkb3duLGQ9dC5oaXN0b3JpY2FsLHA9dC5pc0F1dG9TY2FsZSxmPXQuaXNIaWdoZXN0TG93ZXN0TWFya2VyRW5hYmxlZCxtPXQuaXNNb2JpbGUsZz10Lmxhbmd1YWdlcyxiPXQubWVudU9wZW4seT10LnBvc2l0aW9uLHY9dC5zZWxlY3RlZExhbmd1YWdlLF89dC5zZXRBc3NldEluZm9ybWF0aW9uLFM9dC5zZXRBdXRvU2NhbGUsdz10LnNldEhpc3RvcmljYWwseD10LnNldExhbmd1YWdlLGs9dC5zZXRQb3NpdGlvbixPPXQuc2V0VGhlbWUsQz10LnNldFZpZXcsRT10LnNob3dDb3VudGRvd24sVD10LnZpZXcsUD10LnRoZW1lLEQ9dC50b2dnbGVIaWdoZXN0TG93ZXN0TWFya2VyO3JldHVybiBpLmEuY3JlYXRlRWxlbWVudChuLHtjbGFzc05hbWU6XCJjcS1jaGFydC1zZXR0aW5nXCJ9LGkuYS5jcmVhdGVFbGVtZW50KG4uVGl0bGUsbnVsbCxpLmEuY3JlYXRlRWxlbWVudChjLlAse2NsYXNzTmFtZTpcImljLWljb24td2l0aC1zdWIgXCIuY29uY2F0KGI/XCJhY3RpdmVcIjpcIlwiKSxcInRvb2x0aXAtdGl0bGVcIjplLnRyYW5zbGF0ZShcIlNldHRpbmdzXCIpfSkpLGkuYS5jcmVhdGVFbGVtZW50KG4uQm9keSxudWxsLGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcImNxLXNldHRpbmctY29udGFpbmVyIGNvbnRhaW5lci1cIi5jb25jYXQoXCJcIj09PVQ/XCJtYWluXCI6VCl9LGkuYS5jcmVhdGVFbGVtZW50KGEuQ1NTVHJhbnNpdGlvbix7aW46XCJcIj09PVQsdGltZW91dDoyNTAsY2xhc3NOYW1lczpcImNxLXNldHRpbmctbWFpbiBhbmltYXRlXCIsdW5tb3VudE9uRXhpdDohMH0saS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIixudWxsLGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcInRpdGxlXCJ9LGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcInRpdGxlLXRleHRcIn0sXCIgXCIsZS50cmFuc2xhdGUoXCJTZXR0aW5nc1wiKSxcIiBcIiksaS5hLmNyZWF0ZUVsZW1lbnQoYy5rLHtjbGFzc05hbWU6XCJpY29uLWNsb3NlLW1lbnVcIixvbkNsaWNrOmZ1bmN0aW9uKCl7cmV0dXJuIG8oKX19KSksaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiYm9keVwifSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJjaXEtbGlzdCBjaXEtbGlzdC1zZXR0aW5nXCJ9LG0/XCJcIjppLmEuY3JlYXRlRWxlbWVudCh1LHtzZXRQb3NpdGlvbjprLHBvc2l0aW9uOnl9KSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJjaXEtbGlzdC1pdGVtXCJ9LGkuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtjbGFzc05hbWU6XCJjaXEtaWNvbi10ZXh0XCJ9LGUudHJhbnNsYXRlKFwiQXV0byBTY2FsZVwiKSksaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY2lxLWFjdGlvblwifSxpLmEuY3JlYXRlRWxlbWVudChzLmgse3ZhbHVlOnAsb25DaGFuZ2U6U30pKSksaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY2lxLWxpc3QtaXRlbVwifSxpLmEuY3JlYXRlRWxlbWVudChcInNwYW5cIix7Y2xhc3NOYW1lOlwiY2lxLWljb24tdGV4dFwifSxlLnRyYW5zbGF0ZShcIkRhcmsgTW9kZVwiKSksaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY2lxLWFjdGlvblwifSxpLmEuY3JlYXRlRWxlbWVudChzLmgse3ZhbHVlOlwiZGFya1wiPT09UCxvbkNoYW5nZTpmdW5jdGlvbihlKXtyZXR1cm4gTyhlP1wiZGFya1wiOlwibGlnaHRcIil9fSkpKSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJjaXEtbGlzdC1pdGVtXCJ9LGkuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtjbGFzc05hbWU6XCJjaXEtaWNvbi10ZXh0XCJ9LGUudHJhbnNsYXRlKFwiQ291bnRkb3duXCIpKSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJjaXEtYWN0aW9uXCJ9LGkuYS5jcmVhdGVFbGVtZW50KHMuaCx7dmFsdWU6aCxvbkNoYW5nZTpFfSkpKSxtP1wiXCI6aS5hLmNyZWF0ZUVsZW1lbnQobCx7dmFsdWU6cixvbkNoYW5nZTpffSksaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY2lxLWxpc3QtaXRlbVwifSxpLmEuY3JlYXRlRWxlbWVudChcInNwYW5cIix7Y2xhc3NOYW1lOlwiY2lxLWljb24tdGV4dFwifSxlLnRyYW5zbGF0ZShcIkhpc3RvcmljYWwgRGF0YSBNb2RlXCIpKSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJjaXEtYWN0aW9uXCJ9LGkuYS5jcmVhdGVFbGVtZW50KHMuaCx7dmFsdWU6ZCxvbkNoYW5nZTp3fSkpKSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJjaXEtbGlzdC1pdGVtIGNpcS1saXN0LWl0ZW0tbG5nXCIsb25DbGljazpmdW5jdGlvbigpe3JldHVybiBDKFwibGFuZ3VhZ2VcIil9fSxpLmEuY3JlYXRlRWxlbWVudChcInNwYW5cIix7Y2xhc3NOYW1lOlwiY2lxLWljb24tdGV4dFwifSxlLnRyYW5zbGF0ZShcIkxhbmd1YWdlXCIpKSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJjaXEtYWN0aW9uXCJ9LHYuaWNvbikpLGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcImNpcS1saXN0LWl0ZW0gXCIuY29uY2F0KGQmJlwiZGlzYWJsZWRcIil9LGkuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtjbGFzc05hbWU6XCJjaXEtaWNvbi10ZXh0XCJ9LGUudHJhbnNsYXRlKFwiU2hvdyBIaWdoZXN0L0xvd2VzdCBTcG90XCIpKSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJjaXEtYWN0aW9uXCJ9LGkuYS5jcmVhdGVFbGVtZW50KHMuaCx7dmFsdWU6ZixvbkNoYW5nZTpEfSkpKSkpKSksaS5hLmNyZWF0ZUVsZW1lbnQoYS5DU1NUcmFuc2l0aW9uLHtpbjpcImxhbmd1YWdlXCI9PT1ULHRpbWVvdXQ6MjUwLGNsYXNzTmFtZXM6XCJjcS1zZXR0aW5nLWxhbmd1YWdlIGFuaW1hdGVcIix1bm1vdW50T25FeGl0OiEwfSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLG51bGwsaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwidGl0bGVcIn0saS5hLmNyZWF0ZUVsZW1lbnQoYy5kLHtjbGFzc05hbWU6XCJpY29uLWJhY2stbWVudVwiLG9uQ2xpY2s6ZnVuY3Rpb24oKXtyZXR1cm4gQygpfX0pLGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcInRpdGxlLXRleHRcIn0sZS50cmFuc2xhdGUoXCJMYW5ndWFnZVwiKSkpLGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcImJvZHlcIn0saS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY2lxLWxpc3QgY2lxLWxpc3QtbGFuZ3VhZ2VcIn0sZy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcImNpcS1saXN0LWl0ZW0gXCIuY29uY2F0KHYua2V5PT09ZS5rZXk/XCJzZWxlY3RlZFwiOlwiXCIpLGtleTplLmtleSxvbkNsaWNrOmZ1bmN0aW9uKCl7cmV0dXJuIHgoZS5rZXkpfX0sZS5pY29uLGkuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtjbGFzc05hbWU6XCJjaXEtaWNvbi10ZXh0XCJ9LGUubmFtZSkpfSkpKSkpKSkpfSl9KS5jYWxsKHRoaXMscig2KS50KX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17aWQ6XCJpYy16b29taW4tbGlnaHQtdXNhZ2VcIix2aWV3Qm94OlwiMCAwIDE2IDE2XCIsdXJsOnIucCtcInNwcml0ZS0yNzg2ZWEuc21hcnRjaGFydHMuc3ZnI2ljLXpvb21pbi1saWdodC11c2FnZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2lkOlwiaWMtaW5kaWNhdG9yLW5vcm1hbC11c2FnZVwiLHZpZXdCb3g6XCIwIDAgMTYgMTZcIix1cmw6ci5wK1wic3ByaXRlLTI3ODZlYS5zbWFydGNoYXJ0cy5zdmcjaWMtaW5kaWNhdG9yLW5vcm1hbC11c2FnZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2lkOlwicGxuLXVzYWdlXCIsdmlld0JveDpcIjAgMCAyNCAxNlwiLHVybDpyLnArXCJzcHJpdGUtMjc4NmVhLnNtYXJ0Y2hhcnRzLnN2ZyNwbG4tdXNhZ2VcIix0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVybH19fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtpZDpcInVzZC11c2FnZVwiLHZpZXdCb3g6XCIwIDAgMjQgMTZcIix1cmw6ci5wK1wic3ByaXRlLTI3ODZlYS5zbWFydGNoYXJ0cy5zdmcjdXNkLXVzYWdlXCIsdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51cmx9fX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17aWQ6XCJnZXJtYW4tdXNhZ2VcIix2aWV3Qm94OlwiMCAwIDI0IDE2XCIsdXJsOnIucCtcInNwcml0ZS0yNzg2ZWEuc21hcnRjaGFydHMuc3ZnI2dlcm1hbi11c2FnZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2lkOlwiZnJlbmNoLXVzYWdlXCIsdmlld0JveDpcIjAgMCAyNCAxNlwiLHVybDpyLnArXCJzcHJpdGUtMjc4NmVhLnNtYXJ0Y2hhcnRzLnN2ZyNmcmVuY2gtdXNhZ2VcIix0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVybH19fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtpZDpcInNwYW5pc2gtdXNhZ2VcIix2aWV3Qm94OlwiMCAwIDI0IDE2XCIsdXJsOnIucCtcInNwcml0ZS0yNzg2ZWEuc21hcnRjaGFydHMuc3ZnI3NwYW5pc2gtdXNhZ2VcIix0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVybH19fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtpZDpcImljLWRvd24tdXNhZ2VcIix2aWV3Qm94OlwiMCAwIDE2IDE2XCIsdXJsOnIucCtcInNwcml0ZS0yNzg2ZWEuc21hcnRjaGFydHMuc3ZnI2ljLWRvd24tdXNhZ2VcIix0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVybH19fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGUpe3IuZCh0LFwiYlwiLGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSxyLmQodCxcImFcIixmdW5jdGlvbigpe3JldHVybiBsfSk7dmFyIG49cigwKSxpPXIubihuKSxhPXIoMiksbz1yKDE3Mykscz1mdW5jdGlvbihlKXt2YXIgdD1lLnN5bWJvbCxyPWUuQ2hhcnRQcmljZSxuPWUuaXNTeW1ib2xPcGVuLG89ZS5zeW1ib2xPcGVuVGltZSxzPWEuQVt0LnN5bWJvbF18fGEuUixjPSFuJiZvLm9wZW5UaW1lLGw9IW4mJiFvLm9wZW5UaW1lO3JldHVybiBpLmEuY3JlYXRlRWxlbWVudChpLmEuRnJhZ21lbnQsbnVsbCxzJiZpLmEuY3JlYXRlRWxlbWVudChzLHtjbGFzc05hbWU6XCJpYy1cIi5jb25jYXQodC5zeW1ib2wpfSksaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY3Etc3ltYm9sLWluZm9cIn0saS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY3Etc3ltYm9sIFwiLmNvbmNhdChsP1wiY2xvc2VkLW5vLW9wZW50aW1lXCI6XCJcIil9LHQubmFtZSksbiYmaS5hLmNyZWF0ZUVsZW1lbnQocixudWxsKSxjJiZpLmEuY3JlYXRlRWxlbWVudCh1LHtzeW1ib2xPcGVuVGltZTpvfSkpKX0sYz1mdW5jdGlvbih0KXt2YXIgcj10LnN5bWJvbCxuPXQuQ2hhcnRQcmljZSxvPXQuaXNTeW1ib2xPcGVuLGM9dC5zeW1ib2xPcGVuVGltZTtyZXR1cm4gaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY3Etc3ltYm9sLXNlbGVjdC1idG5cIn0saS5hLmNyZWF0ZUVsZW1lbnQocyx7c3ltYm9sOnIsQ2hhcnRQcmljZTpuLHN5bWJvbE9wZW5UaW1lOmMsaXNTeW1ib2xPcGVuOm99KSwhbyYmaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY3Etc3ltYm9sLWNsb3NlZC10ZXh0XCJ9LGUudHJhbnNsYXRlKFwiQ0xPU0VEXCIpKSxpLmEuY3JlYXRlRWxlbWVudChhLmMse2NsYXNzTmFtZTpcImNxLXN5bWJvbC1kcm9wZG93blwifSkpfSxsPWZ1bmN0aW9uKGUpe3ZhciB0PWUuaXNWaXNpYmxlLHI9ZS5zdGF0dXMsbj1lLnRvZGF5Q2hhbmdlLGE9ZS50b2RheUNoYW5nZVBlcmNlbnQsbz1lLlNwb3RQcmljZTtyZXR1cm4gdCYmaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY3EtY2hhcnQtcHJpY2VcIn0saS5hLmNyZWF0ZUVsZW1lbnQobyx7Y2xhc3NOYW1lOlwiY3EtY3VycmVudC1wcmljZVwifSksaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiZGl2aWRlclwifSxcIi1cIiksaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY3EtY2hhbmdlIFwiLmNvbmNhdChyKX0saS5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIse2NsYXNzTmFtZTpcImNxLXRvZGF5cy1jaGFuZ2VcIn0sbnx8MCksaS5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIse2NsYXNzTmFtZTpcImNxLXRvZGF5cy1jaGFuZ2UtcGVyY2VudFwifSxcIihcIixhLFwiJSlcIiksXCLCoFwiKSl9LHU9ZnVuY3Rpb24odCl7cmV0dXJuIGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcImNxLWNoYXJ0LWNsb3NlZFwifSxpLmEuY3JlYXRlRWxlbWVudChhLlYse2NsYXNzTmFtZTpcImNxLWNsb3NlZC1pY29uXCJ9KSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJjcS1jbG9zZWQtb3BlbmluZ1wifSxlLnRyYW5zbGF0ZShcIk9wZW5zIGluOlwiKSxcIiDCoFwiLGkuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtjbGFzc05hbWU6XCJjcS1jbG9zZWQtb3BlbmluZy10aW1lXCJ9LGkuYS5jcmVhdGVFbGVtZW50KG8uYSx7c3ltYm9sT3BlblRpbWU6dH0pKSkpfX0pLmNhbGwodGhpcyxyKDYpLnQpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0aGlzLm5vZGU9dCx0aGlzLmNvbnRleHQ9cix0aGlzLmluamVjdGlvbnM9W119dmFyIHQscixpO3JldHVybiB0PWUsKHI9W3trZXk6XCJhZGRJbmplY3Rpb25cIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dGhpcy5pbmplY3Rpb25zLnB1c2godGhpcy5jb250ZXh0LnN0eFtlXSh0LHIpKX19LHtrZXk6XCJkZXN0cm95XCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGU9MDtlPHRoaXMuaW5qZWN0aW9ucy5sZW5ndGg7ZSsrKXRoaXMuY29udGV4dC5zdHgucmVtb3ZlSW5qZWN0aW9uKHRoaXMuaW5qZWN0aW9uc1tlXSk7dGhpcy5pbmplY3Rpb25zPVtdfX1dKSYmbih0LnByb3RvdHlwZSxyKSxpJiZuKHQsaSksZX0oKTtmdW5jdGlvbiBhKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX12YXIgbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyKXt2YXIgbj10aGlzOyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksdGhpcy5rZXl1cD1mdW5jdGlvbihlKXt2YXIgdD1lLndoaWNoO2lmKG4uaW1wbGVtZW50QW5kcm9pZFdvcmthcm91bmQpcmV0dXJuIG4uYW5kcm9pZFdvcmthcm91bmRLZXl1cChlKSx2b2lkKG4uaW1wbGVtZW50QW5kcm9pZFdvcmthcm91bmQ9ITEpO3N3aXRjaCh0KXtjYXNlIDE2OnJldHVybiBuLnNoaWZ0PSExLHZvaWQgbi5jYih7a2V5OnQsZTplLGtleXN0cm9rZTpufSk7Y2FzZSAxNzpjYXNlIDE4OnJldHVybiBuLmN0cmw9ITEsdm9pZCBuLmNiKHtrZXk6dCxlOmUsa2V5c3Ryb2tlOm59KTtjYXNlIDkxOnJldHVybiBuLmNtZD0hMSx2b2lkIG4uY2Ioe2tleTp0LGU6ZSxrZXlzdHJva2U6bn0pfW4ua2V5JiZuLmNiKHtrZXk6bi5rZXksZTplLGtleXN0cm9rZTpufSl9LHRoaXMua2V5ZG93bj1mdW5jdGlvbihlKXtpZihuLmRvd25WYWx1ZT1lLnRhcmdldC52YWx1ZSwhbi5ub0tleUNhcHR1cmUpe3ZhciB0PWUud2hpY2g7aWYoMjI5PT09dCYmQ0lRLmlzQW5kcm9pZCluLmltcGxlbWVudEFuZHJvaWRXb3JrYXJvdW5kPSEwO2Vsc2UgaWYobi5jdHJsfHwhKDkxIT09dCYmdD49NDgmJnQ8PTIyMnx8MzI9PT10KSl7c3dpdGNoKHQpe2Nhc2UgOTE6cmV0dXJuIHZvaWQobi5jbWQ9ITApO2Nhc2UgMTY6cmV0dXJuIHZvaWQobi5zaGlmdD0hMCk7Y2FzZSAxNzpjYXNlIDE4OnJldHVybiB2b2lkKG4uY3RybD0hMCk7Y2FzZSAyMDpyZXR1cm4gdm9pZChuLmNhcHNMb2NrPSFuLmNhcHNMb2NrKX04PT09dCYmKHQ9XCJiYWNrc3BhY2VcIiksOT09PXQmJih0PVwidGFiXCIpLDEzPT09dCYmKHQ9XCJlbnRlclwiKSwyNz09PXQmJih0PVwiZXNjYXBlXCIpLDMzPT09dCYmKHQ9XCJwYWdlIHVwXCIpLDM0PT09dCYmKHQ9XCJwYWdlIGRvd25cIiksMzU9PT10JiYodD1cImVuZFwiKSwzNj09PXQmJih0PVwiaG9tZVwiKSw0NT09PXQmJih0PVwiaW5zZXJ0XCIpLDQ2PT09dCYmKHQ9XCJkZWxldGVcIiksbi5rZXk9dCwzNyE9PXQmJjM4IT09dCYmMzkhPT10JiY0MCE9PXR8fCgzNz09PXQmJih0PVwibGVmdFwiKSwzOD09PXQmJih0PVwidXBcIiksMzk9PT10JiYodD1cInJpZ2h0XCIpLDQwPT09dCYmKHQ9XCJkb3duXCIpLG4ua2V5PW51bGwsbi5jYih7a2V5OnQsZTplLGtleXN0cm9rZTpufSkpfX19LHRoaXMua2V5cHJlc3M9ZnVuY3Rpb24oZSl7aWYoIW4ubm9LZXlDYXB0dXJlKXt2YXIgdD1lLndoaWNoO3Q8MzJ8fHQ+MjIyfHwobi5rZXk9dCl9fSx0aGlzLm9uYmx1cj1mdW5jdGlvbihlKXtuLmN0cmw9ITEsbi5jYih7a2V5OjE3LGU6ZSxrZXlzdHJva2U6bn0pfSx0aGlzLm5vZGU9dCx0aGlzLmNiPXIsdGhpcy5pbml0aWFsaXplKCksdGhpcy5zaGlmdD0hMSx0aGlzLmN0cmw9ITEsdGhpcy5jbWQ9ITEsdGhpcy5jYXBzTG9jaz0hMSx0aGlzLmRvd25WYWx1ZT1cIlwifXZhciB0LHIsbjtyZXR1cm4gdD1lLChyPVt7a2V5OlwiYW5kcm9pZFdvcmthcm91bmRLZXl1cFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0LHI9ZS50YXJnZXQudmFsdWU7dD1yLmxlbmd0aD50aGlzLmRvd25WYWx1ZS5sZW5ndGg/ci5jaGFyQ29kZUF0KHIubGVuZ3RoLTEpOlwiZGVsZXRlXCIsdGhpcy5jYih7a2V5OnQsZTplLGtleXN0cm9rZTp0aGlzfSl9fSx7a2V5OlwiaW5pdGlhbGl6ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5ub2RlLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLHRoaXMua2V5dXApLHRoaXMubm9kZS5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLHRoaXMua2V5ZG93biksdGhpcy5ub2RlLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlwcmVzc1wiLHRoaXMua2V5cHJlc3MpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLHRoaXMub25ibHVyKX19XSkmJmEodC5wcm90b3R5cGUsciksbiYmYSh0LG4pLGV9KCk7by5ub0tleUNhcHR1cmU9ITE7dmFyIHM9byxjPXIoMTcpO2Z1bmN0aW9uIGwoZSl7cmV0dXJuKGw9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIHUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fWZ1bmN0aW9uIGgoZSl7cmV0dXJuKGg9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZjpmdW5jdGlvbihlKXtyZXR1cm4gZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihlKX0pKGUpfWZ1bmN0aW9uIGQoZSl7aWYodm9pZCAwPT09ZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIGV9ZnVuY3Rpb24gcChlLHQpe3JldHVybihwPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5fX3Byb3RvX189dCxlfSkoZSx0KX12YXIgZj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscixuKXt2YXIgaTshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLChpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIXR8fFwib2JqZWN0XCIhPT1sKHQpJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0P2QoZSk6dH0odGhpcyxoKHQpLmNhbGwodGhpcyxlLHIsbikpKS5ub2RlPWUsaS5jb250ZXh0PXIsaS5wYXJhbXM9bnx8e30sdC5pbnN0YW5jZT1kKGkpO3ZhciBhPWQoaSk7cmV0dXJuIGkua2V5c3Ryb2tlPW5ldyBzKGUsZnVuY3Rpb24oKXthLmhhbmRsZXIuYXBwbHkoYSxhcmd1bWVudHMpfSksaX12YXIgcixuLGE7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiZwKGUsdCl9KHQsaSkscj10LGE9W3trZXk6XCJkZWZhdWx0SG90S2V5c1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dC5jb250ZXh0LnN0eCxuPTE7c3dpdGNoKGUpe2Nhc2VcInVwXCI6ci56b29tSW4oKTticmVhaztjYXNlXCJkb3duXCI6ci56b29tT3V0KCk7YnJlYWs7Y2FzZVwiaG9tZVwiOnIuaG9tZSgpLHIuaGVhZHNVcEhSKCk7YnJlYWs7Y2FzZVwiZW5kXCI6ci5jaGFydC5zY3JvbGw9ci5jaGFydC5kYXRhU2V0Lmxlbmd0aCxyLmRyYXcoKSxyLmhlYWRzVXBIUigpO2JyZWFrO2Nhc2VcImxlZnRcIjpyLmN0cmw/ci56b29tT3V0KCk6KG49MSwoci5zaGlmdHx8dC5jYXBzTG9jaykmJihuPU1hdGgubWF4KDUsNSooOC1NYXRoLnJvdW5kKHIubGF5b3V0LmNhbmRsZVdpZHRoKSkpKSxyLmNoYXJ0LnNjcm9sbCtuPj1yLmNoYXJ0LmRhdGFTZXQubGVuZ3RoJiYobj1yLmNoYXJ0LmRhdGFTZXQubGVuZ3RoLXIuY2hhcnQuc2Nyb2xsKSxyLmNoYXJ0LnNjcm9sbCs9bixyLmRyYXcoKSxyLmhlYWRzVXBIUigpKTticmVhaztjYXNlXCJyaWdodFwiOnIuY3RybD9yLnpvb21JbigpOihuPTEsKHIuc2hpZnR8fHQuY2Fwc0xvY2spJiYobj1NYXRoLm1heCg1LDUqKDgtTWF0aC5yb3VuZChyLmxheW91dC5jYW5kbGVXaWR0aCkpKSksci5jaGFydC5zY3JvbGwtPW4sci5kcmF3KCksci5oZWFkc1VwSFIoKSk7YnJlYWs7Y2FzZVwiZGVsZXRlXCI6Y2FzZVwiYmFja3NwYWNlXCI6aWYoQ0lRLkNoYXJ0RW5naW5lLmRyYXdpbmdMaW5lKXIudW5kbygpO2Vsc2V7aWYoIXIuYW55SGlnaGxpZ2h0ZWQpcmV0dXJuITE7ci5kZWxldGVIaWdobGlnaHRlZCgpfWJyZWFrO2Nhc2VcImVzY2FwZVwiOkNJUS5DaGFydEVuZ2luZS5kcmF3aW5nTGluZSYmci51bmRvKCk7YnJlYWs7ZGVmYXVsdDpyZXR1cm4hMX1yZXR1cm4hMH19XSwobj1be2tleTpcInNldEFjdGl2ZUNvbnRleHRcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmNvbnRleHQ9ZX19LHtrZXk6XCJwcm9jZXNzS2V5U3Ryb2tlQ2xhaW1zXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7Zm9yKHZhciBpPWMuYS5sZW5ndGgtMTtpPi0xO2ktLSl7dmFyIGE9Yy5hW2ldLmhlbHBlci5rZXlTdHJva2UoZSx0LHIsbik7aWYoYSlyZXR1cm4gYS5hbGxvd0RlZmF1bHR8fHIucHJldmVudERlZmF1bHQoKSwhMH1yZXR1cm4hMX19LHtrZXk6XCJhZGRDbGFpbVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2MuYS5wdXNoKHtoZWxwZXI6ZX0pfX0se2tleTpcInJlbW92ZUNsYWltXCIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxjLmEubGVuZ3RoO3QrKylpZihjLmFbdF0uaGVscGVyPT09ZSlyZXR1cm4gdm9pZCBjLmEuc3BsaWNlKHQsMSl9fSx7a2V5OlwiaGFuZGxlclwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKHRoaXMuY29udGV4dCl7dmFyIHQ9dGhpcy5jb250ZXh0LnN0eDtpZighdC5lZGl0aW5nQW5ub3RhdGlvbil7dmFyIHI9ZS5lLG49ZS5rZXksaT1lLmtleXN0cm9rZSxhPWUuZS50YXJnZXQudGFnTmFtZTtzd2l0Y2gobil7Y2FzZSAxNjp0LnNoaWZ0PWkuc2hpZnQ7YnJlYWs7Y2FzZSAxNzpjYXNlIDE4OnQuY3RybD1pLmN0cmw7YnJlYWs7Y2FzZSA5MTp0LmNtZD1pLmNtZDticmVhaztjYXNlIDIwOnRoaXMuY2Fwc0xvY2s9IXRoaXMuY2Fwc0xvY2t9IUNJUS5DaGFydEVuZ2luZS5kcmF3aW5nTGluZSYmdGhpcy5wcm9jZXNzS2V5U3Ryb2tlQ2xhaW1zKHRoaXMsbixyLGkpfHxcImVzY2FwZVwiIT09biYmdGhpcy5jb250ZXh0LmlzTW9kYWwoKXx8XCJJTlBVVFwiIT09YSYmXCJURVhUQVJFQVwiIT09YSYmdGhpcy5wYXJhbXMuY2ImJnRoaXMucGFyYW1zLmNiKG4sdGhpcykmJnIucHJldmVudERlZmF1bHQoKX19fX1dKSYmdShyLnByb3RvdHlwZSxuKSxhJiZ1KHIsYSksdH0oKTtmLmluc3RhbmNlPW51bGw7dC5hPWZ9LGZ1bmN0aW9uKGUsdCl7dmFyIHI7cj1mdW5jdGlvbigpe3JldHVybiB0aGlzfSgpO3RyeXtyPXJ8fG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCl9Y2F0Y2goZSl7XCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmKHI9d2luZG93KX1lLmV4cG9ydHM9cn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihlKXtyLmQodCxcImFcIixmdW5jdGlvbigpe3JldHVybiBzfSk7dmFyIG49cigwKSxpPXIubihuKSxhPXIoMiksbz1pLmEubWVtbyhmdW5jdGlvbih0KXt2YXIgcj10LmZvY3VzZWRDYXRlZ29yeUtleSxuPXQuYWN0aXZlQ2F0ZWdvcnlLZXksbz10LmhhbmRsZUZpbHRlckNsaWNrLHM9dC5jYXRlZ29yeSxjPXQuaXNNb2JpbGUsbD1hLmdbcy5jYXRlZ29yeUlkXSx1PXImJnIubGVuZ3RoP3I9PT1zLmNhdGVnb3J5SWQ6bj09PXMuY2F0ZWdvcnlJZDtyZXR1cm4gaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY3EtZmlsdGVyIFwiLmNvbmNhdCh1P1wiY3EtYWN0aXZlLWZpbHRlclwiOlwiXCIsXCIgXCIpLmNvbmNhdChjP1wiXCI6XCJjcS1ob3Zlci1zdHlsZVwiKSxvbkNsaWNrOmZ1bmN0aW9uKGUpe3JldHVybiBvKHMsZSl9fSxsJiZpLmEuY3JlYXRlRWxlbWVudChsLHtjbGFzc05hbWU6XCJpYy1cIi5jb25jYXQocy5jYXRlZ29yeUlkKX0pLGkuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtjbGFzc05hbWU6XCJjcS1maWx0ZXItdGV4dFwifSxlLnRyYW5zbGF0ZShzLmNhdGVnb3J5TmFtZSkpKX0pLHM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5maWx0ZXJlZEl0ZW1zLHI9ZS5oYW5kbGVGaWx0ZXJDbGljayxuPWUuZm9jdXNlZENhdGVnb3J5S2V5LGE9ZS5hY3RpdmVDYXRlZ29yeUtleSxzPWUuaXNNb2JpbGU7cmV0dXJuIGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcImNxLWZpbHRlci1wYW5lbFwifSx0Lm1hcChmdW5jdGlvbihlKXtyZXR1cm4gaS5hLmNyZWF0ZUVsZW1lbnQobyx7a2V5OmUuY2F0ZWdvcnlJZCxjYXRlZ29yeTplLGhhbmRsZUZpbHRlckNsaWNrOnIsYWN0aXZlQ2F0ZWdvcnlLZXk6YSxmb2N1c2VkQ2F0ZWdvcnlLZXk6bixpc01vYmlsZTpzfSl9KSl9fSkuY2FsbCh0aGlzLHIoNikudCl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oZSl7ci5kKHQsXCJhXCIsZnVuY3Rpb24oKXtyZXR1cm4gY30pO3ZhciBuPXIoMCksaT1yLm4obik7ZnVuY3Rpb24gYShlKXt2YXIgdD0wO2lmKGUuaGFzU3ViY2F0ZWdvcnkpe3ZhciByPSEwLG49ITEsaT12b2lkIDA7dHJ5e2Zvcih2YXIgYSxvPWUuZGF0YVtTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShhPW8ubmV4dCgpKS5kb25lKTtyPSEwKXt0Kz1hLnZhbHVlLmRhdGEubGVuZ3RofX1jYXRjaChlKXtuPSEwLGk9ZX1maW5hbGx5e3RyeXtyfHxudWxsPT1vLnJldHVybnx8by5yZXR1cm4oKX1maW5hbGx5e2lmKG4pdGhyb3cgaX19fWVsc2UgdCs9ZS5kYXRhLmxlbmd0aDtyZXR1cm4gdH12YXIgbz1mdW5jdGlvbihlLHQscixuKXt2YXIgaT1cIlwiO3JldHVybiB0PT09ZSYmKGk9cjwwP1wic3RpY2t5LWJvdHRvbVwiOlwic3RpY2t5LXRvcFwiKSxcImNhdGVnb3J5LXRpdGxlIFwiLmNvbmNhdChpLFwiIFwiKS5jb25jYXQobj9cImhhcy1zdWJ0aXRsZVwiOlwiXCIpfSxzPWZ1bmN0aW9uKHQpe3ZhciByPXQuY2F0ZWdvcnksbj10Lkl0ZW0scz10LnNldENhdGVnb3J5RWxlbWVudCxjPXQub25TZWxlY3RJdGVtLGw9dC5hY3RpdmVIZWFkS2V5LHU9dC5hY3RpdmVIZWFkVG9wLGg9dC5hY3RpdmVIZWFkT2Zmc2V0LGQ9dC5kaXNhYmxlQWxsO3JldHVybiBpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJjYXRlZ29yeSBjYXRlZ29yeS1cIi5jb25jYXQoci5jYXRlZ29yeUlkLFwiIFwiKS5jb25jYXQoci5jYXRlZ29yeVN1YnRpdGxlP1wiY2F0ZWdvcnktaGFzLXN1YnRpdGxlXCI6XCJcIikscmVmOmZ1bmN0aW9uKGUpe3JldHVybiBzKGUsci5jYXRlZ29yeUlkKX19LGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpvKHIuY2F0ZWdvcnlJZCxsLHUsci5jYXRlZ29yeVN1YnRpdGxlKSxzdHlsZTp7dG9wOmw9PT1yLmNhdGVnb3J5SWQ/aDpudWxsfX0sZS50cmFuc2xhdGUoci5jYXRlZ29yeU5hbWUpLChyLmNhdGVnb3J5TmFtZVBvc3RmaXhTaG93SWZBY3RpdmUmJmw9PT1yLmNhdGVnb3J5SWR8fCFyLmNhdGVnb3J5TmFtZVBvc3RmaXhTaG93SWZBY3RpdmUpJiZyLmNhdGVnb3J5TmFtZVBvc3RmaXgmJmkuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtjbGFzc05hbWU6XCJjYXRlZ29yeS1uYW1lLXBvc3RmaXhcIn0sci5jYXRlZ29yeU5hbWVQb3N0Zml4KSxyLmNhdGVnb3J5U3VidGl0bGUmJmkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcImNhdGVnb3J5LXN1YnRpdGxlXCJ9LGUudHJhbnNsYXRlKHIuY2F0ZWdvcnlTdWJ0aXRsZSkpKSxyLmhhc1N1YmNhdGVnb3J5P3IuZGF0YS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGEodCk+MCYmaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY2F0ZWdvcnktY29udGVudCBoYXMtc3ViY2F0ZWdvcnlcIixrZXk6dC5zdWJjYXRlZ29yeU5hbWV9LGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcInN1YmNhdGVnb3J5XCJ9LGUudHJhbnNsYXRlKHQuc3ViY2F0ZWdvcnlOYW1lKSksdC5kYXRhLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gaS5hLmNyZWF0ZUVsZW1lbnQobix7a2V5OmUuZGlzcGxheSxpdGVtOmUsb25TZWxlY3RJdGVtOmMsZGlzYWJsZUFsbDpkfSl9KSl9KTpyLmRhdGEubGVuZ3RoPjAmJmkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcImNhdGVnb3J5LWNvbnRlbnRcIn0sci5kYXRhLm1hcChmdW5jdGlvbihlLHQpe3JldHVybiBpLmEuY3JlYXRlRWxlbWVudChuLHtrZXk6XCJcIi5jb25jYXQoZS5kaXNwbGF5LFwiLVwiKS5jb25jYXQodCksaXRlbTplLG9uU2VsZWN0SXRlbTpjLGRpc2FibGVBbGw6ZH0pfSkpLDA9PT1hKHIpJiZyLmVtcHR5RGVzY3JpcHRpb24mJmkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcImNhdGVnb3J5LWNvbnRlbnRcIn0saS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiZW1wdHktY2F0ZWdvcnlcIn0sZS50cmFuc2xhdGUoci5lbXB0eURlc2NyaXB0aW9uKSkpKX0sYz1pLmEubWVtbyhmdW5jdGlvbihlKXt2YXIgdD1lLmZpbHRlcmVkSXRlbXMscj1lLm9uU2VsZWN0SXRlbSxuPWUuZ2V0SXRlbVR5cGUsbz1lLnNldENhdGVnb3J5RWxlbWVudCxjPWUuYWN0aXZlSGVhZEtleSxsPWUuYWN0aXZlSGVhZFRvcCx1PWUuYWN0aXZlSGVhZE9mZnNldCxoPWUuZGlzYWJsZUFsbDtyZXR1cm4gaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwicmVzdWx0cy1wYW5lbFwifSx0Lm1hcChmdW5jdGlvbihlKXtyZXR1cm4oYShlKT4wfHxlLmVtcHR5RGVzY3JpcHRpb24pJiZpLmEuY3JlYXRlRWxlbWVudChzLHtrZXk6ZS5jYXRlZ29yeUlkLEl0ZW06bihlLmNhdGVnb3J5SWQpLGNhdGVnb3J5OmUsc2V0Q2F0ZWdvcnlFbGVtZW50Om8sb25TZWxlY3RJdGVtOnIsYWN0aXZlSGVhZEtleTpjLGFjdGl2ZUhlYWRUb3A6bCxhY3RpdmVIZWFkT2Zmc2V0OnUsZGlzYWJsZUFsbDpofSl9KSl9KX0pLmNhbGwodGhpcyxyKDYpLnQpfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz17XCIgYWxyZWFkeSBleGlzdHMuXCI6MCxcIltzeW1ib2xdIGZlZWQgaXMgZGVsYXllZCBieSBbZGVsYXldIG1pbnV0ZXNcIjoxLFwiW3N5bWJvbF0gbWFya2V0IGlzIG5vdyBvcGVuZWQuXCI6MixcIltzeW1ib2xdIG1hcmtldCBpcyBwcmVzZW50bHkgY2xvc2VkLlwiOjMsJ1wiTWFzcyBJbmRleFwiIG9yIFwiRG9qaSBTdGFyXCInOjQsQWN0aXZlOjUsXCJBZGQgTmV3XCI6NixBbm5vdGF0aW9uOjcsXCJBc3NldCBJbmZvcm1hdGlvblwiOjgsXCJBdXRvIFNjYWxlXCI6OSxcIkF2ZXJhZ2UgTGluZVwiOjEwLEJhc2VsaW5lOjExLFwiQm94IFNpemVcIjoxMixDOjEzLENhbGxvdXQ6MTQsQ0FOQ0VMOjE1LENhbmRsZToxNixDaGFuZ2U6MTcsQ2hhbm5lbDoxOCxcIkNoYXJ0IGRhdGEgaXMgbm90IGF2YWlsYWJsZSBmb3IgdGhpcyBzeW1ib2wuXCI6MTksXCJDaGFydCBUYWJsZVwiOjIwLFwiQ2hhcnQgdHlwZXNcIjoyMSxcIkNsZWFyIEFsbFwiOjIyLENsb3NlOjIzLENMT1NFOjI0LENMT1NFRDoyNSxcIkNvbG9yZWQgRG90XCI6MjYsQ29tcGFyaXNvbjoyNyxDb250aW51b3VzOjI4LENvdW50ZG93bjoyOSxDcm9zc2hhaXI6MzAsQ3Jvc3NsaW5lOjMxLFwiRGFyayBNb2RlXCI6MzIsRGF0ZTozMyxEYXk6MzQsRE9ORTozNSxEb29kbGU6MzYsRG90OjM3LERvd25sb2FkOjM4LFwiRG93bmxvYWQgYXMgQ1NWXCI6MzksXCJEb3dubG9hZCBhcyBQTkdcIjo0MCxcIkRvd25sb2FkIENoYXJ0XCI6NDEsXCJEcmF3IHRvb2xzXCI6NDIsRWxsaXBzZTo0MyxGYXZvcml0ZXM6NDQsXCJGaWIgQXJjXCI6NDUsXCJGaWIgRmFuXCI6NDYsXCJGaWIgUmV0cmFjZW1lbnRcIjo0NyxcIkZpYiBUaW1lIFpvbmVcIjo0OCxcIkdhbm4gRmFuXCI6NDksR2FydGxleTo1MCxIOjUxLFwiSGVpa2luIEFzaGlcIjo1MixIaWdoOjUzLEhJR0g6NTQsXCJIaXN0b3JpY2FsIERhdGEgTW9kZVwiOjU1LFwiSG9sbG93IENhbmRsZVwiOjU2LEhvcml6b250YWw6NTcsSG91cjo1OCxJbmRpY2F0b3JzOjU5LEludGVydmFsOjYwLEthZ2k6NjEsTDo2MixMYW5ndWFnZTo2MyxcIkxhc3QgZGlnaXRzIHN0YXRzIGZvciBsYXRlc3QgMTAwMCB0aWNrcyBvbiBcIjo2NCxMaW5lOjY1LFwiTGluZSBCcmVha1wiOjY2LExvdzo2NyxMT1c6NjgsTWVhc3VyZTo2OSxNaW51dGU6NzAsTzo3MSxPSExDOjcyLE9wZW46NzMsT1BFTjo3NCxPVkVSV1JJVEU6NzUsUGl0Y2hmb3JrOjc2LFwiUG9pbnQgJiBGaWd1cmVcIjo3NyxQb3NpdGlvbjo3OCxcIlByaWNlIExpbmVzXCI6NzksXCJRdWFkcmFudCBMaW5lc1wiOjgwLFJhbmdlOjgxLFwiUmFuZ2UgQmFyc1wiOjgyLFJheTo4MyxSZWN0YW5nbGU6ODQsXCJSZWdyZXNzaW9uIExpbmVcIjo4NSxSZW5rbzo4NixSRVNFVDo4NyxcIlJldHJpZXZpbmcgQ2hhcnQgRGF0YS4uLlwiOjg4LFwiUmV0cmlldmluZyBDaGFydCBFbmdpbmUuLi5cIjo4OSxcIlJldHJpZXZpbmcgTWFya2V0IFN5bWJvbHMuLi5cIjo5MCxcIlJldHJpZXZpbmcgVHJhZGluZyBUaW1lcy4uLlwiOjkxLFJldmVyc2FsOjkyLFwiUmV2ZXJzYWwgUGVyY2VudGFnZVwiOjkzLFwicmlnaHQtY2xpY2sgdG8gZGVsZXRlXCI6OTQsXCJyaWdodC1jbGljayB0byBtYW5hZ2VcIjo5NSxcIlNlYXJjaC4uLlwiOjk2LFNlZ21lbnQ6OTcsU2V0dGluZ3M6OTgsXCJTaGFwZSAtIEFycm93XCI6OTksXCJTaGFwZSAtIENoZWNrXCI6MTAwLFwiU2hhcGUgLSBDcm9zc1wiOjEwMSxcIlNoYXBlIC0gRm9jdXNcIjoxMDIsXCJTaGFwZSAtIEhlYXJ0XCI6MTAzLFwiU2hhcGUgLSBTdGFyXCI6MTA0LFwiU3BlZWQgUmVzaXN0YW5jZSBBcmNcIjoxMDUsXCJTcGVlZCBSZXNpc3RhbmNlIExpbmVcIjoxMDYsU3BsaW5lOjEwNyxTUE9UOjEwOCxcIlN0cmVhbWluZyBmb3IgW3N5bWJvbF0gaXMgbm90IGF2YWlsYWJsZSBkdWUgdG8gbGljZW5zZSByZXN0cmljdGlvbnNcIjoxMDksVGFibGU6MTEwLFwiVGVtcGxhdGUgbmFtZVwiOjExMSxUZW1wbGF0ZXM6MTEyLFwiVGhlcmUgYXJlIG5vIGFjdGl2ZSBjb21wYXJpc29ucyB5ZXQuXCI6MTEzLFwiVGhlcmUgYXJlIG5vIGFjdGl2ZSBpbmRpY2F0b3JzIHlldC5cIjoxMTQsXCJUaGVyZSBhcmUgbm8gZmF2b3JpdGVzIHlldC5cIjoxMTUsVGljazoxMTYsXCJUaW1lIEN5Y2xlXCI6MTE3LFwiVGlyb25lIExldmVsc1wiOjExOCxcIlVuZGVybHlpbmcgQXNzZXRzXCI6MTE5LFZlcnRpY2FsOjEyMCxcIldvdWxkIHlvdSBsaWtlIHRvIG92ZXJ3cml0ZSBpdD9cIjoxMjEsXCJab29tIGluXCI6MTIyLFwiWm9vbSBvdXRcIjoxMjMsUlNJOjEyNCxQZXJpb2Q6MTI1LFwiU2hvdyBab25lc1wiOjEyNixPdmVyQm91Z2h0OjEyNyxPdmVyU29sZDoxMjgsXCJNb3ZpbmcgQXZlcmFnZVwiOjEyOSxGaWVsZDoxMzAsVHlwZToxMzEsT2Zmc2V0OjEzMixNQToxMzMsTUFDRDoxMzQsXCJGYXN0IE1BIFBlcmlvZFwiOjEzNSxcIlNsb3cgTUEgUGVyaW9kXCI6MTM2LFwiU2lnbmFsIFBlcmlvZFwiOjEzNyxTaWduYWw6MTM4LFwiSW5jcmVhc2luZyBCYXJcIjoxMzksXCJEZWNyZWFzaW5nIEJhclwiOjE0MCxTdG9jaGFzdGljczoxNDEsU21vb3RoOjE0MixGYXN0OjE0MyxTbG93OjE0NCxBcm9vbjoxNDUsXCJBcm9vbiBVcFwiOjE0NixcIkFyb29uIERvd25cIjoxNDcsXCJBcm9vbiBPc2NpbGxhdG9yXCI6MTQ4LFwiTGluZWFyIFJlZyBSMlwiOjE0OSxSU3F1YXJlZDoxNTAsXCJMaW5lYXIgUmVnIEZvcmVjYXN0XCI6MTUxLEZvcmVjYXN0OjE1MixcIkxpbmVhciBSZWcgSW50ZXJjZXB0XCI6MTUzLEludGVyY2VwdDoxNTQsXCJUaW1lIFNlcmllcyBGb3JlY2FzdFwiOjE1NSxcIlZlcnRpY2FsIEhvcml6b250YWwgRmlsdGVyXCI6MTU2LFJlc3VsdDoxNTcsVFJJWDoxNTgsXCJTdGFuZGFyZCBEZXZpYXRpb25cIjoxNTksXCJTdGFuZGFyZCBEZXZpYXRpb25zXCI6MTYwLFwiTW92aW5nIEF2ZXJhZ2UgVHlwZVwiOjE2MSxcIlRyYWRlIFZvbHVtZSBJbmRleFwiOjE2MixcIk1pbiBUaWNrIFZhbHVlXCI6MTYzLFwiU3dpbmcgSW5kZXhcIjoxNjQsXCJMaW1pdCBNb3ZlIFZhbHVlXCI6MTY1LFwiQWNjdW11bGF0aXZlIFN3aW5nIEluZGV4XCI6MTY2LFwiUHJpY2UgUmF0ZSBvZiBDaGFuZ2VcIjoxNjcsXCJWb2x1bWUgUmF0ZSBvZiBDaGFuZ2VcIjoxNjgsXCJNb21lbnR1bSBJbmRpY2F0b3JcIjoxNjksXCJQcmljZSBWb2x1bWUgVHJlbmRcIjoxNzAsXCJQb3NpdGl2ZSBWb2x1bWUgSW5kZXhcIjoxNzEsSW5kZXg6MTcyLFwiTmVnYXRpdmUgVm9sdW1lIEluZGV4XCI6MTczLFwiT24gQmFsYW5jZSBWb2x1bWVcIjoxNzQsXCJTdG9jaGFzdGljIE1vbWVudHVtIEluZGV4XCI6MTc1LFwiJUsgUGVyaW9kc1wiOjE3NixcIiVLIFNtb290aGluZyBQZXJpb2RzXCI6MTc3LFwiJUsgRG91YmxlIFNtb290aGluZyBQZXJpb2RzXCI6MTc4LFwiJUQgUGVyaW9kc1wiOjE3OSxcIiVEIE1vdmluZyBBdmVyYWdlIFR5cGVcIjoxODAsXCIlS1wiOjE4MSxcIiVEXCI6MTgyLFwiSGlzdG9yaWNhbCBWb2xhdGlsaXR5XCI6MTgzLFwiRGF5cyBQZXIgWWVhclwiOjE4NCxcIlByZXR0eSBHb29kIE9zY2lsbGF0b3JcIjoxODUsXCJVbHRpbWF0ZSBPc2NpbGxhdG9yXCI6MTg2LFwiQ3ljbGUgMVwiOjE4NyxcIkN5Y2xlIDJcIjoxODgsXCJDeWNsZSAzXCI6MTg5LFwiVm9sdW1lIE9zY2lsbGF0b3JcIjoxOTAsXCJTaG9ydCBDeWNsZVwiOjE5MSxcIkxvbmcgQ3ljbGVcIjoxOTIsXCJQb2ludHMgT3IgUGVyY2VudFwiOjE5MyxcIlR3aWdncyBNb25leSBGbG93XCI6MTk0LFwiQ2hhaWtpbiBNb25leSBGbG93XCI6MTk1LFwiQ2hhaWtpbiBWb2xhdGlsaXR5XCI6MTk2LFwiUmF0ZSBPZiBDaGFuZ2VcIjoxOTcsXCJQcmljZSBPc2NpbGxhdG9yXCI6MTk4LFwiRWFzZSBvZiBNb3ZlbWVudFwiOjE5OSxcIkNvbW1vZGl0eSBDaGFubmVsIEluZGV4XCI6MjAwLFwiRGV0cmVuZGVkIFByaWNlIE9zY2lsbGF0b3JcIjoyMDEsXCJUcnVlIFJhbmdlXCI6MjAyLFwiQXZlcmFnZSBUcnVlIFJhbmdlXCI6MjAzLEFUUjoyMDQsXCJFaGxlciBGaXNoZXIgVHJhbnNmb3JtXCI6MjA1LEVGOjIwNixcIkVGIFRyaWdnZXJcIjoyMDcsXCJTY2hhZmYgVHJlbmQgQ3ljbGVcIjoyMDgsUVN0aWNrOjIwOSxcIkNvcHBvY2sgQ3VydmVcIjoyMTAsXCJTaG9ydCBSb0NcIjoyMTEsXCJMb25nIFJvQ1wiOjIxMixcIkNoYW5kZSBNb21lbnR1bSBPc2NpbGxhdG9yXCI6MjEzLFwiQ2hhbmRlIEZvcmVjYXN0IE9zY2lsbGF0b3JcIjoyMTQsXCJJbnRyYWRheSBNb21lbnR1bSBJbmRleFwiOjIxNSxSQVZJOjIxNixcIlJhbmRvbSBXYWxrIEluZGV4XCI6MjE3LFwiUmFuZG9tIFdhbGsgSGlnaFwiOjIxOCxcIlJhbmRvbSBXYWxrIExvd1wiOjIxOSxcIkFEWC9ETVNcIjoyMjAsXCJTbW9vdGhpbmcgUGVyaW9kXCI6MjIxLFNlcmllczoyMjIsU2hhZGluZzoyMjMsSGlzdG9ncmFtOjIyNCxcIitESVwiOjIyNSxcIi1ESVwiOjIyNixBRFg6MjI3LFwiUG9zaXRpdmUgQmFyXCI6MjI4LFwiTmVnYXRpdmUgQmFyXCI6MjI5LFwiSGlnaCBMb3cgQmFuZHNcIjoyMzAsXCJTaGlmdCBQZXJjZW50YWdlXCI6MjMxLFwiQ2hhbm5lbCBGaWxsXCI6MjMyLFwiSGlnaCBMb3cgVG9wXCI6MjMzLFwiSGlnaCBMb3cgTWVkaWFuXCI6MjM0LFwiSGlnaCBMb3cgQm90dG9tXCI6MjM1LFwiSGlnaCBNaW51cyBMb3dcIjoyMzYsXCJNZWRpYW4gUHJpY2VcIjoyMzcsXCJNb3ZpbmcgQXZlcmFnZSBFbnZlbG9wZVwiOjIzOCxcIlNoaWZ0IFR5cGVcIjoyMzksU2hpZnQ6MjQwLFwiTUEgRW52IFRvcFwiOjI0MSxcIk1BIEVudiBNZWRpYW5cIjoyNDIsXCJNQSBFbnYgQm90dG9tXCI6MjQzLFwiRnJhY3RhbCBDaGFvcyBCYW5kc1wiOjI0NCxcIkZyYWN0YWwgSGlnaFwiOjI0NSxcIkZyYWN0YWwgTG93XCI6MjQ2LFwiRnJhY3RhbCBDaGFubmVsXCI6MjQ3LFwiRnJhY3RhbCBDaGFvcyBPc2NpbGxhdG9yXCI6MjQ4LFwiR29wYWxha3Jpc2huYW4gUmFuZ2UgSW5kZXhcIjoyNDksXCJQcmltZSBOdW1iZXIgQmFuZHNcIjoyNTAsXCJQcmltZSBCYW5kcyBUb3BcIjoyNTEsXCJQcmltZSBCYW5kcyBCb3R0b21cIjoyNTIsXCJQcmltZSBCYW5kcyBDaGFubmVsXCI6MjUzLFwiUHJpbWUgTnVtYmVyIE9zY2lsbGF0b3JcIjoyNTQsXCJUb2xlcmFuY2UgUGVyY2VudGFnZVwiOjI1NSxcIkJvbGxpbmdlciBCYW5kc1wiOjI1NixcIkJvbGxpbmdlciBCYW5kcyBUb3BcIjoyNTcsXCJCb2xsaW5nZXIgQmFuZHMgTWVkaWFuXCI6MjU4LFwiQm9sbGluZ2VyIEJhbmRzIEJvdHRvbVwiOjI1OSxcIkRvbmNoaWFuIENoYW5uZWxcIjoyNjAsXCJIaWdoIFBlcmlvZFwiOjI2MSxcIkxvdyBQZXJpb2RcIjoyNjIsXCJEb25jaGlhbiBIaWdoXCI6MjYzLFwiRG9uY2hpYW4gTWVkaWFuXCI6MjY0LFwiRG9uY2hpYW4gTG93XCI6MjY1LFwiSGlnaGVzdCBIaWdoIFZhbHVlXCI6MjY2LFwiTG93ZXN0IExvdyBWYWx1ZVwiOjI2NyxcIk1hc3MgSW5kZXhcIjoyNjgsXCJCdWxnZSBUaHJlc2hvbGRcIjoyNjksXCJLZWx0bmVyIENoYW5uZWxcIjoyNzAsXCJLZWx0bmVyIFRvcFwiOjI3MSxcIktlbHRuZXIgTWVkaWFuXCI6MjcyLFwiS2VsdG5lciBCb3R0b21cIjoyNzMsXCJQYXJhYm9saWMgU0FSXCI6Mjc0LFwiTWluaW11bSBBRlwiOjI3NSxcIk1heGltdW0gQUZcIjoyNzYsXCJLbGluZ2VyIFZvbHVtZSBPc2NpbGxhdG9yXCI6Mjc3LFwiU2lnbmFsIFBlcmlvZHNcIjoyNzgsS2xpbmdlcjoyNzksS2xpbmdlclNpZ25hbDoyODAsXCJFbGRlciBSYXkgSW5kZXhcIjoyODEsXCJFbGRlciBCdWxsIFBvd2VyXCI6MjgyLFwiRWxkZXIgQmVhciBQb3dlclwiOjI4MyxcIkVsZGVyIEZvcmNlIEluZGV4XCI6Mjg0LFwiTGluZWFyIFJlZyBTbG9wZVwiOjI4NSxTbG9wZToyODYsXCJDZW50ZXIgT2YgR3Jhdml0eVwiOjI4NyxcIlR5cGljYWwgUHJpY2VcIjoyODgsXCJXZWlnaHRlZCBDbG9zZVwiOjI4OSxcIk1vbmV5IEZsb3cgSW5kZXhcIjoyOTAsXCJXaWxsaWFtcyAlUlwiOjI5MSxcIkFjY3VtdWxhdGlvbi9EaXN0cmlidXRpb25cIjoyOTIsXCJVc2UgVm9sdW1lXCI6MjkzLFwiVm9sdW1lIENoYXJ0XCI6Mjk0LFwiVXAgVm9sdW1lXCI6Mjk1LFwiRG93biBWb2x1bWVcIjoyOTYsXCJWb2x1bWUgVW5kZXJsYXlcIjoyOTcsXCJWYWx1YXRpb24gTGluZXNcIjoyOTgsXCJBdmVyYWdlIFR5cGVcIjoyOTksXCJEaXNwbGF5IEF2ZXJhZ2VcIjozMDAsXCJEaXNwbGF5IDEgU3RhbmRhcmQgRGV2aWF0aW9uICgxz4MpXCI6MzAxLFwiRGlzcGxheSAyIFN0YW5kYXJkIERldmlhdGlvbiAoMs+DKVwiOjMwMixcIkRpc3BsYXkgMyBTdGFuZGFyZCBEZXZpYXRpb24gKDPPgylcIjozMDMsQXZlcmFnZTozMDQsXCIxIFN0YW5kYXJkIERldmlhdGlvbiAoMc+DKVwiOjMwNSxcIjIgU3RhbmRhcmQgRGV2aWF0aW9uICgyz4MpXCI6MzA2LFwiMyBTdGFuZGFyZCBEZXZpYXRpb24gKDPPgylcIjozMDcsXCJDb3JyZWxhdGlvbiBDb2VmZmljaWVudFwiOjMwOCxcIlByaWNlIE1vbWVudHVtIE9zY2lsbGF0b3JcIjozMDksXCJEb3VibGUgU21vb3RoaW5nIFBlcmlvZFwiOjMxMCxQTU86MzExLFBNT1NpZ25hbDozMTIsXCJSZWxhdGl2ZSBWb2xhdGlsaXR5XCI6MzEzLFwiU1REIFBlcmlvZFwiOjMxNCxcIlJlbCBWb2xcIjozMTUsXCJBd2Vzb21lIE9zY2lsbGF0b3JcIjozMTYsXCJNYXJrZXQgRmFjaWxpdGF0aW9uIEluZGV4XCI6MzE3LFwiU2NhbGUgRmFjdG9yXCI6MzE4LEdyZWVuOjMxOSxGYWRlOjMyMCxGYWtlOjMyMSxTcXVhdDozMjIsXCJBVFIgQmFuZHNcIjozMjMsXCJBVFIgQmFuZHMgVG9wXCI6MzI0LFwiQVRSIEJhbmRzIEJvdHRvbVwiOjMyNSxcIkFUUiBCYW5kcyBDaGFubmVsXCI6MzI2LFwiU1RBUkMgQmFuZHNcIjozMjcsXCJNQSBQZXJpb2RcIjozMjgsTXVsdGlwbGllcjozMjksXCJTVEFSQyBCYW5kcyBUb3BcIjozMzAsXCJTVEFSQyBCYW5kcyBNZWRpYW5cIjozMzEsXCJTVEFSQyBCYW5kcyBCb3R0b21cIjozMzIsXCJBVFIgVHJhaWxpbmcgU3RvcHNcIjozMzMsXCJQbG90IFR5cGVcIjozMzQsSGlnaExvdzozMzUsXCJCdXkgU3RvcHNcIjozMzYsXCJTZWxsIFN0b3BzXCI6MzM3LFwiQm9sbGluZ2VyICViXCI6MzM4LFwiJWJcIjozMzksXCJCb2xsaW5nZXIgQmFuZHdpZHRoXCI6MzQwLEJhbmR3aWR0aDozNDEsXCJEb25jaGlhbiBXaWR0aFwiOjM0MixcIlJlbGF0aXZlIFZpZ29yIEluZGV4XCI6MzQzLFwiUmVsIFZpZ1wiOjM0NCxSZWxWaWdTaWduYWw6MzQ1LFwiRWxkZXIgSW1wdWxzZSBTeXN0ZW1cIjozNDYsQnVsbGlzaDozNDcsQmVhcmlzaDozNDgsTmV1dHJhbDozNDksXCJQaXZvdCBQb2ludHNcIjozNTAsUGl2b3Q6MzUxLFwiUmVzaXN0YW5jZSAxXCI6MzUyLFwiU3VwcG9ydCAxXCI6MzUzLFwiUmVzaXN0YW5jZSAyXCI6MzU0LFwiU3VwcG9ydCAyXCI6MzU1LFwiUmVzaXN0YW5jZSAzXCI6MzU2LFwiU3VwcG9ydCAzXCI6MzU3LFZXQVA6MzU4LEFsbGlnYXRvcjozNTksXCJKYXcgUGVyaW9kXCI6MzYwLFwiSmF3IE9mZnNldFwiOjM2MSxcIlRlZXRoIFBlcmlvZFwiOjM2MixcIlRlZXRoIE9mZnNldFwiOjM2MyxcIkxpcHMgUGVyaW9kXCI6MzY0LFwiTGlwcyBPZmZzZXRcIjozNjUsXCJTaG93IEZyYWN0YWxzXCI6MzY2LEphdzozNjcsVGVldGg6MzY4LExpcHM6MzY5LFwiR2F0b3IgT3NjaWxsYXRvclwiOjM3MCxcIkljaGltb2t1IENsb3Vkc1wiOjM3MSxcIkNvbnZlcnNpb24gTGluZSBQZXJpb2RcIjozNzIsXCJCYXNlIExpbmUgUGVyaW9kXCI6MzczLFwiTGVhZGluZyBTcGFuIEIgUGVyaW9kXCI6Mzc0LFwiTGFnZ2luZyBTcGFuIFBlcmlvZFwiOjM3NSxcIkNvbnZlcnNpb24gTGluZVwiOjM3NixcIkJhc2UgTGluZVwiOjM3NyxcIkxlYWRpbmcgU3BhbiBBXCI6Mzc4LFwiTGVhZGluZyBTcGFuIEJcIjozNzksXCJMYWdnaW5nIFNwYW5cIjozODAsXCJQcmljZSBSZWxhdGl2ZVwiOjM4MSxcIkNvbXBhcmlzb24gU3ltYm9sXCI6MzgyLFwiUGVyZm9ybWFuY2UgSW5kZXhcIjozODMsR2FpbjozODQsTG9zczozODUsQmV0YTozODYsXCJVbGNlciBJbmRleFwiOjM4NyxcIkJhbGFuY2Ugb2YgUG93ZXJcIjozODgsXCJUcmVuZCBJbnRlbnNpdHkgSW5kZXhcIjozODksVElJOjM5MCxcIkNob3BwaW5lc3MgSW5kZXhcIjozOTEsXCJEaXNwYXJpdHkgSW5kZXhcIjozOTIsXCJSYWluYm93IE1vdmluZyBBdmVyYWdlXCI6MzkzLFNNQTE6Mzk0LFNNQTI6Mzk1LFNNQTM6Mzk2LFNNQTQ6Mzk3LFNNQTU6Mzk4LFNNQTY6Mzk5LFNNQTc6NDAwLFNNQTg6NDAxLFNNQTk6NDAyLFNNQTEwOjQwMyxcIlJhaW5ib3cgT3NjaWxsYXRvclwiOjQwNCxcIkhIVi9MTFYgTG9va2JhY2tcIjo0MDUsXCJQcmluZydzIEtub3cgU3VyZSBUaGluZ1wiOjQwNixcIkxpZ2h0ZXN0IFJhdGUgb2YgQ2hhbmdlIFBlcmlvZFwiOjQwNyxcIkxpZ2h0ZXN0IFNNQSBQZXJpb2RcIjo0MDgsXCJMaWdodCBSYXRlIG9mIENoYW5nZSBQZXJpb2RcIjo0MDksXCJMaWdodCBTTUEgUGVyaW9kXCI6NDEwLFwiSGVhdnkgUmF0ZSBvZiBDaGFuZ2UgUGVyaW9kXCI6NDExLFwiSGVhdnkgU01BIFBlcmlvZFwiOjQxMixcIkhlYXZpZXN0IFJhdGUgb2YgQ2hhbmdlIFBlcmlvZFwiOjQxMyxcIkhlYXZpZXN0IFNNQSBQZXJpb2RcIjo0MTQsS1NUOjQxNSxLU1RTaWduYWw6NDE2LFwiUHJpbmcncyBTcGVjaWFsIEtcIjo0MTcsXCJEYXJ2YXMgQm94XCI6NDE4LFwiQVRIIExvb2tiYWNrIFBlcmlvZFwiOjQxOSxcIkV4aXQgRmllbGRcIjo0MjAsXCJHaG9zdCBCb3hlc1wiOjQyMSxcIlN0b3AgTGV2ZWxzXCI6NDIyLFwiTGV2ZWwgT2Zmc2V0XCI6NDIzLFwiUHJpY2UgTWluaW11bVwiOjQyNCxcIlZvbHVtZSBTcGlrZVwiOjQyNSxcIlZvbHVtZSAlIG9mIEF2Z1wiOjQyNixEYXJ2YXM6NDI3LEdob3N0OjQyOCxMZXZlbHM6NDI5LFN1cGVydHJlbmQ6NDMwLFVwdHJlbmQ6NDMxLERvd250cmVuZDo0MzIsXCJWb2x1bWUgUHJvZmlsZVwiOjQzMyxcIkJhcnMgQ29sb3JcIjo0MzQsXCJWb3J0ZXggSW5kaWNhdG9yXCI6NDM1LFwiK1ZJXCI6NDM2LFwiLVZJXCI6NDM3LFppZ1phZzo0MzgsXCJEaXN0YW5jZSglKVwiOjQzOSxcIlBzeWNob2xvZ2ljYWwgTGluZVwiOjQ0MCxcIk1vdmluZyBBdmVyYWdlIERldmlhdGlvblwiOjQ0MSxcIlNoaW5vaGFyYSBJbnRlbnNpdHkgUmF0aW9cIjo0NDIsXCJTdHJvbmcgUmF0aW9cIjo0NDMsXCJXZWFrIFJhdGlvXCI6NDQ0LENsb3NlZDo0NDUsXCJPcGVucyBpbjpcIjo0NDYsXCJVcCB0byA1IGFjdGl2ZSBpbmRpY2F0b3JzIGFsbG93ZWQuXCI6NDQ3fX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17aWQ6XCJpYy1iYXNlbGluZS1ub3JtYWwtdXNhZ2VcIix2aWV3Qm94OlwiMCAwIDE2IDE2XCIsdXJsOnIucCtcInNwcml0ZS0yNzg2ZWEuc21hcnRjaGFydHMuc3ZnI2ljLWJhc2VsaW5lLW5vcm1hbC11c2FnZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2lkOlwiaWMtY2FuZGxlLW5vcm1hbC11c2FnZVwiLHZpZXdCb3g6XCIwIDAgMTYgMTZcIix1cmw6ci5wK1wic3ByaXRlLTI3ODZlYS5zbWFydGNoYXJ0cy5zdmcjaWMtY2FuZGxlLW5vcm1hbC11c2FnZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2lkOlwiaWMtZG90LW5vcm1hbC11c2FnZVwiLHZpZXdCb3g6XCIwIDAgMTYgMTZcIix1cmw6ci5wK1wic3ByaXRlLTI3ODZlYS5zbWFydGNoYXJ0cy5zdmcjaWMtZG90LW5vcm1hbC11c2FnZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2lkOlwiaWMtbGluZWRvdC1ub3JtYWwtdXNhZ2VcIix2aWV3Qm94OlwiMCAwIDE2IDE2XCIsdXJsOnIucCtcInNwcml0ZS0yNzg2ZWEuc21hcnRjaGFydHMuc3ZnI2ljLWxpbmVkb3Qtbm9ybWFsLXVzYWdlXCIsdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51cmx9fX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17aWQ6XCJpYy1oZWlraW4tYXNoaS1ub3JtYWwtdXNhZ2VcIix2aWV3Qm94OlwiMCAwIDE2IDE2XCIsdXJsOnIucCtcInNwcml0ZS0yNzg2ZWEuc21hcnRjaGFydHMuc3ZnI2ljLWhlaWtpbi1hc2hpLW5vcm1hbC11c2FnZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2lkOlwiaWMtaG9sbG93Y2FuZGxlLW5vcm1hbC11c2FnZVwiLHZpZXdCb3g6XCIwIDAgMTYgMTZcIix1cmw6ci5wK1wic3ByaXRlLTI3ODZlYS5zbWFydGNoYXJ0cy5zdmcjaWMtaG9sbG93Y2FuZGxlLW5vcm1hbC11c2FnZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2lkOlwiaWMta2FnaS1ub3JtYWwtdXNhZ2VcIix2aWV3Qm94OlwiMCAwIDE2IDE2XCIsdXJsOnIucCtcInNwcml0ZS0yNzg2ZWEuc21hcnRjaGFydHMuc3ZnI2ljLWthZ2ktbm9ybWFsLXVzYWdlXCIsdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51cmx9fX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17aWQ6XCJpYy1saW5lLW5vcm1hbC11c2FnZVwiLHZpZXdCb3g6XCIwIDAgMTYgMTZcIix1cmw6ci5wK1wic3ByaXRlLTI3ODZlYS5zbWFydGNoYXJ0cy5zdmcjaWMtbGluZS1ub3JtYWwtdXNhZ2VcIix0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVybH19fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtpZDpcImljLWxpbmVicmVhay1ub3JtYWwtdXNhZ2VcIix2aWV3Qm94OlwiMCAwIDE2IDE2XCIsdXJsOnIucCtcInNwcml0ZS0yNzg2ZWEuc21hcnRjaGFydHMuc3ZnI2ljLWxpbmVicmVhay1ub3JtYWwtdXNhZ2VcIix0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVybH19fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtpZDpcImljLW9obGMtbm9ybWFsLXVzYWdlXCIsdmlld0JveDpcIjAgMCAxNiAxNlwiLHVybDpyLnArXCJzcHJpdGUtMjc4NmVhLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1vaGxjLW5vcm1hbC11c2FnZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2lkOlwiaWMtcG9pbnRmaWd1cmUtbm9ybWFsLXVzYWdlXCIsdmlld0JveDpcIjAgMCAxNiAxNlwiLHVybDpyLnArXCJzcHJpdGUtMjc4NmVhLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1wb2ludGZpZ3VyZS1ub3JtYWwtdXNhZ2VcIix0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVybH19fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtpZDpcImljLXJhbmdlYmFycy1ub3JtYWwtdXNhZ2VcIix2aWV3Qm94OlwiMCAwIDE2IDE2XCIsdXJsOnIucCtcInNwcml0ZS0yNzg2ZWEuc21hcnRjaGFydHMuc3ZnI2ljLXJhbmdlYmFycy1ub3JtYWwtdXNhZ2VcIix0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVybH19fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtpZDpcImljLXJlbmtvLW5vcm1hbC11c2FnZVwiLHZpZXdCb3g6XCIwIDAgMTYgMTZcIix1cmw6ci5wK1wic3ByaXRlLTI3ODZlYS5zbWFydGNoYXJ0cy5zdmcjaWMtcmVua28tbm9ybWFsLXVzYWdlXCIsdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51cmx9fX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17aWQ6XCJpYy1zcGxpbmUtbm9ybWFsLXVzYWdlXCIsdmlld0JveDpcIjAgMCAxNiAxNlwiLHVybDpyLnArXCJzcHJpdGUtMjc4NmVhLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1zcGxpbmUtbm9ybWFsLXVzYWdlXCIsdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51cmx9fX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17aWQ6XCJ0YWJsZS11c2FnZVwiLHZpZXdCb3g6XCIwIDAgMTYgMTZcIix1cmw6ci5wK1wic3ByaXRlLTI3ODZlYS5zbWFydGNoYXJ0cy5zdmcjdGFibGUtdXNhZ2VcIix0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVybH19fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtpZDpcImljLXBuZy11c2FnZVwiLHZpZXdCb3g6XCIwIDAgMzIgMzJcIix1cmw6ci5wK1wic3ByaXRlLTI3ODZlYS5zbWFydGNoYXJ0cy5zdmcjaWMtcG5nLXVzYWdlXCIsdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51cmx9fX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17aWQ6XCJpYy1jc3YtdXNhZ2VcIix2aWV3Qm94OlwiMCAwIDMyIDMyXCIsdXJsOnIucCtcInNwcml0ZS0yNzg2ZWEuc21hcnRjaGFydHMuc3ZnI2ljLWNzdi11c2FnZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2lkOlwiaWMtY2xvc2UtdXNhZ2VcIix2aWV3Qm94OlwiMCAwIDE2IDE2XCIsdXJsOnIucCtcInNwcml0ZS0yNzg2ZWEuc21hcnRjaGFydHMuc3ZnI2ljLWNsb3NlLXVzYWdlXCIsdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51cmx9fX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17aWQ6XCJpYy1jbG9zZS1jaXJjbGUtdXNhZ2VcIix2aWV3Qm94OlwiMCAwIDE2IDE2XCIsdXJsOnIucCtcInNwcml0ZS0yNzg2ZWEuc21hcnRjaGFydHMuc3ZnI2ljLWNsb3NlLWNpcmNsZS11c2FnZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2lkOlwiaWMtY2xvc2UtYm9sZC11c2FnZVwiLHZpZXdCb3g6XCIwIDAgMTYgMTZcIix1cmw6ci5wK1wic3ByaXRlLTI3ODZlYS5zbWFydGNoYXJ0cy5zdmcjaWMtY2xvc2UtYm9sZC11c2FnZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2lkOlwiaWMtY29tcGFyaXNvbi1ub3JtYWwtdXNhZ2VcIix2aWV3Qm94OlwiMCAwIDE2IDE2XCIsdXJsOnIucCtcInNwcml0ZS0yNzg2ZWEuc21hcnRjaGFydHMuc3ZnI2ljLWNvbXBhcmlzb24tbm9ybWFsLXVzYWdlXCIsdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51cmx9fX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17aWQ6XCJpYy1jcm9zc2hhaXItb2ZmLXVzYWdlXCIsdmlld0JveDpcIjAgMCAxNiAxNlwiLHVybDpyLnArXCJzcHJpdGUtMjc4NmVhLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1jcm9zc2hhaXItb2ZmLXVzYWdlXCIsdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51cmx9fX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17aWQ6XCJpYy1jcm9zc2hhaXItb24tdXNhZ2VcIix2aWV3Qm94OlwiMCAwIDE2IDE2XCIsdXJsOnIucCtcInNwcml0ZS0yNzg2ZWEuc21hcnRjaGFydHMuc3ZnI2ljLWNyb3NzaGFpci1vbi11c2FnZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2lkOlwiaWMtY3Jvc3NoYWlyLXRvb2x0aXAtdXNhZ2VcIix2aWV3Qm94OlwiMCAwIDE2IDE2XCIsdXJsOnIucCtcInNwcml0ZS0yNzg2ZWEuc21hcnRjaGFydHMuc3ZnI2ljLWNyb3NzaGFpci10b29sdGlwLXVzYWdlXCIsdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51cmx9fX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17aWQ6XCJpYy1jbGVhci11c2FnZVwiLHZpZXdCb3g6XCIwIDAgMTYgMTZcIix1cmw6ci5wK1wic3ByaXRlLTI3ODZlYS5zbWFydGNoYXJ0cy5zdmcjaWMtY2xlYXItdXNhZ2VcIix0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVybH19fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtpZDpcImljLWRyYXdpbmd0b29scy1ub3JtYWwtdXNhZ2VcIix2aWV3Qm94OlwiMCAwIDE2IDE2XCIsdXJsOnIucCtcInNwcml0ZS0yNzg2ZWEuc21hcnRjaGFydHMuc3ZnI2ljLWRyYXdpbmd0b29scy1ub3JtYWwtdXNhZ2VcIix0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVybH19fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtpZDpcImljLW1lYXN1cmUtdXNhZ2VcIix2aWV3Qm94OlwiMCAwIDE2IDE2XCIsdXJsOnIucCtcInNwcml0ZS0yNzg2ZWEuc21hcnRjaGFydHMuc3ZnI2ljLW1lYXN1cmUtdXNhZ2VcIix0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVybH19fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtpZDpcImljLXpvb21vdXQtbGlnaHQtdXNhZ2VcIix2aWV3Qm94OlwiMCAwIDE2IDE2XCIsdXJsOnIucCtcInNwcml0ZS0yNzg2ZWEuc21hcnRjaGFydHMuc3ZnI2ljLXpvb21vdXQtbGlnaHQtdXNhZ2VcIix0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVybH19fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtpZDpcImljLWNoYXJ0dGVtcGxhdGUtbm9ybWFsLXVzYWdlXCIsdmlld0JveDpcIjAgMCAxNiAxNlwiLHVybDpyLnArXCJzcHJpdGUtMjc4NmVhLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1jaGFydHRlbXBsYXRlLW5vcm1hbC11c2FnZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2lkOlwiaWMtdGljay11c2FnZVwiLHZpZXdCb3g6XCIwIDAgMTYgMTZcIix1cmw6ci5wK1wic3ByaXRlLTI3ODZlYS5zbWFydGNoYXJ0cy5zdmcjaWMtdGljay11c2FnZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2lkOlwiaWMtdGltZS11c2FnZVwiLHZpZXdCb3g6XCIwIDAgMTIgMTJcIix1cmw6ci5wK1wic3ByaXRlLTI3ODZlYS5zbWFydGNoYXJ0cy5zdmcjaWMtdGltZS11c2FnZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2lkOlwiaWMtYWN0aXZlLW5vcm1hbC11c2FnZVwiLHZpZXdCb3g6XCIwIDAgMTYgMTZcIix1cmw6ci5wK1wic3ByaXRlLTI3ODZlYS5zbWFydGNoYXJ0cy5zdmcjaWMtYWN0aXZlLW5vcm1hbC11c2FnZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2lkOlwiaWMtY29tbW9kaXRpZXMtbm9ybWFsLXVzYWdlXCIsdmlld0JveDpcIjAgMCAxNiAxNlwiLHVybDpyLnArXCJzcHJpdGUtMjc4NmVhLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1jb21tb2RpdGllcy1ub3JtYWwtdXNhZ2VcIix0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVybH19fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtpZDpcImljLWZvcmV4LW5vcm1hbC11c2FnZVwiLHZpZXdCb3g6XCIwIDAgMTYgMTZcIix1cmw6ci5wK1wic3ByaXRlLTI3ODZlYS5zbWFydGNoYXJ0cy5zdmcjaWMtZm9yZXgtbm9ybWFsLXVzYWdlXCIsdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51cmx9fX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17aWQ6XCJpYy1pbmRpY2VzLW5vcm1hbC11c2FnZVwiLHZpZXdCb3g6XCIwIDAgMTYgMTZcIix1cmw6ci5wK1wic3ByaXRlLTI3ODZlYS5zbWFydGNoYXJ0cy5zdmcjaWMtaW5kaWNlcy1ub3JtYWwtdXNhZ2VcIix0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVybH19fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtpZDpcImljLW90Yy1ub3JtYWwtdXNhZ2VcIix2aWV3Qm94OlwiMCAwIDE2IDE2XCIsdXJsOnIucCtcInNwcml0ZS0yNzg2ZWEuc21hcnRjaGFydHMuc3ZnI2ljLW90Yy1ub3JtYWwtdXNhZ2VcIix0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVybH19fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtpZDpcImljLXN5bnRoLW5vcm1hbC11c2FnZVwiLHZpZXdCb3g6XCIwIDAgMTYgMTZcIix1cmw6ci5wK1wic3ByaXRlLTI3ODZlYS5zbWFydGNoYXJ0cy5zdmcjaWMtc3ludGgtbm9ybWFsLXVzYWdlXCIsdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51cmx9fX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17aWQ6XCJpYy12b2xhdGlsaXR5LW5vcm1hbC11c2FnZVwiLHZpZXdCb3g6XCIwIDAgMTYgMTZcIix1cmw6ci5wK1wic3ByaXRlLTI3ODZlYS5zbWFydGNoYXJ0cy5zdmcjaWMtdm9sYXRpbGl0eS1ub3JtYWwtdXNhZ2VcIix0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVybH19fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtpZDpcImljLXNlYXJjaC1ub3JtYWwtdXNhZ2VcIix2aWV3Qm94OlwiMCAwIDE2IDE2XCIsdXJsOnIucCtcInNwcml0ZS0yNzg2ZWEuc21hcnRjaGFydHMuc3ZnI2ljLXNlYXJjaC1ub3JtYWwtdXNhZ2VcIix0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVybH19fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtpZDpcImljLWRyb3Bkb3duLXVzYWdlXCIsdmlld0JveDpcIjAgMCAxNiAxNlwiLHVybDpyLnArXCJzcHJpdGUtMjc4NmVhLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1kcm9wZG93bi11c2FnZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2lkOlwiaWMtZG93bmxvYWQtdXNhZ2VcIix2aWV3Qm94OlwiMCAwIDE2IDE2XCIsdXJsOnIucCtcInNwcml0ZS0yNzg2ZWEuc21hcnRjaGFydHMuc3ZnI2ljLWRvd25sb2FkLXVzYWdlXCIsdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51cmx9fX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17aWQ6XCJpYy1wb3NpdGlvbi1sZWZ0LXVzYWdlXCIsdmlld0JveDpcIjAgMCAxNiAxNlwiLHVybDpyLnArXCJzcHJpdGUtMjc4NmVhLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1wb3NpdGlvbi1sZWZ0LXVzYWdlXCIsdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51cmx9fX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17aWQ6XCJpYy1wb3NpdGlvbi1ib3R0b20tdXNhZ2VcIix2aWV3Qm94OlwiMCAwIDE2IDE2XCIsdXJsOnIucCtcInNwcml0ZS0yNzg2ZWEuc21hcnRjaGFydHMuc3ZnI2ljLXBvc2l0aW9uLWJvdHRvbS11c2FnZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2lkOlwiaWMtYmFjay11c2FnZVwiLHZpZXdCb3g6XCIwIDAgMTYgMTZcIix1cmw6ci5wK1wic3ByaXRlLTI3ODZlYS5zbWFydGNoYXJ0cy5zdmcjaWMtYmFjay11c2FnZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2lkOlwiaWMtcGVuY2lsLXVzYWdlXCIsdmlld0JveDpcIjAgMCAxNiAxNlwiLHVybDpyLnArXCJzcHJpdGUtMjc4NmVhLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1wZW5jaWwtdXNhZ2VcIix0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVybH19fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtpZDpcIndhcm5pbmctdXNhZ2VcIix2aWV3Qm94OlwiMCAwIDE2IDE2XCIsdXJsOnIucCtcInNwcml0ZS0yNzg2ZWEuc21hcnRjaGFydHMuc3ZnI3dhcm5pbmctdXNhZ2VcIix0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVybH19fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtpZDpcImVycm9yLXVzYWdlXCIsdmlld0JveDpcIjAgMCAxNiAxNlwiLHVybDpyLnArXCJzcHJpdGUtMjc4NmVhLnNtYXJ0Y2hhcnRzLnN2ZyNlcnJvci11c2FnZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2lkOlwic3VjY2Vzcy11c2FnZVwiLHZpZXdCb3g6XCIwIDAgMTYgMTZcIix1cmw6ci5wK1wic3ByaXRlLTI3ODZlYS5zbWFydGNoYXJ0cy5zdmcjc3VjY2Vzcy11c2FnZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2lkOlwiaW5mby11c2FnZVwiLHZpZXdCb3g6XCIwIDAgMTYgMTZcIix1cmw6ci5wK1wic3ByaXRlLTI3ODZlYS5zbWFydGNoYXJ0cy5zdmcjaW5mby11c2FnZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2lkOlwiaWMtaG9tZS11c2FnZVwiLHZpZXdCb3g6XCIwIDAgMTYgMTZcIix1cmw6ci5wK1wic3ByaXRlLTI3ODZlYS5zbWFydGNoYXJ0cy5zdmcjaWMtaG9tZS11c2FnZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2lkOlwiaWMtc2NhbGUtZnVsbC11c2FnZVwiLHZpZXdCb3g6XCIwIDAgMTYgMTZcIix1cmw6ci5wK1wic3ByaXRlLTI3ODZlYS5zbWFydGNoYXJ0cy5zdmcjaWMtc2NhbGUtZnVsbC11c2FnZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2lkOlwiaWMtem9vbWluLXVzYWdlXCIsdmlld0JveDpcIjAgMCAxNiAxNlwiLHVybDpyLnArXCJzcHJpdGUtMjc4NmVhLnNtYXJ0Y2hhcnRzLnN2ZyNpYy16b29taW4tdXNhZ2VcIix0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVybH19fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtpZDpcImljLXpvb21vdXQtdXNhZ2VcIix2aWV3Qm94OlwiMCAwIDE2IDE2XCIsdXJsOnIucCtcInNwcml0ZS0yNzg2ZWEuc21hcnRjaGFydHMuc3ZnI2ljLXpvb21vdXQtdXNhZ2VcIix0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVybH19fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtpZDpcImljLXBsYWNlaG9sZGVyLXVzYWdlXCIsdmlld0JveDpcIjAgMCAxNiAxNlwiLHVybDpyLnArXCJzcHJpdGUtMjc4NmVhLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1wbGFjZWhvbGRlci11c2FnZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2lkOlwiYXVkLXVzYWdlXCIsdmlld0JveDpcIjAgMCAyNCAxNlwiLHVybDpyLnArXCJzcHJpdGUtMjc4NmVhLnNtYXJ0Y2hhcnRzLnN2ZyNhdWQtdXNhZ2VcIix0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVybH19fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtpZDpcImNhZC11c2FnZVwiLHZpZXdCb3g6XCIwIDAgMjQgMTZcIix1cmw6ci5wK1wic3ByaXRlLTI3ODZlYS5zbWFydGNoYXJ0cy5zdmcjY2FkLXVzYWdlXCIsdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51cmx9fX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17aWQ6XCJjaGYtdXNhZ2VcIix2aWV3Qm94OlwiMCAwIDI0IDE2XCIsdXJsOnIucCtcInNwcml0ZS0yNzg2ZWEuc21hcnRjaGFydHMuc3ZnI2NoZi11c2FnZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2lkOlwiZXVyLXVzYWdlXCIsdmlld0JveDpcIjAgMCAyNCAxNlwiLHVybDpyLnArXCJzcHJpdGUtMjc4NmVhLnNtYXJ0Y2hhcnRzLnN2ZyNldXItdXNhZ2VcIix0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVybH19fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtpZDpcImdicC11c2FnZVwiLHZpZXdCb3g6XCIwIDAgMjQgMTZcIix1cmw6ci5wK1wic3ByaXRlLTI3ODZlYS5zbWFydGNoYXJ0cy5zdmcjZ2JwLXVzYWdlXCIsdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51cmx9fX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17aWQ6XCJqcHktdXNhZ2VcIix2aWV3Qm94OlwiMCAwIDI0IDE2XCIsdXJsOnIucCtcInNwcml0ZS0yNzg2ZWEuc21hcnRjaGFydHMuc3ZnI2pweS11c2FnZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2lkOlwibXhuLXVzYWdlXCIsdmlld0JveDpcIjAgMCAyNCAxNlwiLHVybDpyLnArXCJzcHJpdGUtMjc4NmVhLnNtYXJ0Y2hhcnRzLnN2ZyNteG4tdXNhZ2VcIix0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVybH19fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtpZDpcIm5vay11c2FnZVwiLHZpZXdCb3g6XCIwIDAgMjQgMTZcIix1cmw6ci5wK1wic3ByaXRlLTI3ODZlYS5zbWFydGNoYXJ0cy5zdmcjbm9rLXVzYWdlXCIsdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51cmx9fX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17aWQ6XCJuemQtdXNhZ2VcIix2aWV3Qm94OlwiMCAwIDI0IDE2XCIsdXJsOnIucCtcInNwcml0ZS0yNzg2ZWEuc21hcnRjaGFydHMuc3ZnI256ZC11c2FnZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2lkOlwic2VrLXVzYWdlXCIsdmlld0JveDpcIjAgMCAyNCAxNlwiLHVybDpyLnArXCJzcHJpdGUtMjc4NmVhLnNtYXJ0Y2hhcnRzLnN2ZyNzZWstdXNhZ2VcIix0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVybH19fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtpZDpcInBvcnR1Z2FsLXVzYWdlXCIsdmlld0JveDpcIjAgMCAyNCAxNlwiLHVybDpyLnArXCJzcHJpdGUtMjc4NmVhLnNtYXJ0Y2hhcnRzLnN2ZyNwb3J0dWdhbC11c2FnZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2lkOlwicnVzc2lhLXVzYWdlXCIsdmlld0JveDpcIjAgMCAyNCAxNlwiLHVybDpyLnArXCJzcHJpdGUtMjc4NmVhLnNtYXJ0Y2hhcnRzLnN2ZyNydXNzaWEtdXNhZ2VcIix0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVybH19fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtpZDpcInRoYWlsYW5kLXVzYWdlXCIsdmlld0JveDpcIjAgMCAyNCAxNlwiLHVybDpyLnArXCJzcHJpdGUtMjc4NmVhLnNtYXJ0Y2hhcnRzLnN2ZyN0aGFpbGFuZC11c2FnZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2lkOlwiaW5kb25lc2lhLXVzYWdlXCIsdmlld0JveDpcIjAgMCAyNCAxNlwiLHVybDpyLnArXCJzcHJpdGUtMjc4NmVhLnNtYXJ0Y2hhcnRzLnN2ZyNpbmRvbmVzaWEtdXNhZ2VcIix0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVybH19fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtpZDpcInZpZXRuYW0tdXNhZ2VcIix2aWV3Qm94OlwiMCAwIDI0IDE2XCIsdXJsOnIucCtcInNwcml0ZS0yNzg2ZWEuc21hcnRjaGFydHMuc3ZnI3ZpZXRuYW0tdXNhZ2VcIix0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVybH19fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtpZDpcIml0YWx5LXVzYWdlXCIsdmlld0JveDpcIjAgMCAyNCAxNlwiLHVybDpyLnArXCJzcHJpdGUtMjc4NmVhLnNtYXJ0Y2hhcnRzLnN2ZyNpdGFseS11c2FnZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2lkOlwiY2hpbmVzZS11c2FnZVwiLHZpZXdCb3g6XCIwIDAgMjQgMTZcIix1cmw6ci5wK1wic3ByaXRlLTI3ODZlYS5zbWFydGNoYXJ0cy5zdmcjY2hpbmVzZS11c2FnZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2lkOlwiY2hpbmVzZS10cmFkaXRpb25hbC11c2FnZVwiLHZpZXdCb3g6XCIwIDAgMjQgMTZcIix1cmw6ci5wK1wic3ByaXRlLTI3ODZlYS5zbWFydGNoYXJ0cy5zdmcjY2hpbmVzZS10cmFkaXRpb25hbC11c2FnZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2lkOlwiaG9uZyBrb25nLXVzYWdlXCIsdmlld0JveDpcIjAgMCAyNCAxNlwiLHVybDpyLnArXCJzcHJpdGUtMjc4NmVhLnNtYXJ0Y2hhcnRzLnN2ZyNob25nIGtvbmctdXNhZ2VcIix0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVybH19fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtpZDpcImR1dGNoLXVzYWdlXCIsdmlld0JveDpcIjAgMCAyNCAxNlwiLHVybDpyLnArXCJzcHJpdGUtMjc4NmVhLnNtYXJ0Y2hhcnRzLnN2ZyNkdXRjaC11c2FnZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2lkOlwid2FsbHN0cmVldC11c2FnZVwiLHZpZXdCb3g6XCIwIDAgMjQgMTZcIix1cmw6ci5wK1wic3ByaXRlLTI3ODZlYS5zbWFydGNoYXJ0cy5zdmcjd2FsbHN0cmVldC11c2FnZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2lkOlwiaWMtb2lsdXNkLXVzYWdlXCIsdmlld0JveDpcIjAgMCAzMiAzMlwiLHVybDpyLnArXCJzcHJpdGUtMjc4NmVhLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1vaWx1c2QtdXNhZ2VcIix0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVybH19fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtpZDpcImljLW1ldGFsLXVzYWdlXCIsdmlld0JveDpcIjAgMCAzMiAzMlwiLHVybDpyLnArXCJzcHJpdGUtMjc4NmVhLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1tZXRhbC11c2FnZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2lkOlwiaWMtMTAtaW5kZXgtdXNhZ2VcIix2aWV3Qm94OlwiMCAwIDMyIDMyXCIsdXJsOnIucCtcInNwcml0ZS0yNzg2ZWEuc21hcnRjaGFydHMuc3ZnI2ljLTEwLWluZGV4LXVzYWdlXCIsdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51cmx9fX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17aWQ6XCJpYy0yNS1pbmRleC11c2FnZVwiLHZpZXdCb3g6XCIwIDAgMzIgMzJcIix1cmw6ci5wK1wic3ByaXRlLTI3ODZlYS5zbWFydGNoYXJ0cy5zdmcjaWMtMjUtaW5kZXgtdXNhZ2VcIix0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVybH19fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtpZDpcImljLTUwLWluZGV4LXVzYWdlXCIsdmlld0JveDpcIjAgMCAzMiAzMlwiLHVybDpyLnArXCJzcHJpdGUtMjc4NmVhLnNtYXJ0Y2hhcnRzLnN2ZyNpYy01MC1pbmRleC11c2FnZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2lkOlwiaWMtNzUtaW5kZXgtdXNhZ2VcIix2aWV3Qm94OlwiMCAwIDMyIDMyXCIsdXJsOnIucCtcInNwcml0ZS0yNzg2ZWEuc21hcnRjaGFydHMuc3ZnI2ljLTc1LWluZGV4LXVzYWdlXCIsdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51cmx9fX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17aWQ6XCJpYy0xMDAtaW5kZXgtdXNhZ2VcIix2aWV3Qm94OlwiMCAwIDMyIDMyXCIsdXJsOnIucCtcInNwcml0ZS0yNzg2ZWEuc21hcnRjaGFydHMuc3ZnI2ljLTEwMC1pbmRleC11c2FnZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2lkOlwiaWMtMTAtMXMtaW5kZXgtdXNhZ2VcIix2aWV3Qm94OlwiMCAwIDMyIDMyXCIsdXJsOnIucCtcInNwcml0ZS0yNzg2ZWEuc21hcnRjaGFydHMuc3ZnI2ljLTEwLTFzLWluZGV4LXVzYWdlXCIsdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51cmx9fX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17aWQ6XCJpYy0xMDAtMXMtaW5kZXgtdXNhZ2VcIix2aWV3Qm94OlwiMCAwIDMyIDMyXCIsdXJsOnIucCtcInNwcml0ZS0yNzg2ZWEuc21hcnRjaGFydHMuc3ZnI2ljLTEwMC0xcy1pbmRleC11c2FnZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2lkOlwiaWMtbWFya2V0YmVhci11c2FnZVwiLHZpZXdCb3g6XCIwIDAgMzIgMzJcIix1cmw6ci5wK1wic3ByaXRlLTI3ODZlYS5zbWFydGNoYXJ0cy5zdmcjaWMtbWFya2V0YmVhci11c2FnZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2lkOlwiaWMtbWFya2V0YnVsbC11c2FnZVwiLHZpZXdCb3g6XCIwIDAgMzIgMzJcIix1cmw6ci5wK1wic3ByaXRlLTI3ODZlYS5zbWFydGNoYXJ0cy5zdmcjaWMtbWFya2V0YnVsbC11c2FnZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2lkOlwiaWMtb3RjYmFkZ2UtdXNhZ2VcIix2aWV3Qm94OlwiMCAwIDEzIDlcIix1cmw6ci5wK1wic3ByaXRlLTI3ODZlYS5zbWFydGNoYXJ0cy5zdmcjaWMtb3RjYmFkZ2UtdXNhZ2VcIix0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVybH19fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtpZDpcImljLXNtYXJ0ZngtcGxhY2Vob2xkZXItdXNhZ2VcIix2aWV3Qm94OlwiMCAwIDMyIDMyXCIsdXJsOnIucCtcInNwcml0ZS0yNzg2ZWEuc21hcnRjaGFydHMuc3ZnI2ljLXNtYXJ0ZngtcGxhY2Vob2xkZXItdXNhZ2VcIix0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVybH19fSxmdW5jdGlvbihlLHQscil7KGZ1bmN0aW9uKHQpe3ZhciByPVwiRXhwZWN0ZWQgYSBmdW5jdGlvblwiLG49TmFOLGk9XCJbb2JqZWN0IFN5bWJvbF1cIixhPS9eXFxzK3xcXHMrJC9nLG89L15bLStdMHhbMC05YS1mXSskL2kscz0vXjBiWzAxXSskL2ksYz0vXjBvWzAtN10rJC9pLGw9cGFyc2VJbnQsdT1cIm9iamVjdFwiPT10eXBlb2YgdCYmdCYmdC5PYmplY3Q9PT1PYmplY3QmJnQsaD1cIm9iamVjdFwiPT10eXBlb2Ygc2VsZiYmc2VsZiYmc2VsZi5PYmplY3Q9PT1PYmplY3QmJnNlbGYsZD11fHxofHxGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCkscD1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLGY9TWF0aC5tYXgsbT1NYXRoLm1pbixnPWZ1bmN0aW9uKCl7cmV0dXJuIGQuRGF0ZS5ub3coKX07ZnVuY3Rpb24gYihlKXt2YXIgdD10eXBlb2YgZTtyZXR1cm4hIWUmJihcIm9iamVjdFwiPT10fHxcImZ1bmN0aW9uXCI9PXQpfWZ1bmN0aW9uIHkoZSl7aWYoXCJudW1iZXJcIj09dHlwZW9mIGUpcmV0dXJuIGU7aWYoZnVuY3Rpb24oZSl7cmV0dXJuXCJzeW1ib2xcIj09dHlwZW9mIGV8fGZ1bmN0aW9uKGUpe3JldHVybiEhZSYmXCJvYmplY3RcIj09dHlwZW9mIGV9KGUpJiZwLmNhbGwoZSk9PWl9KGUpKXJldHVybiBuO2lmKGIoZSkpe3ZhciB0PVwiZnVuY3Rpb25cIj09dHlwZW9mIGUudmFsdWVPZj9lLnZhbHVlT2YoKTplO2U9Yih0KT90K1wiXCI6dH1pZihcInN0cmluZ1wiIT10eXBlb2YgZSlyZXR1cm4gMD09PWU/ZTorZTtlPWUucmVwbGFjZShhLFwiXCIpO3ZhciByPXMudGVzdChlKTtyZXR1cm4gcnx8Yy50ZXN0KGUpP2woZS5zbGljZSgyKSxyPzI6OCk6by50ZXN0KGUpP246K2V9ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaSxhLG8scyxjLGwsdT0wLGg9ITEsZD0hMSxwPSEwO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihyKTtmdW5jdGlvbiB2KHQpe3ZhciByPWksbj1hO3JldHVybiBpPWE9dm9pZCAwLHU9dCxzPWUuYXBwbHkobixyKX1mdW5jdGlvbiBfKGUpe3ZhciByPWUtbDtyZXR1cm4gdm9pZCAwPT09bHx8cj49dHx8cjwwfHxkJiZlLXU+PW99ZnVuY3Rpb24gUygpe3ZhciBlPWcoKTtpZihfKGUpKXJldHVybiB3KGUpO2M9c2V0VGltZW91dChTLGZ1bmN0aW9uKGUpe3ZhciByPXQtKGUtbCk7cmV0dXJuIGQ/bShyLG8tKGUtdSkpOnJ9KGUpKX1mdW5jdGlvbiB3KGUpe3JldHVybiBjPXZvaWQgMCxwJiZpP3YoZSk6KGk9YT12b2lkIDAscyl9ZnVuY3Rpb24geCgpe3ZhciBlPWcoKSxyPV8oZSk7aWYoaT1hcmd1bWVudHMsYT10aGlzLGw9ZSxyKXtpZih2b2lkIDA9PT1jKXJldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gdT1lLGM9c2V0VGltZW91dChTLHQpLGg/dihlKTpzfShsKTtpZihkKXJldHVybiBjPXNldFRpbWVvdXQoUyx0KSx2KGwpfXJldHVybiB2b2lkIDA9PT1jJiYoYz1zZXRUaW1lb3V0KFMsdCkpLHN9cmV0dXJuIHQ9eSh0KXx8MCxiKG4pJiYoaD0hIW4ubGVhZGluZyxvPShkPVwibWF4V2FpdFwiaW4gbik/Zih5KG4ubWF4V2FpdCl8fDAsdCk6byxwPVwidHJhaWxpbmdcImluIG4/ISFuLnRyYWlsaW5nOnApLHguY2FuY2VsPWZ1bmN0aW9uKCl7dm9pZCAwIT09YyYmY2xlYXJUaW1lb3V0KGMpLHU9MCxpPWw9YT1jPXZvaWQgMH0seC5mbHVzaD1mdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT1jP3M6dyhnKCkpfSx4fX0pLmNhbGwodGhpcyxyKDY0KSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oZSl7ci5kKHQsXCJhXCIsZnVuY3Rpb24oKXtyZXR1cm4geX0pO3ZhciBuLGksYSxvLHMsYyxsPXIoMSksdT1yKDgpLGg9cig0KSxkPXIoOSkscD1yKDE1KSxmPXIoMyk7ZnVuY3Rpb24gbShlLHQscixuKXtyJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOnIuZW51bWVyYWJsZSxjb25maWd1cmFibGU6ci5jb25maWd1cmFibGUsd3JpdGFibGU6ci53cml0YWJsZSx2YWx1ZTpyLmluaXRpYWxpemVyP3IuaW5pdGlhbGl6ZXIuY2FsbChuKTp2b2lkIDB9KX1mdW5jdGlvbiBnKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1mdW5jdGlvbiBiKGUsdCxyLG4saSl7dmFyIGE9e307cmV0dXJuIE9iamVjdC5rZXlzKG4pLmZvckVhY2goZnVuY3Rpb24oZSl7YVtlXT1uW2VdfSksYS5lbnVtZXJhYmxlPSEhYS5lbnVtZXJhYmxlLGEuY29uZmlndXJhYmxlPSEhYS5jb25maWd1cmFibGUsKFwidmFsdWVcImluIGF8fGEuaW5pdGlhbGl6ZXIpJiYoYS53cml0YWJsZT0hMCksYT1yLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbihyLG4pe3JldHVybiBuKGUsdCxyKXx8cn0sYSksaSYmdm9pZCAwIT09YS5pbml0aWFsaXplciYmKGEudmFsdWU9YS5pbml0aWFsaXplcj9hLmluaXRpYWxpemVyLmNhbGwoaSk6dm9pZCAwLGEuaW5pdGlhbGl6ZXI9dm9pZCAwKSx2b2lkIDA9PT1hLmluaXRpYWxpemVyJiYoT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxhKSxhPW51bGwpLGF9dmFyIHk9KG49bC5hY3Rpb24uYm91bmQsaT1sLmFjdGlvbi5ib3VuZCxhPWwuYWN0aW9uLmJvdW5kLHM9Yigobz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIHI9dGhpczshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLG0odGhpcyxcInRpbWVVbml0XCIscyx0aGlzKSxtKHRoaXMsXCJpbnRlcnZhbFwiLGMsdGhpcyksdGhpcy5vbkdyYW51bGFyaXR5Q2hhbmdlPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LHRoaXMucmVtYWluPW51bGwsdGhpcy5vbkNvbnRleHRSZWFkeT1mdW5jdGlvbigpe3ZhciBlPXIuY29udGV4dC5zdHgubGF5b3V0LHQ9ZS50aW1lVW5pdCxuPWUuaW50ZXJ2YWw7ci50aW1lVW5pdD1PYmplY3QoaC5qKSh7dGltZVVuaXQ6dCxpbnRlcnZhbDpufSksci5pbnRlcnZhbD1uLHIudXBkYXRlQ291bnRkb3duKCksT2JqZWN0KGwucmVhY3Rpb24pKGZ1bmN0aW9uKCl7cmV0dXJuW3IudGltZVVuaXQsci5pbnRlcnZhbCxyLm1haW5TdG9yZS5jaGFydFNldHRpbmcuY291bnRkb3duLHIubWFpblN0b3JlLmNoYXJ0VHlwZS50eXBlXX0sci51cGRhdGVDb3VudGRvd24uYmluZChyKSksci5jb250ZXh0LnN0eC5hZGRFdmVudExpc3RlbmVyKFwibmV3Q2hhcnRcIixyLnVwZGF0ZURpc3BsYXkpLE9iamVjdChsLnJlYWN0aW9uKShmdW5jdGlvbigpe3JldHVybiByLm1haW5TdG9yZS5zdGF0ZS5ncmFudWxhcml0eX0sZnVuY3Rpb24oZSl7cmV0dXJuIHIub25HcmFudWxhcml0eUNoYW5nZShlKX0pfSx0aGlzLmNvdW50ZG93bkludGVydmFsPW51bGwsdGhpcy5tYWluU3RvcmU9ZSxPYmplY3QobC53aGVuKShmdW5jdGlvbigpe3JldHVybiByLmNvbnRleHR9LHRoaXMub25Db250ZXh0UmVhZHkpLHRoaXMubWVudT1uZXcgdS5hKGUse3JvdXRlOlwidGltZS1wZXJpb2RcIn0pLHRoaXMuVGltZVBlcmlvZE1lbnU9dGhpcy5tZW51LmNvbm5lY3QoZC5hKSx0aGlzLl9zZXJ2ZXJUaW1lPXAuYS5nZXRJbnN0YW5jZSgpfXZhciByLG4saTtyZXR1cm4gcj10LChuPVt7a2V5OlwiY2xlYXJDb3VudGRvd25cIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuY291bnRkb3duSW50ZXJ2YWwmJmNsZWFySW50ZXJ2YWwodGhpcy5jb3VudGRvd25JbnRlcnZhbCksdGhpcy5faW5qZWN0aW9uSWQmJnRoaXMuY29udGV4dC5zdHgucmVtb3ZlSW5qZWN0aW9uKHRoaXMuX2luamVjdGlvbklkKSx0aGlzLl9pbmplY3Rpb25JZD12b2lkIDAsdGhpcy5jb3VudGRvd25JbnRlcnZhbD12b2lkIDAsdGhpcy5jb250ZXh0LnN0eC5kcmF3KCl9fSx7a2V5OlwidXBkYXRlQ291bnRkb3duXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcy5jb250ZXh0LnN0eDt0aGlzLnJlbWFpbj1udWxsLHRoaXMuY2xlYXJDb3VudGRvd24oKTt2YXIgcj1mdW5jdGlvbigpe2lmKHQuaXNEZXN0cm95ZWR8fGUuaXNUaWNrKWUuY2xlYXJDb3VudGRvd24oKTtlbHNle3ZhciByPXQuY2hhcnQuZGF0YVNldDtpZihyJiYwIT09ci5sZW5ndGgpe3ZhciBuPWUuX3NlcnZlclRpbWUuZ2V0VVRDRGF0ZSgpLXJbci5sZW5ndGgtMV0uRFQ7ZS5yZW1haW49T2JqZWN0KGguZikoMWUzKk9iamVjdChoLmgpKHQubGF5b3V0KS1uKSx0LmRyYXcoKX19fSxuPSF0aGlzLm1haW5TdG9yZS5jaGFydFR5cGUuaXNBZ2dyZWdhdGVDaGFydDt0aGlzLm1haW5TdG9yZS5jaGFydFNldHRpbmcuY291bnRkb3duJiYhdGhpcy5pc1RpY2smJm4mJih0aGlzLl9pbmplY3Rpb25JZHx8KHRoaXMuX2luamVjdGlvbklkPXQuYXBwZW5kKFwiZHJhd1wiLGZ1bmN0aW9uKCl7ZS5pc1RpY2s/ZS5jbGVhckNvdW50ZG93bigpOmUucmVtYWluJiZudWxsIT09dC5jdXJyZW50UXVvdGUoKSYmKHQueWF4aXNMYWJlbFN0eWxlPVwicmVjdFwiLHQubGFiZWxUeXBlPVwiY291bnRkb3duXCIsdC5jcmVhdGVZQXhpc0xhYmVsKHQuY2hhcnQucGFuZWwsZS5yZW1haW4sZS5yZW1haW5MYWJlbFksXCIjMTUyMTJkXCIsXCIjRkZGRkZGXCIpLHQubGFiZWxUeXBlPXZvaWQgMCx0LnlheGlzTGFiZWxTdHlsZT1cInJvdW5kUmVjdFwiKX0pKSx0aGlzLmNvdW50ZG93bkludGVydmFsfHwodGhpcy5jb3VudGRvd25JbnRlcnZhbD1zZXRJbnRlcnZhbChyLDFlMykscigpKSl9fSx7a2V5Olwic2V0R3JhbnVsYXJpdHlcIix2YWx1ZTpmdW5jdGlvbihlKXt2b2lkIDA9PT10aGlzLm1haW5TdG9yZS5zdGF0ZS5ncmFudWxhcml0eT8oT2JqZWN0KGYuZCkoZi5iLkNoYXJ0Q29udHJvbCxmLmEuSW50ZXJ2YWwsZS50b1N0cmluZygpKSx0aGlzLm1haW5TdG9yZS5jaGFydC5jaGFuZ2VTeW1ib2wodm9pZCAwLGUpKTpjb25zb2xlLmVycm9yKFwiU2V0dGluZyBncmFudWxhcml0eSBkb2VzIG5vdGhpbmcgc2luY2UgZ3JhbnVsYXJpdHkgcHJvcCBpcyBzZXQuIENvbnNpZGVyIG92ZXJyaWRpbmcgdGhlIG9uQ2hhbmdlIHByb3AgaW4gPFRpbWVQZXJpb2QgLz5cIil9fSx7a2V5OlwidXBkYXRlUHJvcHNcIix2YWx1ZTpmdW5jdGlvbihlKXt2b2lkIDAhPT10aGlzLm1haW5TdG9yZS5zdGF0ZS5ncmFudWxhcml0eSYmKHRoaXMub25HcmFudWxhcml0eUNoYW5nZT1lKX19LHtrZXk6XCJ1cGRhdGVEaXNwbGF5XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmNvbnRleHQuc3R4O3RoaXMudGltZVVuaXQ9T2JqZWN0KGguaikoZS5sYXlvdXQpLHRoaXMuaW50ZXJ2YWw9ZS5sYXlvdXQuaW50ZXJ2YWx9fSx7a2V5OlwiY29udGV4dFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC5jb250ZXh0fX0se2tleTpcImxvYWRlclwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1haW5TdG9yZS5sb2FkZXJ9fSx7a2V5OlwiaXNUaWNrXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuXCJ0aWNrXCI9PT10aGlzLnRpbWVVbml0fX0se2tleTpcInJlbWFpbkxhYmVsWVwiLGdldDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuY29udGV4dC5zdHgsdD1lLmNoYXJ0LmN1cnJlbnRQcmljZUxhYmVsWSsyNDtyZXR1cm4gZS5jaGFydC5jdXJyZW50UHJpY2VMYWJlbFk+ZS5jaGFydC5wYW5lbC5ib3R0b20tNjY/dD0odD1lLmNoYXJ0LnBhbmVsLmJvdHRvbS02Nik8ZS5jaGFydC5jdXJyZW50UHJpY2VMYWJlbFktMjQ/dDplLmNoYXJ0LmN1cnJlbnRQcmljZUxhYmVsWS0yNDplLmNoYXJ0LmN1cnJlbnRQcmljZUxhYmVsWTxlLmNoYXJ0LnBhbmVsLnRvcCYmKHQ9MzYpLHR9fSx7a2V5OlwidGltZVVuaXRfZGlzcGxheVwiLGdldDpmdW5jdGlvbigpe2lmKHRoaXMudGltZVVuaXQpcmV0dXJuIGUudHJhbnNsYXRlKHRoaXMudGltZVVuaXQucmVwbGFjZSgvKFxcdykvLGZ1bmN0aW9uKGUpe3JldHVybiBlLnRvVXBwZXJDYXNlKCl9KSl9fSx7a2V5OlwiaW50ZXJ2YWxfZGlzcGxheVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmludGVydmFsJTYwPT0wP3RoaXMuaW50ZXJ2YWwvNjA6K3RoaXMuaW50ZXJ2YWw/dGhpcy5pbnRlcnZhbDoxfX0se2tleTpcImRpc3BsYXlcIixnZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnRpbWVVbml0P3RoaXMudGltZVVuaXRbMF06XCJcIjtyZXR1cm4gdGhpcy5pbnRlcnZhbF9kaXNwbGF5K2V9fV0pJiZnKHIucHJvdG90eXBlLG4pLGkmJmcocixpKSx0fSgpKS5wcm90b3R5cGUsXCJ0aW1lVW5pdFwiLFtsLm9ic2VydmFibGVdLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCxpbml0aWFsaXplcjpmdW5jdGlvbigpe3JldHVybiBudWxsfX0pLGM9YihvLnByb3RvdHlwZSxcImludGVydmFsXCIsW2wub2JzZXJ2YWJsZV0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9fSksYihvLnByb3RvdHlwZSxcInNldEdyYW51bGFyaXR5XCIsW25dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioby5wcm90b3R5cGUsXCJzZXRHcmFudWxhcml0eVwiKSxvLnByb3RvdHlwZSksYihvLnByb3RvdHlwZSxcInVwZGF0ZVByb3BzXCIsW2ldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioby5wcm90b3R5cGUsXCJ1cGRhdGVQcm9wc1wiKSxvLnByb3RvdHlwZSksYihvLnByb3RvdHlwZSxcInVwZGF0ZURpc3BsYXlcIixbYV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvLnByb3RvdHlwZSxcInVwZGF0ZURpc3BsYXlcIiksby5wcm90b3R5cGUpLGIoby5wcm90b3R5cGUsXCJyZW1haW5MYWJlbFlcIixbbC5jb21wdXRlZF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvLnByb3RvdHlwZSxcInJlbWFpbkxhYmVsWVwiKSxvLnByb3RvdHlwZSksYihvLnByb3RvdHlwZSxcInRpbWVVbml0X2Rpc3BsYXlcIixbbC5jb21wdXRlZF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvLnByb3RvdHlwZSxcInRpbWVVbml0X2Rpc3BsYXlcIiksby5wcm90b3R5cGUpLGIoby5wcm90b3R5cGUsXCJpbnRlcnZhbF9kaXNwbGF5XCIsW2wuY29tcHV0ZWRdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioby5wcm90b3R5cGUsXCJpbnRlcnZhbF9kaXNwbGF5XCIpLG8ucHJvdG90eXBlKSxiKG8ucHJvdG90eXBlLFwiZGlzcGxheVwiLFtsLmNvbXB1dGVkXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG8ucHJvdG90eXBlLFwiZGlzcGxheVwiKSxvLnByb3RvdHlwZSksbyl9KS5jYWxsKHRoaXMscig2KS50KX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihlKXt2YXIgbixpLGEsbyxzLGMsbCx1LGgsZCxwLGYsbSxnLGIseSx2LF8sUyx3LHgsayxPLEMsRSxULFAsRD1yKDEpLGo9cig1MSksQT1yKDE4OCksTj1yKDE1OSksST1yKDYzKSxNPXIoMTYwKSx6PXIoMTg5KSxMPXIoMTYxKSxSPXIoNCksSD1yKDExKSxxPXIoMTYyKSxCPXIubihxKSxGPXIoMTgpLFY9ci5uKEYpLFU9cigyNCksVz1yLm4oVSksUT1yKDYxKSxHPXIubihRKSxLPXIoMTYzKSxZPXIubihLKSxYPXIoMTY0KSxaPXIubihYKTtmdW5jdGlvbiBKKGUsdCl7dmFyIHI9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSksci5wdXNoLmFwcGx5KHIsbil9cmV0dXJuIHJ9ZnVuY3Rpb24gJChlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9KKHIsITApLmZvckVhY2goZnVuY3Rpb24odCl7ZWUoZSx0LHJbdF0pfSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhyKSk6SihyKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLHQpKX0pfXJldHVybiBlfWZ1bmN0aW9uIGVlKGUsdCxyKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPXIsZX1mdW5jdGlvbiB0ZShlKXtyZXR1cm4odGU9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIHJlKGUsdCxyLG4pe3ImJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse2VudW1lcmFibGU6ci5lbnVtZXJhYmxlLGNvbmZpZ3VyYWJsZTpyLmNvbmZpZ3VyYWJsZSx3cml0YWJsZTpyLndyaXRhYmxlLHZhbHVlOnIuaW5pdGlhbGl6ZXI/ci5pbml0aWFsaXplci5jYWxsKG4pOnZvaWQgMH0pfWZ1bmN0aW9uIG5lKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1mdW5jdGlvbiBpZShlLHQscixuLGkpe3ZhciBhPXt9O3JldHVybiBPYmplY3Qua2V5cyhuKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2FbZV09bltlXX0pLGEuZW51bWVyYWJsZT0hIWEuZW51bWVyYWJsZSxhLmNvbmZpZ3VyYWJsZT0hIWEuY29uZmlndXJhYmxlLChcInZhbHVlXCJpbiBhfHxhLmluaXRpYWxpemVyKSYmKGEud3JpdGFibGU9ITApLGE9ci5zbGljZSgpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24ocixuKXtyZXR1cm4gbihlLHQscil8fHJ9LGEpLGkmJnZvaWQgMCE9PWEuaW5pdGlhbGl6ZXImJihhLnZhbHVlPWEuaW5pdGlhbGl6ZXI/YS5pbml0aWFsaXplci5jYWxsKGkpOnZvaWQgMCxhLmluaXRpYWxpemVyPXZvaWQgMCksdm9pZCAwPT09YS5pbml0aWFsaXplciYmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsYSksYT1udWxsKSxhfWZ1bmN0aW9uIGFlKGUpe3ZhciB0PWUudmlld0JveC5zcGxpdChcIiBcIikuc2xpY2UoMik7cmV0dXJuJzxzdmcgd2lkdGg9XCInLmNvbmNhdCh0WzBdLCdcIiBoZWlnaHQ9XCInKS5jb25jYXQodFsxXSwnXCI+PHVzZSB4bGluazpocmVmPVwiJykuY29uY2F0KHIucCtlLnVybCwnXCIgLz48L3N2Zz4nKX12YXIgb2U9KG49RC5hY3Rpb24uYm91bmQsaT1ELmFjdGlvbi5ib3VuZCxhPUQuYWN0aW9uLmJvdW5kLG89RC5hY3Rpb24uYm91bmQscz1ELmFjdGlvbi5ib3VuZCxjPUQuYWN0aW9uLmJvdW5kLGw9RC5hY3Rpb24uYm91bmQsdT1ELmFjdGlvbi5ib3VuZCxoPUQuYWN0aW9uLmJvdW5kLGQ9RC5hY3Rpb24uYm91bmQscD1ELmFjdGlvbi5ib3VuZCxmPUQuYWN0aW9uLmJvdW5kLFA9VD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIG49dGhpczshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHRoaXMuUkFOR0VfUEFERElOR19QWD0xMjUsdGhpcy5jb250ZXh0UHJvbWlzZT1uZXcgSC5hLHRoaXMucm9vdE5vZGU9bnVsbCx0aGlzLnN0eHg9bnVsbCx0aGlzLmFwaT1udWxsLHRoaXMuZGVmYXVsdHM9e2dyYW51bGFyaXR5OjAsY2hhcnRUeXBlOlwibW91bnRhaW5cIn0sdGhpcy5ncmFudWxhcml0eT12b2lkIDAsdGhpcy5lbmFibGVSb3V0aW5nPW51bGwsdGhpcy5jaGFydE5vZGU9bnVsbCx0aGlzLmNoYXJ0Q29udHJvbHNOb2RlPW51bGwsdGhpcy5ob2xkZXJTdHlsZT12b2lkIDAsdGhpcy5zdGF0ZT12b2lkIDAsdGhpcy5vbk1lc3NhZ2U9bnVsbCx0aGlzLmRlZmF1bHRNaW5pbXVtQmFycz01LHJlKHRoaXMsXCJjb250YWluZXJXaWR0aFwiLGcsdGhpcykscmUodGhpcyxcImNvbnRleHRcIixiLHRoaXMpLHJlKHRoaXMsXCJjdXJyZW50QWN0aXZlU3ltYm9sXCIseSx0aGlzKSxyZSh0aGlzLFwiaXNDaGFydEF2YWlsYWJsZVwiLHYsdGhpcykscmUodGhpcyxcImNoYXJ0SGVpZ2h0XCIsXyx0aGlzKSxyZSh0aGlzLFwiY2hhcnRDb250YWluZXJIZWlnaHRcIixTLHRoaXMpLHJlKHRoaXMsXCJpc01vYmlsZVwiLHcsdGhpcykscmUodGhpcyxcImN1cnNvckluQ2hhcnRcIix4LHRoaXMpLHJlKHRoaXMsXCJzaG91bGRSZW5kZXJEaWFsb2dzXCIsayx0aGlzKSxyZSh0aGlzLFwieUF4aXN3aWR0aFwiLE8sdGhpcyksdGhpcy51cGRhdGVDYW52YXM9ZnVuY3Rpb24oKXtuLnN0eHgmJihuLnN0eHguc2xpZGVyJiZuLnN0eHguc2xpZGVyLmRpc3BsYXkobi5zdHh4LmxheW91dC5yYW5nZVNsaWRlciksbi5zdHh4LnJlc2l6ZUNoYXJ0KCkpfSx0aGlzLmluaXQ9ZnVuY3Rpb24oZSx0LGkpe24ubG9hZGVyLnNob3coKSxuLm1haW5TdG9yZS5zdGF0ZS5zZXRDaGFydElzUmVhZHkoITEpLG4ubG9hZGVyLnNldFN0YXRlKFwiY2hhcnQtZW5naW5lXCIpLHdpbmRvdy5DSVE/bi5faW5pdENoYXJ0KGUsdCxpKTpyLmUoMCkudGhlbihyLnQuYmluZChudWxsLDI0OSw3KSkudGhlbihPYmplY3QoRC5hY3Rpb24pKGZ1bmN0aW9uKHIpe3ZhciBhPXIuQ0lRLG89ci5TcGxpbmVQbG90dGVyO2EuQ2hhcnRFbmdpbmUuaHRtbENvbnRyb2xzLmJhc2VsaW5lSGFuZGxlPSc8ZGl2IGNsYXNzPVwic3R4LWJhc2VsaW5lLWhhbmRsZVwiIHN0eWxlPVwiZGlzcGxheTogbm9uZTtcIj4nLmNvbmNhdChhZShCLmEpLFwiPC9kaXY+XCIpLGEuQ2hhcnRFbmdpbmUuaHRtbENvbnRyb2xzLmljb25zVGVtcGxhdGU9JzxkaXYgY2xhc3M9XCJzdHgtcGFuZWwtY29udHJvbFwiPjxkaXYgY2xhc3M9XCJzdHgtcGFuZWwtdGl0bGVcIj48L2Rpdj48ZGl2IGNsYXNzPVwic3R4LWJ0bi1wYW5lbFwiPjxzcGFuIGNsYXNzPVwic3R4LWljby11cFwiPicuY29uY2F0KGFlKEcuYSksJzwvc3Bhbj48L2Rpdj48ZGl2IGNsYXNzPVwic3R4LWJ0bi1wYW5lbFwiPjxzcGFuIGNsYXNzPVwic3R4LWljby1mb2N1c1wiPicpLmNvbmNhdChhZShaLmEpLCc8L3NwYW4+PC9kaXY+PGRpdiBjbGFzcz1cInN0eC1idG4tcGFuZWxcIj48c3BhbiBjbGFzcz1cInN0eC1pY28tZG93blwiPicpLmNvbmNhdChhZShHLmEpLCc8L3NwYW4+PC9kaXY+PGRpdiBjbGFzcz1cInN0eC1idG4tcGFuZWxcIj48c3BhbiBjbGFzcz1cInN0eC1pY28tZWRpdFwiPicpLmNvbmNhdChhZShWLmEpLCc8L3NwYW4+PC9kaXY+PGRpdiBjbGFzcz1cInN0eC1idG4tcGFuZWxcIj48c3BhbiBjbGFzcz1cInN0eC1pY28tY2xvc2VcIj4nKS5jb25jYXQoYWUoVy5hKSxcIjwvc3Bhbj48L2Rpdj48L2Rpdj5cIiksYS5DaGFydEVuZ2luZS5odG1sQ29udHJvbHMubVN0aWNreT0nPGRpdiBjbGFzcz1cInN0eF9zdGlja3lcIj4gPHNwYW4gY2xhc3M9XCJtU3RpY2t5SW50ZXJpb3JcIj48L3NwYW4+IDxzcGFuIGNsYXNzPVwibVN0aWNreVJpZ2h0Q2xpY2tcIj48c3BhbiBjbGFzcz1cIm92ZXJsYXlFZGl0IHN0eC1idG5cIiBzdHlsZT1cImRpc3BsYXk6bm9uZVwiPjxzcGFuIGNsYXNzPVwiaWMtZWRpdFwiPicuY29uY2F0KGFlKFYuYSksJzwvc3Bhbj48c3BhbiBjbGFzcz1cImljLWRlbGV0ZVwiPicpLmNvbmNhdChhZShXLmEpLCc8L3NwYW4+PC9zcGFuPiA8c3BhbiBjbGFzcz1cIm92ZXJsYXlUcmFzaENhbiBzdHgtYnRuXCIgc3R5bGU9XCJkaXNwbGF5Om5vbmVcIj48c3BhbiBjbGFzcz1cImljLWVkaXRcIj4nKS5jb25jYXQoYWUoVi5hKSwnPC9zcGFuPjxzcGFuIGNsYXNzPVwiaWMtZGVsZXRlXCI+JykuY29uY2F0KGFlKFcuYSksJzwvc3Bhbj48L3NwYW4+IDxzcGFuIGNsYXNzPVwibW91c2VEZWxldGVJbnN0cnVjdGlvbnNcIj48c3Bhbj4oPC9zcGFuPjxzcGFuIGNsYXNzPVwibW91c2VEZWxldGVUZXh0XCI+cmlnaHQtY2xpY2sgdG8gZGVsZXRlPC9zcGFuPjxzcGFuIGNsYXNzPVwibW91c2VNYW5hZ2VUZXh0XCI+cmlnaHQtY2xpY2sgdG8gbWFuYWdlPC9zcGFuPjxzcGFuPik8L3NwYW4+PC9zcGFuPjwvc3Bhbj48L2Rpdj4nKSxhLkNoYXJ0RW5naW5lLmh0bWxDb250cm9scy5ob21lPSc8ZGl2IGNsYXNzPVwic3R4X2p1bXBfdG9kYXlcIiBzdHlsZT1cImRpc3BsYXk6bm9uZVwiPicuY29uY2F0KGFlKFkuYSksXCI8L2Rpdj5cIiksd2luZG93LkNJUT1hLG8ucGxvdFNwbGluZT1MLmEsbi5faW5pdENoYXJ0KGUsdCxpKX0pKX0sdGhpcy5vbk1hcmtldE9wZW5DbG9zZWRDaGFuZ2U9ZnVuY3Rpb24oZSl7dmFyIHQ9bi5zdHh4LmdldFN5bWJvbHMoKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3ltYm9sT2JqZWN0fSkscj0hMSxpPSEwLGE9ITEsbz12b2lkIDA7dHJ5e2Zvcih2YXIgcyxjPXRbU3ltYm9sLml0ZXJhdG9yXSgpOyEoaT0ocz1jLm5leHQoKSkuZG9uZSk7aT0hMCl7dmFyIGw9cy52YWx1ZSx1PWwuc3ltYm9sLGg9bC5uYW1lO3UgaW4gZSYmKGVbdV0/KHI9ITAsbi5jaGFydENsb3NlZE9wZW5UaGVtZUNoYW5nZSghMSksbi5tYWluU3RvcmUubm90aWZpZXIubm90aWZ5TWFya2V0T3BlbihoKSk6KG4uY2hhcnRDbG9zZWRPcGVuVGhlbWVDaGFuZ2UoITApLG4ubWFpblN0b3JlLm5vdGlmaWVyLm5vdGlmeU1hcmtldENsb3NlKGgpKSl9fWNhdGNoKGUpe2E9ITAsbz1lfWZpbmFsbHl7dHJ5e2l8fG51bGw9PWMucmV0dXJufHxjLnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyBvfX1yJiZuLnJlZnJlc2hDaGFydCgpfSxyZSh0aGlzLFwiY2FsY3VsYXRlWWF4aXNXaWR0aFwiLEMsdGhpcykscmUodGhpcyxcInVwZGF0ZVlheGlzV2lkdGhcIixFLHRoaXMpLHRoaXMubWFpblN0b3JlPWV9dmFyIG4saSxhO3JldHVybiBuPXQsKGk9W3trZXk6XCJ1cGRhdGVIZWlnaHRcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLm1haW5TdG9yZS5jaGFydFNldHRpbmcuaGlzdG9yaWNhbCYmdGhpcy5pc01vYmlsZSxyPVwiYm90dG9tXCI9PT0oZXx8dGhpcy5tYWluU3RvcmUuY2hhcnRTZXR0aW5nLnBvc2l0aW9uKSYmdGhpcy5zdGF0ZVN0b3JlLmNoYXJ0Q29udHJvbHNXaWRnZXRzPzQwOjA7dGhpcy5jaGFydEhlaWdodD10aGlzLmNoYXJ0Tm9kZS5vZmZzZXRIZWlnaHQsdGhpcy5jaGFydENvbnRhaW5lckhlaWdodD10aGlzLmNoYXJ0SGVpZ2h0LXItKHQ/NDU6MCl9fSx7a2V5OlwicmVzaXplU2NyZWVuXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmNvbnRleHQmJih0aGlzLm1vZGFsTm9kZS5jbGllbnRXaWR0aD49MTI4MD90aGlzLmNvbnRhaW5lcldpZHRoPTEyODA6dGhpcy5tb2RhbE5vZGUuY2xpZW50V2lkdGg+PTkwMD90aGlzLmNvbnRhaW5lcldpZHRoPTkwMDp0aGlzLmNvbnRhaW5lcldpZHRoPTQ4MCx0aGlzLnVwZGF0ZUhlaWdodCgpLHRoaXMudXBkYXRlQ2FudmFzKCksc2V0VGltZW91dCh0aGlzLnVwZGF0ZUNhbnZhcyx0aGlzLmlzTW9iaWxlPzUwMDoxMDApKX19LHtrZXk6XCJfaW5pdENoYXJ0XCIsdmFsdWU6ZnVuY3Rpb24obixpLGEpe3ZhciBvPXRoaXMscz10aGlzO09iamVjdChBLmEpKCksQ0lRLkNoYXJ0RW5naW5lLnByb3RvdHlwZS5yZWdpc3RlckhUTUxFbGVtZW50cz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuY2hhcnQuY29udGFpbmVyO2Zvcih2YXIgdCBpbiBDSVEuQ2hhcnRFbmdpbmUuaHRtbENvbnRyb2xzKWlmKHZvaWQgMD09PXRoaXMuY2hhcnRbdF0mJnZvaWQgMD09PXRoaXMuY29udHJvbHNbdF0pe2lmKCF0aGlzLmFsbG93Wm9vbSYmXCJjaGFydENvbnRyb2xzXCI9PT10KWNvbnRpbnVlO3ZhciByPXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuXCIuY29uY2F0KHQpLGUpO2lmKHIpdGhpcy5jaGFydFt0XT1yLHRoaXMuY29udHJvbHNbdF09cjtlbHNle3ZhciBuPUNJUS5DaGFydEVuZ2luZS5odG1sQ29udHJvbHNbdF07aWYoIW4pY29udGludWU7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkRJVlwiKTtpLmlubmVySFRNTD1uLHI9aS5maXJzdENoaWxkLGUuYXBwZW5kQ2hpbGQociksdGhpcy5jaGFydFt0XT1yLHRoaXMuY29udHJvbHNbdF09cixDSVEuYXBwZW5kQ2xhc3NOYW1lKHIsdCl9fXZhciBhPXRoaXMuY29udHJvbHMuY2hhcnRDb250cm9scyxvPXRoaXMuY29udHJvbHMuaG9tZTtpZihhKXt2YXIgcz10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLnN0eC16b29tLWluXCIsYSksYz10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLnN0eC16b29tLW91dFwiLGEpO0NJUS5zYWZlQ2xpY2tUb3VjaChzLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtlLnpvb21Jbih0KSx0LnN0b3BQcm9wYWdhdGlvbigpfX0odGhpcykpLENJUS5zYWZlQ2xpY2tUb3VjaChjLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtlLnpvb21PdXQodCksdC5zdG9wUHJvcGFnYXRpb24oKX19KHRoaXMpKSxDSVEudG91Y2hEZXZpY2V8fCh0aGlzLm1ha2VNb2RhbChzKSx0aGlzLm1ha2VNb2RhbChjKSl9byYmKENJUS5zYWZlQ2xpY2tUb3VjaChvLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXt0LnN0b3BQcm9wYWdhdGlvbigpLGUuaG9tZSh7YW5pbWF0ZTohMH0pfX0odGhpcykpLENJUS50b3VjaERldmljZXx8dGhpcy5tYWtlTW9kYWwobykpfSxDSVEuQ2hhcnRFbmdpbmUucHJvdG90eXBlLmhvbWU9ZnVuY3Rpb24oZSl7dGhpcy5zd2lwZS5hbXBsaXR1ZGU9MDt2YXIgdD10aGlzLmxheW91dDtmdW5jdGlvbiByKGUpe2Zvcih2YXIgdCBpbiBlLnBhbmVscylmb3IodmFyIHI9ZS5wYW5lbHNbdF0ueWF4aXNMSFMuY29uY2F0KGUucGFuZWxzW3RdLnlheGlzUkhTKSxuPTA7bjxyLmxlbmd0aDtuKyspZS5jYWxjdWxhdGVZQXhpc01hcmdpbnMocltuXSl9ZnVuY3Rpb24gbihlLHQsbil7cmV0dXJuIGZ1bmN0aW9uKCl7cihlKSx0LnNjcm9sbD1uLGUuZHJhdygpfX1pZihcIm9iamVjdFwiIT09dGUoZSkmJihlPXttYWludGFpbldoaXRlc3BhY2U6ZX0pLHZvaWQgMD09PWUubWFpbnRhaW5XaGl0ZXNwYWNlJiYoZS5tYWludGFpbldoaXRlc3BhY2U9ITApLHRoaXMuY2FuY2VsVG91Y2hTaW5nbGVDbGljaz0hMCx0aGlzLmNoYXJ0LmRhdGFTZXQmJnRoaXMuY2hhcnQuZGF0YVNldC5sZW5ndGgpe3RoaXMubWljcm9waXhlbHM9MDt2YXIgaT1NYXRoLmZsb29yKHRoaXMuY2hhcnQud2lkdGgvdC5jYW5kbGVXaWR0aCk7Zm9yKHZhciBhIGluIHRoaXMuY2hhcnRzKXt2YXIgbz10aGlzLmNoYXJ0c1thXTtpZighZS5jaGFydHx8ZS5jaGFydD09PW8pe3ZhciBjPTA7ZS5tYWludGFpbldoaXRlc3BhY2UmJnRoaXMucHJlZmVyZW5jZXMud2hpdGVzcGFjZT49MCYmKGM9dGhpcy5wcmVmZXJlbmNlcy53aGl0ZXNwYWNlKSwoZS53aGl0ZXNwYWNlfHwwPT09ZS53aGl0ZXNwYWNlKSYmKGM9ZS53aGl0ZXNwYWNlKTt2YXIgbD10aGlzLmdldExhYmVsT2Zmc2V0SW5QaXhlbHMobyx0LmNoYXJ0VHlwZSk7bD5jJiYoYz1sKTt2YXIgdT1NYXRoLm1pbihpLG8uZGF0YVNldC5sZW5ndGgpO2Zvcih0aGlzLmNoYXJ0LmFsbG93U2Nyb2xsUGFzdCYmKHU9aSksdGhpcy5taWNyb3BpeGVscz10aGlzLmNoYXJ0LndpZHRoLXUqdC5jYW5kbGVXaWR0aC1jLHRoaXMucHJlZmVyZW5jZXMud2hpdGVzcGFjZT1jO3RoaXMubWljcm9waXhlbHM+dC5jYW5kbGVXaWR0aDspdSsrLHRoaXMubWljcm9waXhlbHMtPXQuY2FuZGxlV2lkdGg7Zm9yKDt0aGlzLm1pY3JvcGl4ZWxzPDA7KXUtLSx0aGlzLm1pY3JvcGl4ZWxzKz10LmNhbmRsZVdpZHRoO2lmKHRoaXMubWljcm9waXhlbHMtPXQuY2FuZGxlV2lkdGgsdSsrLHRoaXMubWFpblNlcmllc1JlbmRlcmVyJiZ0aGlzLm1haW5TZXJpZXNSZW5kZXJlci5zdGFuZGFsb25lQmFyc3x8dGhpcy5zdGFuZGFsb25lQmFyc1t0LmNoYXJ0VHlwZV18fCh0aGlzLm1pY3JvcGl4ZWxzKz10LmNhbmRsZVdpZHRoLzIpLHRoaXMuaXNIaXN0b3JpY2FsTW9kZSgpJiZzLmlzTW9iaWxlP3U9cGFyc2VJbnQoLjgqdSwxMCk6dGhpcy5pc0hpc3RvcmljYWxNb2RlKCkmJih1PXBhcnNlSW50KC45KnUsMTApKSxlLmFuaW1hdGUpe3RoaXMuc2Nyb2xsVG8obyx1LG4odGhpcyxvLHUpKX1lbHNlIG8uc2Nyb2xsPXUscih0aGlzKX19dGhpcy5kcmF3KCl9ZWxzZSB0aGlzLmRyYXcoKX0sQ0lRLkNoYXJ0RW5naW5lLnByb3RvdHlwZS5pc0hpc3RvcmljYWxNb2RlPWZ1bmN0aW9uKCl7cmV0dXJuISFzLnN0YXRlU3RvcmUuZW5kRXBvY2h9LHRoaXMucm9vdE5vZGU9bix0aGlzLm1vZGFsTm9kZT1pLHRoaXMuY2hhcnROb2RlPXRoaXMucm9vdE5vZGUucXVlcnlTZWxlY3RvcihcIi5jaXEtY2hhcnQtYXJlYVwiKSx0aGlzLmNoYXJ0Q29udHJvbHNOb2RlPXRoaXMucm9vdE5vZGUucXVlcnlTZWxlY3RvcihcIi5jcS1jaGFydC1jb250cm9sc1wiKSxDSVEuUGxvdHRlci5wcm90b3R5cGUuZ2V0WUF4aXNXaWR0aD1mdW5jdGlvbigpe3JldHVybiBvLnlBeGlzd2lkdGh9LENJUS5DaGFydEVuZ2luZS5wcm90b3R5cGUuY3JlYXRlWUF4aXNMYWJlbD1mdW5jdGlvbihlLHQscixuLGksYSxvKXtpZighMSE9PWUueUF4aXMuZHJhd1ByaWNlTGFiZWxzJiYhZS55QXhpcy5ub0RyYXcpe3ZhciBzPW98fGUueUF4aXM7aWYoIXMubm9EcmF3JiZzLndpZHRoKXt2YXIgYyxsPWF8fHRoaXMuY2hhcnQuY29udGV4dCx1PTI0O1wiY3VycmVudFNwb3RcIj09PXRoaXMubGFiZWxUeXBlP3RoaXMuY2FudmFzRm9udChcInN0eF9jdXJyZW50X2hyX3VwXCIsbCk6dGhpcy5jYW52YXNGb250KFwic3R4X3ByaWNlX2xhYmVsXCIsbCk7dmFyIGgsZD10aGlzLmRyYXdCb3JkZXJzPzM6MCxwPWwubWVhc3VyZVRleHQodCkud2lkdGg7dHJ5e2g9cCs5PnMud2lkdGg/cCtkKzE4OnMud2lkdGgrOX1jYXRjaChlKXtoPXMud2lkdGh9aC09MTQsdGhpcy5jaGFydC55QXhpcy53aWR0aDxoPyh0aGlzLmNoYXJ0LnlBeGlzLndpZHRoPWgsdGhpcy5jYWxjdWxhdGVZQXhpc1Bvc2l0aW9ucygpKTpoPXRoaXMuY2hhcnQueUF4aXMud2lkdGg7dmFyIGY9dGhpcy53aWR0aC10aGlzLmNoYXJ0LnlBeGlzLndpZHRoLG09KGgtcCkvMjtzLndpZHRoPDAmJihmKz1zLndpZHRoLWgpLFwibGVmdFwiPT09KG51bGw9PT1zLnBvc2l0aW9uP2UuY2hhcnQueUF4aXMucG9zaXRpb246cy5wb3NpdGlvbikmJihoKj0tMSxzLndpZHRoPDAmJihmLT1zLndpZHRoK2gpLGM9LTMsbC50ZXh0QWxpZ249XCJyaWdodFwiKSxyK3UvMj5zLmJvdHRvbSYmKHI9cy5ib3R0b20tdS8yKSxyLXUvMjxzLnRvcCYmKHI9cy50b3ArdS8yKSx2b2lkIDA9PT1DSVFbdGhpcy55YXhpc0xhYmVsU3R5bGVdJiYodGhpcy55YXhpc0xhYmVsU3R5bGU9XCJyb3VuZFJlY3RBcnJvd1wiKTt2YXIgZz10aGlzLnlheGlzTGFiZWxTdHlsZTtzLnlheGlzTGFiZWxTdHlsZSYmKGc9cy55YXhpc0xhYmVsU3R5bGUpLGYrPTEsXCJjdXJyZW50U3BvdFwiPT09dGhpcy5sYWJlbFR5cGU/KGYrPTEzLG0tPTgsYz0wKTpcImNyb3NzaGFpclwiPT09dGhpcy5sYWJlbFR5cGUmJih1PTMwKTt2YXIgYj17Y3R4OmwseDpmLHk6cix0b3A6ci11LzIsd2lkdGg6aCxoZWlnaHQ6dSxyYWRpdXM6YyxiYWNrZ3JvdW5kQ29sb3I6bixmaWxsOiEwLHN0cm9rZTohMSxtYXJnaW46e2xlZnQ6bSx0b3A6MX0sdHh0OnQsY29sb3I6aX07Q0lRW2ddKGIpfX19O3ZhciBjPWEuc3ltYm9sLGw9YS5jaGFydFR5cGUsdT1hLmdyYW51bGFyaXR5LGg9YS5yZXF1ZXN0QVBJLGQ9YS5yZXF1ZXN0U3Vic2NyaWJlLHA9YS5yZXF1ZXN0Rm9yZ2V0LGY9YS5yZXF1ZXN0Rm9yZ2V0U3RyZWFtLG09YS5pc01vYmlsZSxnPWEuZW5hYmxlUm91dGluZyxiPWEub25NZXNzYWdlLHk9YS5zZXR0aW5ncyx2PWEub25TZXR0aW5nc0NoYW5nZTt0aGlzLmFwaT1uZXcgai5iKGgsZCxwLGYpLHRoaXMudHJhZGluZ1RpbWVzPXQudHJhZGluZ1RpbWVzfHwodC50cmFkaW5nVGltZXM9bmV3IGouYyh0aGlzLmFwaSx0aGlzLm1haW5TdG9yZS5zdGF0ZS5zaG91bGRGZXRjaFRyYWRpbmdUaW1lcykpLHRoaXMuYWN0aXZlU3ltYm9scz10LmFjdGl2ZVN5bWJvbHN8fCh0LmFjdGl2ZVN5bWJvbHM9bmV3IGouYSh0aGlzLmFwaSx0aGlzLnRyYWRpbmdUaW1lcykpO3ZhciBfPXRoaXMubWFpblN0b3JlLmNoYXJ0U2V0dGluZztfLnNldFNldHRpbmdzKHkpLF8ub25TZXR0aW5nc0NoYW5nZT12LHRoaXMuaXNNb2JpbGU9bSx0aGlzLnN0YXRlPXRoaXMubWFpblN0b3JlLnN0YXRlLHRoaXMubWFpblN0b3JlLm5vdGlmaWVyLm9uTWVzc2FnZT1iLHRoaXMuZ3JhbnVsYXJpdHk9dm9pZCAwIT09dT91OnRoaXMuZGVmYXVsdHMuZ3JhbnVsYXJpdHk7dmFyIFM9e21heE1hc3RlckRhdGFTaXplOnRoaXMuZ2V0TWF4TWFzdGVyRGF0YVNpemUodGhpcy5ncmFudWxhcml0eSksbWFya2VyRGVsYXk6bnVsbCxjb250YWluZXI6dGhpcy5yb290Tm9kZS5xdWVyeVNlbGVjdG9yKFwiLmNoYXJ0Q29udGFpbmVyXCIpLGNvbnRyb2xzOntjaGFydENvbnRyb2xzOm51bGx9LHlheGlzTGFiZWxTdHlsZTpcInJvdW5kUmVjdFwiLHByZWZlcmVuY2VzOntjdXJyZW50UHJpY2VMaW5lOiEwLHdoaXRlc3BhY2U6bT81MDoxNTB9LGNoYXJ0Ont5QXhpczp7aW5pdGlhbE1hcmdpblRvcDoxMjUsaW5pdGlhbE1hcmdpbkJvdHRvbToxMDAsZGlzcGxheUJvcmRlcjohMCxqdXN0aWZ5UmlnaHQ6ITF9LHhBeGlzOntkaXNwbGF5Qm9yZGVyOiEwfSxnYXBsaW5lczohMCxkeW5hbWljWUF4aXM6ITB9LG1pbmltdW1MZWZ0QmFyczp0aGlzLmRlZmF1bHRNaW5pbXVtQmFycyx5VG9sZXJhbmNlOjk5OTk5OX0sdz17Y2hhcnRUeXBlOmx8fHRoaXMuZGVmYXVsdHMuY2hhcnRUeXBlfTtcInNwbGluZVwiPT09dy5jaGFydFR5cGUmJih3LmNoYXJ0VHlwZT1cIm1vdW50YWluXCIsUy5jaGFydC50ZW5zaW9uPXcudGVuc2lvbj0uNSk7dmFyIHg9dGhpcy5nZXRSYW5nZVNwYW4oKTt4JiYodz0kKHt9LHcse30seCkpLFMubGF5b3V0PXc7dmFyIGs9dGhpcy5zdHh4PW5ldyBDSVEuQ2hhcnRFbmdpbmUoUyksTz1rLmFuaW1hdGlvbnMuem9vbS5ydW4uYmluZChrLmFuaW1hdGlvbnMuem9vbSksQz0hMTtrLmFuaW1hdGlvbnMuem9vbS5ydW49ZnVuY3Rpb24oZSx0LHIpe2lmKCFDKXJldHVybiBDPSEwLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtDPSExfSw0MCksTyhlLHQscil9LGsuaXNBdXRvU2NhbGU9eSYmITEhPT15LmlzQXV0b1NjYWxlLHQuY2hhcnRDb3VudCs9MTt2YXIgRT1rLmNoYXJ0LnBhbmVsLmhvbGRlci5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW91c2VEZWxldGVUZXh0XCIpLFQ9ay5jaGFydC5wYW5lbC5ob2xkZXIucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vdXNlTWFuYWdlVGV4dFwiKTtFLnRleHRDb250ZW50PWUudHJhbnNsYXRlKFwicmlnaHQtY2xpY2sgdG8gZGVsZXRlXCIpLFQudGV4dENvbnRlbnQ9ZS50cmFuc2xhdGUoXCJyaWdodC1jbGljayB0byBtYW5hZ2VcIiksdGhpcy5zdGF0ZS5pc0FuaW1hdGlvbkVuYWJsZWQmJk9iamVjdChNLmEpKGsse3N0YXlQdXQ6ITB9KSx0aGlzLmZlZWQ9bmV3IHouYSh0aGlzLmFwaSxrLHRoaXMubWFpblN0b3JlLHRoaXMudHJhZGluZ1RpbWVzKSxrLmF0dGFjaFF1b3RlRmVlZCh0aGlzLmZlZWQse3JlZnJlc2hJbnRlcnZhbDpudWxsfSksdGhpcy5lbmFibGVSb3V0aW5nPWcsdGhpcy5lbmFibGVSb3V0aW5nJiZ0aGlzLnJvdXRpbmdTdG9yZS5oYW5kbGVSb3V0aW5nKCksdGhpcy5ob2xkZXJTdHlsZT1rLmNoYXJ0LnBhbmVsLmhvbGRlci5zdHlsZTt2YXIgUD1uZXcgTi5hKGssdGhpcy5yb290Tm9kZSk7dm9pZCAwPT09dC5rZXlzdHJva2VIdWImJih0LmtleXN0cm9rZUh1Yj1uZXcgSS5hKGRvY3VtZW50LmJvZHksbnVsbCx7Y2I6SS5hLmRlZmF1bHRIb3RLZXlzfSkpO3ZhciBMPXRoaXMubWFpblN0b3JlLnN0dWRpZXM7ay5jYWxsYmFja3Muc3R1ZHlPdmVybGF5RWRpdD1MLmVkaXRTdHVkeSxrLmNhbGxiYWNrcy5zdHVkeVBhbmVsRWRpdD1MLmVkaXRTdHVkeSx0aGlzLmxvYWRlci5zZXRTdGF0ZShcIm1hcmtldC1zeW1ib2xcIiksdGhpcy5hY3RpdmVTeW1ib2xzLnJldHJpZXZlQWN0aXZlU3ltYm9scygpLnRoZW4oZnVuY3Rpb24oKXtvLmxvYWRlci5zZXRTdGF0ZShcInRyYWRpbmctdGltZVwiKSxvLnRyYWRpbmdUaW1lcy5pbml0aWFsaXplKCkudGhlbihPYmplY3QoRC5hY3Rpb24pKGZ1bmN0aW9uKCl7ay5pc0Rlc3Ryb3llZHx8KG8uc3RhdGUucmVzdG9yZUxheW91dCgpfHxvLmNoYW5nZVN5bWJvbChjfHxPYmplY3Qua2V5cyhvLmFjdGl2ZVN5bWJvbHMuc3ltYm9sTWFwKVswXSxvLmdyYW51bGFyaXR5KSxvLmNvbnRleHQ9UCxvLmNoYXJ0Q2xvc2VkT3BlblRoZW1lQ2hhbmdlKCFvLmN1cnJlbnRBY3RpdmVTeW1ib2wuZXhjaGFuZ2VfaXNfb3Blbiksby5tYWluU3RvcmUuY2hhcnQudHJhZGluZ1RpbWVzLm9uTWFya2V0T3BlbkNsb3NlQ2hhbmdlZChPYmplY3QoRC5hY3Rpb24pKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiBlKW8uY3VycmVudEFjdGl2ZVN5bWJvbC5zeW1ib2w9PT10JiZvLmNoYXJ0Q2xvc2VkT3BlblRoZW1lQ2hhbmdlKCFlW3RdKX0pKSxrLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLG8ub25Nb3VzZUVudGVyKSxrLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLG8ub25Nb3VzZUxlYXZlKSxvLmNvbnRleHRQcm9taXNlLnJlc29sdmUoby5jb250ZXh0KSxvLnJlc2l6ZVNjcmVlbigpLE9iamVjdChELnJlYWN0aW9uKShmdW5jdGlvbigpe3JldHVybltvLnN0YXRlLnN5bWJvbCxvLnN0YXRlLmdyYW51bGFyaXR5XX0sZnVuY3Rpb24oKXt2b2lkIDA9PT1vLnN0YXRlLnN5bWJvbCYmdm9pZCAwPT09by5zdGF0ZS5ncmFudWxhcml0eXx8by5jaGFuZ2VTeW1ib2woby5zdGF0ZS5zeW1ib2wsby5zdGF0ZS5ncmFudWxhcml0eSl9KSxvLnRyYWRpbmdUaW1lcy5vbk1hcmtldE9wZW5DbG9zZUNoYW5nZWQoby5vbk1hcmtldE9wZW5DbG9zZWRDaGFuZ2UpLHNldFRpbWVvdXQoT2JqZWN0KEQuYWN0aW9uKShmdW5jdGlvbigpe28uc2hvdWxkUmVuZGVyRGlhbG9ncz0hMH0pLDUwMCkpfSkpfSksXCJSZXNpemVPYnNlcnZlclwiaW4gd2luZG93Pyh0aGlzLnJlc2l6ZU9ic2VydmVyPW5ldyBSZXNpemVPYnNlcnZlcih0aGlzLnJlc2l6ZVNjcmVlbiksdGhpcy5yZXNpemVPYnNlcnZlci5vYnNlcnZlKGkpKTpyLmUoMTMpLnRoZW4oci5iaW5kKG51bGwsMjUwKSkudGhlbihmdW5jdGlvbihlKXt2YXIgdD1lLmRlZmF1bHQ7d2luZG93LlJlc2l6ZU9ic2VydmVyPXQsIWsuaXNEZXN0cm95ZWQmJmkmJihvLnJlc2l6ZU9ic2VydmVyPW5ldyB0KG8ucmVzaXplU2NyZWVuKSxvLnJlc2l6ZU9ic2VydmVyLm9ic2VydmUoaSkpfSl9fSx7a2V5OlwiZ2V0TWF4TWFzdGVyRGF0YVNpemVcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD01ZTM7cmV0dXJuIDg2NDAwPT09ZT90PU1hdGguZmxvb3IoMi44KjM2NSk6Mjg4MDA9PT1lJiYodD1NYXRoLmZsb29yKDIuOCozNjUqMykpLHR9fSx7a2V5OlwiY2hhcnRDbG9zZWRPcGVuVGhlbWVDaGFuZ2VcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLm1haW5TdG9yZS5zdGF0ZS5zZXRDaGFydENsb3NlZChlKSx0aGlzLm1haW5TdG9yZS5zdGF0ZS5zZXRDaGFydFRoZW1lKHRoaXMubWFpblN0b3JlLmNoYXJ0U2V0dGluZy50aGVtZSxlKX19LHtrZXk6XCJvbk1vdXNlRW50ZXJcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuY3Vyc29ySW5DaGFydD0hMH19LHtrZXk6XCJvbk1vdXNlTGVhdmVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuY3Vyc29ySW5DaGFydD0hMX19LHtrZXk6XCJ1cGRhdGVDdXJyZW50QWN0aXZlU3ltYm9sXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnN0eHguY2hhcnQuc3ltYm9sT2JqZWN0O3RoaXMuY3VycmVudEFjdGl2ZVN5bWJvbD1lLHRoaXMuc3R4eC5jaGFydC55QXhpcy5kZWNpbWFsUGxhY2VzPWUuZGVjaW1hbF9wbGFjZXMsdGhpcy5zZXRNYWluU2VyaWVzRGlzcGxheShlLm5hbWUpfX0se2tleTpcInNldENoYXJ0QXZhaWxhYmlsaXR5XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5pc0NoYXJ0QXZhaWxhYmxlPWV9fSx7a2V5OlwiY2hhbmdlU3ltYm9sXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9dGhpcy5hY3RpdmVTeW1ib2xzLmdldFN5bWJvbE9iaihlKSksIShlJiZ0aGlzLmN1cnJlbnRBY3RpdmVTeW1ib2wpfHxlLnN5bWJvbCE9PXRoaXMuY3VycmVudEFjdGl2ZVN5bWJvbC5zeW1ib2x8fHZvaWQgMD09PXR8fHQhPT10aGlzLmdyYW51bGFyaXR5KXt2YXIgcjtpZih2b2lkIDAhPT10JiYodGhpcy5ncmFudWxhcml0eT10LHRoaXMuc3R4eC5tYXhNYXN0ZXJEYXRhU2l6ZT10aGlzLmdldE1heE1hc3RlckRhdGFTaXplKHRoaXMuZ3JhbnVsYXJpdHkpLHI9e3BlcmlvZGljaXR5Ok9iamVjdChSLmIpKHQpfSksdm9pZCAwPT09ciYmZSlmb3IodmFyIG4gaW4gdGhpcy5zdHh4LmNoYXJ0LnNlcmllcyl0aGlzLnN0eHgucmVtb3ZlU2VyaWVzKG4pO3RoaXMubmV3Q2hhcnQoZSxyKSxlJiZ0aGlzLnVwZGF0ZUN1cnJlbnRBY3RpdmVTeW1ib2woKX19fSx7a2V5OlwibmV3Q2hhcnRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dGhpcy5jdXJyZW50QWN0aXZlU3ltYm9sLHI9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDA7aWYodCl7dGhpcy5zdHh4LmNoYXJ0LnN5bWJvbERpc3BsYXk9dC5uYW1lLHRoaXMubG9hZGVyLnNob3coKSx0aGlzLm1haW5TdG9yZS5zdGF0ZS5zZXRDaGFydElzUmVhZHkoITEpO3ZhciBuPWZ1bmN0aW9uKHIpe2Uuc2V0TWFpblNlcmllc0Rpc3BsYXkodC5uYW1lKSxlLmxvYWRlci5oaWRlKCksZS5tYWluU3RvcmUuc3RhdGUuc2V0Q2hhcnRJc1JlYWR5KCEwKSxyfHwoZS5zdGF0ZS5yZXN0b3JlRHJhd2luZ3MoKSxlLm1haW5TdG9yZS5jaGFydC5mZWVkJiZlLm1haW5TdG9yZS5jaGFydC5mZWVkLnNjYWxlQ2hhcnQoKSl9O3RoaXMueUF4aXN3aWR0aD0wO3ZhciBpPXRoaXMuZ2V0UmFuZ2VTcGFuKCk7dGhpcy5zdHh4Lm5ld0NoYXJ0KHQsbnVsbCxudWxsLG4sJCh7fSxyLHt9LGkpKSx0aGlzLmNoYXJ0Q2xvc2VkT3BlblRoZW1lQ2hhbmdlKCF0LmV4Y2hhbmdlX2lzX29wZW4pfX19LHtrZXk6XCJnZXRSYW5nZVNwYW5cIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5zdGF0ZSxyPXQuc3RhcnRFcG9jaCxuPXQuZW5kRXBvY2gsaT0oKG58fHIpLShyfHxuKSkvKHRoaXMuY2hhcnROb2RlLmNsaWVudFdpZHRoL3RoaXMuUkFOR0VfUEFERElOR19QWCl8MDtpZihyfHxuKXt2YXIgYT1yP0NJUS5zdHJUb0RhdGVUaW1lKE9iamVjdChSLmspKHItaSkpOnZvaWQgMCxvPW4/Q0lRLnN0clRvRGF0ZVRpbWUoT2JqZWN0KFIuaykobitpKSk6dm9pZCAwLHM9T2JqZWN0KFIuYikodGhpcy5ncmFudWxhcml0eSk7cmV0dXJuIGEmJihlPXtiYXNlOlwiYWxsXCIscGVyaW9kaWNpdHk6c30pLHtyYW5nZTp7ZHRMZWZ0OmEsZHRSaWdodDpvLHBlcmlvZGljaXR5OnMsZ29JbnRvRnV0dXJlOiEwLGdvSW50b1Bhc3Q6ITB9LHNwYW46ZX19fX0se2tleTpcInNldE1haW5TZXJpZXNEaXNwbGF5XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5zdHh4JiZ0aGlzLnN0eHguY2hhcnQmJih0aGlzLnN0eHguY2hhcnQuc2VyaWVzUmVuZGVyZXJzLl9tYWluX3Nlcmllcy5zZXJpZXNQYXJhbXNbMF0uZGlzcGxheT1lLHRoaXMuc3R4eC5jaGFydC5zZXJpZXNSZW5kZXJlcnMuX21haW5fc2VyaWVzLnNlcmllc1BhcmFtc1swXS5maWVsZD1cIkNsb3NlXCIpfX0se2tleTpcInJlZnJlc2hDaGFydFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5uZXdDaGFydCgpfX0se2tleTpcImRlc3Ryb3lcIix2YWx1ZTpmdW5jdGlvbigpe3QuY2hhcnRDb3VudC09MSx0aGlzLnJlc2l6ZU9ic2VydmVyJiZ0aGlzLnJlc2l6ZU9ic2VydmVyLmRpc2Nvbm5lY3QoKSx0aGlzLnRyYWRpbmdUaW1lcyYmMD09PXQuY2hhcnRDb3VudCYmKHQudHJhZGluZ1RpbWVzPW51bGwsdGhpcy50cmFkaW5nVGltZXMuZGVzdHJ1Y3RvcigpKSx0aGlzLmZlZWQmJih0aGlzLmZlZWQudW5zdWJzY3JpYmVBbGwoKSx0aGlzLmZlZWQ9bnVsbCksdC5rZXlzdHJva2VIdWIuY29udGV4dD09PXRoaXMuY29udGV4dCYmdC5rZXlzdHJva2VIdWIuc2V0QWN0aXZlQ29udGV4dChudWxsKSx0aGlzLnN0eHgmJih0aGlzLnN0eHguY29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWVudGVyXCIsdGhpcy5vbk1vdXNlRW50ZXIpLHRoaXMuc3R4eC5jb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIix0aGlzLm9uTW91c2VMZWF2ZSksdGhpcy5zdHh4LnVwZGF0ZUNoYXJ0RGF0YT1mdW5jdGlvbigpe30sdGhpcy5zdHh4LmlzRGVzdHJveWVkPSEwLHRoaXMuc3R4eC5kZXN0cm95KCksdGhpcy5zdHh4PW51bGwpfX0se2tleTpcImxvYWRlclwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1haW5TdG9yZS5sb2FkZXJ9fSx7a2V5Olwicm91dGluZ1N0b3JlXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFpblN0b3JlLnJvdXRpbmd9fSx7a2V5Olwic3RhdGVTdG9yZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1haW5TdG9yZS5zdGF0ZX19LHtrZXk6XCJwaXBcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jdXJyZW50QWN0aXZlU3ltYm9sLmRlY2ltYWxfcGxhY2VzfX0se2tleTpcImNhdGVnb3JpemVkU3ltYm9sc1wiLGdldDpmdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYoIXRoaXMuYWN0aXZlU3ltYm9sc3x8MD09PXRoaXMuYWN0aXZlU3ltYm9scy5jYXRlZ29yaXplZFN5bWJvbHMubGVuZ3RoKXJldHVybltdO3ZhciB0PXRoaXMuYWN0aXZlU3ltYm9scy5hY3RpdmVTeW1ib2xzO3JldHVybiBPYmplY3QoUi5jKSh0LGZ1bmN0aW9uKHQpe3JldHVybiAkKHt9LHQse3NlbGVjdGVkOnQuZGF0YU9iamVjdC5zeW1ib2w9PT1lLmN1cnJlbnRBY3RpdmVTeW1ib2wuc3ltYm9sfSl9KX19XSkmJm5lKG4ucHJvdG90eXBlLGkpLGEmJm5lKG4sYSksdH0oKSxULmtleXN0cm9rZUh1Yj12b2lkIDAsVC5jaGFydENvdW50PTAsVC50cmFkaW5nVGltZXM9dm9pZCAwLFQuYWN0aXZlU3ltYm9scz12b2lkIDAsZz1pZSgobT1QKS5wcm90b3R5cGUsXCJjb250YWluZXJXaWR0aFwiLFtELm9ic2VydmFibGVdLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCxpbml0aWFsaXplcjpmdW5jdGlvbigpe3JldHVybiBudWxsfX0pLGI9aWUobS5wcm90b3R5cGUsXCJjb250ZXh0XCIsW0Qub2JzZXJ2YWJsZV0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9fSkseT1pZShtLnByb3RvdHlwZSxcImN1cnJlbnRBY3RpdmVTeW1ib2xcIixbRC5vYnNlcnZhYmxlXSx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITAsaW5pdGlhbGl6ZXI6bnVsbH0pLHY9aWUobS5wcm90b3R5cGUsXCJpc0NoYXJ0QXZhaWxhYmxlXCIsW0Qub2JzZXJ2YWJsZV0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOmZ1bmN0aW9uKCl7cmV0dXJuITB9fSksXz1pZShtLnByb3RvdHlwZSxcImNoYXJ0SGVpZ2h0XCIsW0Qub2JzZXJ2YWJsZV0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOm51bGx9KSxTPWllKG0ucHJvdG90eXBlLFwiY2hhcnRDb250YWluZXJIZWlnaHRcIixbRC5vYnNlcnZhYmxlXSx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITAsaW5pdGlhbGl6ZXI6bnVsbH0pLHc9aWUobS5wcm90b3R5cGUsXCJpc01vYmlsZVwiLFtELm9ic2VydmFibGVdLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCxpbml0aWFsaXplcjpmdW5jdGlvbigpe3JldHVybiExfX0pLHg9aWUobS5wcm90b3R5cGUsXCJjdXJzb3JJbkNoYXJ0XCIsW0Qub2JzZXJ2YWJsZV0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOmZ1bmN0aW9uKCl7cmV0dXJuITF9fSksaz1pZShtLnByb3RvdHlwZSxcInNob3VsZFJlbmRlckRpYWxvZ3NcIixbRC5vYnNlcnZhYmxlXSx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITAsaW5pdGlhbGl6ZXI6ZnVuY3Rpb24oKXtyZXR1cm4hMX19KSxPPWllKG0ucHJvdG90eXBlLFwieUF4aXN3aWR0aFwiLFtELm9ic2VydmFibGVdLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCxpbml0aWFsaXplcjpmdW5jdGlvbigpe3JldHVybiAwfX0pLGllKG0ucHJvdG90eXBlLFwicGlwXCIsW0QuY29tcHV0ZWRdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobS5wcm90b3R5cGUsXCJwaXBcIiksbS5wcm90b3R5cGUpLGllKG0ucHJvdG90eXBlLFwicmVzaXplU2NyZWVuXCIsW25dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobS5wcm90b3R5cGUsXCJyZXNpemVTY3JlZW5cIiksbS5wcm90b3R5cGUpLGllKG0ucHJvdG90eXBlLFwiX2luaXRDaGFydFwiLFtpXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0ucHJvdG90eXBlLFwiX2luaXRDaGFydFwiKSxtLnByb3RvdHlwZSksaWUobS5wcm90b3R5cGUsXCJjYXRlZ29yaXplZFN5bWJvbHNcIixbRC5jb21wdXRlZF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLnByb3RvdHlwZSxcImNhdGVnb3JpemVkU3ltYm9sc1wiKSxtLnByb3RvdHlwZSksaWUobS5wcm90b3R5cGUsXCJvbk1vdXNlRW50ZXJcIixbYV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLnByb3RvdHlwZSxcIm9uTW91c2VFbnRlclwiKSxtLnByb3RvdHlwZSksaWUobS5wcm90b3R5cGUsXCJvbk1vdXNlTGVhdmVcIixbb10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLnByb3RvdHlwZSxcIm9uTW91c2VMZWF2ZVwiKSxtLnByb3RvdHlwZSksaWUobS5wcm90b3R5cGUsXCJ1cGRhdGVDdXJyZW50QWN0aXZlU3ltYm9sXCIsW3NdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobS5wcm90b3R5cGUsXCJ1cGRhdGVDdXJyZW50QWN0aXZlU3ltYm9sXCIpLG0ucHJvdG90eXBlKSxpZShtLnByb3RvdHlwZSxcInNldENoYXJ0QXZhaWxhYmlsaXR5XCIsW2NdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobS5wcm90b3R5cGUsXCJzZXRDaGFydEF2YWlsYWJpbGl0eVwiKSxtLnByb3RvdHlwZSksaWUobS5wcm90b3R5cGUsXCJjaGFuZ2VTeW1ib2xcIixbbF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLnByb3RvdHlwZSxcImNoYW5nZVN5bWJvbFwiKSxtLnByb3RvdHlwZSksQz1pZShtLnByb3RvdHlwZSxcImNhbGN1bGF0ZVlheGlzV2lkdGhcIixbdV0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gZnVuY3Rpb24odCl7aWYodCl7dmFyIHI9ZS5jb250ZXh0LnN0eC5jaGFydC5jb250ZXh0Lm1lYXN1cmVUZXh0KHQudG9GaXhlZChlLnBpcCkpLndpZHRoKzIwO3I+ZS55QXhpc3dpZHRoJiYoZS55QXhpc3dpZHRoPXIsZS5zdHh4LmNoYXJ0LnlBeGlzLndpZHRoPXIsZS5zdHh4LmNhbGN1bGF0ZVlBeGlzUG9zaXRpb25zKCksZS5zdHh4LmRyYXcoKSl9fX19KSxFPWllKG0ucHJvdG90eXBlLFwidXBkYXRlWWF4aXNXaWR0aFwiLFtoXSx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITAsaW5pdGlhbGl6ZXI6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBmdW5jdGlvbigpe2lmKGUuc3R4eCYmZS5zdHh4Lm1hc3RlckRhdGEmJmUuc3R4eC5tYXN0ZXJEYXRhLmxlbmd0aCl7dmFyIHQ9ZS5jb250ZXh0LnN0eC5jdXJyZW50UXVvdGUoKTtpZih0JiZ0LkNsb3NlKWUuY2FsY3VsYXRlWWF4aXNXaWR0aCh0LkNsb3NlKTtlbHNle3ZhciByPWUuc3R4eC5tYXN0ZXJEYXRhLmZpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIGUuQ2xvc2V9KTtyJiZlLmNhbGN1bGF0ZVlheGlzV2lkdGgoci5DbG9zZSl9fX19fSksaWUobS5wcm90b3R5cGUsXCJuZXdDaGFydFwiLFtkXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0ucHJvdG90eXBlLFwibmV3Q2hhcnRcIiksbS5wcm90b3R5cGUpLGllKG0ucHJvdG90eXBlLFwicmVmcmVzaENoYXJ0XCIsW3BdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobS5wcm90b3R5cGUsXCJyZWZyZXNoQ2hhcnRcIiksbS5wcm90b3R5cGUpLGllKG0ucHJvdG90eXBlLFwiZGVzdHJveVwiLFtmXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0ucHJvdG90eXBlLFwiZGVzdHJveVwiKSxtLnByb3RvdHlwZSksbSk7dC5hPW9lfSkuY2FsbCh0aGlzLHIoNikudCl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX12YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG4peyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksdGhpcy5wYXJhbXM9bnx8e30sdGhpcy5zdHg9dCx0aGlzLnRvcE5vZGU9cjt2YXIgaT1lLmFzc2VtYmxlQ29udGV4dChyKTt0aGlzLmFkdmVydGlzZWQ9e30sci5DSVEuVUkuY29udGV4dD10aGlzO2Zvcih2YXIgYT0wO2E8aS5Db21wb25lbnRzLmxlbmd0aDthKyspaS5Db21wb25lbnRzW2FdLnNldENvbnRleHRQcml2YXRlKHRoaXMpfXZhciB0LHIsaTtyZXR1cm4gdD1lLGk9W3trZXk6XCJhc3NlbWJsZUNvbnRleHRcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5DSVF8fChlLkNJUT17fSksZS5DSVEuVUl8fChlLkNJUS5VST17fSksZS5DSVEuVUkuQ29tcG9uZW50c3x8KGUuQ0lRLlVJLkNvbXBvbmVudHM9W10pLGUuQ0lRLlVJfX1dLChyPVt7a2V5OlwiYWR2ZXJ0aXNlQXNcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuYWR2ZXJ0aXNlZFt0XT1lfX0se2tleTpcImdldEFkdmVydGlzZWRcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5hZHZlcnRpc2VkW2VdfX0se2tleTpcInNldExvYWRlclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMubG9hZGVyPWV9fSx7a2V5OlwiaXNNb2RhbFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCJcIiE9PXRoaXMuc3R4Lm9wZW5EaWFsb2d9fV0pJiZuKHQucHJvdG90eXBlLHIpLGkmJm4odCxpKSxlfSgpO3QuYT1pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlLHQpe3ZhciByPXtzdGF5UHV0OiExLHRpY2tzRnJvbUVkZ2VPZlNjcmVlbjo1LGdyYW51bGFyaXR5OjFlNn07dD1DSVEuZXh0ZW5kKHIsdCksci50ZW5zaW9uJiYoZS5jaGFydC50ZW5zaW9uPXQudGVuc2lvbiksZS50aWNrQW5pbWF0b3I9bmV3IENJUS5FYXNlTWFjaGluZShNYXRoLmVhc2VJbk91dEN1YmljLDMyMCk7dmFyIG49ITEsaT1udWxsO2UuYWRkRXZlbnRMaXN0ZW5lcihbXCJzeW1ib2xDaGFuZ2VcIixcImxheW91dFwiXSxmdW5jdGlvbihlKXtuPSExLGk9bnVsbH0pLGUucHJlcGVuZChcInVwZGF0ZUN1cnJlbnRNYXJrZXREYXRhXCIsZnVuY3Rpb24oZSx0LHIsbil7dHx8KHQ9dGhpcy5jaGFydCksbiYmbi5mcm9tVHJhZGUmJih0LmNsb3NlUGVuZGluZ0FuaW1hdGlvbnx8MD09PXQuY2xvc2VQZW5kaW5nQW5pbWF0aW9uKSYmKG4uZmluYWxDbG9zZT10LmNsb3NlUGVuZGluZ0FuaW1hdGlvbil9KSxlLmFwcGVuZChcInVwZGF0ZUNoYXJ0RGF0YVwiLGZ1bmN0aW9uKGUsdCxyKXtpZih0aGlzLm1haW5TZXJpZXNSZW5kZXJlciYmdGhpcy5tYWluU2VyaWVzUmVuZGVyZXIuc3VwcG9ydHNBbmltYXRpb24pcmV0dXJuITE7aWYoKHQ9dHx8dGhpcy5jaGFydCkubG9ja1Njcm9sbCl7dmFyIG49ZVtlLmxlbmd0aC0xXSxpPXQuZGF0YVNlZ21lbnRbdC5kYXRhU2VnbWVudC5sZW5ndGgtMV07aWYoIW58fCFpKXJldHVybjtuLkRUPmkuRFQmJnQuc2Nyb2xsPD10LmRhdGFTZWdtZW50Lmxlbmd0aCYmdC5zY3JvbGwrK319KSxlLnByZXBlbmQoXCJ1cGRhdGVDaGFydERhdGFcIixmdW5jdGlvbihlLHIsYSl7dmFyIG89dGhpcztpZihyfHwocj1vLmNoYXJ0KSxyJiZyLmRlZmF1bHRDaGFydFN0eWxlQ29uZmlnJiZcIm5vbmVcIiE9ci5kZWZhdWx0Q2hhcnRTdHlsZUNvbmZpZyYmKHZvaWQgMD09PWF8fCFhLmFuaW1hdGlvbkVudHJ5JiYhYS5zZWNvbmRhcnlTZXJpZXMpKXt2YXIgcz1vLnRpY2tBbmltYXRvcixjPXRoaXMubWFpblNlcmllc1JlbmRlcmVyJiZ0aGlzLm1haW5TZXJpZXNSZW5kZXJlci5zdXBwb3J0c0FuaW1hdGlvbjtpZihjKXtpZighcylyZXR1cm4gdm9pZCBjb25zb2xlLndhcm4oXCJBbmltYXRpb24gcGx1Zy1pbiBjYW4gbm90IHJ1biBiZWNhdXNlIHRoZSB0aWNrQW5pbWF0b3IgaGFzIG5vdCBiZWVuIGRlY2xhcmVkLiBTZWUgaW5zdHJ1Y3Rpb25zIGluIGFuaW1hdGlvbi5qc1wiKTtpZih0aGlzLnByZXZTeW1ib2whPXIuc3ltYm9sJiYodGhpcy5wcmV2UXVvdGU9MCxyLmNsb3NlUGVuZGluZ0FuaW1hdGlvbj1udWxsLHRoaXMucHJldlN5bWJvbD1yLnN5bWJvbCksVCgpLHMuc3RvcCgpLGUubGVuZ3RoPjIpcmV0dXJufXZhciBsPUNJUS5jbG9uZShhKTtsfHwobD17fSksbC5hbmltYXRpb25FbnRyeT0hMCxsLmJ5cGFzc0dvdmVybm9yPSEwLGwubm9DcmVhdGVEYXRhU2V0PSExLGwuZmlyc3RMb29wPSEwO3ZhciB1PXRoaXMuY2hhcnQuc3ltYm9sLGg9dGhpcy5sYXlvdXQucGVyaW9kaWNpdHksZD10aGlzLmxheW91dC5pbnRlcnZhbCxwPXRoaXMubGF5b3V0LnRpbWVVbml0O2lmKGMpe3ZhciBmPWVbZS5sZW5ndGgtMV07dGhpcy5wcmV2UXVvdGU9dGhpcy5jdXJyZW50UXVvdGUoKTt2YXIgbT0hMTtpZigxPT1oJiYyPT1lLmxlbmd0aCYmKHRoaXMucHJldlF1b3RlPWVbMF0sRSh0aGlzLnByZXZRdW90ZSkpLCFmfHwhZi5DbG9zZXx8IXRoaXMucHJldlF1b3RlKXtpZih0aGlzLnByZXZRdW90ZSYmci5sb2NrU2Nyb2xsJiYobnVsbD09PWYuQ2xvc2UmJihzLnN0b3AoKSxUKCkpLG51bGwhPT1yLmVudHJ5VGljayYmdm9pZCAwIT09ci5lbnRyeVRpY2spKXt2YXIgZz1yLmRhdGFTZXQubGVuZ3RoLXIuZW50cnlUaWNrKzE7dGhpcy5zZXRNYXhUaWNrcyhnKzMpLHIuc2Nyb2xsPWcrMX1yZXR1cm4hMX1pZihudWxsPT09dGhpcy5wcmV2UXVvdGUuQ2xvc2Upe3ZhciBiPXRoaXMuY2hhcnQuZGF0YVNldFt0aGlzLmNoYXJ0LmRhdGFTZXQubGVuZ3RoLTJdO2lmKCFifHwhYi5DbG9zZSlyZXR1cm4hMTt0aGlzLnByZXZRdW90ZT1ifWlmKHRoaXMuZXh0ZW5kZWRIb3VycyYmci5tYXJrZXQubWFya2V0X2RlZil7dmFyIHk9Zi5EVDtpZihDSVEuQ2hhcnRFbmdpbmUuaXNEYWlseUludGVydmFsKGQpKW49IXIubWFya2V0LmlzTWFya2V0RGF0ZSh5KTtlbHNlIGlmKCFpfHxpPD15KXt2YXIgdj1yLm1hcmtldC5nZXRTZXNzaW9uKHkpO249IShcIlwiPT09dnx8dGhpcy5sYXlvdXQubWFya2V0U2Vzc2lvbnMmJnRoaXMubGF5b3V0Lm1hcmtldFNlc3Npb25zW3ZdKSxpPXIubWFya2V0W24/XCJnZXROZXh0T3BlblwiOlwiZ2V0TmV4dENsb3NlXCJdKHkpfWlmKG4pcmV0dXJuIHRoaXMuZHJhdygpLCExfXZhciBfPWg7XCJzZWNvbmRcIj09ZHx8XCJzZWNvbmRcIj09cD9fKj0xZTM6XCJtaW51dGVcIiE9ZCYmXCJtaW51dGVcIiE9cHx8KF8qPTZlNCksaXNOYU4oZCl8fChfKj1kKSxtPVwiZGF5XCI9PWR8fFwiZGF5XCI9PXA/Zi5EVC5nZXREYXRlKCkhPXRoaXMucHJldlF1b3RlLkRULmdldERhdGUoKTpcIndlZWtcIj09ZHx8XCJ3ZWVrXCI9PXA/Zi5EVC5nZXREYXRlKCk+PXRoaXMucHJldlF1b3RlLkRULmdldERhdGUoKSs3OlwibW9udGhcIj09ZHx8XCJtb250aFwiPT1wP2YuRFQuZ2V0TW9udGgoKSE9dGhpcy5wcmV2UXVvdGUuRFQuZ2V0TW9udGgoKTpmLkRULmdldFRpbWUoKT49dGhpcy5wcmV2UXVvdGUuRFQuZ2V0VGltZSgpK187dmFyIFM9ISh0aGlzLm1haW5TZXJpZXNSZW5kZXJlciYmdGhpcy5tYWluU2VyaWVzUmVuZGVyZXIuc3RhbmRhbG9uZUJhcnN8fHRoaXMuc3RhbmRhbG9uZUJhcnNbdGhpcy5sYXlvdXQuY2hhcnRUeXBlXSksdz0wO2lmKG0pe2lmKCF0aGlzLmFuaW1hdGlvbnMuem9vbS5oYXNDb21wbGV0ZWQpcmV0dXJuITE7dmFyIHg9dGhpcy5sYXlvdXQuY2FuZGxlV2lkdGg7aWYoci5zY3JvbGw8PXIubWF4VGlja3MmJiFyLmxvY2tTY3JvbGwmJnRoaXMubWljcm9waXhlbHM+MCl7dmFyIGs9TWF0aC5jZWlsKHRoaXMubWljcm9waXhlbHMveCk7dGhpcy5zY3JvbGwrPWssdGhpcy5taWNyb3BpeGVscy09ayp4fWlmKHIuc2Nyb2xsPD1yLm1heFRpY2tzJiYhci5sb2NrU2Nyb2xsKXRoaXMucHJldmlvdXNNaWNyb1BpeGVscz10aGlzLm1pY3JvcGl4ZWxzLHRoaXMubmV4dE1pY3JvUGl4ZWxzPXRoaXMubWljcm9waXhlbHMreCx3PS0xKngsci5kYXRhU2VnbWVudCYmci5kYXRhU2VnbWVudC5sZW5ndGg8ci5tYXhUaWNrcy10LnRpY2tzRnJvbUVkZ2VPZlNjcmVlbiYmIXQuc3RheVB1dCYmKHIuc2Nyb2xsKyssdGhpcy5uZXh0TWljcm9QaXhlbHM9dGhpcy5taWNyb3BpeGVscyksci5hbmltYXRpbmdIb3Jpem9udGFsU2Nyb2xsPVMmJiFyLmxvY2tTY3JvbGwsci5wcmV2aW91c0RhdGFTZXRMZW5ndGg9ci5kYXRhU2V0Lmxlbmd0aDtlbHNlIGlmKHIubG9ja1Njcm9sbClpZih2b2lkIDAhPT1yLmVudHJ5VGljayYmbnVsbCE9PXIuZW50cnlUaWNrKXt2YXIgTz1yLmRhdGFTZXQubGVuZ3RoLXIuZW50cnlUaWNrKzE7dGhpcy5zZXRNYXhUaWNrcyhPKzMpLHIuc2Nyb2xsPU8rMX1lbHNlIHRoaXMuc2V0TWF4VGlja3Moci5kYXRhU2V0Lmxlbmd0aCsoTWF0aC5mbG9vcihyLmRhdGFTZXQubGVuZ3RoLzUpfHwyKSksci5zY3JvbGw9ci5kYXRhU2V0Lmxlbmd0aDtlbHNlIHIuc2Nyb2xsKz0xfXIuY2xvc2VQZW5kaW5nQW5pbWF0aW9uPWYuQ2xvc2U7dmFyIEM9bSYmIVM/Zi5PcGVuOnRoaXMucHJldlF1b3RlLkNsb3NlO3JldHVybiBzLnJ1bihmdW5jdGlvbihlLG4saSl7cmV0dXJuIGZ1bmN0aW9uKGEpe3ZhciBjPWEuQ2xvc2U7aWYoIXIuZGF0YVNldC5sZW5ndGh8fHUhPXIuc3ltYm9sfHxoIT1vLmxheW91dC5wZXJpb2RpY2l0eXx8ZCE9by5sYXlvdXQuaW50ZXJ2YWx8fHAhPW8ubGF5b3V0LnRpbWVVbml0KXJldHVybiBzLnN0b3AoKSx2b2lkIFQoKTt2YXIgZj1DSVEuY2xvbmUoZSk7Zi5DbG9zZT1NYXRoLnJvdW5kKGMqdC5ncmFudWxhcml0eSkvdC5ncmFudWxhcml0eSxyLmFuaW1hdGluZ0hvcml6b250YWxTY3JvbGwmJihvLm1pY3JvcGl4ZWxzPWEubWljcm9waXhlbHMsci5sYXN0VGlja09mZnNldD1hLmxpbmVPZmZzZXQpLGwudXBkYXRlRGF0YVNlZ21lbnRJblBsYWNlPSFzLmhhc0NvbXBsZXRlZDt2YXIgbT1zLmZjKERhdGUubm93KCktcy5zdGFydFRpbWUsMCwxLHMubXMpO2YudGlja0FuaW1hdGlvblByb2dyZXNzPU1hdGgubWluKG0sMSksZi5jaGFydEp1c3RBZHZhbmNlZD1pO3ZhciBnPVtmXTtpJiZnLnVuc2hpZnQobiksby51cGRhdGVDaGFydERhdGEoZyxyLGwpLGwuZmlyc3RMb29wPSExLHMuaGFzQ29tcGxldGVkJiZUKCl9fShmLENJUS5jbG9uZSh0aGlzLnByZXZRdW90ZSksbSkse0Nsb3NlOkMsbWljcm9waXhlbHM6ci5sb2NrU2Nyb2xsPzA6dGhpcy5uZXh0TWljcm9QaXhlbHMsbGluZU9mZnNldDp3fSx7Q2xvc2U6Zi5DbG9zZSxtaWNyb3BpeGVsczp0aGlzLm1pY3JvcGl4ZWxzLGxpbmVPZmZzZXQ6MH0pLCEwfX1mdW5jdGlvbiBFKGUpe2lmKHIubWFzdGVyRGF0YSlmb3IodmFyIHQ9ci5tYXN0ZXJEYXRhLmxlbmd0aC0xO3Q+PTA7dC0tKXt2YXIgbj1yLm1hc3RlckRhdGFbdF07aWYobi5DbG9zZXx8MD09PW4uQ2xvc2UpcmV0dXJuIG4uQ2xvc2U9ZS5DbG9zZSxlLkxhc3RTaXplJiYobi5MYXN0U2l6ZT1lLkxhc3RTaXplKSxlLkxhc3RUaW1lJiYobi5MYXN0VGltZT1lLkxhc3RUaW1lKSxvLnVwZGF0ZUN1cnJlbnRNYXJrZXREYXRhKHtDbG9zZTpuLkNsb3NlLERUOm4uRFQsTGFzdFNpemU6bi5MYXN0U2l6ZSxMYXN0VGltZTpuLkxhc3RUaW1lfSksdm9pZCBvLmNyZWF0ZURhdGFTZXQobnVsbCxudWxsLHthcHBlbmRpbmc6ITB9KX19ZnVuY3Rpb24gVCgpe2lmKHIuYW5pbWF0aW5nSG9yaXpvbnRhbFNjcm9sbCYmKHIuYW5pbWF0aW5nSG9yaXpvbnRhbFNjcm9sbD0hMSxvLm1pY3JvcGl4ZWxzPW8ubmV4dE1pY3JvUGl4ZWxzPW8ucHJldmlvdXNNaWNyb1BpeGVscyxyLmxhc3RUaWNrT2Zmc2V0PTApLG51bGwhPT1yLmNsb3NlUGVuZGluZ0FuaW1hdGlvbil7dmFyIGU9ci5jbG9zZVBlbmRpbmdBbmltYXRpb247ci5jbG9zZVBlbmRpbmdBbmltYXRpb249bnVsbCxFKHtDbG9zZTplfSl9fX0pfXIuZCh0LFwiYVwiLGZ1bmN0aW9uKCl7cmV0dXJuIG59KX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSx0LHIsbil7ZnVuY3Rpb24gaShyKXt2YXIgbj1lW3JdLGk9ZVtyKzFdLGE9ZVtyKzJdLG89ZVtyKzNdLHM9ZVtyKzRdLGM9ZVtyKzVdO2lmKGlzTmFOKG4pfHxpc05hTihhKXx8aXNOYU4ocyl8fGlzTmFOKGkpfHxpc05hTihvKXx8aXNOYU4oYykpcmV0dXJuIG51bGw7dmFyIGw9TWF0aC5zcXJ0KE1hdGgucG93KGEtbiwyKStNYXRoLnBvdyhvLWksMikpLHU9TWF0aC5zcXJ0KE1hdGgucG93KHMtYSwyKStNYXRoLnBvdyhjLW8sMikpLGg9dCpsLyhsK3UpLGQ9dC1oO3JldHVyblthK2gqKG4tcyksbytoKihpLWMpLGEtZCoobi1zKSxvLWQqKGktYyldfSghdHx8dDwwKSYmKHQ9MCk7Zm9yKHZhciBhPVtdLG89ZS5sZW5ndGgscz0wO3M8by00O3MrPTIpYT1hLmNvbmNhdChpKHMpKTtpZihudWxsIT09YSl7bnx8KG49W10pO3ZhciBjPTA7ci5tb3ZlVG8oZVswXSxlWzFdKSx1KDApLHIucXVhZHJhdGljQ3VydmVUbyhhWzBdLGFbMV0sZVsyXSxlWzNdKTtmb3IodmFyIGw9MjtsPG8tNTtsKz0yKXUobCksci5iZXppZXJDdXJ2ZVRvKGFbMipsLTJdLGFbMipsLTFdLGFbMipsXSxhWzIqbCsxXSxlW2wrMl0sZVtsKzNdKTt1KG8tNCksci5xdWFkcmF0aWNDdXJ2ZVRvKGFbMipvLTEwXSxhWzIqby05XSxlW28tMl0sZVtvLTFdKX1mdW5jdGlvbiB1KHQpe2lmKGMhPT1uLmxlbmd0aCl7dmFyIGk9bltjXTtpLmNvb3JkWzBdPT09ZVt0XSYmaS5jb29yZFsxXT09PWVbdCsxXSYmKHIuc3Ryb2tlKCksci5zdHJva2VTdHlsZT1pLmNvbG9yLHIuc2V0TGluZURhc2goaS5wYXR0ZXJuKSxyLmxpbmVEYXNoT2Zmc2V0PTAsci5saW5lV2lkdGg9aS53aWR0aCxyLmJlZ2luUGF0aCgpLHIubW92ZVRvKGVbdF0sZVt0KzFdKSxjKyspfX19ci5kKHQsXCJhXCIsZnVuY3Rpb24oKXtyZXR1cm4gbn0pfSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtpZDpcInJlc2l6ZS1pY29uLXVzYWdlXCIsdmlld0JveDpcIjAgMCA2IDE0XCIsdXJsOnIucCtcInNwcml0ZS0yNzg2ZWEuc21hcnRjaGFydHMuc3ZnI3Jlc2l6ZS1pY29uLXVzYWdlXCIsdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51cmx9fX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17aWQ6XCJqdW1wLXRvLXRvZGF5LXVzYWdlXCIsdmlld0JveDpcIjAgMCAxNS4xIDEzLjRcIix1cmw6ci5wK1wic3ByaXRlLTI3ODZlYS5zbWFydGNoYXJ0cy5zdmcjanVtcC10by10b2RheS11c2FnZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2lkOlwiaWMtbWF4aW1pemUtdXNhZ2VcIix2aWV3Qm94OlwiMCAwIDE2IDE2XCIsdXJsOnIucCtcInNwcml0ZS0yNzg2ZWEuc21hcnRjaGFydHMuc3ZnI2ljLW1heGltaXplLXVzYWdlXCIsdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51cmx9fX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihlKXtyLmQodCxcImFcIixmdW5jdGlvbigpe3JldHVybiBUfSk7dmFyIG4saSxhLG8scyxjLGwsdT1yKDEpLGg9cig4KSxkPXIoMTY2KSxwPXIoMiksZj1yKDIwKSxtPXIoMTY3KSxnPXIoOSksYj1yKDIxKSx5PXIoMyk7ZnVuY3Rpb24gdihlLHQpe3ZhciByPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpLHIucHVzaC5hcHBseShyLG4pfXJldHVybiByfWZ1bmN0aW9uIF8oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/dihyLCEwKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe1MoZSx0LHJbdF0pfSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhyKSk6dihyKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLHQpKX0pfXJldHVybiBlfWZ1bmN0aW9uIFMoZSx0LHIpe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09cixlfWZ1bmN0aW9uIHcoZSx0KXtpZihudWxsPT1lKXJldHVybnt9O3ZhciByLG4saT1mdW5jdGlvbihlLHQpe2lmKG51bGw9PWUpcmV0dXJue307dmFyIHIsbixpPXt9LGE9T2JqZWN0LmtleXMoZSk7Zm9yKG49MDtuPGEubGVuZ3RoO24rKylyPWFbbl0sdC5pbmRleE9mKHIpPj0wfHwoaVtyXT1lW3JdKTtyZXR1cm4gaX0oZSx0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgYT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO2ZvcihuPTA7bjxhLmxlbmd0aDtuKyspcj1hW25dLHQuaW5kZXhPZihyKT49MHx8T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUscikmJihpW3JdPWVbcl0pfXJldHVybiBpfWZ1bmN0aW9uIHgoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fWZ1bmN0aW9uIGsoZSx0LHIsbixpKXt2YXIgYT17fTtyZXR1cm4gT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbihlKXthW2VdPW5bZV19KSxhLmVudW1lcmFibGU9ISFhLmVudW1lcmFibGUsYS5jb25maWd1cmFibGU9ISFhLmNvbmZpZ3VyYWJsZSwoXCJ2YWx1ZVwiaW4gYXx8YS5pbml0aWFsaXplcikmJihhLndyaXRhYmxlPSEwKSxhPXIuc2xpY2UoKS5yZXZlcnNlKCkucmVkdWNlKGZ1bmN0aW9uKHIsbil7cmV0dXJuIG4oZSx0LHIpfHxyfSxhKSxpJiZ2b2lkIDAhPT1hLmluaXRpYWxpemVyJiYoYS52YWx1ZT1hLmluaXRpYWxpemVyP2EuaW5pdGlhbGl6ZXIuY2FsbChpKTp2b2lkIDAsYS5pbml0aWFsaXplcj12b2lkIDApLHZvaWQgMD09PWEuaW5pdGlhbGl6ZXImJihPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LGEpLGE9bnVsbCksYX1mdW5jdGlvbiBPKCl7cmV0dXJuW3tpZDpcIm1vdW50YWluXCIsdGV4dDplLnRyYW5zbGF0ZShcIkxpbmVcIiksY2FuZGxlT25seTohMSxpY29uOnAuRX0se2lkOlwibGluZVwiLHRleHQ6ZS50cmFuc2xhdGUoXCJEb3RcIiksY2FuZGxlT25seTohMSxpY29uOnAucn0se2lkOlwiY29sb3JlZF9saW5lXCIsdGV4dDplLnRyYW5zbGF0ZShcIkNvbG9yZWQgRG90XCIpLGNhbmRsZU9ubHk6ITEsaWNvbjpwLkR9LHtpZDpcInNwbGluZVwiLHRleHQ6ZS50cmFuc2xhdGUoXCJTcGxpbmVcIiksY2FuZGxlT25seTohMSxpY29uOnAuUX0se2lkOlwiYmFzZWxpbmVcIix0ZXh0OmUudHJhbnNsYXRlKFwiQmFzZWxpbmVcIiksY2FuZGxlT25seTohMSxpY29uOnAuZX0se2lkOlwiY2FuZGxlXCIsdGV4dDplLnRyYW5zbGF0ZShcIkNhbmRsZVwiKSxjYW5kbGVPbmx5OiEwLGljb246cC5mfSx7aWQ6XCJjb2xvcmVkX2JhclwiLHRleHQ6ZS50cmFuc2xhdGUoXCJPSExDXCIpLGNhbmRsZU9ubHk6ITAsaWNvbjpwLkd9LHtpZDpcImhvbGxvd19jYW5kbGVcIix0ZXh0OmUudHJhbnNsYXRlKFwiSG9sbG93IENhbmRsZVwiKSxjYW5kbGVPbmx5OiEwLGljb246cC54fSx7aWQ6XCJoZWlraW5hc2hpXCIsdGV4dDplLnRyYW5zbGF0ZShcIkhlaWtpbiBBc2hpXCIpLGNhbmRsZU9ubHk6ITAsaWNvbjpwLnd9LHtpZDpcImthZ2lcIix0ZXh0OmUudHJhbnNsYXRlKFwiS2FnaVwiKSxjYW5kbGVPbmx5OiEwLGljb246cC5CLHNldHRpbmdzT25DbGljazohMH0se2lkOlwibGluZWJyZWFrXCIsdGV4dDplLnRyYW5zbGF0ZShcIkxpbmUgQnJlYWtcIiksY2FuZGxlT25seTohMCxpY29uOnAuQyxzZXR0aW5nc09uQ2xpY2s6ITB9LHtpZDpcInJlbmtvXCIsdGV4dDplLnRyYW5zbGF0ZShcIlJlbmtvXCIpLGNhbmRsZU9ubHk6ITAsaWNvbjpwLk0sc2V0dGluZ3NPbkNsaWNrOiEwfSx7aWQ6XCJyYW5nZWJhcnNcIix0ZXh0OmUudHJhbnNsYXRlKFwiUmFuZ2UgQmFyc1wiKSxjYW5kbGVPbmx5OiEwLGljb246cC5MLHNldHRpbmdzT25DbGljazohMH0se2lkOlwicGFuZGZcIix0ZXh0OmUudHJhbnNsYXRlKFwiUG9pbnQgJiBGaWd1cmVcIiksY2FuZGxlT25seTohMCxpY29uOnAuSSxzZXR0aW5nc09uQ2xpY2s6ITB9LHtpZDpcInRhYmxlXCIsdGV4dDplLnRyYW5zbGF0ZShcIlRhYmxlXCIpLGNhbmRsZU9ubHk6ITEsaWNvbjpwLlN9XX12YXIgQz1PKCkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiFlLmNhbmRsZU9ubHl9KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9KSxFPU8oKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2V0dGluZ3NPbkNsaWNrfSk7dmFyIFQ9KG49dS5hY3Rpb24uYm91bmQsaT11LmFjdGlvbi5ib3VuZCxhPXUuYWN0aW9uLmJvdW5kLG89dS5hY3Rpb24uYm91bmQscz11LmFjdGlvbi5ib3VuZCxsPWsoKGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHIpe3ZhciBuLGksYSxvLHM9dGhpczshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLG49dGhpcyxpPVwidHlwZVwiLG89dGhpcywoYT1sKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KG4saSx7ZW51bWVyYWJsZTphLmVudW1lcmFibGUsY29uZmlndXJhYmxlOmEuY29uZmlndXJhYmxlLHdyaXRhYmxlOmEud3JpdGFibGUsdmFsdWU6YS5pbml0aWFsaXplcj9hLmluaXRpYWxpemVyLmNhbGwobyk6dm9pZCAwfSksdGhpcy5vbkNoYXJ0VHlwZUNoYW5nZWQ9dm9pZCAwLHRoaXMub25Db250ZXh0UmVhZHk9ZnVuY3Rpb24oKXtzLmFnZ3JlZ2F0ZXM9e2hlaWtpbmFzaGk6ITAsa2FnaTp7dGl0bGU6ZS50cmFuc2xhdGUoXCJLYWdpXCIpLGlucHV0czpbe2lkOlwia2FnaVwiLHRpdGxlOmUudHJhbnNsYXRlKFwiUmV2ZXJzYWwgUGVyY2VudGFnZVwiKSx0eXBlOlwibnVtZXJpY2lucHV0XCJ9XX0scmVua286e3RpdGxlOmUudHJhbnNsYXRlKFwiUmVua29cIiksaW5wdXRzOlt7aWQ6XCJyZW5rb1wiLHRpdGxlOmUudHJhbnNsYXRlKFwiUmFuZ2VcIiksdHlwZTpcIm51bWVyaWNpbnB1dFwifV19LGxpbmVicmVhazp7dGl0bGU6ZS50cmFuc2xhdGUoXCJMaW5lIEJyZWFrXCIpLGlucHV0czpbe2lkOlwicHJpY2VMaW5lc1wiLHRpdGxlOmUudHJhbnNsYXRlKFwiUHJpY2UgTGluZXNcIiksdHlwZTpcIm51bWVyaWNpbnB1dFwiLG1heDoxMCxzdGVwOjEsbWluOjF9XX0scmFuZ2ViYXJzOnt0aXRsZTplLnRyYW5zbGF0ZShcIlJhbmdlIEJhcnNcIiksaW5wdXRzOlt7aWQ6XCJyYW5nZVwiLHRpdGxlOmUudHJhbnNsYXRlKFwiUmFuZ2VcIiksdHlwZTpcIm51bWVyaWNpbnB1dFwifV19LHBhbmRmOnt0aXRsZTplLnRyYW5zbGF0ZShcIlBvaW50ICYgRmlndXJlXCIpLGlucHV0czpbe2lkOlwiYm94XCIsdGl0bGU6ZS50cmFuc2xhdGUoXCJCb3ggU2l6ZVwiKSx0eXBlOlwibnVtZXJpY2lucHV0XCJ9LHtpZDpcInJldmVyc2FsXCIsdGl0bGU6ZS50cmFuc2xhdGUoXCJSZXZlcnNhbFwiKSx0eXBlOlwibnVtZXJpY2lucHV0XCJ9XX19LHMuY2hhcnRUeXBlcz1PKCkscy5zZXRDaGFydFR5cGVGcm9tTGF5b3V0KHMuc3R4LmxheW91dCksT2JqZWN0KHUucmVhY3Rpb24pKGZ1bmN0aW9uKCl7cmV0dXJuIHMubWFpblN0b3JlLnN0YXRlLmNoYXJ0VHlwZX0sZnVuY3Rpb24oKXt2b2lkIDAhPT1zLm1haW5TdG9yZS5zdGF0ZS5jaGFydFR5cGUmJnMuc2V0VHlwZShzLm1haW5TdG9yZS5zdGF0ZS5jaGFydFR5cGUpfSl9LHRoaXMudXBkYXRlQWdncmVnYXRlPWZ1bmN0aW9uKGUpe3ZhciB0PSEwLHI9ITEsbj12b2lkIDA7dHJ5e2Zvcih2YXIgaSxhPWVbU3ltYm9sLml0ZXJhdG9yXSgpOyEodD0oaT1hLm5leHQoKSkuZG9uZSk7dD0hMCl7dmFyIG89aS52YWx1ZSxjPW8uaWQsbD1vLnZhbHVlLHU9Q0lRLmRlcml2ZUZyb21PYmplY3RDaGFpbihzLnN0eC5sYXlvdXQsYyk7dS5vYmpbdS5tZW1iZXJdPWx9fWNhdGNoKGUpe3I9ITAsbj1lfWZpbmFsbHl7dHJ5e3R8fG51bGw9PWEucmV0dXJufHxhLnJldHVybigpfWZpbmFsbHl7aWYocil0aHJvdyBufX1zLnN0eC5jaGFuZ2VPY2N1cnJlZChcImxheW91dFwiKSxzLnN0eC5jcmVhdGVEYXRhU2V0KCkscy5zdHguZHJhdygpfSx0aGlzLm1haW5TdG9yZT1yLE9iamVjdCh1LndoZW4pKGZ1bmN0aW9uKCl7cmV0dXJuIHMuY29udGV4dH0sdGhpcy5vbkNvbnRleHRSZWFkeSksdGhpcy5tZW51PW5ldyBoLmEocix7cm91dGU6XCJjaGFydC10eXBlXCJ9KSx0aGlzLmxpc3Q9bmV3IGQuYSh7Z2V0Q29udGV4dDpmdW5jdGlvbigpe3JldHVybiBzLmNvbnRleHR9LGdldEl0ZW1zOmZ1bmN0aW9uKCl7cmV0dXJuIHMudHlwZXN9fSksdGhpcy5zZXR0aW5nc0RpYWxvZz1uZXcgZi5hKHttYWluU3RvcmU6cixvbkNoYW5nZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHMudXBkYXRlQWdncmVnYXRlKGUpfX0pLHRoaXMuQ2hhcnRUeXBlTWVudT10aGlzLm1lbnUuY29ubmVjdChnLmEpLHRoaXMuQ2hhcnRUeXBlTGlzdD10aGlzLmxpc3QuY29ubmVjdChtLmEpLHRoaXMuQWdncmVnYXRlQ2hhcnRTZXR0aW5nc0RpYWxvZz10aGlzLnNldHRpbmdzRGlhbG9nLmNvbm5lY3QoYi5hKX12YXIgcixuLGk7cmV0dXJuIHI9dCwobj1be2tleTpcInNldFR5cGVGcm9tVUlcIix2YWx1ZTpmdW5jdGlvbihlKXt2b2lkIDA9PT10aGlzLmNoYXJ0VHlwZVByb3A/dGhpcy5zZXRUeXBlKGUpOmNvbnNvbGUuZXJyb3IoXCJDaGFuZ2luZyBjaGFydCB0eXBlIGRvZXMgbm90aGluZyBiZWNhdXNlIGNoYXJ0VHlwZSBwcm9wIGlzIGJlaW5nIHNldC4gQ29uc2lkZXIgb3ZlcnJpZGluZyB0aGUgb25DaGFuZ2UgcHJvcCBpbiA8Q2hhcnRUeXBlcyAvPlwiKX19LHtrZXk6XCJzZXRUeXBlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7T2JqZWN0KHkuZCkoeS5iLkNoYXJ0Q29udHJvbCx5LmEuQ2hhcnRUeXBlLGUpLGV8fChlPVwibW91bnRhaW5cIiksXCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPXRoaXMudHlwZXMuZmluZChmdW5jdGlvbih0KXtyZXR1cm4gdC5pZD09PWV9KSksZS5pZCE9PXRoaXMudHlwZS5pZCYmKFwidGFibGVcIiE9PWUuaWQ/KFwic3BsaW5lXCI9PT1lLmlkPyh0aGlzLnN0eC5jaGFydC50ZW5zaW9uPXRoaXMuc3R4LmxheW91dC50ZW5zaW9uPS41LHRoaXMuc3R4LnNldENoYXJ0VHlwZShcIm1vdW50YWluXCIpKToodGhpcy5zdHguY2hhcnQudGVuc2lvbj0wLGRlbGV0ZSB0aGlzLnN0eC5sYXlvdXQudGVuc2lvbix0aGlzLmFnZ3JlZ2F0ZXNbZS5pZF0/KHRoaXMuc3R4LmNoYXJ0LmJhc2VsaW5lLnVzZXJMZXZlbD0hMSx0aGlzLnN0eC5zZXRBZ2dyZWdhdGlvblR5cGUoZS5pZCksdGhpcy5zdHguY2hhcnQuYmFzZWxpbmUudXNlckxldmVsPW51bGwpOnRoaXMuc3R4LnNldENoYXJ0VHlwZShlLmlkKSksdGhpcy50eXBlPWUpOnRoaXMubWFpblN0b3JlLmNoYXJ0VGFibGUuc2V0T3BlbighMCkpfX0se2tleTpcInVwZGF0ZVByb3BzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5vbkNoYXJ0VHlwZUNoYW5nZWQ9ZX19LHtrZXk6XCJzaG93QWdncmVnYXRlRGlhbG9nXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztlIT09dGhpcy50eXBlLmlkJiZ0aGlzLnNldFR5cGUoZSk7dmFyIHI9dGhpcy5hZ2dyZWdhdGVzW2VdO3RoaXMuc2V0dGluZ3NEaWFsb2cudGl0bGU9ci50aXRsZTt2YXIgbj1yLmlucHV0cy5tYXAoZnVuY3Rpb24oZSl7dmFyIHI9ZS5pZCxuPXcoZSxbXCJpZFwiXSksaT1cImJveFwiPT09cnx8XCJyZXZlcnNhbFwiPT09cj9cInBhbmRmLlwiLmNvbmNhdChyKTpyLGE9Q0lRLmRlcml2ZUZyb21PYmplY3RDaGFpbih0LnN0eC5sYXlvdXQsaSksbz1hLm9ialthLm1lbWJlcl0scz10LnN0eC5jaGFydC5kZWZhdWx0Q2hhcnRTdHlsZUNvbmZpZ1tyXTtyZXR1cm4gXyh7aWQ6aSx2YWx1ZTpudWxsIT1vP286cyxkZWZhdWx0VmFsdWU6c30sbil9KTt0aGlzLnNldHRpbmdzRGlhbG9nLml0ZW1zPW4sdGhpcy5zZXR0aW5nc0RpYWxvZy5zZXRPcGVuKCEwKX19LHtrZXk6XCJzZXRDaGFydFR5cGVGcm9tTGF5b3V0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRDaGFydFR5cGVGcm9tTGF5b3V0KGUpLHI9dGhpcy5jaGFydFR5cGVzLmZpbmRJbmRleChmdW5jdGlvbihlKXtyZXR1cm4gZS5pZD09PXR9KTt0aGlzLnR5cGU9dGhpcy5jaGFydFR5cGVzW3JdfX0se2tleTpcImdldENoYXJ0VHlwZUZyb21MYXlvdXRcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS50ZW5zaW9uP1wic3BsaW5lXCI6dGhpcy5hZ2dyZWdhdGVzW2UuYWdncmVnYXRpb25UeXBlXT9lLmFnZ3JlZ2F0aW9uVHlwZTplLmNoYXJ0VHlwZX19LHtrZXk6XCJpc1R5cGVDYW5kbGVcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9dGhpcy50eXBlcy5maW5kKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkPT09ZX0pKSwtMT09PUMuaW5kZXhPZihlLmlkKX19LHtrZXk6XCJjb250ZXh0XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0LmNvbnRleHR9fSx7a2V5Olwic3R4XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGV4dC5zdHh9fSx7a2V5OlwiY2hhcnRUeXBlUHJvcFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1haW5TdG9yZS5zdGF0ZS5jaGFydFR5cGV9fSx7a2V5OlwiaXNDYW5kbGVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4tMT09PUMuaW5kZXhPZih0aGlzLnR5cGUuaWQpfX0se2tleTpcImlzU3BsaW5lXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuXCJzcGxpbmVcIj09PXRoaXMudHlwZS5pZH19LHtrZXk6XCJpc0FnZ3JlZ2F0ZUNoYXJ0XCIsZ2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4hIUUuZmluZChmdW5jdGlvbih0KXtyZXR1cm4gdC5pZD09PWUuc3R4LmxheW91dC5hZ2dyZWdhdGlvblR5cGV9KX19LHtrZXk6XCJ0eXBlc1wiLGdldDpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1cInRpY2tcIj09PXRoaXMubWFpblN0b3JlLnRpbWVwZXJpb2QudGltZVVuaXQ7cmV0dXJuIHZvaWQgMD09PXRoaXMuY2hhcnRUeXBlcyYmKHRoaXMuY2hhcnRUeXBlcz1PKCkpLHRoaXMuY2hhcnRUeXBlcy5tYXAoZnVuY3Rpb24ocil7cmV0dXJuIF8oe30scix7YWN0aXZlOnIuaWQ9PT1lLnR5cGUuaWQsZGlzYWJsZWQ6ISFyLmNhbmRsZU9ubHkmJnR9KX0pfX1dKSYmeChyLnByb3RvdHlwZSxuKSxpJiZ4KHIsaSksdH0oKSkucHJvdG90eXBlLFwidHlwZVwiLFt1Lm9ic2VydmFibGVdLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCxpbml0aWFsaXplcjpmdW5jdGlvbigpe3JldHVyblwibW91bnRhaW5cIn19KSxrKGMucHJvdG90eXBlLFwic2V0VHlwZUZyb21VSVwiLFtuXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGMucHJvdG90eXBlLFwic2V0VHlwZUZyb21VSVwiKSxjLnByb3RvdHlwZSksayhjLnByb3RvdHlwZSxcInNldFR5cGVcIixbaV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjLnByb3RvdHlwZSxcInNldFR5cGVcIiksYy5wcm90b3R5cGUpLGsoYy5wcm90b3R5cGUsXCJ1cGRhdGVQcm9wc1wiLFthXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGMucHJvdG90eXBlLFwidXBkYXRlUHJvcHNcIiksYy5wcm90b3R5cGUpLGsoYy5wcm90b3R5cGUsXCJzaG93QWdncmVnYXRlRGlhbG9nXCIsW29dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYy5wcm90b3R5cGUsXCJzaG93QWdncmVnYXRlRGlhbG9nXCIpLGMucHJvdG90eXBlKSxrKGMucHJvdG90eXBlLFwidHlwZXNcIixbdS5jb21wdXRlZF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjLnByb3RvdHlwZSxcInR5cGVzXCIpLGMucHJvdG90eXBlKSxrKGMucHJvdG90eXBlLFwic2V0Q2hhcnRUeXBlRnJvbUxheW91dFwiLFtzXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGMucHJvdG90eXBlLFwic2V0Q2hhcnRUeXBlRnJvbUxheW91dFwiKSxjLnByb3RvdHlwZSksYyl9KS5jYWxsKHRoaXMscig2KS50KX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3IuZCh0LFwiYVwiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ9KTt2YXIgbixpLGE9cigxKSxvPXIoNSk7ZnVuY3Rpb24gcyhlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19dmFyIGMsbCx1LGgsZCxwLGY9KG49YS5hY3Rpb24uYm91bmQsYz0oaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dmFyIHI9dGhpcyxuPXQuZ2V0Q29udGV4dCxpPXQuZ2V0SXRlbXMsYT10Lm9uSXRlbVNlbGVjdGVkOyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksdGhpcy5jb25uZWN0PU9iamVjdChvLmEpKGZ1bmN0aW9uKCl7cmV0dXJue2l0ZW1zOnIuZ2V0SXRlbXMoKSxvbkl0ZW1DbGljazpyLm9uSXRlbUNsaWNrfX0pLHRoaXMuZ2V0Q29udGV4dD1uLHRoaXMuZ2V0SXRlbXM9aSx0aGlzLm9uSXRlbVNlbGVjdGVkPWF9dmFyIHQscixuO3JldHVybiB0PWUsKHI9W3trZXk6XCJvbkl0ZW1DbGlja1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5vbkl0ZW1TZWxlY3RlZCh0KX19XSkmJnModC5wcm90b3R5cGUsciksbiYmcyh0LG4pLGV9KCkpLnByb3RvdHlwZSxsPVwib25JdGVtQ2xpY2tcIix1PVtuXSxoPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaS5wcm90b3R5cGUsXCJvbkl0ZW1DbGlja1wiKSxkPWkucHJvdG90eXBlLHA9e30sT2JqZWN0LmtleXMoaCkuZm9yRWFjaChmdW5jdGlvbihlKXtwW2VdPWhbZV19KSxwLmVudW1lcmFibGU9ISFwLmVudW1lcmFibGUscC5jb25maWd1cmFibGU9ISFwLmNvbmZpZ3VyYWJsZSwoXCJ2YWx1ZVwiaW4gcHx8cC5pbml0aWFsaXplcikmJihwLndyaXRhYmxlPSEwKSxwPXUuc2xpY2UoKS5yZXZlcnNlKCkucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQoYyxsLGUpfHxlfSxwKSxkJiZ2b2lkIDAhPT1wLmluaXRpYWxpemVyJiYocC52YWx1ZT1wLmluaXRpYWxpemVyP3AuaW5pdGlhbGl6ZXIuY2FsbChkKTp2b2lkIDAscC5pbml0aWFsaXplcj12b2lkIDApLHZvaWQgMD09PXAuaW5pdGlhbGl6ZXImJihPYmplY3QuZGVmaW5lUHJvcGVydHkoYyxsLHApLHA9bnVsbCksaSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApLGk9ci5uKG4pLGE9cigxNCksbz1yLm4oYSk7cigyMjApO3QuYT1mdW5jdGlvbihlKXt2YXIgdD1lLmhlaWdodCxyPWUuaXRlbXMsbj1lLm9uSXRlbUNsaWNrLGE9ZS5jaGlsZHJlbixzPVwiZnVuY3Rpb25cIj09dHlwZW9mIGE/YTpmdW5jdGlvbihlKXtyZXR1cm4gZS50ZXh0fSxjPWZ1bmN0aW9uKGUpe3JldHVyblwiY2lxLWxpc3QtaXRlbVwiK1wiIFwiLmNvbmNhdChlLmRpc2FibGVkP1wiZGlzYWJsZWRcIjpcIlwiKStcIiBcIi5jb25jYXQoZS5hY3RpdmU/XCJhY3RpdmVcIjpcIlwiKX07cmV0dXJuIGkuYS5jcmVhdGVFbGVtZW50KG8uYSx7Y2xhc3NOYW1lOlwiY2lxLWxpc3RcIixhdXRvSGVpZ2h0OiEwLGF1dG9IaWRlOiEwLHN0eWxlOnQmJntoZWlnaHQ6XCJcIi5jb25jYXQodCxcInB4XCIpfX0sci5tYXAoZnVuY3Rpb24oZSx0KXtyZXR1cm4gaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7a2V5OmUuaWQsY2xhc3NOYW1lOmMoZSksb25DbGljazpmdW5jdGlvbigpe3JldHVybiBuKHQsZSl9fSxzKGUpKX0pKX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oZSl7ci5kKHQsXCJhXCIsZnVuY3Rpb24oKXtyZXR1cm4gQX0pO3ZhciBuLGksYSxvLHMsYyxsLHUsaCxkLHAsZixtLGc9cigxKSxiPXIoOCkseT1yKDIyKSx2PXIoMjApLF89cigyMSksUz1yKDkpLHc9cigxMikseD1yKDMpO2Z1bmN0aW9uIGsoZSl7cmV0dXJuKGs9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIE8oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpe2Zvcih2YXIgdD0wLHI9bmV3IEFycmF5KGUubGVuZ3RoKTt0PGUubGVuZ3RoO3QrKylyW3RdPWVbdF07cmV0dXJuIHJ9fShlKXx8ZnVuY3Rpb24oZSl7aWYoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChlKXx8XCJbb2JqZWN0IEFyZ3VtZW50c11cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSlyZXR1cm4gQXJyYXkuZnJvbShlKX0oZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpfSgpfWZ1bmN0aW9uIEMoZSx0KXt2YXIgcj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSxyLnB1c2guYXBwbHkocixuKX1yZXR1cm4gcn1mdW5jdGlvbiBFKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP0MociwhMCkuZm9yRWFjaChmdW5jdGlvbih0KXtUKGUsdCxyW3RdKX0pOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMocikpOkMocikuZm9yRWFjaChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iocix0KSl9KX1yZXR1cm4gZX1mdW5jdGlvbiBUKGUsdCxyKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPXIsZX1mdW5jdGlvbiBQKGUsdCxyLG4pe3ImJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse2VudW1lcmFibGU6ci5lbnVtZXJhYmxlLGNvbmZpZ3VyYWJsZTpyLmNvbmZpZ3VyYWJsZSx3cml0YWJsZTpyLndyaXRhYmxlLHZhbHVlOnIuaW5pdGlhbGl6ZXI/ci5pbml0aWFsaXplci5jYWxsKG4pOnZvaWQgMH0pfWZ1bmN0aW9uIEQoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fWZ1bmN0aW9uIGooZSx0LHIsbixpKXt2YXIgYT17fTtyZXR1cm4gT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbihlKXthW2VdPW5bZV19KSxhLmVudW1lcmFibGU9ISFhLmVudW1lcmFibGUsYS5jb25maWd1cmFibGU9ISFhLmNvbmZpZ3VyYWJsZSwoXCJ2YWx1ZVwiaW4gYXx8YS5pbml0aWFsaXplcikmJihhLndyaXRhYmxlPSEwKSxhPXIuc2xpY2UoKS5yZXZlcnNlKCkucmVkdWNlKGZ1bmN0aW9uKHIsbil7cmV0dXJuIG4oZSx0LHIpfHxyfSxhKSxpJiZ2b2lkIDAhPT1hLmluaXRpYWxpemVyJiYoYS52YWx1ZT1hLmluaXRpYWxpemVyP2EuaW5pdGlhbGl6ZXIuY2FsbChpKTp2b2lkIDAsYS5pbml0aWFsaXplcj12b2lkIDApLHZvaWQgMD09PWEuaW5pdGlhbGl6ZXImJihPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LGEpLGE9bnVsbCksYX12YXIgQT0obj1nLmFjdGlvbi5ib3VuZCxpPWcuYWN0aW9uLmJvdW5kLGE9Zy5hY3Rpb24uYm91bmQsbz1nLmFjdGlvbi5ib3VuZCxzPWcuYWN0aW9uLmJvdW5kLGM9Zy5hY3Rpb24uYm91bmQsbD1nLmFjdGlvbi5ib3VuZCx1PWcuYWN0aW9uLmJvdW5kLGg9Zy5hY3Rpb24uYm91bmQsZD1nLmFjdGlvbi5ib3VuZCxmPWooKHA9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHIpe3ZhciBuPXRoaXM7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSx0aGlzLm9uQ29udGV4dFJlYWR5PWZ1bmN0aW9uKCl7bi5zdHguY2FsbGJhY2tzLnN0dWR5T3ZlcmxheUVkaXQ9bi5lZGl0U3R1ZHksbi5zdHguY2FsbGJhY2tzLnN0dWR5UGFuZWxFZGl0PW4uZWRpdFN0dWR5LG4ucmVtb3ZlRXh0cmFTdHVkaWVzKCksbi5zdHguYXBwZW5kKFwiY3JlYXRlRGF0YVNldFwiLG4ucmVuZGVyTGVnZW5kKSxuLnN0eC5hcHBlbmQoXCJkcmF3UGFuZWxzXCIsZnVuY3Rpb24oKXt2YXIgZT1PYmplY3Qua2V5cyhuLnN0eC5wYW5lbHMpWzFdO2UmJihuLnN0eC5wYW5lbHNbZV0udXAuc3R5bGUuZGlzcGxheT1cIm5vbmVcIil9KSxuLnJlbmRlckxlZ2VuZCgpfSx0aGlzLnByZXZpb3VzU3R1ZGllcz17fSx0aGlzLnNlYXJjaElucHV0Q2xhc3NOYW1lPXZvaWQgMCxQKHRoaXMsXCJoYXNSZWFjaGVkTGltaXRzXCIsZix0aGlzKSxQKHRoaXMsXCJhY3RpdmVTdHVkaWVzXCIsbSx0aGlzKSx0aGlzLnJlbmRlckxlZ2VuZD1mdW5jdGlvbigpe24uc2hvdWxkUmVuZGVyTGVnZW5kKCkmJihuLnVwZGF0ZUFjdGl2ZVN0dWRpZXMoKSxuLnVwZGF0ZVN0eWxlKCkpfSx0aGlzLmV4Y2x1ZGVkU3R1ZGllcz17QmV0YTohMCxLbGluZ2VyOiEwLFwiVHJhZGUgVm9sXCI6ITAsXCJWb2wgUk9DXCI6ITAsXCJQcmljZSBWb2xcIjohMCxcIlBvcyBWb2xcIjohMCxcIk5lZyBWb2xcIjohMCxcIk9uIEJhbCBWb2xcIjohMCxcIlZvbCBPc2NcIjohMCx2b2x1bWU6ITAsXCJ2b2wgdW5kclwiOiEwLFwidm9sIHByb2ZpbGVcIjohMCxcIlcgTUZJXCI6ITAsRU9NOiEwLFwiQ2hhaWtpbiBNRlwiOiEwLFR3aWdnczohMCxcIkFyb29uIE9zY1wiOiEwLFwiTGluIFIyXCI6ITAsXCJMaW4gRmNzdFwiOiEwLFwiTGluIEluY3B0XCI6ITAsXCJUaW1lIEZjc3RcIjohMCxcIlZUIEZpbHRlclwiOiEwLFRSSVg6ITAsXCJTVEQgRGV2XCI6ITAsU3dpbmc6ITAsXCJBY2MgU3dpbmdcIjohMCxcIlByaWNlIFJPQ1wiOiEwLE1vbWVudHVtOiEwLFwiSGlzdCBWb2xcIjohMCxcIlByZXR0eSBHb29kXCI6ITAsVWx0aW1hdGU6ITAsXCJDaGFpa2luIFZvbFwiOiEwLFwiUHJpY2UgT3NjXCI6ITAsXCJUcnVlIFJhbmdlXCI6ITAsQVRSOiEwLFwiRWhsZXIgRmlzaGVyXCI6ITAsU2NoYWZmOiEwLFFTdGljazohMCxDb3Bwb2NrOiEwLFwiQ2hhbmRlIE10bVwiOiEwLFwiQ2hhbmRlIEZjc3RcIjohMCxcIkludHJhZGF5IE10bVwiOiEwLFJBVkk6ITAsXCJSYW5kb20gV2Fsa1wiOiEwLFwiSGlnaCBMb3dcIjohMCxcIkhpZ2gtTG93XCI6ITAsXCJNZWQgUHJpY2VcIjohMCxcIkZyYWN0YWwgQ2hhb3NcIjohMCxHQVBPOiEwLFwiUHJpbWUgTnVtYmVyIEJhbmRzXCI6ITAsXCJQcmltZSBOdW1iZXJcIjohMCxISFY6ITAsTExWOiEwLFwiTWFzcyBJZHhcIjohMCxLZWx0bmVyOiEwLFwiRWxkZXIgUmF5XCI6ITAsXCJFbGRlciBGb3JjZVwiOiEwLFwiTFIgU2xvcGVcIjohMCxDT0c6ITAsXCJUeXBpY2FsIFByaWNlXCI6ITAsXCJXZWlnaHRlZCBDbG9zZVwiOiEwLFwiTSBGbG93XCI6ITAsXCJXIEFjYyBEaXN0XCI6ITAsXCJ2YWwgbGluZXNcIjohMCxjb3JyZWw6ITAsUE1POiEwLFwiUmVsIFZvbFwiOiEwLFwiQVRSIEJhbmRzXCI6ITAsXCJTVEFSQyBCYW5kc1wiOiEwLFwiQVRSIFRyYWlsaW5nIFN0b3BcIjohMCxcIkJvbGwgQldcIjohMCxcIkJvbGwgJWJcIjohMCxcIlJlbCBWaWdcIjohMCxcIkVsZGVyIEltcHVsc2VcIjohMCxcIlBpdm90IFBvaW50c1wiOiEwLFZXQVA6ITAsQVZXQVA6ITAsXCJQIFJlbFwiOiEwLFwiUGVyZiBJZHhcIjohMCxVbGNlcjohMCxcIkJhbCBQd3JcIjohMCxcIlRyZW5kIEludFwiOiEwLENob3BwaW5lc3M6ITAsRGlzcGFyaXR5OiEwLFwiUmFpbmJvdyBNQVwiOiEwLFwiUmFpbmJvdyBPc2NcIjohMCxcIlByaW5nIEtTVFwiOiEwLFwiUHJpbmcgU3AtS1wiOiEwLERhcnZhczohMCxTdXBlcnRyZW5kOiEwLFZvcnRleDohMCxQU1k6ITAsXCJNQSBEZXZcIjohMCxTaGlub2hhcmE6ITAsXCJWVCBIWiBGaWx0ZXJcIjohMH0sdGhpcy5tYWluU3RvcmU9cixPYmplY3QoZy53aGVuKShmdW5jdGlvbigpe3JldHVybiBuLmNvbnRleHR9LHRoaXMub25Db250ZXh0UmVhZHkpLHRoaXMubWVudT1uZXcgYi5hKHIse3JvdXRlOlwiaW5kaWNhdG9yc1wifSksdGhpcy5jYXRlZ29yaWNhbERpc3BsYXk9bmV3IHkuYSh7YWN0aXZlT3B0aW9uczpbe2lkOlwiZWRpdFwiLG9uQ2xpY2s6ZnVuY3Rpb24oZSl7cmV0dXJuIG4uZWRpdFN0dWR5KGUpfX0se2lkOlwiZGVsZXRlXCIsb25DbGljazpmdW5jdGlvbihlKXtyZXR1cm4gbi5kZWxldGVTdHVkeShlKX19XSxnZXRJc1Nob3duOmZ1bmN0aW9uKCl7cmV0dXJuIG4ubWVudS5vcGVufSxnZXRDYXRlZ29yaWNhbEl0ZW1zOmZ1bmN0aW9uKCl7cmV0dXJuIG4uY2F0ZWdvcml6ZWRTdHVkaWVzfSxnZXRBY3RpdmVDYXRlZ29yeTpmdW5jdGlvbigpe3JldHVybiBuLmFjdGl2ZVN0dWRpZXN9LG9uU2VsZWN0SXRlbTp0aGlzLm9uU2VsZWN0SXRlbS5iaW5kKHRoaXMpLHBsYWNlaG9sZGVyVGV4dDplLnRyYW5zbGF0ZSgnXCJNYXNzIEluZGV4XCIgb3IgXCJEb2ppIFN0YXJcIicpLGZhdm9yaXRlc0lkOlwiaW5kaWNhdG9yc1wiLG1haW5TdG9yZTpyLHNlYXJjaElucHV0Q2xhc3NOYW1lOmZ1bmN0aW9uKCl7cmV0dXJuIG4uc2VhcmNoSW5wdXRDbGFzc05hbWV9LGxpbWl0SW5mbzplLnRyYW5zbGF0ZShcIlVwIHRvIDUgYWN0aXZlIGluZGljYXRvcnMgYWxsb3dlZC5cIil9KSx0aGlzLnNldHRpbmdzRGlhbG9nPW5ldyB2LmEoe21haW5TdG9yZTpyLG9uRGVsZXRlZDpmdW5jdGlvbigpe3JldHVybiBuLmRlbGV0ZVN0dWR5KG4uaGVscGVyKX0sZmF2b3JpdGVzSWQ6XCJpbmRpY2F0b3JzXCIsb25DaGFuZ2VkOmZ1bmN0aW9uKGUpe3JldHVybiBuLnVwZGF0ZVN0dWR5KG4uaGVscGVyLnNkLGUpfX0pLHRoaXMuU3R1ZHlDYXRlZ29yaWNhbERpc3BsYXk9dGhpcy5jYXRlZ29yaWNhbERpc3BsYXkuY29ubmVjdCh3LmIpLHRoaXMuU3R1ZHlNZW51PXRoaXMubWVudS5jb25uZWN0KFMuYSksdGhpcy5TdHVkeVNldHRpbmdzRGlhbG9nPXRoaXMuc2V0dGluZ3NEaWFsb2cuY29ubmVjdChfLmEpfXZhciByLG4saTtyZXR1cm4gcj10LChuPVt7a2V5OlwicmVtb3ZlRXh0cmFTdHVkaWVzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuc3R4LmxheW91dCYmdGhpcy5zdHgubGF5b3V0LnN0dWRpZXMmJk9iamVjdC5rZXlzKHRoaXMuc3R4LmxheW91dC5zdHVkaWVzKS5mb3JFYWNoKGZ1bmN0aW9uKHQscil7dmFyIG49ZS5zdHgubGF5b3V0LnN0dWRpZXNbdF0udHlwZTsocj49NXx8ZS5leGNsdWRlZFN0dWRpZXNbbl0pJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Q0lRLlN0dWRpZXMucmVtb3ZlU3R1ZHkoZS5zdHgsZS5zdHgubGF5b3V0LnN0dWRpZXNbdF0pLGUucmVuZGVyTGVnZW5kKCl9LDApfSl9fSx7a2V5Olwib25TZWxlY3RJdGVtXCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYodGhpcy5zdHgubGF5b3V0JiZPYmplY3Qua2V5cyh0aGlzLnN0eC5sYXlvdXQuc3R1ZGllc3x8W10pLmxlbmd0aDw1KXt2YXIgdD1DSVEuU3R1ZGllcy5hZGRTdHVkeSh0aGlzLnN0eCxlKTt0aGlzLmNoYW5nZVN0dWR5UGFuZWxUaXRsZSh0KSxPYmplY3QoeC5kKSh4LmIuQ2hhcnRDb250cm9sLHguYS5JbmRpY2F0b3IsXCJBZGQgXCIuY29uY2F0KGUpKSx0aGlzLm1lbnUuc2V0T3BlbighMSl9fX0se2tleTpcInVwZGF0ZVN0eWxlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1PYmplY3Qua2V5cyh0aGlzLnN0eC5wYW5lbHMpLmxlbmd0aD4yO3RoaXMubWFpblN0b3JlLnN0YXRlLnNldFNob3VsZE1pbmltaXNlTGFzdERpZ2l0KGUpfX0se2tleTpcInVwZGF0ZVByb3BzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zZWFyY2hJbnB1dENsYXNzTmFtZTt0aGlzLnNlYXJjaElucHV0Q2xhc3NOYW1lPXR9fSx7a2V5OlwiZWRpdFN0dWR5XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIHI9bmV3IENJUS5TdHVkaWVzLkRpYWxvZ0hlbHBlcih0KTt0aGlzLmhlbHBlcj1yLE9iamVjdCh4LmQpKHguYi5DaGFydENvbnRyb2wseC5hLkluZGljYXRvcixcIkVkaXQgXCIuY29uY2F0KHIubmFtZSkpO3ZhciBuPXIuYXR0cmlidXRlcyxpPXIuaW5wdXRzLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gRSh7aWQ6dC5uYW1lLHRpdGxlOmUudHJhbnNsYXRlKHQuaGVhZGluZyksdmFsdWU6dC52YWx1ZSxkZWZhdWx0VmFsdWU6dC5kZWZhdWx0SW5wdXQsdHlwZTpcImNoZWNrYm94XCI9PT10LnR5cGU/XCJzd2l0Y2hcIjp0LnR5cGUsb3B0aW9uczp0Lm9wdGlvbnN8fG51bGx9LG5bdC5uYW1lXSx7Y2F0ZWdvcnk6XCJpbnB1dHNcIn0pfSksYT1yLm91dHB1dHMubWFwKGZ1bmN0aW9uKHQpe3JldHVybntpZDp0Lm5hbWUsdGl0bGU6ZS50cmFuc2xhdGUodC5oZWFkaW5nKSxkZWZhdWx0VmFsdWU6dC5kZWZhdWx0T3V0cHV0LHZhbHVlOnQuY29sb3IsdHlwZTpcImNvbG9ycGlja2VyXCIsY2F0ZWdvcnk6XCJvdXRwdXRzXCJ9fSksbz1yLnBhcmFtZXRlcnMubWFwKGZ1bmN0aW9uKHQpe3ZhciByPUUoe3RpdGxlOmUudHJhbnNsYXRlKHQuaGVhZGluZyl9LG5bdC5uYW1lXSx7Y2F0ZWdvcnk6XCJwYXJhbWV0ZXJzXCJ9KTtpZih0LmRlZmF1bHRWYWx1ZS5jb25zdHJ1Y3Rvcj09PUJvb2xlYW4pcmV0dXJuIEUoe30scix7aWQ6XCJcIi5jb25jYXQodC5uYW1lLFwiRW5hYmxlZFwiKSx2YWx1ZTp0LnZhbHVlLGRlZmF1bHRWYWx1ZTp0LmRlZmF1bHRWYWx1ZSx0eXBlOlwic3dpdGNoXCJ9KTtpZih0LmRlZmF1bHRWYWx1ZS5jb25zdHJ1Y3Rvcj09PU51bWJlcilyZXR1cm4gRSh7fSxyLHtpZDp0Lm5hbWUsdHlwZTpcIm51bWJlcmNvbG9ycGlja2VyXCIsZGVmYXVsdFZhbHVlOntDb2xvcjp0LmRlZmF1bHRDb2xvcixWYWx1ZTp0LmRlZmF1bHRWYWx1ZX0sdmFsdWU6e0NvbG9yOnQuY29sb3IsVmFsdWU6dC52YWx1ZX19KTt0aHJvdyBuZXcgRXJyb3IoXCJVbnJlY29nbmlzZWQgcGFyYW1ldGVyIVwiKX0pO3RoaXMuc2V0dGluZ3NEaWFsb2cuaWQ9dC5zZC50eXBlLHRoaXMuc2V0dGluZ3NEaWFsb2cuaXRlbXM9W10uY29uY2F0KE8oYSksTyhpKSxPKG8pKSx0aGlzLnNldHRpbmdzRGlhbG9nLnRpdGxlPWUudHJhbnNsYXRlKHQuc2QubGlicmFyeUVudHJ5Lm5hbWUpLHRoaXMuc2V0dGluZ3NEaWFsb2cuZGVzY3JpcHRpb249XCJcIix0aGlzLnNldHRpbmdzRGlhbG9nLnNldE9wZW4oITApfX0se2tleTpcImRlbGV0ZVN0dWR5XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuc2Q7T2JqZWN0KHguZCkoeC5iLkNoYXJ0Q29udHJvbCx4LmEuSW5kaWNhdG9yLFwiUmVtb3ZlIFwiLmNvbmNhdChyLm5hbWUpKSxyLnBlcm1hbmVudHx8c2V0VGltZW91dChmdW5jdGlvbigpe0NJUS5TdHVkaWVzLnJlbW92ZVN0dWR5KHQuc3R4LHIpLHQucmVuZGVyTGVnZW5kKCl9LDApfX0se2tleTpcInVwZGF0ZVN0dWR5XCIsdmFsdWU6ZnVuY3Rpb24odCxyKXt2YXIgbj17fSxpPSEwLGE9ITEsbz12b2lkIDA7dHJ5e2Zvcih2YXIgcyxjPXJbU3ltYm9sLml0ZXJhdG9yXSgpOyEoaT0ocz1jLm5leHQoKSkuZG9uZSk7aT0hMCl7dmFyIGw9cy52YWx1ZSx1PWwuaWQsaD1sLmNhdGVnb3J5LGQ9bC52YWx1ZSxwPWwudHlwZTtpZihcIm51bWJlcmNvbG9ycGlja2VyXCI9PT1wP3RbaF1bXCJcIi5jb25jYXQodSxcIkNvbG9yXCIpXSE9PWQuQ29sb3J8fHRbaF1bXCJcIi5jb25jYXQodSxcIlZhbHVlXCIpXSE9PWQuVmFsdWU6dFtoXVt1XSE9PWQpaWYobltoXT1uW2hdfHx7fSxcIm9iamVjdFwiPT09ayhkKSlmb3IodmFyIGYgaW4gZCluW2hdW1wiXCIuY29uY2F0KHUpLmNvbmNhdChmKV09ZFtmXTtlbHNlIG5baF1bdV09ZH19Y2F0Y2goZSl7YT0hMCxvPWV9ZmluYWxseXt0cnl7aXx8bnVsbD09Yy5yZXR1cm58fGMucmV0dXJuKCl9ZmluYWxseXtpZihhKXRocm93IG99fTAhPT1PYmplY3Qua2V5cyhuKS5sZW5ndGgmJih0aGlzLmhlbHBlci51cGRhdGVTdHVkeShuKSx0aGlzLnVwZGF0ZUFjdGl2ZVN0dWRpZXMoKSx0aGlzLnN0eC5kcmF3KCksdGhpcy5jaGFuZ2VTdHVkeVBhbmVsVGl0bGUodGhpcy5oZWxwZXIuc2QpLHRoaXMuc2V0dGluZ3NEaWFsb2cudGl0bGU9ZS50cmFuc2xhdGUodGhpcy5oZWxwZXIuc2QubGlicmFyeUVudHJ5Lm5hbWUpKX19LHtrZXk6XCJjaGFuZ2VTdHVkeVBhbmVsVGl0bGVcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLm1haW5TdG9yZS5jaGFydC5pc01vYmlsZSYmKHRoaXMuc3R4LnBhbmVsc1tlLnBhbmVsXS5kaXNwbGF5PWUudHlwZSx0aGlzLnN0eC5kcmF3KCksdGhpcy5tYWluU3RvcmUuc3RhdGUuc2F2ZUxheW91dCgpKX19LHtrZXk6XCJzaG91bGRSZW5kZXJMZWdlbmRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuc3R4O2lmKCFlLmxheW91dC5zdHVkaWVzKXJldHVybiExO2lmKENJUS5vYmpMZW5ndGgodGhpcy5wcmV2aW91c1N0dWRpZXMpPT09Q0lRLm9iakxlbmd0aChlLmxheW91dC5zdHVkaWVzKSl7dmFyIHQ9ITE7Zm9yKHZhciByIGluIGUubGF5b3V0LnN0dWRpZXMpaWYoIXRoaXMucHJldmlvdXNTdHVkaWVzW3JdKXt0PSEwO2JyZWFrfWlmKCF0KXJldHVybiExfXJldHVybiB0aGlzLnByZXZpb3VzU3R1ZGllcz1DSVEuc2hhbGxvd0Nsb25lKGUubGF5b3V0LnN0dWRpZXMpLCEwfX0se2tleTpcInNldFJlYWNoZWRMaW1pdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5hY3RpdmVTdHVkaWVzLmRhdGEubGVuZ3RoPj01O3RoaXMuaGFzUmVhY2hlZExpbWl0cz1lfX0se2tleTpcInVwZGF0ZUFjdGl2ZVN0dWRpZXNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMscj10aGlzLnN0eCxuPVtdO09iamVjdC5rZXlzKHIubGF5b3V0LnN0dWRpZXN8fFtdKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe3ZhciBhPXIubGF5b3V0LnN0dWRpZXNbaV07YS5jdXN0b21MZWdlbmR8fG4ucHVzaCh7ZW5hYmxlZDohMCxkaXNwbGF5OnQubWFpblN0b3JlLmNoYXJ0LmlzTW9iaWxlP2UudHJhbnNsYXRlKGEubGlicmFyeUVudHJ5Lm5hbWUpOmEuaW5wdXRzLmRpc3BsYXksZGF0YU9iamVjdDp7c3R4OnIsc2Q6YSxpbnB1dHM6YS5pbnB1dHMsb3V0cHV0czphLm91dHB1dHMscGFyYW1ldGVyczphLnBhcmFtZXRlcnN9fSl9KSx0aGlzLmFjdGl2ZVN0dWRpZXMuZGF0YT1uLHRoaXMuYWN0aXZlU3R1ZGllcy5jYXRlZ29yeU5hbWVQb3N0Zml4PVwiKFwiLmNvbmNhdChuLmxlbmd0aCxcIi81KVwiKSx0aGlzLnNldFJlYWNoZWRMaW1pdCgpfX0se2tleTpcImNsZWFyU3R1ZGllc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5jb250ZXh0JiZ0aGlzLmNvbnRleHQuYWR2ZXJ0aXNlZC5MYXlvdXQuY2xlYXJTdHVkaWVzKCl9fSx7a2V5OlwiY29udGV4dFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC5jb250ZXh0fX0se2tleTpcInN0eFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRleHQuc3R4fX0se2tleTpcImNhdGVnb3JpemVkU3R1ZGllc1wiLGdldDpmdW5jdGlvbigpe3ZhciB0PXRoaXMscj1bXTtPYmplY3Qua2V5cyhDSVEuU3R1ZGllcy5zdHVkeUxpYnJhcnkpLmZvckVhY2goZnVuY3Rpb24obil7aWYoIXQuZXhjbHVkZWRTdHVkaWVzW25dKXt2YXIgaT1DSVEuU3R1ZGllcy5zdHVkeUxpYnJhcnlbbl07ci5wdXNoKHtlbmFibGVkOiEwLGRpc3BsYXk6ZS50cmFuc2xhdGUoaS5uYW1lKSxkYXRhT2JqZWN0Om4saXRlbUlkOm59KX19KTt2YXIgbj1cIihcIi5jb25jYXQodGhpcy5hY3RpdmVTdHVkaWVzLmRhdGEubGVuZ3RoLFwiLzUpXCIpO3JldHVyblt7Y2F0ZWdvcnlOYW1lOmUudHJhbnNsYXRlKFwiSW5kaWNhdG9yc1wiKSxjYXRlZ29yeU5hbWVQb3N0Zml4Om4sY2F0ZWdvcnlOYW1lUG9zdGZpeFNob3dJZkFjdGl2ZTohMCxjYXRlZ29yeUlkOlwiaW5kaWNhdG9yc1wiLGNhdGVnb3J5U3VidGl0bGU6ZS50cmFuc2xhdGUoXCJVcCB0byA1IGFjdGl2ZSBpbmRpY2F0b3JzIGFsbG93ZWQuXCIpLGhhc1N1YmNhdGVnb3J5OiExLGRhdGE6cn1dfX1dKSYmRChyLnByb3RvdHlwZSxuKSxpJiZEKHIsaSksdH0oKSkucHJvdG90eXBlLFwiaGFzUmVhY2hlZExpbWl0c1wiLFtnLm9ic2VydmFibGVdLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCxpbml0aWFsaXplcjpmdW5jdGlvbigpe3JldHVybiExfX0pLG09aihwLnByb3RvdHlwZSxcImFjdGl2ZVN0dWRpZXNcIixbZy5vYnNlcnZhYmxlXSx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITAsaW5pdGlhbGl6ZXI6ZnVuY3Rpb24oKXtyZXR1cm57Y2F0ZWdvcnlOYW1lOmUudHJhbnNsYXRlKFwiQWN0aXZlXCIpLGNhdGVnb3J5TmFtZVBvc3RmaXg6XCJcIixjYXRlZ29yeUlkOlwiYWN0aXZlXCIsaGFzU3ViY2F0ZWdvcnk6ITEsZW1wdHlEZXNjcmlwdGlvbjplLnRyYW5zbGF0ZShcIlRoZXJlIGFyZSBubyBhY3RpdmUgaW5kaWNhdG9ycyB5ZXQuXCIpLGRhdGE6W119fX0pLGoocC5wcm90b3R5cGUsXCJyZW1vdmVFeHRyYVN0dWRpZXNcIixbbl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwLnByb3RvdHlwZSxcInJlbW92ZUV4dHJhU3R1ZGllc1wiKSxwLnByb3RvdHlwZSksaihwLnByb3RvdHlwZSxcIm9uU2VsZWN0SXRlbVwiLFtpXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHAucHJvdG90eXBlLFwib25TZWxlY3RJdGVtXCIpLHAucHJvdG90eXBlKSxqKHAucHJvdG90eXBlLFwidXBkYXRlU3R5bGVcIixbYV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwLnByb3RvdHlwZSxcInVwZGF0ZVN0eWxlXCIpLHAucHJvdG90eXBlKSxqKHAucHJvdG90eXBlLFwidXBkYXRlUHJvcHNcIixbb10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwLnByb3RvdHlwZSxcInVwZGF0ZVByb3BzXCIpLHAucHJvdG90eXBlKSxqKHAucHJvdG90eXBlLFwiZWRpdFN0dWR5XCIsW3NdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocC5wcm90b3R5cGUsXCJlZGl0U3R1ZHlcIikscC5wcm90b3R5cGUpLGoocC5wcm90b3R5cGUsXCJkZWxldGVTdHVkeVwiLFtjXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHAucHJvdG90eXBlLFwiZGVsZXRlU3R1ZHlcIikscC5wcm90b3R5cGUpLGoocC5wcm90b3R5cGUsXCJ1cGRhdGVTdHVkeVwiLFtsXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHAucHJvdG90eXBlLFwidXBkYXRlU3R1ZHlcIikscC5wcm90b3R5cGUpLGoocC5wcm90b3R5cGUsXCJzZXRSZWFjaGVkTGltaXRcIixbdV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwLnByb3RvdHlwZSxcInNldFJlYWNoZWRMaW1pdFwiKSxwLnByb3RvdHlwZSksaihwLnByb3RvdHlwZSxcInVwZGF0ZUFjdGl2ZVN0dWRpZXNcIixbaF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwLnByb3RvdHlwZSxcInVwZGF0ZUFjdGl2ZVN0dWRpZXNcIikscC5wcm90b3R5cGUpLGoocC5wcm90b3R5cGUsXCJjbGVhclN0dWRpZXNcIixbZF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwLnByb3RvdHlwZSxcImNsZWFyU3R1ZGllc1wiKSxwLnByb3RvdHlwZSkscCl9KS5jYWxsKHRoaXMscig2KS50KX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMCksaT1yLm4obiksYT1yKDIpLG89cig1KTtmdW5jdGlvbiBzKGUpe3JldHVybihzPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBjKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1mdW5jdGlvbiBsKGUsdCl7cmV0dXJuIXR8fFwib2JqZWN0XCIhPT1zKHQpJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0P2Z1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiBlfShlKTp0fWZ1bmN0aW9uIHUoZSl7cmV0dXJuKHU9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZjpmdW5jdGlvbihlKXtyZXR1cm4gZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihlKX0pKGUpfWZ1bmN0aW9uIGgoZSx0KXtyZXR1cm4oaD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuX19wcm90b19fPXQsZX0pKGUsdCl9dmFyIGQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciBlLHI7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KTtmb3IodmFyIG49YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheShuKSxhPTA7YTxuO2ErKylpW2FdPWFyZ3VtZW50c1thXTtyZXR1cm4ocj1sKHRoaXMsKGU9dSh0KSkuY2FsbC5hcHBseShlLFt0aGlzXS5jb25jYXQoaSkpKSkuY2xlYXJGaWx0ZXJUZXh0PWZ1bmN0aW9uKCl7ci5wcm9wcy5vbkNoYW5nZShcIlwiKX0sci5vbkNoYW5nZT1mdW5jdGlvbihlKXtyLnByb3BzLm9uQ2hhbmdlKGUudGFyZ2V0LnZhbHVlKX0scn12YXIgcixvLHM7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiZoKGUsdCl9KHQsbltcIkNvbXBvbmVudFwiXSkscj10LChvPVt7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnByb3BzLHQ9ZS5wbGFjZWhvbGRlcixyPWUudmFsdWUsbj1lLnNlYXJjaElucHV0LG89ZS5zZWFyY2hJbnB1dENsYXNzTmFtZTtyZXR1cm4gaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY3EtbG9va3VwLWlucHV0IFwiLmNvbmNhdChcIlwiIT09ci50cmltKCk/XCJhY3RpdmVcIjpcIlwiKX0saS5hLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLHtjbGFzc05hbWU6byx2YWx1ZTpyLHJlZjpuLG9uQ2hhbmdlOnRoaXMub25DaGFuZ2UsdHlwZTpcInRleHRcIixzcGVsbENoZWNrOlwib2ZmXCIsYXV0b0NvbXBsZXRlOlwib2ZmXCIsYXV0b0NvcnJlY3Q6XCJvZmZcIixhdXRvQ2FwaXRhbGl6ZTpcIm9mZlwiLHBsYWNlaG9sZGVyOnR9KSxpLmEuY3JlYXRlRWxlbWVudChhLk8sbnVsbCksaS5hLmNyZWF0ZUVsZW1lbnQoYS5qLHtjbGFzc05hbWU6XCJpY29uLXJlc2V0XCIsb25DbGljazp0aGlzLmNsZWFyRmlsdGVyVGV4dH0pKX19XSkmJmMoci5wcm90b3R5cGUsbykscyYmYyhyLHMpLHR9KCk7dC5hPU9iamVjdChvLmEpKGZ1bmN0aW9uKGUpe3JldHVybntpc01vYmlsZTplLmNoYXJ0LmlzTW9iaWxlfX0pKGQpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGUpe3IuZCh0LFwiYVwiLGZ1bmN0aW9uKCl7cmV0dXJuIHd9KTt2YXIgbixpLGEsbyxzLGMsbCx1LGg9cigwKSxkPXIubihoKSxwPXIoMSksZj1yKDgpLG09cigyMiksZz1yKDEyKSxiPXIoOSkseT1yKDMpO2Z1bmN0aW9uIHYoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fWZ1bmN0aW9uIF8oZSx0LHIsbixpKXt2YXIgYT17fTtyZXR1cm4gT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbihlKXthW2VdPW5bZV19KSxhLmVudW1lcmFibGU9ISFhLmVudW1lcmFibGUsYS5jb25maWd1cmFibGU9ISFhLmNvbmZpZ3VyYWJsZSwoXCJ2YWx1ZVwiaW4gYXx8YS5pbml0aWFsaXplcikmJihhLndyaXRhYmxlPSEwKSxhPXIuc2xpY2UoKS5yZXZlcnNlKCkucmVkdWNlKGZ1bmN0aW9uKHIsbil7cmV0dXJuIG4oZSx0LHIpfHxyfSxhKSxpJiZ2b2lkIDAhPT1hLmluaXRpYWxpemVyJiYoYS52YWx1ZT1hLmluaXRpYWxpemVyP2EuaW5pdGlhbGl6ZXIuY2FsbChpKTp2b2lkIDAsYS5pbml0aWFsaXplcj12b2lkIDApLHZvaWQgMD09PWEuaW5pdGlhbGl6ZXImJihPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LGEpLGE9bnVsbCksYX12YXIgUz1bXCIjOGVjNjQ4XCIsXCIjMDBhZmVkXCIsXCIjZWU2NTJlXCIsXCIjOTEyYThlXCIsXCIjZmZmMTI2XCIsXCIjZTkwODhjXCIsXCIjZWExZDJjXCIsXCIjMDBhNTUzXCIsXCIjMDBhOTljXCIsXCIjMDA1NmE0XCIsXCIjZjQ5MzJmXCIsXCIjMDA3M2JhXCIsXCIjNjYzMDhmXCIsXCIjMzIzMzkwXCJdLHc9KG49cC5hY3Rpb24uYm91bmQsaT1wLmFjdGlvbi5ib3VuZCxhPXAuYWN0aW9uLmJvdW5kLG89cC5hY3Rpb24uYm91bmQscz1wLmFjdGlvbi5ib3VuZCxjPXAuYWN0aW9uLmJvdW5kLHU9XygobD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQocil7dmFyIG4saSxhLG8scz10aGlzOyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksbj10aGlzLGk9XCJjb21wYXJpc29uU3ltYm9sc1wiLG89dGhpcywoYT11KSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KG4saSx7ZW51bWVyYWJsZTphLmVudW1lcmFibGUsY29uZmlndXJhYmxlOmEuY29uZmlndXJhYmxlLHdyaXRhYmxlOmEud3JpdGFibGUsdmFsdWU6YS5pbml0aWFsaXplcj9hLmluaXRpYWxpemVyLmNhbGwobyk6dm9pZCAwfSksdGhpcy5jdXJyZW50QWN0aXZlU3ltYm9sPXZvaWQgMCx0aGlzLnNlYXJjaElucHV0Q2xhc3NOYW1lPXZvaWQgMCx0aGlzLm9uQ29udGV4dFJlYWR5PWZ1bmN0aW9uKCl7dmFyIGU9cy5jb250ZXh0LnN0eCx0PXMubWFpblN0b3JlLmNoYXJ0LmZlZWQ7cy5jdXJyZW50QWN0aXZlU3ltYm9sPWUuY2hhcnQuc3ltYm9sLGUuYWRkRXZlbnRMaXN0ZW5lcihcInN5bWJvbENoYW5nZVwiLHMub25TeW1ib2xDaGFuZ2UpLHQub25Db21wYXJpc29uRGF0YVVwZGF0ZShzLnVwZGF0ZUNvbXBhcmlzb25QcmljZXMpLHMudXBkYXRlQ29tcGFyaXNvbnMoKX0sdGhpcy5tYWluU3RvcmU9cix0aGlzLm1lbnU9bmV3IGYuYShyLHtyb3V0ZTpcImNvbXBhcmlzb25cIn0pLHRoaXMuQ29tcGFyaXNvbk1lbnU9dGhpcy5tZW51LmNvbm5lY3QoYi5hKSx0aGlzLmNhdGVnb3JpY2FsRGlzcGxheT1uZXcgbS5hKHtnZXRBY3RpdmVDYXRlZ29yeTpmdW5jdGlvbigpe3JldHVybiBzLmFjdGl2ZUNvbXBhcmlzb25zfSxnZXRDYXRlZ29yaWNhbEl0ZW1zOmZ1bmN0aW9uKCl7cmV0dXJuIHMubWFpblN0b3JlLmNoYXJ0LmNhdGVnb3JpemVkU3ltYm9sc30sZ2V0SXNTaG93bjpmdW5jdGlvbigpe3JldHVybiBzLm1lbnUub3Blbn0sYWN0aXZlT3B0aW9uczpbe2lkOlwiY21wLWNvbG9yXCIscmVuZGVyQ2hpbGQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGQuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtzdHlsZTp7YmFja2dyb3VuZENvbG9yOmUuZGF0YU9iamVjdC5jb2xvcn19KX19LHtpZDpcImRlbGV0ZVwiLG9uQ2xpY2s6dGhpcy5vbkRlbGV0ZUl0ZW19XSxvblNlbGVjdEl0ZW06dGhpcy5vblNlbGVjdEl0ZW0uYmluZCh0aGlzKSxwbGFjZWhvbGRlclRleHQ6ZS50cmFuc2xhdGUoXCJTZWFyY2guLi5cIiksZmF2b3JpdGVzSWQ6XCJjaGFydFRpdGxlJkNvbXBhcmlzb25cIixtYWluU3RvcmU6cixzZWFyY2hJbnB1dENsYXNzTmFtZTpmdW5jdGlvbigpe3JldHVybiBzLnNlYXJjaElucHV0Q2xhc3NOYW1lfX0pLHRoaXMuQ29tcGFyaXNvblNlbGVjdG9yPXRoaXMuY2F0ZWdvcmljYWxEaXNwbGF5LmNvbm5lY3QoZy5iKSxPYmplY3QocC53aGVuKShmdW5jdGlvbigpe3JldHVybiBzLmNvbnRleHR9LHRoaXMub25Db250ZXh0UmVhZHkpfXZhciByLG4saTtyZXR1cm4gcj10LChuPVt7a2V5OlwidXBkYXRlUHJvcHNcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnNlYXJjaElucHV0Q2xhc3NOYW1lPWV9fSx7a2V5OlwidXBkYXRlQ29tcGFyaXNvblByaWNlc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuY29tcGFyaXNvblN5bWJvbHMuZmluZChmdW5jdGlvbih0KXtyZXR1cm4gdC5zeW1ib2xPYmplY3Quc3ltYm9sPT09ZS5zeW1ib2x9KTt0Pyh0LnByaWNlPWUuQ2xvc2UsdC5wcmV2UHJpY2U9ZS5wcmV2Q2xvc2UpOnRoaXMudXBkYXRlQ29tcGFyaXNvbnMoKX19LHtrZXk6XCJyZW1vdmVDb21wYXJpc29uXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5jb250ZXh0LnN0eC5yZW1vdmVTZXJpZXMoZS5zeW1ib2wpfX0se2tleTpcIm9uRGVsZXRlSXRlbVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc3ltYm9sT2JqZWN0O09iamVjdCh5LmQpKHkuYi5DaGFydENvbnRyb2wseS5hLkNvbXBhcmlzb24sXCJSZW1vdmUgXCIuY29uY2F0KHQubmFtZSkpLHRoaXMucmVtb3ZlQ29tcGFyaXNvbih0KX19LHtrZXk6XCJyZW1vdmVBbGxcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5jb21wYXJpc29uU3ltYm9scy5mb3JFYWNoKGZ1bmN0aW9uKHQpe2Uub25EZWxldGVJdGVtKHQpfSl9fSx7a2V5Olwib25TZWxlY3RJdGVtXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztPYmplY3QoeS5kKSh5LmIuQ2hhcnRDb250cm9sLHkuYS5Db21wYXJpc29uLFwiQWRkIFwiLmNvbmNhdChlLm5hbWUpKTtmb3IodmFyIHI9dGhpcy5jb250ZXh0LG49dGhpcy5nZXRTd2F0Y2hDb2xvcigpfHxcImF1dG9cIixpPXIuc3R4LGE9e3N5bWJvbE9iamVjdDplLGlzQ29tcGFyaXNvbjohMCxkaXNwbGF5OmUubmFtZSxmaWxsR2FwczohMCxnYXBEaXNwbGF5U3R5bGU6ITAsY29sb3I6bixwYXR0ZXJuOm51bGwsd2lkdGg6MSxkYXRhOnt1c2VEZWZhdWx0UXVvdGVGZWVkOiEwfSxmb3JjZURhdGE6ITB9LG89aS5nZXRTZXJpZXMoe3N5bWJvbE9iamVjdDplfSkscz0wO3M8by5sZW5ndGg7cysrKWlmKG9bc10ucGFyYW1ldGVycy5pc0NvbXBhcmlzb24pcmV0dXJuO3Iuc3R4LmNoYXJ0LnN5bWJvbCE9PWUuc3ltYm9sJiYodGhpcy5jb21wYXJpc29uU3ltYm9scy5wdXNoKHtjb2xvcjpuLHN5bWJvbE9iamVjdDplfSksaS5hZGRTZXJpZXMoZS5zeW1ib2wsYSxmdW5jdGlvbihlLHIpe2UmJih0LnJlbW92ZUNvbXBhcmlzb24oci5wYXJhbWV0ZXJzLnN5bWJvbE9iamVjdCksci5wYXJhbWV0ZXJzLmVycm9yPSEwKX0pKSx0aGlzLm1lbnUuc2V0T3BlbighMSl9fSx7a2V5OlwiZ2V0U3dhdGNoQ29sb3JcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuY29udGV4dC5zdHgsdD1cIlwiLHI9e307Zm9yKHZhciBuIGluIGUuY2hhcnQuc2VyaWVzKXt2YXIgaT1lLmNoYXJ0LnNlcmllc1tuXTtpLnBhcmFtZXRlcnMuaXNDb21wYXJpc29uJiYocltpLnBhcmFtZXRlcnMuY29sb3JdPSEwKX1mb3IodmFyIGE9MDthPFMubGVuZ3RoO2ErKylpZighcltTW2FdXSl7dD1TW2FdO2JyZWFrfXJldHVybiB0fX0se2tleTpcIm9uU3ltYm9sQ2hhbmdlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoXCJtYXN0ZXJcIj09PWUuYWN0aW9uKXt2YXIgdD10aGlzLmNvbnRleHQuc3R4O2lmKHRoaXMuY3VycmVudEFjdGl2ZVN5bWJvbCE9PXQuY2hhcnQuc3ltYm9sKXtmb3IodmFyIHIgaW4gdGhpcy5jb21wYXJpc29uU3ltYm9scz1bXSx0LmNoYXJ0LnNlcmllcylcInN0dWR5XCIhPT10LmNoYXJ0LnNlcmllc1tyXS5wYXJhbWV0ZXJzLmJ1Y2tldCYmdC5yZW1vdmVTZXJpZXMocik7dGhpcy5jdXJyZW50QWN0aXZlU3ltYm9sPXQuY2hhcnQuc3ltYm9sfX1lbHNlIHRoaXMudXBkYXRlQ29tcGFyaXNvbnMoKX19LHtrZXk6XCJ1cGRhdGVDb21wYXJpc29uc1wiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5jb250ZXh0KXt2YXIgZT10aGlzLmNvbnRleHQuc3R4LHQ9T2JqZWN0LmtleXMoZS5jaGFydC5zZXJpZXMpO2lmKHQubGVuZ3RoIT09dGhpcy5jb21wYXJpc29uU3ltYm9scy5sZW5ndGgpe3ZhciByPVtdLG49ZS5jdXJyZW50UXVvdGUoKTtpZihuKWZvcih2YXIgaT0wLGE9dDtpPGEubGVuZ3RoO2krKyl7dmFyIG89YVtpXSxzPWUuY2hhcnQuc2VyaWVzW29dLnBhcmFtZXRlcnMsYz1uW29dLGw9dGhpcy5tYWluU3RvcmUuY2hhcnQuYWN0aXZlU3ltYm9scy5nZXRTeW1ib2xPYmoocy5zeW1ib2xPYmplY3Quc3ltYm9sKTtyLnB1c2goe2NvbG9yOnMuY29sb3IscHJpY2U6YyYmYy5DbG9zZSxwcmV2UHJpY2U6YyYmYy5pcVByZXZDbG9zZSxzeW1ib2xPYmplY3Q6bH0pfXRoaXMuY29tcGFyaXNvblN5bWJvbHM9cn19fX0se2tleTpcImNvbnRleHRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQuY29udGV4dH19LHtrZXk6XCJhY3RpdmVDb21wYXJpc29uc1wiLGdldDpmdW5jdGlvbigpe3ZhciB0PVtdLHI9ITAsbj0hMSxpPXZvaWQgMDt0cnl7Zm9yKHZhciBhLG89dGhpcy5jb21wYXJpc29uU3ltYm9sc1tTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShhPW8ubmV4dCgpKS5kb25lKTtyPSEwKXt2YXIgcz1hLnZhbHVlO3QucHVzaCh7ZW5hYmxlZDohMCxzZWxlY3RlZDohMSxkaXNwbGF5OnMuc3ltYm9sT2JqZWN0Lm5hbWUsaXRlbUlkOnMuc3ltYm9sT2JqZWN0LnN5bWJvbCxkYXRhT2JqZWN0OnN9KX19Y2F0Y2goZSl7bj0hMCxpPWV9ZmluYWxseXt0cnl7cnx8bnVsbD09by5yZXR1cm58fG8ucmV0dXJuKCl9ZmluYWxseXtpZihuKXRocm93IGl9fXJldHVybntjYXRlZ29yeU5hbWU6ZS50cmFuc2xhdGUoXCJBY3RpdmVcIiksY2F0ZWdvcnlJZDpcImFjdGl2ZVwiLGhhc1N1YmNhdGVnb3J5OiExLGVtcHR5RGVzY3JpcHRpb246ZS50cmFuc2xhdGUoXCJUaGVyZSBhcmUgbm8gYWN0aXZlIGNvbXBhcmlzb25zIHlldC5cIiksZGF0YTp0fX19XSkmJnYoci5wcm90b3R5cGUsbiksaSYmdihyLGkpLHR9KCkpLnByb3RvdHlwZSxcImNvbXBhcmlzb25TeW1ib2xzXCIsW3Aub2JzZXJ2YWJsZV0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOmZ1bmN0aW9uKCl7cmV0dXJuW119fSksXyhsLnByb3RvdHlwZSxcInVwZGF0ZVByb3BzXCIsW25dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobC5wcm90b3R5cGUsXCJ1cGRhdGVQcm9wc1wiKSxsLnByb3RvdHlwZSksXyhsLnByb3RvdHlwZSxcInVwZGF0ZUNvbXBhcmlzb25QcmljZXNcIixbaV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLnByb3RvdHlwZSxcInVwZGF0ZUNvbXBhcmlzb25QcmljZXNcIiksbC5wcm90b3R5cGUpLF8obC5wcm90b3R5cGUsXCJhY3RpdmVDb21wYXJpc29uc1wiLFtwLmNvbXB1dGVkXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwucHJvdG90eXBlLFwiYWN0aXZlQ29tcGFyaXNvbnNcIiksbC5wcm90b3R5cGUpLF8obC5wcm90b3R5cGUsXCJvbkRlbGV0ZUl0ZW1cIixbYV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLnByb3RvdHlwZSxcIm9uRGVsZXRlSXRlbVwiKSxsLnByb3RvdHlwZSksXyhsLnByb3RvdHlwZSxcInJlbW92ZUFsbFwiLFtvXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwucHJvdG90eXBlLFwicmVtb3ZlQWxsXCIpLGwucHJvdG90eXBlKSxfKGwucHJvdG90eXBlLFwib25TZWxlY3RJdGVtXCIsW3NdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobC5wcm90b3R5cGUsXCJvblNlbGVjdEl0ZW1cIiksbC5wcm90b3R5cGUpLF8obC5wcm90b3R5cGUsXCJvblN5bWJvbENoYW5nZVwiLFtjXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwucHJvdG90eXBlLFwib25TeW1ib2xDaGFuZ2VcIiksbC5wcm90b3R5cGUpLGwpfSkuY2FsbCh0aGlzLHIoNikudCl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oZSl7ci5kKHQsXCJhXCIsZnVuY3Rpb24oKXtyZXR1cm4geX0pO3ZhciBuLGksYSxvLHMsYyxsPXIoMSksdT1yKDgpLGg9cigyMCksZD1yKDkpLHA9cigyMSksZj1yKDMpO2Z1bmN0aW9uIG0oZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fWZ1bmN0aW9uIGcoZSx0LHIsbixpKXt2YXIgYT17fTtyZXR1cm4gT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbihlKXthW2VdPW5bZV19KSxhLmVudW1lcmFibGU9ISFhLmVudW1lcmFibGUsYS5jb25maWd1cmFibGU9ISFhLmNvbmZpZ3VyYWJsZSwoXCJ2YWx1ZVwiaW4gYXx8YS5pbml0aWFsaXplcikmJihhLndyaXRhYmxlPSEwKSxhPXIuc2xpY2UoKS5yZXZlcnNlKCkucmVkdWNlKGZ1bmN0aW9uKHIsbil7cmV0dXJuIG4oZSx0LHIpfHxyfSxhKSxpJiZ2b2lkIDAhPT1hLmluaXRpYWxpemVyJiYoYS52YWx1ZT1hLmluaXRpYWxpemVyP2EuaW5pdGlhbGl6ZXIuY2FsbChpKTp2b2lkIDAsYS5pbml0aWFsaXplcj12b2lkIDApLHZvaWQgMD09PWEuaW5pdGlhbGl6ZXImJihPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LGEpLGE9bnVsbCksYX12YXIgYj1mdW5jdGlvbihlKXtyZXR1cm4oZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStlLnNsaWNlKDEpKS5yZXBsYWNlKC8oW2Etel0oPz1bQS1aXSkpL2csXCIkMSBcIil9LHk9KG49bC5hY3Rpb24uYm91bmQsaT1sLmFjdGlvbi5ib3VuZCxhPWwuYWN0aW9uLmJvdW5kLG89bC5hY3Rpb24uYm91bmQscz1sLmFjdGlvbi5ib3VuZCxnKChjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChyKXt2YXIgbj10aGlzOyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksdGhpcy5hY3RpdmVEcmF3aW5nPW51bGwsdGhpcy5pc0NvbnRpbnVvdXM9ITEsdGhpcy5kcmF3VG9vbHNJdGVtcz1bXSx0aGlzLm9uQ29udGV4dFJlYWR5PWZ1bmN0aW9uKCl7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIixuLmNsb3NlT25Fc2NhcGUsITEpLG4uc3R4LmFkZEV2ZW50TGlzdGVuZXIoXCJkcmF3aW5nXCIsbi5ub1Rvb2wpLG4uc3R4LnByZXBlbmQoXCJkZWxldGVIaWdobGlnaHRlZFwiLG4ub25EZWxldGVIaWdobGlnaHRlZCksbi5kcmF3VG9vbHNJdGVtcz1be2lkOlwiYW5ub3RhdGlvblwiLHRleHQ6ZS50cmFuc2xhdGUoXCJBbm5vdGF0aW9uXCIpfSx7aWQ6XCJhdmVyYWdlXCIsdGV4dDplLnRyYW5zbGF0ZShcIkF2ZXJhZ2UgTGluZVwiKX0se2lkOlwiY2FsbG91dFwiLHRleHQ6ZS50cmFuc2xhdGUoXCJDYWxsb3V0XCIpfSx7aWQ6XCJjaGFubmVsXCIsdGV4dDplLnRyYW5zbGF0ZShcIkNoYW5uZWxcIil9LHtpZDpcImNvbnRpbnVvdXNcIix0ZXh0OmUudHJhbnNsYXRlKFwiQ29udGludW91c1wiKX0se2lkOlwiY3Jvc3NsaW5lXCIsdGV4dDplLnRyYW5zbGF0ZShcIkNyb3NzbGluZVwiKX0se2lkOlwiZnJlZWZvcm1cIix0ZXh0OmUudHJhbnNsYXRlKFwiRG9vZGxlXCIpfSx7aWQ6XCJlbGxpcHNlXCIsdGV4dDplLnRyYW5zbGF0ZShcIkVsbGlwc2VcIil9LHtpZDpcInJldHJhY2VtZW50XCIsdGV4dDplLnRyYW5zbGF0ZShcIkZpYiBSZXRyYWNlbWVudFwiKX0se2lkOlwiZmliYXJjXCIsdGV4dDplLnRyYW5zbGF0ZShcIkZpYiBBcmNcIil9LHtpZDpcImZpYmZhblwiLHRleHQ6ZS50cmFuc2xhdGUoXCJGaWIgRmFuXCIpfSx7aWQ6XCJmaWJ0aW1lem9uZVwiLHRleHQ6ZS50cmFuc2xhdGUoXCJGaWIgVGltZSBab25lXCIpfSx7aWQ6XCJnYW5uZmFuXCIsdGV4dDplLnRyYW5zbGF0ZShcIkdhbm4gRmFuXCIpfSx7aWQ6XCJnYXJ0bGV5XCIsdGV4dDplLnRyYW5zbGF0ZShcIkdhcnRsZXlcIil9LHtpZDpcImhvcml6b250YWxcIix0ZXh0OmUudHJhbnNsYXRlKFwiSG9yaXpvbnRhbFwiKX0se2lkOlwibGluZVwiLHRleHQ6ZS50cmFuc2xhdGUoXCJMaW5lXCIpfSx7aWQ6XCJwaXRjaGZvcmtcIix0ZXh0OmUudHJhbnNsYXRlKFwiUGl0Y2hmb3JrXCIpfSx7aWQ6XCJxdWFkcmFudFwiLHRleHQ6ZS50cmFuc2xhdGUoXCJRdWFkcmFudCBMaW5lc1wiKX0se2lkOlwicmF5XCIsdGV4dDplLnRyYW5zbGF0ZShcIlJheVwiKX0se2lkOlwicmVjdGFuZ2xlXCIsdGV4dDplLnRyYW5zbGF0ZShcIlJlY3RhbmdsZVwiKX0se2lkOlwicmVncmVzc2lvblwiLHRleHQ6ZS50cmFuc2xhdGUoXCJSZWdyZXNzaW9uIExpbmVcIil9LHtpZDpcInNlZ21lbnRcIix0ZXh0OmUudHJhbnNsYXRlKFwiU2VnbWVudFwiKX0se2lkOlwiYXJyb3dcIix0ZXh0OmUudHJhbnNsYXRlKFwiU2hhcGUgLSBBcnJvd1wiKX0se2lkOlwiY2hlY2tcIix0ZXh0OmUudHJhbnNsYXRlKFwiU2hhcGUgLSBDaGVja1wiKX0se2lkOlwieGNyb3NzXCIsdGV4dDplLnRyYW5zbGF0ZShcIlNoYXBlIC0gQ3Jvc3NcIil9LHtpZDpcImZvY3VzYXJyb3dcIix0ZXh0OmUudHJhbnNsYXRlKFwiU2hhcGUgLSBGb2N1c1wiKX0se2lkOlwiaGVhcnRcIix0ZXh0OmUudHJhbnNsYXRlKFwiU2hhcGUgLSBIZWFydFwiKX0se2lkOlwic3RhclwiLHRleHQ6ZS50cmFuc2xhdGUoXCJTaGFwZSAtIFN0YXJcIil9LHtpZDpcInNwZWVkYXJjXCIsdGV4dDplLnRyYW5zbGF0ZShcIlNwZWVkIFJlc2lzdGFuY2UgQXJjXCIpfSx7aWQ6XCJzcGVlZGxpbmVcIix0ZXh0OmUudHJhbnNsYXRlKFwiU3BlZWQgUmVzaXN0YW5jZSBMaW5lXCIpfSx7aWQ6XCJ0aW1lY3ljbGVcIix0ZXh0OmUudHJhbnNsYXRlKFwiVGltZSBDeWNsZVwiKX0se2lkOlwidGlyb25lXCIsdGV4dDplLnRyYW5zbGF0ZShcIlRpcm9uZSBMZXZlbHNcIil9LHtpZDpcInZlcnRpY2FsXCIsdGV4dDplLnRyYW5zbGF0ZShcIlZlcnRpY2FsXCIpfV19LHRoaXMuY2xvc2VPbkVzY2FwZT1mdW5jdGlvbihlKXsyNz09PWUua2V5Q29kZSYmbi5zdHguY2hhbmdlVmVjdG9yVHlwZShcIlwiKX0sdGhpcy5ub1Rvb2w9ZnVuY3Rpb24oKXt2YXIgZT1uLnN0eC5kcmF3aW5nT2JqZWN0cy5sZW5ndGg7KG4ubWVudS5vcGVuJiZuLmNvbnRleHR8fCFuLmlzQ29udGludW91cyYmbi5fcGVydkRyYXdpbmdPYmplY3RDb3VudCE9PWUpJiZuLnN0eC5jaGFuZ2VWZWN0b3JUeXBlKFwiXCIpLG4uX3BlcnZEcmF3aW5nT2JqZWN0Q291bnQ9ZX0sdGhpcy5tYWluU3RvcmU9cix0aGlzLm1lbnU9bmV3IHUuYShyLHtyb3V0ZTpcImRyYXctdG9vbFwifSksdGhpcy5EcmF3VG9vbHNNZW51PXRoaXMubWVudS5jb25uZWN0KGQuYSksdGhpcy5zZXR0aW5nc0RpYWxvZz1uZXcgaC5hKHttYWluU3RvcmU6cixvbkRlbGV0ZWQ6dGhpcy5vbkRlbGV0ZWQsb25DaGFuZ2VkOnRoaXMub25DaGFuZ2VkfSksdGhpcy5EcmF3VG9vbHNTZXR0aW5nc0RpYWxvZz10aGlzLnNldHRpbmdzRGlhbG9nLmNvbm5lY3QocC5hKSxPYmplY3QobC53aGVuKShmdW5jdGlvbigpe3JldHVybiBuLmNvbnRleHR9LHRoaXMub25Db250ZXh0UmVhZHkpLE9iamVjdChsLnJlYWN0aW9uKShmdW5jdGlvbigpe3JldHVybiBuLm1lbnUub3Blbn0sdGhpcy5ub1Rvb2wpfXZhciByLG4saTtyZXR1cm4gcj10LChuPVt7a2V5Olwib25EZWxldGVIaWdobGlnaHRlZFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PSEwLHI9ITEsbj12b2lkIDA7dHJ5e2Zvcih2YXIgaSxhPXRoaXMuc3R4LmRyYXdpbmdPYmplY3RzW1N5bWJvbC5pdGVyYXRvcl0oKTshKHQ9KGk9YS5uZXh0KCkpLmRvbmUpO3Q9ITApe3ZhciBvPWkudmFsdWU7aWYoZSlyZXR1cm4gdGhpcy5zaG93RHJhd1Rvb2xEaWFsb2cobyksITB9fWNhdGNoKGUpe3I9ITAsbj1lfWZpbmFsbHl7dHJ5e3R8fG51bGw9PWEucmV0dXJufHxhLnJldHVybigpfWZpbmFsbHl7aWYocil0aHJvdyBufX1yZXR1cm4hMX19LHtrZXk6XCJzaG93RHJhd1Rvb2xEaWFsb2dcIix2YWx1ZTpmdW5jdGlvbihlKXtPYmplY3QoZi5kKShmLmIuQ2hhcnRDb250cm9sLGYuYS5EcmF3VG9vbHMsXCJFZGl0IFwiLmNvbmNhdChlLm5hbWUpKTtlLmFib3J0KCk7dmFyIHQ9Q0lRLkRyYXdpbmcuZ2V0RHJhd2luZ1BhcmFtZXRlcnModGhpcy5zdHgsZS5uYW1lKSxyPXtjb2xvcjpcImNvbG9ycGlja2VyXCIsZmlsbENvbG9yOlwiY29sb3JwaWNrZXJcIixwYXR0ZXJuOlwicGF0dGVyblwiLGF4aXNMYWJlbDpcInN3aXRjaFwiLGZvbnQ6XCJmb250XCIsbGluZVdpZHRoOlwibm9uZVwifTt0aGlzLnNldHRpbmdzRGlhbG9nLml0ZW1zPU9iamVjdC5rZXlzKHQpLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4hKChlLm5hbWUuc3RhcnRzV2l0aChcImZpYlwiKXx8XCJyZXRyYWNlbWVudFwiPT09ZS5uYW1lKSYmXCJwYXR0ZXJuXCI9PT10KX0pLm1hcChmdW5jdGlvbihuKXtyZXR1cm57aWQ6bix0aXRsZTpiKG4pLHZhbHVlOmVbbl0sZGVmYXVsdFZhbHVlOnRbbl0sdHlwZTpyW25dfX0pLHRoaXMuYWN0aXZlRHJhd2luZz1lLHRoaXMuYWN0aXZlRHJhd2luZy5oaWdobGlnaHRlZD0hMSx0aGlzLnNldHRpbmdzRGlhbG9nLnRpdGxlPWIoZS5uYW1lKSx0aGlzLnNldHRpbmdzRGlhbG9nLnNldE9wZW4oITApfX0se2tleTpcImNsZWFyQWxsXCIsdmFsdWU6ZnVuY3Rpb24oKXtPYmplY3QoZi5kKShmLmIuQ2hhcnRDb250cm9sLGYuYS5EcmF3VG9vbHMsXCJDbGVhciBBbGxcIiksdGhpcy5zdHguY2xlYXJEcmF3aW5ncygpfX0se2tleTpcInNlbGVjdFRvb2xcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmlzQ29udGludW91cz0hMSxPYmplY3QoZi5kKShmLmIuQ2hhcnRDb250cm9sLGYuYS5EcmF3VG9vbHMsXCJBZGQgXCIuY29uY2F0KGUpKTt2YXIgdD10aGlzLmNvbnRleHQuc3R4O3QuY2xlYXJNZWFzdXJlKCksdC5jaGFuZ2VWZWN0b3JUeXBlKGUpLFwiY29udGludW91c1wiPT09ZSYmKHRoaXMuaXNDb250aW51b3VzPSEwKSx0aGlzLm1lbnUuc2V0T3BlbighMSl9fSx7a2V5Olwib25DaGFuZ2VkXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ITAscj0hMSxuPXZvaWQgMDt0cnl7Zm9yKHZhciBpLGE9ZVtTeW1ib2wuaXRlcmF0b3JdKCk7ISh0PShpPWEubmV4dCgpKS5kb25lKTt0PSEwKXt2YXIgbz1pLnZhbHVlO3RoaXMuYWN0aXZlRHJhd2luZ1tvLmlkXT1vLnZhbHVlfX1jYXRjaChlKXtyPSEwLG49ZX1maW5hbGx5e3RyeXt0fHxudWxsPT1hLnJldHVybnx8YS5yZXR1cm4oKX1maW5hbGx5e2lmKHIpdGhyb3cgbn19dGhpcy5hY3RpdmVEcmF3aW5nLmhpZ2hsaWdodGVkPSExLHRoaXMuYWN0aXZlRHJhd2luZy5hZGp1c3QoKSx0aGlzLm1haW5TdG9yZS5zdGF0ZS5zYXZlRHJhd2luZ3MoKX19LHtrZXk6XCJvbkRlbGV0ZWRcIix2YWx1ZTpmdW5jdGlvbigpe09iamVjdChmLmQpKGYuYi5DaGFydENvbnRyb2wsZi5hLkRyYXdUb29scyxcIlJlbW92ZSBcIi5jb25jYXQodGhpcy5hY3RpdmVEcmF3aW5nLm5hbWUpKSx0aGlzLnN0eC5yZW1vdmVEcmF3aW5nKHRoaXMuYWN0aXZlRHJhd2luZyksdGhpcy5hY3RpdmVEcmF3aW5nPW51bGx9fSx7a2V5OlwiY29udGV4dFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC5jb250ZXh0fX0se2tleTpcInN0eFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRleHQuc3R4fX1dKSYmbShyLnByb3RvdHlwZSxuKSxpJiZtKHIsaSksdH0oKSkucHJvdG90eXBlLFwib25EZWxldGVIaWdobGlnaHRlZFwiLFtuXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGMucHJvdG90eXBlLFwib25EZWxldGVIaWdobGlnaHRlZFwiKSxjLnByb3RvdHlwZSksZyhjLnByb3RvdHlwZSxcImNsZWFyQWxsXCIsW2ldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYy5wcm90b3R5cGUsXCJjbGVhckFsbFwiKSxjLnByb3RvdHlwZSksZyhjLnByb3RvdHlwZSxcInNlbGVjdFRvb2xcIixbYV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjLnByb3RvdHlwZSxcInNlbGVjdFRvb2xcIiksYy5wcm90b3R5cGUpLGcoYy5wcm90b3R5cGUsXCJvbkNoYW5nZWRcIixbb10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjLnByb3RvdHlwZSxcIm9uQ2hhbmdlZFwiKSxjLnByb3RvdHlwZSksZyhjLnByb3RvdHlwZSxcIm9uRGVsZXRlZFwiLFtzXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGMucHJvdG90eXBlLFwib25EZWxldGVkXCIpLGMucHJvdG90eXBlKSxjKX0pLmNhbGwodGhpcyxyKDYpLnQpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGUpe3IuZCh0LFwiYVwiLGZ1bmN0aW9uKCl7cmV0dXJuIHh9KTt2YXIgbixpLGEsbyxzLGMsbCx1PXIoMSksaD1yKDgpLGQ9cig0NykscD1yKDIyKSxmPXIoOSksbT1yKDEyKSxnPXIoNDgpLGI9cig2MikseT1yKDUpLHY9cigxNSk7ZnVuY3Rpb24gXyhlLHQscixuKXtyJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOnIuZW51bWVyYWJsZSxjb25maWd1cmFibGU6ci5jb25maWd1cmFibGUsd3JpdGFibGU6ci53cml0YWJsZSx2YWx1ZTpyLmluaXRpYWxpemVyP3IuaW5pdGlhbGl6ZXIuY2FsbChuKTp2b2lkIDB9KX1mdW5jdGlvbiBTKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1mdW5jdGlvbiB3KGUsdCxyLG4saSl7dmFyIGE9e307cmV0dXJuIE9iamVjdC5rZXlzKG4pLmZvckVhY2goZnVuY3Rpb24oZSl7YVtlXT1uW2VdfSksYS5lbnVtZXJhYmxlPSEhYS5lbnVtZXJhYmxlLGEuY29uZmlndXJhYmxlPSEhYS5jb25maWd1cmFibGUsKFwidmFsdWVcImluIGF8fGEuaW5pdGlhbGl6ZXIpJiYoYS53cml0YWJsZT0hMCksYT1yLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbihyLG4pe3JldHVybiBuKGUsdCxyKXx8cn0sYSksaSYmdm9pZCAwIT09YS5pbml0aWFsaXplciYmKGEudmFsdWU9YS5pbml0aWFsaXplcj9hLmluaXRpYWxpemVyLmNhbGwoaSk6dm9pZCAwLGEuaW5pdGlhbGl6ZXI9dm9pZCAwKSx2b2lkIDA9PT1hLmluaXRpYWxpemVyJiYoT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxhKSxhPW51bGwpLGF9dmFyIHg9KG49dS5hY3Rpb24uYm91bmQsaT11LmFjdGlvbi5ib3VuZCxhPXUuYWN0aW9uLmJvdW5kLHM9dygobz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQocil7dmFyIG49dGhpczshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLF8odGhpcyxcInRvZGF5Q2hhbmdlXCIscyx0aGlzKSxfKHRoaXMsXCJ0b2RheUNoYW5nZVBlcmNlbnRcIixjLHRoaXMpLF8odGhpcyxcImlzVmlzaWJsZVwiLGwsdGhpcyksdGhpcy5zZWFyY2hJbnB1dENsYXNzTmFtZT12b2lkIDAsdGhpcy5vbkNvbnRleHRSZWFkeT1mdW5jdGlvbigpe24uY2hhcnQuZmVlZC5vbk1hc3RlckRhdGFVcGRhdGUobi51cGRhdGUpLG4udXBkYXRlKCksbi50cmFkaW5nVGltZXMub25NYXJrZXRPcGVuQ2xvc2VDaGFuZ2VkKE9iamVjdCh1LmFjdGlvbikoZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIGUpbi5jdXJyZW50U3ltYm9sLnN5bWJvbD09PXQmJihuLmN1cnJlbnRTeW1ib2wuZXhjaGFuZ2VfaXNfb3Blbj1lW3RdKX0pKX0sdGhpcy5vbk1vdXNlRW50ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gbi5jcm9zc2hhaXJTdG9yZS51cGRhdGVWaXNpYmlsaXR5KCExKX0sdGhpcy5vbk1vdXNlTGVhdmU9ZnVuY3Rpb24oKXtyZXR1cm4gbi5jcm9zc2hhaXJTdG9yZS51cGRhdGVWaXNpYmlsaXR5KCEwKX0sdGhpcy5tYWluU3RvcmU9cixPYmplY3QodS53aGVuKShmdW5jdGlvbigpe3JldHVybiBuLmNvbnRleHR9LHRoaXMub25Db250ZXh0UmVhZHkpLHRoaXMubWVudT1uZXcgaC5hKHIse3JvdXRlOlwiY2hhcnQtdGl0bGVcIn0pLHRoaXMuYW5pbWF0ZWRQcmljZT1uZXcgZC5hLHRoaXMuY2F0ZWdvcmljYWxEaXNwbGF5PW5ldyBwLmEoe2dldENhdGVnb3JpY2FsSXRlbXM6ZnVuY3Rpb24oKXtyZXR1cm4gbi5tYWluU3RvcmUuY2hhcnQuY2F0ZWdvcml6ZWRTeW1ib2xzfSxnZXRJc1Nob3duOmZ1bmN0aW9uKCl7cmV0dXJuIG4ubWVudS5vcGVufSxwbGFjZWhvbGRlclRleHQ6ZS50cmFuc2xhdGUoXCJTZWFyY2guLi5cIiksZmF2b3JpdGVzSWQ6XCJjaGFydFRpdGxlJkNvbXBhcmlzb25cIixtYWluU3RvcmU6cixpZDpcIm1hcmtldF9kcm9wZG93blwiLGdldEN1cnJlbnRBY3RpdmVDYXRlZ29yeTpmdW5jdGlvbigpe3JldHVybiBuLm1haW5TdG9yZS5jaGFydC5jdXJyZW50QWN0aXZlU3ltYm9sP24ubWFpblN0b3JlLmNoYXJ0LmN1cnJlbnRBY3RpdmVTeW1ib2wubWFya2V0OlwiZmF2b3JpdGVcIn0sZ2V0Q3VycmVudEFjdGl2ZVN1YkNhdGVnb3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG4ubWFpblN0b3JlLmNoYXJ0LmN1cnJlbnRBY3RpdmVTeW1ib2w/bi5tYWluU3RvcmUuY2hhcnQuY3VycmVudEFjdGl2ZVN5bWJvbC5zeW1ib2w6XCJcIn0sc2VhcmNoSW5wdXRDbGFzc05hbWU6ZnVuY3Rpb24oKXtyZXR1cm4gbi5zZWFyY2hJbnB1dENsYXNzTmFtZX19KSx0aGlzLnNlcnZlclRpbWU9di5hLmdldEluc3RhbmNlKCksdGhpcy5DaGFydFRpdGxlTWVudT10aGlzLm1lbnUuY29ubmVjdChmLmEpLHRoaXMuTWFya2V0U2VsZWN0b3I9dGhpcy5jYXRlZ29yaWNhbERpc3BsYXkuY29ubmVjdChtLmIpO3ZhciBpPXRoaXMuYW5pbWF0ZWRQcmljZS5jb25uZWN0KGcuYSksYT1PYmplY3QoeS5hKShmdW5jdGlvbigpe3JldHVybntpc1Zpc2libGU6bi5pc1Zpc2libGUmJm4uaXNTaG93Q2hhcnRQcmljZSxzdGF0dXM6bi5hbmltYXRlZFByaWNlLnN0YXR1cyx0b2RheUNoYW5nZTpuLnRvZGF5Q2hhbmdlLHRvZGF5Q2hhbmdlUGVyY2VudDpuLnRvZGF5Q2hhbmdlUGVyY2VudCxTcG90UHJpY2U6aX19KShiLmEpO3RoaXMuU3ltYm9sU2VsZWN0QnV0dG9uPU9iamVjdCh5LmEpKGZ1bmN0aW9uKCl7cmV0dXJue3N5bWJvbDpuLmN1cnJlbnRTeW1ib2wsQ2hhcnRQcmljZTphLGlzU3ltYm9sT3BlbjpuLmlzU3ltYm9sT3BlbixzeW1ib2xPcGVuVGltZTpuLnN5bWJvbE9wZW5UaW1lfX0pKGIuYil9dmFyIHIsbixpO3JldHVybiByPXQsKG49W3trZXk6XCJ1cGRhdGVQcm9wc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuc2VhcmNoSW5wdXRDbGFzc05hbWU9ZX19LHtrZXk6XCJzZXRTeW1ib2xcIix2YWx1ZTpmdW5jdGlvbihlKXt2b2lkIDA9PT10aGlzLm1haW5TdG9yZS5zdGF0ZS5zeW1ib2w/dGhpcy5jaGFydC5jaGFuZ2VTeW1ib2woZSk6Y29uc29sZS5lcnJvcihcIkNoYW5naW5nIHN5bWJvbCBkb2VzIG5vdGhpbmcgYmVjYXVzZSBzeW1ib2wgcHJvcCBpcyBiZWluZyBzZXQuIENvbnNpZGVyIG92ZXJyaWRpbmcgdGhlIG9uQ2hhbmdlIHByb3AgaW4gPENoYXJ0VGl0bGUgLz5cIil9fSx7a2V5OlwidXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYodGhpcy5jdXJyZW50U3ltYm9sJiYodGhpcy5pc1Zpc2libGU9ZXx8IXRoaXMuaXNTaG93Q2hhcnRQcmljZSx0aGlzLmlzVmlzaWJsZSkpe3ZhciB0PWUuQ2xvc2U7aWYodCl7dD10LnRvRml4ZWQodGhpcy5kZWNpbWFsUGxhY2VzKTt2YXIgcj1lLnByZXZDbG9zZXx8dGhpcy5hbmltYXRlZFByaWNlLnByaWNlO3RoaXMuYW5pbWF0ZWRQcmljZS5zZXRQcmljZSh0LHIpLHImJih0aGlzLnRvZGF5Q2hhbmdlPU1hdGguYWJzKHQtcikudG9GaXhlZCh0aGlzLmRlY2ltYWxQbGFjZXMpLHRoaXMudG9kYXlDaGFuZ2VQZXJjZW50PSh0aGlzLnRvZGF5Q2hhbmdlL3IqMTAwKS50b0ZpeGVkKDIpKX19fX0se2tleTpcImNoYXJ0XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0fX0se2tleTpcImNvbnRleHRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQuY29udGV4dH19LHtrZXk6XCJjcm9zc2hhaXJTdG9yZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1haW5TdG9yZS5jcm9zc2hhaXJ9fSx7a2V5OlwiY3VycmVudFN5bWJvbFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC5jdXJyZW50QWN0aXZlU3ltYm9sfX0se2tleTpcImlzU3ltYm9sT3BlblwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmN1cnJlbnRTeW1ib2wuZXhjaGFuZ2VfaXNfb3Blbn19LHtrZXk6XCJkZWNpbWFsUGxhY2VzXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0LmN1cnJlbnRBY3RpdmVTeW1ib2wuZGVjaW1hbF9wbGFjZXN9fSx7a2V5OlwiaXNTaG93Q2hhcnRQcmljZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC5pc0NoYXJ0QXZhaWxhYmxlfX0se2tleTpcInRyYWRpbmdUaW1lc1wiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC50cmFkaW5nVGltZXN9fSx7a2V5Olwic3ltYm9sT3BlblRpbWVcIixnZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnRyYWRpbmdUaW1lcy5fdHJhZGluZ1RpbWVzTWFwJiZ0aGlzLnRyYWRpbmdUaW1lcy5fdHJhZGluZ1RpbWVzTWFwLmxlbmd0aD90aGlzLnRyYWRpbmdUaW1lcy5fdHJhZGluZ1RpbWVzTWFwW3RoaXMuY3VycmVudFN5bWJvbC5zeW1ib2xdLnRpbWVzOltdLHQ9dGhpcy5zZXJ2ZXJUaW1lLmdldExvY2FsRGF0ZSgpLmdldFRpbWUoKSxyPWU/ZS5maW5kKGZ1bmN0aW9uKGUpe3JldHVybiBlLm9wZW4uZ2V0VGltZSgpPnR9KTpudWxsO3JldHVybiByIGluc3RhbmNlb2YgRGF0ZXx8KHI9bnVsbCkse29wZW5UaW1lOnJ9fX1dKSYmUyhyLnByb3RvdHlwZSxuKSxpJiZTKHIsaSksdH0oKSkucHJvdG90eXBlLFwidG9kYXlDaGFuZ2VcIixbdS5vYnNlcnZhYmxlXSx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITAsaW5pdGlhbGl6ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH19KSxjPXcoby5wcm90b3R5cGUsXCJ0b2RheUNoYW5nZVBlcmNlbnRcIixbdS5vYnNlcnZhYmxlXSx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITAsaW5pdGlhbGl6ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH19KSxsPXcoby5wcm90b3R5cGUsXCJpc1Zpc2libGVcIixbdS5vYnNlcnZhYmxlXSx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITAsaW5pdGlhbGl6ZXI6ZnVuY3Rpb24oKXtyZXR1cm4hMX19KSx3KG8ucHJvdG90eXBlLFwiY3VycmVudFN5bWJvbFwiLFt1LmNvbXB1dGVkXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG8ucHJvdG90eXBlLFwiY3VycmVudFN5bWJvbFwiKSxvLnByb3RvdHlwZSksdyhvLnByb3RvdHlwZSxcImlzU3ltYm9sT3BlblwiLFt1LmNvbXB1dGVkXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG8ucHJvdG90eXBlLFwiaXNTeW1ib2xPcGVuXCIpLG8ucHJvdG90eXBlKSx3KG8ucHJvdG90eXBlLFwiZGVjaW1hbFBsYWNlc1wiLFt1LmNvbXB1dGVkXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG8ucHJvdG90eXBlLFwiZGVjaW1hbFBsYWNlc1wiKSxvLnByb3RvdHlwZSksdyhvLnByb3RvdHlwZSxcImlzU2hvd0NoYXJ0UHJpY2VcIixbdS5jb21wdXRlZF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvLnByb3RvdHlwZSxcImlzU2hvd0NoYXJ0UHJpY2VcIiksby5wcm90b3R5cGUpLHcoby5wcm90b3R5cGUsXCJ0cmFkaW5nVGltZXNcIixbdS5jb21wdXRlZF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvLnByb3RvdHlwZSxcInRyYWRpbmdUaW1lc1wiKSxvLnByb3RvdHlwZSksdyhvLnByb3RvdHlwZSxcInN5bWJvbE9wZW5UaW1lXCIsW3UuY29tcHV0ZWRdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioby5wcm90b3R5cGUsXCJzeW1ib2xPcGVuVGltZVwiKSxvLnByb3RvdHlwZSksdyhvLnByb3RvdHlwZSxcInVwZGF0ZVByb3BzXCIsW25dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioby5wcm90b3R5cGUsXCJ1cGRhdGVQcm9wc1wiKSxvLnByb3RvdHlwZSksdyhvLnByb3RvdHlwZSxcInNldFN5bWJvbFwiLFtpXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG8ucHJvdG90eXBlLFwic2V0U3ltYm9sXCIpLG8ucHJvdG90eXBlKSx3KG8ucHJvdG90eXBlLFwidXBkYXRlXCIsW2FdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioby5wcm90b3R5cGUsXCJ1cGRhdGVcIiksby5wcm90b3R5cGUpLG8pfSkuY2FsbCh0aGlzLHIoNikudCl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtyLmQodCxcImFcIixmdW5jdGlvbigpe3JldHVybiBkfSk7dmFyIG49cigwKSxpPXIubihuKSxhPXIoNCksbz1yKDE1KTtmdW5jdGlvbiBzKGUpe3JldHVybihzPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBjKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1mdW5jdGlvbiBsKGUsdCl7cmV0dXJuIXR8fFwib2JqZWN0XCIhPT1zKHQpJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0P2Z1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiBlfShlKTp0fWZ1bmN0aW9uIHUoZSl7cmV0dXJuKHU9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZjpmdW5jdGlvbihlKXtyZXR1cm4gZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihlKX0pKGUpfWZ1bmN0aW9uIGgoZSx0KXtyZXR1cm4oaD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuX19wcm90b19fPXQsZX0pKGUsdCl9dmFyIGQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt2YXIgcjtyZXR1cm4gZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLChyPWwodGhpcyx1KHQpLmNhbGwodGhpcyxlKSkpLnNlcnZlclRpbWU9by5hLmdldEluc3RhbmNlKCksci5zdGF0ZT17dGltZTpyLnNlcnZlclRpbWUuZ2V0TG9jYWxEYXRlKCkuZ2V0VGltZSgpfSxyfXZhciByLG4scztyZXR1cm4gZnVuY3Rpb24oZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJmgoZSx0KX0odCxpLmEuQ29tcG9uZW50KSxyPXQsKG49W3trZXk6XCJjb21wb25lbnREaWRNb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnRpbWVySW50ZXJ2YWw9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtyZXR1cm4gZS50aWNrKCl9LDFlMyl9fSx7a2V5OlwiY29tcG9uZW50V2lsbFVubW91bnRcIix2YWx1ZTpmdW5jdGlvbigpe2NsZWFySW50ZXJ2YWwodGhpcy50aW1lckludGVydmFsKX19LHtrZXk6XCJ0aWNrXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnNldFN0YXRlKHt0aW1lOnRoaXMuc2VydmVyVGltZS5nZXRMb2NhbERhdGUoKS5nZXRUaW1lKCl9KX19LHtrZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPW51bGwsdD0odGhpcy5wcm9wcy5zeW1ib2xPcGVuVGltZS5zeW1ib2xPcGVuVGltZXx8e30pLm9wZW5UaW1lfHxudWxsO3JldHVybiB0JiYoZT1PYmplY3QoYS5mKSh0LmdldFRpbWUoKS10aGlzLnN0YXRlLnRpbWUpKSxpLmEuY3JlYXRlRWxlbWVudChcInNwYW5cIixudWxsLGUpfX1dKSYmYyhyLnByb3RvdHlwZSxuKSxzJiZjKHIscyksdH0oKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihlKXtyLmQodCxcImFcIixmdW5jdGlvbigpe3JldHVybiBJfSk7dmFyIG4saSxhLG8scyxjLGwsdSxoLGQscCxmLG0sZyxiLHksdixfLFMsdyx4PXIoMCksaz1yLm4oeCksTz1yKDEpLEM9cig4KSxFPXIoMiksVD1yKDkpLFA9cigzKTtmdW5jdGlvbiBEKGUsdCxyLG4pe3ImJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse2VudW1lcmFibGU6ci5lbnVtZXJhYmxlLGNvbmZpZ3VyYWJsZTpyLmNvbmZpZ3VyYWJsZSx3cml0YWJsZTpyLndyaXRhYmxlLHZhbHVlOnIuaW5pdGlhbGl6ZXI/ci5pbml0aWFsaXplci5jYWxsKG4pOnZvaWQgMH0pfWZ1bmN0aW9uIGooZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fWZ1bmN0aW9uIEEoZSx0LHIsbixpKXt2YXIgYT17fTtyZXR1cm4gT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbihlKXthW2VdPW5bZV19KSxhLmVudW1lcmFibGU9ISFhLmVudW1lcmFibGUsYS5jb25maWd1cmFibGU9ISFhLmNvbmZpZ3VyYWJsZSwoXCJ2YWx1ZVwiaW4gYXx8YS5pbml0aWFsaXplcikmJihhLndyaXRhYmxlPSEwKSxhPXIuc2xpY2UoKS5yZXZlcnNlKCkucmVkdWNlKGZ1bmN0aW9uKHIsbil7cmV0dXJuIG4oZSx0LHIpfHxyfSxhKSxpJiZ2b2lkIDAhPT1hLmluaXRpYWxpemVyJiYoYS52YWx1ZT1hLmluaXRpYWxpemVyP2EuaW5pdGlhbGl6ZXIuY2FsbChpKTp2b2lkIDAsYS5pbml0aWFsaXplcj12b2lkIDApLHZvaWQgMD09PWEuaW5pdGlhbGl6ZXImJihPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LGEpLGE9bnVsbCksYX12YXIgTj1be2tleTpcImVuXCIsbmFtZTpcIkVuZ2xpc2hcIixpY29uOmsuYS5jcmVhdGVFbGVtZW50KEUudi5VU0QsbnVsbCl9LHtrZXk6XCJwdFwiLG5hbWU6XCJQb3J0dWd1w6pzXCIsaWNvbjprLmEuY3JlYXRlRWxlbWVudChFLnYuUG9ydHVnYWwsbnVsbCl9LHtrZXk6XCJkZVwiLG5hbWU6XCJEZXV0c2NoXCIsaWNvbjprLmEuY3JlYXRlRWxlbWVudChFLnYuR2VybWFuLG51bGwpfSx7a2V5OlwicnVcIixuYW1lOlwi0KDRg9GB0YHQutC40LlcIixpY29uOmsuYS5jcmVhdGVFbGVtZW50KEUudi5SdXNzaWEsbnVsbCl9LHtrZXk6XCJmclwiLG5hbWU6XCJGcmVuY2hcIixpY29uOmsuYS5jcmVhdGVFbGVtZW50KEUudi5GcmVuY2gsbnVsbCl9LHtrZXk6XCJ0aFwiLG5hbWU6XCJUaGFpXCIsaWNvbjprLmEuY3JlYXRlRWxlbWVudChFLnYuVGhhaWxhbmQsbnVsbCl9LHtrZXk6XCJpZFwiLG5hbWU6XCJJbmRvbmVzaWFcIixpY29uOmsuYS5jcmVhdGVFbGVtZW50KEUudi5JbmRvbmVzaWEsbnVsbCl9LHtrZXk6XCJ2aVwiLG5hbWU6XCJUaeG6v25nIFZp4buHdFwiLGljb246ay5hLmNyZWF0ZUVsZW1lbnQoRS52LlZpZXRuYW0sbnVsbCl9LHtrZXk6XCJpdFwiLG5hbWU6XCJJdGFsaWFub1wiLGljb246ay5hLmNyZWF0ZUVsZW1lbnQoRS52Lkl0YWx5LG51bGwpfSx7a2V5OlwiemhfY25cIixuYW1lOlwi566A5L2T5Lit5paHXCIsaWNvbjprLmEuY3JlYXRlRWxlbWVudChFLnYuQ2hpbmVzZSxudWxsKX0se2tleTpcInBsXCIsbmFtZTpcIlBvbGlzaFwiLGljb246ay5hLmNyZWF0ZUVsZW1lbnQoRS52LlBvbGFuZCxudWxsKX0se2tleTpcInpoX3R3XCIsbmFtZTpcIue5gemrlOS4reaWh1wiLGljb246ay5hLmNyZWF0ZUVsZW1lbnQoRS52LkNoaW5lc2VUcmFkaXRpb25hbCxudWxsKX0se2tleTpcImVzXCIsbmFtZTpcImVzcGFueW9sXCIsaWNvbjprLmEuY3JlYXRlRWxlbWVudChFLnYuU3BhbmlzaCxudWxsKX1dLEk9KG49Ty5hY3Rpb24uYm91bmQsaT1PLmFjdGlvbi5ib3VuZCxhPU8uYWN0aW9uLmJvdW5kLG89Ty5hY3Rpb24uYm91bmQscz1PLmFjdGlvbi5ib3VuZCxjPU8uYWN0aW9uLmJvdW5kLGw9Ty5hY3Rpb24uYm91bmQsdT1PLmFjdGlvbi5ib3VuZCxoPU8uYWN0aW9uLmJvdW5kLGQ9Ty5hY3Rpb24uYm91bmQsZj1BKChwPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgcj10aGlzOyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksdGhpcy5sYW5ndWFnZXM9W10sdGhpcy5kZWZhdWx0TGFuZ3VhZ2U9e30sdGhpcy5vblNldHRpbmdzQ2hhbmdlPXZvaWQgMCxEKHRoaXMsXCJhc3NldEluZm9ybWF0aW9uXCIsZix0aGlzKSxEKHRoaXMsXCJ2aWV3XCIsbSx0aGlzKSxEKHRoaXMsXCJsYW5ndWFnZVwiLGcsdGhpcyksRCh0aGlzLFwicG9zaXRpb25cIixiLHRoaXMpLEQodGhpcyxcInRoZW1lXCIseSx0aGlzKSxEKHRoaXMsXCJjb3VudGRvd25cIix2LHRoaXMpLEQodGhpcyxcImhpc3RvcmljYWxcIixfLHRoaXMpLEQodGhpcyxcImlzQXV0b1NjYWxlXCIsUyx0aGlzKSxEKHRoaXMsXCJpc0hpZ2hlc3RMb3dlc3RNYXJrZXJFbmFibGVkXCIsdyx0aGlzKSx0aGlzLmRlZmF1bHRMYW5ndWFnZT10aGlzLmxhbmd1YWdlc1swXSx0aGlzLm1haW5TdG9yZT1lLHRoaXMubWVudT1uZXcgQy5hKGUse3JvdXRlOlwic2V0dGluZ1wifSksdGhpcy5DaGFydFNldHRpbmdNZW51PXRoaXMubWVudS5jb25uZWN0KFQuYSksT2JqZWN0KE8ud2hlbikoZnVuY3Rpb24oKXtyZXR1cm4gci5jb250ZXh0fSxmdW5jdGlvbigpe3Iuc2V0U2V0dGluZ3MoZS5zdGF0ZS5zZXR0aW5ncyl9KX12YXIgcixuLGk7cmV0dXJuIHI9dCwobj1be2tleTpcInNldFNldHRpbmdzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZih2b2lkIDAhPT1lKXt2YXIgcj1lLmFzc2V0SW5mb3JtYXRpb24sbj1lLmNvdW50ZG93bixpPWUuaGlzdG9yaWNhbCxhPWUubGFuZ3VhZ2Usbz1lLnBvc2l0aW9uLHM9ZS5pc0F1dG9TY2FsZSxjPWUuaXNIaWdoZXN0TG93ZXN0TWFya2VyRW5hYmxlZCxsPWUudGhlbWUsdT1lLmFjdGl2ZUxhbmd1YWdlczshdSYmTi5ldmVyeShmdW5jdGlvbihlKXtyZXR1cm4gdC5sYW5ndWFnZXMuZmluZChmdW5jdGlvbih0KXtyZXR1cm4gdC5rZXk9PT1lLmtleX0pfSl8fHUmJnRoaXMubGFuZ3VhZ2VzLmxlbmd0aD09PXUubGVuZ3RoJiZ0aGlzLmxhbmd1YWdlcy5ldmVyeShmdW5jdGlvbihlKXtyZXR1cm4tMSE9PXUuaW5kZXhPZihlLmtleS50b1VwcGVyQ2FzZSgpKX0pfHx0aGlzLnVwZGF0ZUFjdGl2ZUxhbmd1YWdlKHUpLHZvaWQgMCE9PWwmJnRoaXMuc2V0VGhlbWUobCksdm9pZCAwIT09byYmdGhpcy5zZXRQb3NpdGlvbihvKSx2b2lkIDAhPT1uJiZ0aGlzLnNob3dDb3VudGRvd24obiksdm9pZCAwIT09YSYmdGhpcy5zZXRMYW5ndWFnZShhKSx2b2lkIDAhPT1yJiZ0aGlzLnNldEFzc2V0SW5mb3JtYXRpb24ociksdm9pZCAwIT09aSYmdGhpcy5zZXRIaXN0b3JpY2FsKGkpLHZvaWQgMCE9PXMmJnRoaXMuc2V0QXV0b1NjYWxlKHMpLHZvaWQgMCE9PWMmJnRoaXMudG9nZ2xlSGlnaGVzdExvd2VzdE1hcmtlcihjKX19fSx7a2V5Olwic2F2ZVNldHRpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMub25TZXR0aW5nc0NoYW5nZSYmdGhpcy5vblNldHRpbmdzQ2hhbmdlKHthc3NldEluZm9ybWF0aW9uOnRoaXMuYXNzZXRJbmZvcm1hdGlvbixjb3VudGRvd246dGhpcy5jb3VudGRvd24saGlzdG9yaWNhbDp0aGlzLmhpc3RvcmljYWwsbGFuZ3VhZ2U6dGhpcy5sYW5ndWFnZS5rZXkscG9zaXRpb246dGhpcy5wb3NpdGlvbixpc0F1dG9TY2FsZTp0aGlzLmlzQXV0b1NjYWxlLGlzSGlnaGVzdExvd2VzdE1hcmtlckVuYWJsZWQ6dGhpcy5pc0hpZ2hlc3RMb3dlc3RNYXJrZXJFbmFibGVkLHRoZW1lOnRoaXMudGhlbWV9KX19LHtrZXk6XCJzZXRWaWV3XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy52aWV3PWV8fFwiXCJ9fSx7a2V5OlwidXBkYXRlQWN0aXZlTGFuZ3VhZ2VcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuc2V0VmlldyhcIlwiKSx0aGlzLmxhbmd1YWdlcz1lP2UubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBOLmZpbmQoZnVuY3Rpb24odCl7cmV0dXJuIHQua2V5LnRvVXBwZXJDYXNlKCk9PT1lfSl8fG51bGx9KS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KTpOLHRoaXMuZGVmYXVsdExhbmd1YWdlPXRoaXMubGFuZ3VhZ2VzWzBdLCh0aGlzLmxhbmd1YWdlJiYhdGhpcy5sYW5ndWFnZXMuZmluZChmdW5jdGlvbihlKXtyZXR1cm4gZS5rZXk9PT10Lmxhbmd1YWdlLmtleX0pfHwhdGhpcy5sYW5ndWFnZSkmJnRoaXMuc2V0TGFuZ3VhZ2UodGhpcy5sYW5ndWFnZXNbMF0ua2V5KX19LHtrZXk6XCJzZXRMYW5ndWFnZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMubGFuZ3VhZ2VzLmxlbmd0aCYmKHRoaXMubGFuZ3VhZ2UmJnQ9PT10aGlzLmxhbmd1YWdlLmtleXx8KHRoaXMubGFuZ3VhZ2U9dGhpcy5sYW5ndWFnZXMuZmluZChmdW5jdGlvbihlKXtyZXR1cm4gZS5rZXk9PT10fSl8fHRoaXMuZGVmYXVsdExhbmd1YWdlLGUuc2V0TGFuZ3VhZ2UodGhpcy5sYW5ndWFnZS5rZXkpLE9iamVjdChQLmQpKFAuYi5DaGFydENvbnRyb2wsUC5hLkNoYXJ0U2V0dGluZyxcIkNoYW5nZSBsYW5ndWFnZSB0byBcIi5jb25jYXQodGhpcy5sYW5ndWFnZS5rZXkpKSx0aGlzLnNhdmVTZXR0aW5nKCkpKX19LHtrZXk6XCJzZXRUaGVtZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMudGhlbWUhPT1lJiYodGhpcy50aGVtZT1lLHRoaXMuY29udGV4dCYmKHRoaXMubWFpblN0b3JlLnN0YXRlLnNldENoYXJ0VGhlbWUoZSksdGhpcy5tYWluU3RvcmUuY3Jvc3NoYWlyLnNldEZsb2F0UHJpY2VMYWJlbFN0eWxlKGUpKSxPYmplY3QoUC5kKShQLmIuQ2hhcnRDb250cm9sLFAuYS5DaGFydFNldHRpbmcsXCJDaGFuZ2UgdGhlbWUgdG8gXCIuY29uY2F0KGUpKSx0aGlzLnNhdmVTZXR0aW5nKCkpfX0se2tleTpcInNldFBvc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLnBvc2l0aW9uIT09ZSYmKHRoaXMucG9zaXRpb249ZSx0aGlzLmNvbnRleHQmJnRoaXMuc3R4LmNsZWFyU3R5bGVzKCksT2JqZWN0KFAuZCkoUC5iLkNoYXJ0Q29udHJvbCxQLmEuQ2hhcnRTZXR0aW5nLFwiQ2hhbmdlIFBvc2l0aW9uXCIpLHRoaXMuc2F2ZVNldHRpbmcoKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5tYWluU3RvcmUuY2hhcnQucmVzaXplU2NyZWVuKCl9LDEwKSx0aGlzLm1lbnUuc2V0T3BlbighMSkpfX0se2tleTpcInNldEFzc2V0SW5mb3JtYXRpb25cIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmFzc2V0SW5mb3JtYXRpb24hPT1lJiYodGhpcy5hc3NldEluZm9ybWF0aW9uPWUsT2JqZWN0KFAuZCkoUC5iLkNoYXJ0Q29udHJvbCxQLmEuQ2hhcnRTZXR0aW5nLFwiXCIuY29uY2F0KGU/XCJTaG93XCI6XCJIaWRlXCIsXCIgQXNzZXQgSW5mb3JtYXRpb25cIikpLHRoaXMuc2F2ZVNldHRpbmcoKSl9fSx7a2V5Olwic2hvd0NvdW50ZG93blwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuY291bnRkb3duIT09ZSYmKHRoaXMuY291bnRkb3duPWUsT2JqZWN0KFAuZCkoUC5iLkNoYXJ0Q29udHJvbCxQLmEuQ2hhcnRTZXR0aW5nLFwiXCIuY29uY2F0KGU/XCJTaG93XCI6XCJIaWRlXCIsXCIgQ291bnRkb3duXCIpKSx0aGlzLnNhdmVTZXR0aW5nKCkpfX0se2tleTpcInNldEhpc3RvcmljYWxcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuaGlzdG9yaWNhbCE9PWUmJih0aGlzLmhpc3RvcmljYWw9ZSx0aGlzLmlzSGlnaGVzdExvd2VzdE1hcmtlckVuYWJsZWQ9IWUsdGhpcy5zYXZlU2V0dGluZygpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0Lm1haW5TdG9yZS5jaGFydC5yZXNpemVTY3JlZW4oKX0sMTApLHRoaXMubWVudS5zZXRPcGVuKCExKSl9fSx7a2V5Olwic2V0QXV0b1NjYWxlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5pc0F1dG9TY2FsZSE9PWUmJih0aGlzLmlzQXV0b1NjYWxlPWUsT2JqZWN0KFAuZCkoUC5iLkNoYXJ0Q29udHJvbCxQLmEuQ2hhcnRTZXR0aW5nLFwiIENoYW5nZSBBdXRvU2NhbGUgdG8gXCIuY29uY2F0KGUpKSx0aGlzLnNhdmVTZXR0aW5nKCkpfX0se2tleTpcInRvZ2dsZUhpZ2hlc3RMb3dlc3RNYXJrZXJcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmlzSGlnaGVzdExvd2VzdE1hcmtlckVuYWJsZWQhPT1lJiYodGhpcy5pc0hpZ2hlc3RMb3dlc3RNYXJrZXJFbmFibGVkPWUsT2JqZWN0KFAuZCkoUC5iLkNoYXJ0Q29udHJvbCxQLmEuQ2hhcnRTZXR0aW5nLFwiIFwiLmNvbmNhdChlP1wiU2hvd1wiOlwiSGlkZVwiLFwiIEhpZ2hlc3RMb3dlc3RNYXJrZXIuXCIpKSx0aGlzLnNhdmVTZXR0aW5nKCkpfX0se2tleTpcImNvbnRleHRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQuY29udGV4dH19LHtrZXk6XCJzdHhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZXh0LnN0eH19XSkmJmooci5wcm90b3R5cGUsbiksaSYmaihyLGkpLHR9KCkpLnByb3RvdHlwZSxcImFzc2V0SW5mb3JtYXRpb25cIixbTy5vYnNlcnZhYmxlXSx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITAsaW5pdGlhbGl6ZXI6ZnVuY3Rpb24oKXtyZXR1cm4hMH19KSxtPUEocC5wcm90b3R5cGUsXCJ2aWV3XCIsW08ub2JzZXJ2YWJsZV0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOmZ1bmN0aW9uKCl7cmV0dXJuXCJcIn19KSxnPUEocC5wcm90b3R5cGUsXCJsYW5ndWFnZVwiLFtPLm9ic2VydmFibGVdLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCxpbml0aWFsaXplcjpmdW5jdGlvbigpe3JldHVybiBudWxsfX0pLGI9QShwLnByb3RvdHlwZSxcInBvc2l0aW9uXCIsW08ub2JzZXJ2YWJsZV0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOmZ1bmN0aW9uKCl7cmV0dXJuXCJib3R0b21cIn19KSx5PUEocC5wcm90b3R5cGUsXCJ0aGVtZVwiLFtPLm9ic2VydmFibGVdLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCxpbml0aWFsaXplcjpmdW5jdGlvbigpe3JldHVyblwibGlnaHRcIn19KSx2PUEocC5wcm90b3R5cGUsXCJjb3VudGRvd25cIixbTy5vYnNlcnZhYmxlXSx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITAsaW5pdGlhbGl6ZXI6ZnVuY3Rpb24oKXtyZXR1cm4hMX19KSxfPUEocC5wcm90b3R5cGUsXCJoaXN0b3JpY2FsXCIsW08ub2JzZXJ2YWJsZV0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOmZ1bmN0aW9uKCl7cmV0dXJuITF9fSksUz1BKHAucHJvdG90eXBlLFwiaXNBdXRvU2NhbGVcIixbTy5vYnNlcnZhYmxlXSx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITAsaW5pdGlhbGl6ZXI6ZnVuY3Rpb24oKXtyZXR1cm4hMH19KSx3PUEocC5wcm90b3R5cGUsXCJpc0hpZ2hlc3RMb3dlc3RNYXJrZXJFbmFibGVkXCIsW08ub2JzZXJ2YWJsZV0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOmZ1bmN0aW9uKCl7cmV0dXJuITB9fSksQShwLnByb3RvdHlwZSxcInNldFZpZXdcIixbbl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwLnByb3RvdHlwZSxcInNldFZpZXdcIikscC5wcm90b3R5cGUpLEEocC5wcm90b3R5cGUsXCJ1cGRhdGVBY3RpdmVMYW5ndWFnZVwiLFtpXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHAucHJvdG90eXBlLFwidXBkYXRlQWN0aXZlTGFuZ3VhZ2VcIikscC5wcm90b3R5cGUpLEEocC5wcm90b3R5cGUsXCJzZXRMYW5ndWFnZVwiLFthXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHAucHJvdG90eXBlLFwic2V0TGFuZ3VhZ2VcIikscC5wcm90b3R5cGUpLEEocC5wcm90b3R5cGUsXCJzZXRUaGVtZVwiLFtvXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHAucHJvdG90eXBlLFwic2V0VGhlbWVcIikscC5wcm90b3R5cGUpLEEocC5wcm90b3R5cGUsXCJzZXRQb3NpdGlvblwiLFtzXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHAucHJvdG90eXBlLFwic2V0UG9zaXRpb25cIikscC5wcm90b3R5cGUpLEEocC5wcm90b3R5cGUsXCJzZXRBc3NldEluZm9ybWF0aW9uXCIsW2NdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocC5wcm90b3R5cGUsXCJzZXRBc3NldEluZm9ybWF0aW9uXCIpLHAucHJvdG90eXBlKSxBKHAucHJvdG90eXBlLFwic2hvd0NvdW50ZG93blwiLFtsXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHAucHJvdG90eXBlLFwic2hvd0NvdW50ZG93blwiKSxwLnByb3RvdHlwZSksQShwLnByb3RvdHlwZSxcInNldEhpc3RvcmljYWxcIixbdV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwLnByb3RvdHlwZSxcInNldEhpc3RvcmljYWxcIikscC5wcm90b3R5cGUpLEEocC5wcm90b3R5cGUsXCJzZXRBdXRvU2NhbGVcIixbaF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwLnByb3RvdHlwZSxcInNldEF1dG9TY2FsZVwiKSxwLnByb3RvdHlwZSksQShwLnByb3RvdHlwZSxcInRvZ2dsZUhpZ2hlc3RMb3dlc3RNYXJrZXJcIixbZF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwLnByb3RvdHlwZSxcInRvZ2dsZUhpZ2hlc3RMb3dlc3RNYXJrZXJcIikscC5wcm90b3R5cGUpLHApfSkuY2FsbCh0aGlzLHIoNikudCl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oZSl7ci5kKHQsXCJhXCIsZnVuY3Rpb24oKXtyZXR1cm4gcH0pO3ZhciBuLGksYSxvLHMsYyxsPXIoMSk7ZnVuY3Rpb24gdShlLHQscixuKXtyJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOnIuZW51bWVyYWJsZSxjb25maWd1cmFibGU6ci5jb25maWd1cmFibGUsd3JpdGFibGU6ci53cml0YWJsZSx2YWx1ZTpyLmluaXRpYWxpemVyP3IuaW5pdGlhbGl6ZXIuY2FsbChuKTp2b2lkIDB9KX1mdW5jdGlvbiBoKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1mdW5jdGlvbiBkKGUsdCxyLG4saSl7dmFyIGE9e307cmV0dXJuIE9iamVjdC5rZXlzKG4pLmZvckVhY2goZnVuY3Rpb24oZSl7YVtlXT1uW2VdfSksYS5lbnVtZXJhYmxlPSEhYS5lbnVtZXJhYmxlLGEuY29uZmlndXJhYmxlPSEhYS5jb25maWd1cmFibGUsKFwidmFsdWVcImluIGF8fGEuaW5pdGlhbGl6ZXIpJiYoYS53cml0YWJsZT0hMCksYT1yLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbihyLG4pe3JldHVybiBuKGUsdCxyKXx8cn0sYSksaSYmdm9pZCAwIT09YS5pbml0aWFsaXplciYmKGEudmFsdWU9YS5pbml0aWFsaXplcj9hLmluaXRpYWxpemVyLmNhbGwoaSk6dm9pZCAwLGEuaW5pdGlhbGl6ZXI9dm9pZCAwKSx2b2lkIDA9PT1hLmluaXRpYWxpemVyJiYoT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxhKSxhPW51bGwpLGF9dmFyIHA9KG49bC5hY3Rpb24uYm91bmQsaT1sLmFjdGlvbi5ib3VuZCxhPWwuYWN0aW9uLmJvdW5kLHM9ZCgobz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHUodGhpcyxcImlzQWN0aXZlXCIscyx0aGlzKSx1KHRoaXMsXCJjdXJyZW50U3RhdGVcIixjLHRoaXMpLHRoaXMuc3RhdGVzPXt9LHRoaXMuc3RhdGVzPXtcImNoYXJ0LWVuZ2luZVwiOmUudHJhbnNsYXRlKFwiUmV0cmlldmluZyBDaGFydCBFbmdpbmUuLi5cIiksXCJtYXJrZXQtc3ltYm9sXCI6ZS50cmFuc2xhdGUoXCJSZXRyaWV2aW5nIE1hcmtldCBTeW1ib2xzLi4uXCIpLFwidHJhZGluZy10aW1lXCI6ZS50cmFuc2xhdGUoXCJSZXRyaWV2aW5nIFRyYWRpbmcgVGltZXMuLi5cIiksXCJjaGFydC1kYXRhXCI6ZS50cmFuc2xhdGUoXCJSZXRyaWV2aW5nIENoYXJ0IERhdGEuLi5cIil9fXZhciByLG4saTtyZXR1cm4gcj10LChuPVt7a2V5Olwic2V0U3RhdGVcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnN0YXRlc1tlXT90aGlzLmN1cnJlbnRTdGF0ZT10aGlzLnN0YXRlc1tlXTpjb25zb2xlLmVycm9yKFwiV3Jvbmcgc3RhdGUgcmVxdWVzdGVkIVwiKX19LHtrZXk6XCJzaG93XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmlzQWN0aXZlPSEwfX0se2tleTpcImhpZGVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuaXNBY3RpdmU9ITF9fV0pJiZoKHIucHJvdG90eXBlLG4pLGkmJmgocixpKSx0fSgpKS5wcm90b3R5cGUsXCJpc0FjdGl2ZVwiLFtsLm9ic2VydmFibGVdLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCxpbml0aWFsaXplcjpmdW5jdGlvbigpe3JldHVybiExfX0pLGM9ZChvLnByb3RvdHlwZSxcImN1cnJlbnRTdGF0ZVwiLFtsLm9ic2VydmFibGVdLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCxpbml0aWFsaXplcjpmdW5jdGlvbigpe3JldHVybiExfX0pLGQoby5wcm90b3R5cGUsXCJzZXRTdGF0ZVwiLFtuXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG8ucHJvdG90eXBlLFwic2V0U3RhdGVcIiksby5wcm90b3R5cGUpLGQoby5wcm90b3R5cGUsXCJzaG93XCIsW2ldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioby5wcm90b3R5cGUsXCJzaG93XCIpLG8ucHJvdG90eXBlKSxkKG8ucHJvdG90eXBlLFwiaGlkZVwiLFthXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG8ucHJvdG90eXBlLFwiaGlkZVwiKSxvLnByb3RvdHlwZSksbyl9KS5jYWxsKHRoaXMscig2KS50KX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihlKXtmdW5jdGlvbiByKGUsdCl7dmFyIHI9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSksci5wdXNoLmFwcGx5KHIsbil9cmV0dXJuIHJ9ZnVuY3Rpb24gbihlLHQscil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1yLGV9ZnVuY3Rpb24gaShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSx0aGlzLm9uTWVzc2FnZT12b2lkIDB9dmFyIGEsbyxzO3JldHVybiBhPXQscz1be2tleTpcIkNBVEVHT1JZX0FDVElWRV9TWU1CT0xcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cImFjdGl2ZXN5bWJvbFwifX1dLChvPVt7a2V5Olwibm90aWZ5XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5vbk1lc3NhZ2UmJnRoaXMub25NZXNzYWdlKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP3IoaSwhMCkuZm9yRWFjaChmdW5jdGlvbih0KXtuKGUsdCxpW3RdKX0pOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOnIoaSkuZm9yRWFjaChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KX1yZXR1cm4gZX0oe3R5cGU6XCJ3YXJuaW5nXCJ9LGUpKX19LHtrZXk6XCJub3RpZnlNYXJrZXRPcGVuXCIsdmFsdWU6ZnVuY3Rpb24ocil7dGhpcy5ub3RpZnkoe3RleHQ6ZS50cmFuc2xhdGUoXCJbc3ltYm9sXSBtYXJrZXQgaXMgbm93IG9wZW5lZC5cIix7c3ltYm9sOnJ9KSx0eXBlOlwiaW5mb1wiLGNhdGVnb3J5OnQuQ0FURUdPUllfQUNUSVZFX1NZTUJPTH0pfX0se2tleTpcIm5vdGlmeU1hcmtldENsb3NlXCIsdmFsdWU6ZnVuY3Rpb24ocil7dGhpcy5ub3RpZnkoe3RleHQ6ZS50cmFuc2xhdGUoXCJbc3ltYm9sXSBtYXJrZXQgaXMgcHJlc2VudGx5IGNsb3NlZC5cIix7c3ltYm9sOnJ9KSxjYXRlZ29yeTp0LkNBVEVHT1JZX0FDVElWRV9TWU1CT0x9KX19LHtrZXk6XCJub3RpZnlEZWxheWVkTWFya2V0XCIsdmFsdWU6ZnVuY3Rpb24ocixuKXt0aGlzLm5vdGlmeSh7dGV4dDplLnRyYW5zbGF0ZShcIltzeW1ib2xdIGZlZWQgaXMgZGVsYXllZCBieSBbZGVsYXldIG1pbnV0ZXNcIix7c3ltYm9sOnIsZGVsYXk6bn0pLGNhdGVnb3J5OnQuQ0FURUdPUllfQUNUSVZFX1NZTUJPTH0pfX0se2tleTpcIm5vdGlmeUZlZWRVbmF2YWlsYWJsZVwiLHZhbHVlOmZ1bmN0aW9uKHIpe3RoaXMubm90aWZ5KHt0ZXh0OmUudHJhbnNsYXRlKFwiU3RyZWFtaW5nIGZvciBbc3ltYm9sXSBpcyBub3QgYXZhaWxhYmxlIGR1ZSB0byBsaWNlbnNlIHJlc3RyaWN0aW9uc1wiLHtzeW1ib2w6cn0pLHR5cGU6XCJlcnJvclwiLGNhdGVnb3J5OnQuQ0FURUdPUllfQUNUSVZFX1NZTUJPTH0pfX1dKSYmaShhLnByb3RvdHlwZSxvKSxzJiZpKGEscyksdH0oKTt0LmE9YX0pLmNhbGwodGhpcyxyKDYpLnQpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGUpe3ZhciBuPXIoMCksaT1yLm4obiksYT1yKDQxKSxvPXIoMzUpLHM9cigzNiksYz1yKDM3KSxsPXIoMTc4KSx1PXIoMzgpLGg9cigxNzkpLGQ9cigxODEpLHA9cigxODIpLGY9cigxODMpLG09cigxODQpLGc9KHIoMjMxKSxyKDE3KSxyKDE4NSkpLGI9cigxODYpLHk9cig1KSx2PXIoMyksXz1yKDE4Nyk7ZnVuY3Rpb24gUyhlKXtyZXR1cm4oUz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gdygpe3JldHVybih3PU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPWFyZ3VtZW50c1t0XTtmb3IodmFyIG4gaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixuKSYmKGVbbl09cltuXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24geChlLHQpe2lmKG51bGw9PWUpcmV0dXJue307dmFyIHIsbixpPWZ1bmN0aW9uKGUsdCl7aWYobnVsbD09ZSlyZXR1cm57fTt2YXIgcixuLGk9e30sYT1PYmplY3Qua2V5cyhlKTtmb3Iobj0wO248YS5sZW5ndGg7bisrKXI9YVtuXSx0LmluZGV4T2Yocik+PTB8fChpW3JdPWVbcl0pO3JldHVybiBpfShlLHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBhPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7Zm9yKG49MDtuPGEubGVuZ3RoO24rKylyPWFbbl0sdC5pbmRleE9mKHIpPj0wfHxPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoZSxyKSYmKGlbcl09ZVtyXSl9cmV0dXJuIGl9ZnVuY3Rpb24gayhlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19ZnVuY3Rpb24gTyhlLHQpe3JldHVybiF0fHxcIm9iamVjdFwiIT09Uyh0KSYmXCJmdW5jdGlvblwiIT10eXBlb2YgdD9mdW5jdGlvbihlKXtpZih2b2lkIDA9PT1lKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gZX0oZSk6dH1mdW5jdGlvbiBDKGUpe3JldHVybihDPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSl9KShlKX1mdW5jdGlvbiBFKGUsdCl7cmV0dXJuKEU9T2JqZWN0LnNldFByb3RvdHlwZU9mfHxmdW5jdGlvbihlLHQpe3JldHVybiBlLl9fcHJvdG9fXz10LGV9KShlLHQpfXZhciBUPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoZSl7dmFyIHQ7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxyKSwodD1PKHRoaXMsQyhyKS5jYWxsKHRoaXMsZSkpKS5kZWZhdWx0VG9wV2lkZ2V0cz1mdW5jdGlvbigpe3JldHVybiBpLmEuY3JlYXRlRWxlbWVudChpLmEuRnJhZ21lbnQsbnVsbCxpLmEuY3JlYXRlRWxlbWVudChzLmEsbnVsbCksaS5hLmNyZWF0ZUVsZW1lbnQoYy5hLG51bGwpLGkuYS5jcmVhdGVFbGVtZW50KG8uYSxudWxsKSl9LHQubW9kYWxOb2RlPWkuYS5jcmVhdGVSZWYoKSx0LnJvb3Q9aS5hLmNyZWF0ZVJlZigpLHR9dmFyIHksUyxUO3JldHVybiBmdW5jdGlvbihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmRShlLHQpfShyLG5bXCJDb21wb25lbnRcIl0pLHk9ciwoUz1be2tleTpcImNvbXBvbmVudERpZE1vdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnByb3BzLHQ9ZS51cGRhdGVQcm9wcyxyPWUuaW5pdCxuPXgoZSxbXCJ1cGRhdGVQcm9wc1wiLFwiaW5pdFwiXSk7T2JqZWN0KHYuYykoKSxPYmplY3Qodi5lKSgpLHQobikscih0aGlzLnJvb3QuY3VycmVudCx0aGlzLm1vZGFsTm9kZS5jdXJyZW50LG4pfX0se2tleTpcImNvbXBvbmVudERpZFVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucHJvcHMscj10LnVwZGF0ZVByb3BzLG49KHQuaW5pdCx4KHQsW1widXBkYXRlUHJvcHNcIixcImluaXRcIl0pKTtlLnVwZGF0ZVByb3BzLGUuaW5pdDt4KGUsW1widXBkYXRlUHJvcHNcIixcImluaXRcIl0pIT09biYmcihuKX19LHtrZXk6XCJjb21wb25lbnRXaWxsVW5tb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5wcm9wcy5kZXN0cm95KCl9fSx7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnByb3BzLHI9dC5EcmF3VG9vbHNTZXR0aW5nc0RpYWxvZyxuPXQuU3R1ZHlTZXR0aW5nc0RpYWxvZyxvPXQuaXNDYW5kbGUscz10LmlzU3BsaW5lLGM9dC5pc01vYmlsZSx5PXZvaWQgMCE9PWMmJmMsdj10LmlzQ2hhcnRBdmFpbGFibGUsUz10LmlzSGlnaGVzdExvd2VzdE1hcmtlckVuYWJsZWQseD10LmJhcnJpZXJzLGs9dm9pZCAwPT09eD9bXTp4LE89dC5jaGlsZHJlbixDPXQuY2hhcnRDb250cm9sc1dpZGdldHMsRT10LkFnZ3JlZ2F0ZUNoYXJ0U2V0dGluZ3NEaWFsb2csVD10LnRvcFdpZGdldHMsUD10LmNoYXJ0Q29udGFpbmVySGVpZ2h0LEQ9dC5jb250YWluZXJXaWR0aCxqPXQuaXNDaGFydENsb3NlZCxBPXQudGhlbWUsTj10LnBvc2l0aW9uLEk9dC5ib3R0b21XaWRnZXRzLE09dC5lbmFibGVkTmF2aWdhdGlvbldpZGdldCx6PVwiY3EtY2hhcnQtY29udHJvbC1cIi5jb25jYXQoQyYmTiYmIXk/TjpcImJvdHRvbVwiKSxMPXk/XCJcIjpcInNtYXJ0Y2hhcnRzLVwiLmNvbmNhdChEKSxSPVR8fHRoaXMuZGVmYXVsdFRvcFdpZGdldHMsSD1PJiZPLmxlbmd0aD9cInNtYXJ0Y2hhcnRzLS1oYXMtbWFya2Vyc1wiOlwiXCI7cmV0dXJuIGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcInNtYXJ0Y2hhcnRzIHNtYXJ0Y2hhcnRzLVwiLmNvbmNhdChBLFwiIFwiKS5jb25jYXQoTT9cInNtYXJ0Y2hhcnRzLS1uYXZpZ2F0aW9uLXdpZGdldFwiOlwiXCIsXCIgXCIpLmNvbmNhdChILFwiIFwiKS5jb25jYXQoTCl9LGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcInNtYXJ0Y2hhcnRzLVwiLmNvbmNhdCh5P1wibW9iaWxlXCI6XCJkZXNrdG9wXCIpLHJlZjp0aGlzLm1vZGFsTm9kZX0saS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY3EtY29udGV4dFwiLHJlZjp0aGlzLnJvb3R9LGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcIiBcIi5jb25jYXQoeil9LGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcImNpcS1jaGFydC1hcmVhXCJ9LGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcImNpcS1jaGFydCBcIi5jb25jYXQoaj9cImNsb3NlZC1jaGFydFwiOlwiXCIpfSxpLmEuY3JlYXRlRWxlbWVudChhLmEse2F0OlwiaG9sZGVyXCJ9LGsubWFwKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkuYS5jcmVhdGVFbGVtZW50KHUuYSx3KHtrZXk6XCJiYXJyaWVyLVwiLmNvbmNhdCh0KX0sZSkpfSkpLGkuYS5jcmVhdGVFbGVtZW50KGEuYSx7YXQ6XCJzdWJob2xkZXJcIn0sIW8mJiFzJiZTJiZpLmEuY3JlYXRlRWxlbWVudChtLmEsbnVsbCkpLGkuYS5jcmVhdGVFbGVtZW50KGEuYSx7YXQ6XCJzdWJob2xkZXJcIixoaWRlSW5TY3JvbGxUb0Vwb2NoOiEwfSxPKSxpLmEuY3JlYXRlRWxlbWVudChhLmEse2F0Olwic3ViaG9sZGVyXCJ9LGkuYS5jcmVhdGVFbGVtZW50KF8uYSxudWxsKSksaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY3EtdG9wLXVpLXdpZGdldHNcIn0saS5hLmNyZWF0ZUVsZW1lbnQoUixudWxsKSksTSYmaS5hLmNyZWF0ZUVsZW1lbnQoZi5hLG51bGwpLGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcImNoYXJ0Q29udGFpbmVyXCIsc3R5bGU6e2hlaWdodDpQfX0saS5hLmNyZWF0ZUVsZW1lbnQoYi5hLG51bGwpKSxpLmEuY3JlYXRlRWxlbWVudChsLmEsbnVsbCksIXYmJmkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcImNxLWNoYXJ0LXVuYXZhaWxhYmxlXCJ9LGUudHJhbnNsYXRlKFwiQ2hhcnQgZGF0YSBpcyBub3QgYXZhaWxhYmxlIGZvciB0aGlzIHN5bWJvbC5cIikpLGkuYS5jcmVhdGVFbGVtZW50KGQuYSxudWxsLGkuYS5jcmVhdGVFbGVtZW50KGguYSx7Ym90dG9tV2lkZ2V0czpJfSkpKSxudWxsIT09QyYmaS5hLmNyZWF0ZUVsZW1lbnQoZy5hLHt3aWRnZXRzOkN9KSkpKSxpLmEuY3JlYXRlRWxlbWVudChyLG51bGwpLGkuYS5jcmVhdGVFbGVtZW50KEUsbnVsbCksaS5hLmNyZWF0ZUVsZW1lbnQobixudWxsKSxpLmEuY3JlYXRlRWxlbWVudChwLmEsbnVsbCkpKX19XSkmJmsoeS5wcm90b3R5cGUsUyksVCYmayh5LFQpLHJ9KCk7dC5hPU9iamVjdCh5LmEpKGZ1bmN0aW9uKGUpe3ZhciB0PWUuY2hhcnQscj1lLmRyYXdUb29scyxuPWUuc3R1ZGllcyxpPWUuY2hhcnRTZXR0aW5nLGE9ZS5jaGFydFR5cGUsbz1lLnN0YXRlO3JldHVybntpbml0OnQuaW5pdCxkZXN0cm95OnQuZGVzdHJveSxTdHVkeVNldHRpbmdzRGlhbG9nOm4uU3R1ZHlTZXR0aW5nc0RpYWxvZyxEcmF3VG9vbHNTZXR0aW5nc0RpYWxvZzpyLkRyYXdUb29sc1NldHRpbmdzRGlhbG9nLEFnZ3JlZ2F0ZUNoYXJ0U2V0dGluZ3NEaWFsb2c6YS5BZ2dyZWdhdGVDaGFydFNldHRpbmdzRGlhbG9nLGlzQ2FuZGxlOmEuaXNDYW5kbGUsaXNDaGFydEF2YWlsYWJsZTp0LmlzQ2hhcnRBdmFpbGFibGUsaXNTcGxpbmU6YS5pc1NwbGluZSx1cGRhdGVQcm9wczpvLnVwZGF0ZVByb3BzLGNoYXJ0Q29udGFpbmVySGVpZ2h0OnQuY2hhcnRDb250YWluZXJIZWlnaHQsY29udGFpbmVyV2lkdGg6dC5jb250YWluZXJXaWR0aCxpc0NoYXJ0Q2xvc2VkOm8uaXNDaGFydENsb3NlZCx0aGVtZTppLnRoZW1lLHBvc2l0aW9uOmkucG9zaXRpb24saXNIaWdoZXN0TG93ZXN0TWFya2VyRW5hYmxlZDppLmlzSGlnaGVzdExvd2VzdE1hcmtlckVuYWJsZWR9fSkoVCl9KS5jYWxsKHRoaXMscig2KS50KX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMCksaT1yLm4obiksYT1yKDUpO3QuYT1PYmplY3QoYS5hKShmdW5jdGlvbihlKXt2YXIgdD1lLmxvYWRlcjtyZXR1cm57aXNBY3RpdmU6dC5pc0FjdGl2ZSxjdXJyZW50U3RhdGU6dC5jdXJyZW50U3RhdGV9fSkoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5pc0FjdGl2ZSxyPWUuY3VycmVudFN0YXRlO3JldHVybiBpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJjcS1sb2FkZXIgXCIuY29uY2F0KHQ/XCJzaG93XCI6XCJcIil9LGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcImNxLWxvYWRlci1zcGluXCJ9KSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJjcS1sb2FkZXItc3RhdHVzXCJ9LHIpKX0pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigwKSxpPXIubihuKSxhPXIoMSksbz1yKDUpLHM9cigxODApO3QuYT1PYmplY3Qoby5hKShmdW5jdGlvbihlKXt2YXIgdD1lLnN0YXRlLHI9ZS5sYXN0RGlnaXRTdGF0cztyZXR1cm57c2hvd0xhc3REaWdpdFN0YXRzOnQuc2hvd0xhc3REaWdpdFN0YXRzLGRpZ2l0czpyLmRpZ2l0cyxsYXN0VGljazpyLmxhc3RUaWNrfX0pKGZ1bmN0aW9uKGUpe3ZhciB0PWUuYm90dG9tV2lkZ2V0cyxyPWUuc2hvd0xhc3REaWdpdFN0YXRzLG49ZS5kaWdpdHMsbz1lLmxhc3RUaWNrLGM9IXQmJnI/cy5hOnQ7cmV0dXJuIGM/aS5hLmNyZWF0ZUVsZW1lbnQoYyx7ZGlnaXRzOm4sdGljazpPYmplY3QoYS50b0pTKShvKX0pOm51bGx9KX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihlKXt2YXIgbj1yKDApLGk9ci5uKG4pLGE9cig1KSxvPShyKDIyNiksZnVuY3Rpb24oZSl7dmFyIHQ9ZS54LHI9ZS5iYXI7cmV0dXJuIGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcImNxLWJhciBcIi5jb25jYXQoci5jTmFtZSksc3R5bGU6e2hlaWdodDpcIlwiLmNvbmNhdCg1KnIuaGVpZ2h0LFwiJVwiKSxsZWZ0OjM1KnR9fSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJjcS1iYXItdmFsdWUgXCIuY29uY2F0KHIuaGVpZ2h0JiZcInNob3dcIil9LFwiXCIuY29uY2F0KHIuaGVpZ2h0LnRvRml4ZWQoMSksXCIlXCIpKSxpLmEuY3JlYXRlRWxlbWVudChcInNwYW5cIix7Y2xhc3NOYW1lOlwiY3EtYmFyLXRpdGxlXCJ9LHQpKX0pO3QuYT1PYmplY3QoYS5hKShmdW5jdGlvbihlKXt2YXIgdD1lLmxhc3REaWdpdFN0YXRzO3JldHVybntpc1Zpc2libGU6dC5pc1Zpc2libGUsYmFyczp0LmJhcnMsbWFya2V0RGlzcGxheU5hbWU6dC5tYXJrZXREaXNwbGF5TmFtZSxjaGFuZ2VTeW1ib2w6dC5jaGFuZ2VTeW1ib2wsc2hvdWxkTWluaW1pc2VMYXN0RGlnaXRzOnQuc2hvdWxkTWluaW1pc2VMYXN0RGlnaXRzfX0pKGZ1bmN0aW9uKHQpe3ZhciByPXQuaXNWaXNpYmxlLG49dC5iYXJzLGE9dC5tYXJrZXREaXNwbGF5TmFtZSxzPXQuc2hvdWxkTWluaW1pc2VMYXN0RGlnaXRzO3JldHVybiBpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJjcS1sYXN0LWRpZ2l0cyBcIi5jb25jYXQocj9cInNob3dcIjpcIlwiLFwiIFwiKS5jb25jYXQocz9cIm1pbmltaXNlZFwiOlwiXCIpfSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJjcS1iYXJzXCJ9LG4ubWFwKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkuYS5jcmVhdGVFbGVtZW50KG8se2tleTpcImJhci1cIi5jb25jYXQodCkseDp0LGJhcjplfSl9KSksaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY3EtYmFyLWZvb3RlclwifSxlLnRyYW5zbGF0ZShcIkxhc3QgZGlnaXRzIHN0YXRzIGZvciBsYXRlc3QgMTAwMCB0aWNrcyBvbiBcIikrYSkpfSl9KS5jYWxsKHRoaXMscig2KS50KX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMCksaT1yLm4obiksYT1yKDI1KSxvPXIubihhKSxzPXIoNSk7cigyMjcpO2Z1bmN0aW9uIGMoZSl7cmV0dXJuKGM9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIGwoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fWZ1bmN0aW9uIHUoZSx0KXtyZXR1cm4hdHx8XCJvYmplY3RcIiE9PWModCkmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQ/ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT09ZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIGV9KGUpOnR9ZnVuY3Rpb24gaChlKXtyZXR1cm4oaD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mOmZ1bmN0aW9uKGUpe3JldHVybiBlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpfSkoZSl9ZnVuY3Rpb24gZChlLHQpe3JldHVybihkPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5fX3Byb3RvX189dCxlfSkoZSx0KX12YXIgcD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSx1KHRoaXMsaCh0KS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXZhciByLG4sYTtyZXR1cm4gZnVuY3Rpb24oZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJmQoZSx0KX0odCxpLmEuQ29tcG9uZW50KSxyPXQsKG49W3trZXk6XCJzaG91bGRDb21wb25lbnRVcGRhdGVcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLm5leHRDaGlsZHJlbjtyZXR1cm4gaS5hLkNoaWxkcmVuLmNvdW50KHRoaXMucHJvcHMuY2hpbGRyZW4pIT09aS5hLkNoaWxkcmVuLmNvdW50KHQpfX0se2tleTpcImNvbXBvbmVudERpZFVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7aS5hLkNoaWxkcmVuLmNvdW50KHRoaXMucHJvcHMuY2hpbGRyZW4pP3RoaXMucHJvcHMudXBkYXRlQ2hhcnRNYXJnaW4oMjAwKTp0aGlzLnByb3BzLnVwZGF0ZUNoYXJ0TWFyZ2luKDEwMCl9fSx7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnByb3BzLHQ9ZS5ib3R0b20scj1lLmlzUmVhZHlUb1Nob3csbj1lLmNoaWxkcmVuLGE9ZS50b3A7aWYoIXIpcmV0dXJuIG51bGw7dmFyIG89e3RvcDphLGJvdHRvbTp0fTtyZXR1cm4gaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY3EtYm90dG9tLXVpLXdpZGdldHNcIixzdHlsZTpvfSxuKX19XSkmJmwoci5wcm90b3R5cGUsbiksYSYmbChyLGEpLHR9KCk7cC5wcm9wVHlwZXM9e2JvdHRvbTpvLmEubnVtYmVyLGlzUmVhZHlUb1Nob3c6by5hLmJvb2wsdG9wOm8uYS5udW1iZXIsdXBkYXRlQ2hhcnRNYXJnaW46by5hLmZ1bmMuaXNSZXF1aXJlZH0scC5kZWZhdWx0UHJvcHM9e2JvdHRvbTowLGlzUmVhZHlUb1Nob3c6ITEsdG9wOjB9LHQuYT1PYmplY3Qocy5hKShmdW5jdGlvbihlKXt2YXIgdD1lLmJvdHRvbVdpZGdldHNDb250YWluZXI7cmV0dXJue2JvdHRvbTp0LmJvdHRvbSxpc1JlYWR5VG9TaG93OnQuaXNSZWFkeVRvU2hvdyx0b3A6dC50b3AsdXBkYXRlQ2hhcnRNYXJnaW46dC51cGRhdGVDaGFydE1hcmdpbn19KShwKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihlKXt2YXIgbj1yKDApLGk9ci5uKG4pLGE9cigxNCksbz1yKDIpLHM9cig1KTtyKDIyOCk7ZnVuY3Rpb24gYyhlKXtyZXR1cm4oYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gbChlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19ZnVuY3Rpb24gdShlLHQpe3JldHVybiF0fHxcIm9iamVjdFwiIT09Yyh0KSYmXCJmdW5jdGlvblwiIT10eXBlb2YgdD9mdW5jdGlvbihlKXtpZih2b2lkIDA9PT1lKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gZX0oZSk6dH1mdW5jdGlvbiBoKGUpe3JldHVybihoPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSl9KShlKX1mdW5jdGlvbiBkKGUsdCl7cmV0dXJuKGQ9T2JqZWN0LnNldFByb3RvdHlwZU9mfHxmdW5jdGlvbihlLHQpe3JldHVybiBlLl9fcHJvdG9fXz10LGV9KShlLHQpfXZhciBwPWZ1bmN0aW9uKGUpe3ZhciB0PWUuaXRlbSxyPWUuaXNUaWNrO3JldHVybiBpLmEuY3JlYXRlRWxlbWVudChcInRhYmxlXCIse2NsYXNzTmFtZTpcImNpcS1jaGFydC10YWJsZSBcIi5jb25jYXQocj9cImNpcS1jaGFydC10YWJsZS0tdGlja1wiOlwiXCIpfSxpLmEuY3JlYXRlRWxlbWVudChcInRib2R5XCIsbnVsbCx0LmRhdGFzLm1hcChmdW5jdGlvbihlLG4pe3JldHVybiBpLmEuY3JlYXRlRWxlbWVudChcInRyXCIse2tleTpcImNoYXJ0VGFibGUtXCIuY29uY2F0KHQua2V5LFwiLVwiKS5jb25jYXQobil9LGkuYS5jcmVhdGVFbGVtZW50KFwidGRcIixudWxsLGUuRGF0ZSksciYmaS5hLmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiLG51bGwsZS5DbG9zZSksIXImJltpLmEuY3JlYXRlRWxlbWVudChcInRkXCIse2tleTpcInRkLW9wZW5cIn0sZS5PcGVuKSxpLmEuY3JlYXRlRWxlbWVudChcInRkXCIse2tleTpcInRkLWhpZ2hcIn0sZS5IaWdoKSxpLmEuY3JlYXRlRWxlbWVudChcInRkXCIse2tleTpcInRkLWxvd1wifSxlLkxvdyksaS5hLmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiLHtrZXk6XCJ0ZC1jbG9zZVwifSxlLkNsb3NlKV0saS5hLmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiLHtjbGFzc05hbWU6XCJiZWZvcmUtbGFzdC1jaGlsZFwifSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJjcS1jaGFuZ2UtY2VsbFwifSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJcIi5jb25jYXQoZS5TdGF0dXM/ZS5TdGF0dXM6XCJ1cFwiKX0sZS5DaGFuZ2UpKSksaS5hLmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiLG51bGwsaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY3EtY2hhbmdlLWNlbGxcIn0saS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY3EtY2hhbmdlIFwiLmNvbmNhdChlLlN0YXR1cyl9KSkpKX0pKSl9LGY9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksdSh0aGlzLGgodCkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX12YXIgcixhLG87cmV0dXJuIGZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiZkKGUsdCl9KHQsbltcIkNvbXBvbmVudFwiXSkscj10LChhPVt7a2V5OlwiY29tcG9uZW50RGlkVXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnByb3BzLnNjcm9sbFBhbmVsO2UmJmUuY29udGFpbmVyJiYhdGhpcy5zY3JvbGxQYW5lbFRvcCYmKHRoaXMuc2Nyb2xsUGFuZWxUb3A9ZS5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wKX19LHtrZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMucHJvcHMsdD1lLml0ZW0scj1lLmlzVGljayxuPWUuc2V0RGF0ZUVsZW1lbnQsYT1lLmVsZSxvPVwiXCI7aWYoYSl7dmFyIHM9YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxjPXMudG9wLXRoaXMuc2Nyb2xsUGFuZWxUb3AsbD1zLmhlaWdodCtjLTQ0O2M8PTAmJmw+PTA/bz1cInN0aWNreS10b3BcIjpjPD0wJiZsPD0wJiZsPi00NCYmKG89XCJzdGlja3ktYm90dG9tXCIpfXJldHVybiBpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtrZXk6XCJjaGFydFRhYmxlLWdyb3VwLVwiLmNvbmNhdCh0LmtleSksY2xhc3NOYW1lOlwiY2lxLWNoYXJ0LXRhYmxlX19wYW5lbF9fZ3JvdXBcIixyZWY6ZnVuY3Rpb24oZSl7cmV0dXJuIG4odC5rZXksZSl9fSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJjaXEtY2hhcnQtdGFibGVfX3BhbmVsX19ncm91cC0tdGl0bGUgXCIuY29uY2F0KG8pfSx0LmRhdGUpLGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcImNpcS1jaGFydC10YWJsZV9fcGFuZWxfX2dyb3VwLS1jb250ZW50XCJ9LGkuYS5jcmVhdGVFbGVtZW50KHAse2l0ZW06dCxpc1RpY2s6cn0pKSl9fV0pJiZsKHIucHJvdG90eXBlLGEpLG8mJmwocixvKSx0fSgpO3QuYT1PYmplY3Qocy5hKShmdW5jdGlvbihlKXt2YXIgdD1lLmNoYXJ0LHI9ZS5jaGFydFRhYmxlO3JldHVybntpc01vYmlsZTp0LmlzTW9iaWxlLHRhYmxlRGF0YTpyLnRhYmxlRGF0YSxEaWFsb2c6ci5EaWFsb2csb3BlbjpyLm9wZW4saXNUaWNrOnIuaXNUaWNrLHN5bWJvbDpyLnN5bWJvbCxzZXRPcGVuOnIuc2V0T3BlbixzY3JvbGxUb3A6ci5zY3JvbGxUb3AsZGF0ZUVsZW1lbnRzOnIuZGF0ZUVsZW1lbnRzLHVwZGF0ZVNjcm9sbFNweTpyLnVwZGF0ZVNjcm9sbFNweSxzZXRTY3JvbGxQYW5lbDpyLnNldFNjcm9sbFBhbmVsLHNldERhdGVFbGVtZW50OnIuc2V0RGF0ZUVsZW1lbnQsc2Nyb2xsUGFuZWw6ci5zY3JvbGxQYW5lbH19KShmdW5jdGlvbih0KXt2YXIgcj10LmlzTW9iaWxlLG49dC50YWJsZURhdGEscz10LkRpYWxvZyxjPXQub3BlbixsPXQuaXNUaWNrLHU9dC5zeW1ib2wsaD10LnNldE9wZW4sZD10LnNjcm9sbFRvcCxwPXQudXBkYXRlU2Nyb2xsU3B5LG09dC5zZXRTY3JvbGxQYW5lbCxnPXQuZGF0ZUVsZW1lbnRzLGI9dC5zY3JvbGxQYW5lbCx5PXQuc2V0RGF0ZUVsZW1lbnQsdj1vLkFbdS5zeW1ib2xdfHxvLlIsXz1sP1wiMzgwcHhcIjpcIjcwNHB4XCIsUz1mdW5jdGlvbigpe2goITEpfTtyZXR1cm4gaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY3EtZGlhbG9nLW92ZXJsYXkgXCIuY29uY2F0KGM/XCJjcS1kaWFsb2ctYWN0aXZlXCI6XCJcIiksc3R5bGU6e1wiLS10YWJsZS13aWR0aFwiOl99fSxpLmEuY3JlYXRlRWxlbWVudChzLHtjbGFzc05hbWU6XCJjcS1kaWFsb2cgY2lxLWNoYXJ0LWRpYWxvZ1wifSxpLmEuY3JlYXRlRWxlbWVudChpLmEuRnJhZ21lbnQsbnVsbCxyJiZpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJjcS10aXRsZWJhclwifSx2JiZpLmEuY3JlYXRlRWxlbWVudCh2LHtjbGFzc05hbWU6XCJpYy1cIi5jb25jYXQodS5zeW1ib2wpfSksaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY3EtdGl0bGVcIn0sXCJcIi5jb25jYXQodS5uYW1lLFwiIFwiKS5jb25jYXQoZS50cmFuc2xhdGUoXCJDaGFydCBUYWJsZVwiKSkpLGkuYS5jcmVhdGVFbGVtZW50KG8uaSx7Y2xhc3NOYW1lOlwiaWNvbi1jbG9zZS1tZW51XCIsb25DbGljazpTfSkpLHI/XCJcIjppLmEuY3JlYXRlRWxlbWVudChcInRhYmxlXCIse2NsYXNzTmFtZTpcImNpcS1jaGFydC10YWJsZVwifSxpLmEuY3JlYXRlRWxlbWVudChcInRoZWFkXCIsbnVsbCxpLmEuY3JlYXRlRWxlbWVudChcInRyXCIsbnVsbCxpLmEuY3JlYXRlRWxlbWVudChcInRoXCIsbnVsbCxlLnRyYW5zbGF0ZShcIkRhdGVcIikpLGw/aS5hLmNyZWF0ZUVsZW1lbnQoXCJ0aFwiLG51bGwsZS50cmFuc2xhdGUoXCJUaWNrXCIpKTppLmEuY3JlYXRlRWxlbWVudChpLmEuRnJhZ21lbnQsbnVsbCxpLmEuY3JlYXRlRWxlbWVudChcInRoXCIsbnVsbCxlLnRyYW5zbGF0ZShcIk9wZW5cIikpLGkuYS5jcmVhdGVFbGVtZW50KFwidGhcIixudWxsLGUudHJhbnNsYXRlKFwiSGlnaFwiKSksaS5hLmNyZWF0ZUVsZW1lbnQoXCJ0aFwiLG51bGwsZS50cmFuc2xhdGUoXCJMb3dcIikpLGkuYS5jcmVhdGVFbGVtZW50KFwidGhcIixudWxsLGUudHJhbnNsYXRlKFwiQ2xvc2VcIikpKSxpLmEuY3JlYXRlRWxlbWVudChcInRoXCIse2NsYXNzTmFtZTpcImJlZm9yZS1sYXN0LWNoaWxkXCJ9LGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcImNxLWNoYW5nZS1jZWxsXCJ9LGUudHJhbnNsYXRlKFwiQ2hhbmdlXCIpKSksaS5hLmNyZWF0ZUVsZW1lbnQoXCJ0aFwiLG51bGwsaS5hLmNyZWF0ZUVsZW1lbnQoby5pLHtjbGFzc05hbWU6XCJpY29uLWNsb3NlLW1lbnVcIixvbkNsaWNrOlN9KSkpKSksaS5hLmNyZWF0ZUVsZW1lbnQoYS5TY3JvbGxiYXJzLHtjbGFzc05hbWU6XCJjaXEtY2hhcnQtdGFibGVfX3BhbmVsXCIsb25TY3JvbGw6cCxyZWY6bX0scj9pLmEuY3JlYXRlRWxlbWVudChcInRhYmxlXCIse2NsYXNzTmFtZTpcImNpcS1jaGFydC10YWJsZVwifSxpLmEuY3JlYXRlRWxlbWVudChcInRib2R5XCIsbnVsbCxuLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gaS5hLmNyZWF0ZUVsZW1lbnQoXCJ0clwiLHtrZXk6XCJjaGFydFRhYmxlLVwiLmNvbmNhdCh0LmRhdGUpfSxpLmEuY3JlYXRlRWxlbWVudChcInRkXCIsbnVsbCxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLG51bGwsaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY2lxLXRhYmxlLWRhdGVcIn0sdC5EYXRlKSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJcIi5jb25jYXQodC5TdGF0dXM/dC5TdGF0dXM6XCJ1cFwiKX0sdC5DaGFuZ2UpLGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcImNxLWNoYW5nZSBcIi5jb25jYXQodC5TdGF0dXMpfSkpLGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsbnVsbCxsJiZpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLG51bGwsaS5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsbnVsbCxlLnRyYW5zbGF0ZShcIkNsb3NlXCIpKSx0LkNsb3NlKSwhbCYmW2kuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2tleTpcIml0ZW0tb3BlblwifSxpLmEuY3JlYXRlRWxlbWVudChcInNwYW5cIixudWxsLGUudHJhbnNsYXRlKFwiT1wiKSksdC5PcGVuKSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtrZXk6XCJpdGVtLWhpZ2hcIn0saS5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsbnVsbCxlLnRyYW5zbGF0ZShcIkhcIikpLHQuSGlnaCksaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7a2V5OlwiaXRlbS1sb3dcIn0saS5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsbnVsbCxlLnRyYW5zbGF0ZShcIkxcIikpLHQuTG93KSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtrZXk6XCJpdGVtLWNsb3NlXCJ9LGkuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLG51bGwsZS50cmFuc2xhdGUoXCJDXCIpKSx0LkNsb3NlKV0pKSl9KSkpOm4ubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBpLmEuY3JlYXRlRWxlbWVudChmLHtrZXk6ZS5rZXksaXRlbTplLGlzVGljazpsLGVsZTpnW2Uua2V5XSxzY3JvbGxUb3A6ZCxzY3JvbGxQYW5lbDpiLHNldERhdGVFbGVtZW50Onl9KX0pKSkpKX0pfSkuY2FsbCh0aGlzLHIoNikudCl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApLGk9ci5uKG4pLGE9cig1KSxvPShyKDIyOSkscigyKSk7dC5hPU9iamVjdChhLmEpKGZ1bmN0aW9uKGUpe3ZhciB0PWUuY2hhcnRTaXplLHI9ZS5uYXZpZ2F0aW9uV2lkZ2V0O3JldHVybnt6b29tSW46dC56b29tSW4sem9vbU91dDp0Lnpvb21PdXQsaG9tZTpyLm9uSG9tZSxvblNjYWxlOnIub25TY2FsZSxpc0hvbWVFbmFibGVkOnIuaXNIb21lRW5hYmxlZCxvbk1vdXNlRW50ZXI6ci5vbk1vdXNlRW50ZXIsb25Nb3VzZUxlYXZlOnIub25Nb3VzZUxlYXZlfX0pKGZ1bmN0aW9uKGUpe3ZhciB0PWUuem9vbUluLHI9ZS56b29tT3V0LG49ZS5ob21lLGE9ZS5vblNjYWxlLHM9ZS5pc0hvbWVFbmFibGVkLGM9ZS5vbk1vdXNlRW50ZXIsbD1lLm9uTW91c2VMZWF2ZTtyZXR1cm4gaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY2lxLW5hdmlnYXRpb24td2lkZ2V0XCIsb25Nb3VzZUVudGVyOmMsb25Nb3VzZUxlYXZlOmx9LGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcImNpcS1uYXZpZ2F0aW9uLXdpZGdldF9faXRlbSBcIi5jb25jYXQocz9cIlwiOlwiY2lxLW5hdmlnYXRpb24td2lkZ2V0X19pdGVtLS1oaWRkZW5cIiksb25DbGljazpufSxpLmEuY3JlYXRlRWxlbWVudChvLnksbnVsbCkpLGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcImNpcS1uYXZpZ2F0aW9uLXdpZGdldF9faXRlbVwiLG9uQ2xpY2s6YX0saS5hLmNyZWF0ZUVsZW1lbnQoby5OLG51bGwpKSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJjaXEtbmF2aWdhdGlvbi13aWRnZXRfX2l0ZW0gY2lxLW5hdmlnYXRpb24td2lkZ2V0X19pdGVtLS16b29tXCJ9LGkuYS5jcmVhdGVFbGVtZW50KG8uWSx7b25DbGljazp0fSksaS5hLmNyZWF0ZUVsZW1lbnQoby5aLHtvbkNsaWNrOnJ9KSkpfSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oZSl7dmFyIG49cigwKSxpPXIubihuKSxhPXIoMTYpLG89cig1KTtyKDIzMCk7dC5hPU9iamVjdChvLmEpKGZ1bmN0aW9uKGUpe3ZhciB0PWUuaGlnaGVzdExvd2VzdDtyZXR1cm57c2V0SGlnaGVzdFJlZjp0LnNldEhpZ2hlc3RSZWYsc2V0TG93ZXN0UmVmOnQuc2V0TG93ZXN0UmVmfX0pKGZ1bmN0aW9uKHQpe3ZhciByPXQuc2V0SGlnaGVzdFJlZixuPXQuc2V0TG93ZXN0UmVmO3JldHVybiBpLmEuY3JlYXRlRWxlbWVudChpLmEuRnJhZ21lbnQsbnVsbCxpLmEuY3JlYXRlRWxlbWVudChhLmEse21hcmtlclJlZjpyLGNsYXNzTmFtZTpcImNpcS1oaWdoZXN0LXByaWNlXCJ9LGkuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtjbGFzc05hbWU6XCJzcG90X19zaGFwZS1jaXJjdWxlIHNwb3RfX2ZpbGwtYmx1ZVwifSksaS5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIse2NsYXNzTmFtZTpcInNwb3RfX2xhYmVsXCIsXCJkYXRhLWxhYmVsLXBvc1wiOlwidG9wXCJ9LGkuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLG51bGwsXCJcIi5jb25jYXQoZS50cmFuc2xhdGUoXCJIXCIpLFwiOiBcIikpLGkuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtjbGFzc05hbWU6XCJzcG90X192YWx1ZVwifSkpKSxpLmEuY3JlYXRlRWxlbWVudChhLmEse21hcmtlclJlZjpuLGNsYXNzTmFtZTpcImNpcS1sb3dlc3QtcHJpY2VcIn0saS5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIse2NsYXNzTmFtZTpcInNwb3RfX3NoYXBlLWNpcmN1bGUgc3BvdF9fZmlsbC1yZWRcIn0pLGkuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtjbGFzc05hbWU6XCJzcG90X19sYWJlbFwiLFwiZGF0YS1sYWJlbC1wb3NcIjpcImJvdHRvbVwifSxpLmEuY3JlYXRlRWxlbWVudChcInNwYW5cIixudWxsLFwiXCIuY29uY2F0KGUudHJhbnNsYXRlKFwiTFwiKSxcIiA6IFwiKSksaS5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIse2NsYXNzTmFtZTpcInNwb3RfX3ZhbHVlXCJ9KSkpKX0pfSkuY2FsbCh0aGlzLHIoNikudCl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApLGk9ci5uKG4pLGE9cig1KSxvPXIoMjYpLHM9cigyNyksYz1yKDI4KSxsPXIoMjkpLHU9cigzMCksaD1yKDMxKSxkPXIoMzIpLHA9cigzMyksZj1yKDM0KSxtPShyKDIzMiksZnVuY3Rpb24oZSl7dmFyIHQ9ZS5pc01vYmlsZTtyZXR1cm4gaS5hLmNyZWF0ZUVsZW1lbnQoaS5hLkZyYWdtZW50LG51bGwsdD9cIlwiOmkuYS5jcmVhdGVFbGVtZW50KHUuYSxudWxsKSxpLmEuY3JlYXRlRWxlbWVudChvLmEsbnVsbCksaS5hLmNyZWF0ZUVsZW1lbnQoaC5hLG51bGwpLGkuYS5jcmVhdGVFbGVtZW50KHMuYSxudWxsKSxpLmEuY3JlYXRlRWxlbWVudChjLmEsbnVsbCksaS5hLmNyZWF0ZUVsZW1lbnQocC5hLG51bGwpLGkuYS5jcmVhdGVFbGVtZW50KGwuYSxudWxsKSxpLmEuY3JlYXRlRWxlbWVudChmLmEsbnVsbCksdD9cIlwiOmkuYS5jcmVhdGVFbGVtZW50KGQuYSxudWxsKSl9KTt0LmE9T2JqZWN0KGEuYSkoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jaGFydCxyPWUuY2hhcnRUeXBlLG49ZS5zdHVkaWVzLGk9ZS5jb21wYXJpc29uLGE9ZS5kcmF3VG9vbHMsbz1lLnZpZXcscz1lLnNoYXJlLGM9ZS50aW1lcGVyaW9kLGw9ZS5jaGFydFNldHRpbmc7cmV0dXJue2lzTW9iaWxlOnQuaXNNb2JpbGUsY29udGV4dDp0LmNvbnRleHQsaGFzT3Blbk1lbnU6ci5tZW51Lm9wZW58fG4ubWVudS5vcGVufHxpLm1lbnUub3Blbnx8YS5tZW51Lm9wZW58fG8ubWVudS5vcGVufHxzLm1lbnUub3Blbnx8Yy5tZW51Lm9wZW58fGwubWVudS5vcGVufX0pKGZ1bmN0aW9uKGUpe3ZhciB0PWUuaXNNb2JpbGUscj1lLmhhc09wZW5NZW51LG49ZS53aWRnZXRzLGE9ZS5jb250ZXh0LG89bnx8bTtyZXR1cm4gaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY3EtY2hhcnQtY29udHJvbHMgXCIuY29uY2F0KHI/XCIgYWN0aXZlXCI6XCJcIil9LGE/aS5hLmNyZWF0ZUVsZW1lbnQobyx7aXNNb2JpbGU6dH0pOm51bGwpfSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApLGk9ci5uKG4pO3IoMjMzKTt0LmE9ZnVuY3Rpb24oKXtyZXR1cm4gaS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY3EtY3Jvc3NoYWlyXCJ9LGkuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcImNxLWNyb3NzaGFpci1jb250ZW50XCJ9KSl9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigwKSxpPXIubihuKSxhPXIoMTYpLG89cig1KTtyKDIzNCk7dC5hPU9iamVjdChvLmEpKGZ1bmN0aW9uKGUpe3ZhciB0PWUucGFnaW5hdGlvbkxvYWRlcjtyZXR1cm57aXNPblBhZ2luYXRpb246dC5pc09uUGFnaW5hdGlvbixzZXRSZWY6dC5zZXRSZWZ9fSkoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5pc09uUGFnaW5hdGlvbixyPWUuc2V0UmVmO3JldHVybiB0P2kuYS5jcmVhdGVFbGVtZW50KGEuYSx7bWFya2VyUmVmOnIsY2xhc3NOYW1lOlwicGFnaW5hdGlvblwifSxpLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJwYWdpbmF0aW9uX19sb2FkZXJcIn0saS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwicGFnaW5hdGlvbl9fbG9hZGVyLWJhY2tncm91bmRcIn0pKSk6aS5hLmNyZWF0ZUVsZW1lbnQoaS5hLkZyYWdtZW50LG51bGwpfSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt0LmE9ZnVuY3Rpb24oKXtDSVEuQ2hhcnRFbmdpbmUucHJvdG90eXBlLmFwcGVuZChcImNyZWF0ZVhBeGlzXCIsZnVuY3Rpb24oKXtpZih0aGlzLmNoYXJ0LnhheGlzJiZ0aGlzLmNoYXJ0LnhheGlzLmxlbmd0aCYmdGhpcy5jaGFydC54YXhpc1swXS5EVCl7dmFyIGU9dGhpcy5jaGFydC54YXhpc1swXS5EVC52YWx1ZU9mKCksdD10aGlzLmNoYXJ0LnhheGlzLnNsaWNlKC0xKVswXS5EVC52YWx1ZU9mKCkscj1NYXRoLmZsb29yKCh0LWUpLzVlMyk7cj1yPjU/ci1yJTU6cix0aGlzLmNoYXJ0LnhBeGlzLnRpbWVVbml0TXVsdGlwbGllcj1yPDEwMD9yOjEsdGhpcy5jaGFydC54QXhpcy50aW1lVW5pdD1yPDEwMD9DSVEuU0VDT05EOnZvaWQgMH19KSxDSVEuQ2hhcnRFbmdpbmUucHJvdG90eXBlLmRyYXdDdXJyZW50SFI9ZnVuY3Rpb24oKXtpZighdGhpcy5ydW5QcmVwZW5kKFwiZHJhd0N1cnJlbnRIUlwiLGFyZ3VtZW50cykpe3ZhciBlLHQ7dGhpcy5sYWJlbFR5cGU9XCJjdXJyZW50U3BvdFwiLHRoaXMueWF4aXNMYWJlbFN0eWxlPVwicm91bmRSZWN0QXJyb3dcIjt2YXIgcj10aGlzLm1haW5TZXJpZXNSZW5kZXJlcnx8e307aWYoIXIubm9DdXJyZW50SFIpe3ZhciBuPXIuaGlnaExvd0JhcnN8fHRoaXMuaGlnaExvd0JhcnNbdGhpcy5sYXlvdXQuY2hhcnRUeXBlXTtmb3IodmFyIGkgaW4gdGhpcy5jaGFydHMpe3ZhciBhPXRoaXMuY2hhcnRzW2ldLG89YS5wYW5lbCxzPW8ueUF4aXM7aWYoIW8uaGlkZGVuJiYhMSE9PXMuZHJhd0N1cnJlbnRQcmljZUxhYmVsJiYhcy5ub0RyYXcmJnIucGFyYW1zKXt2YXIgYz1zLndoaWNoU2V0O2lmKGN8fChjPVwiZGF0YVNldFwiKSwhdGhpcy5pc0hpc3RvcmljYWxNb2RlU2V0fHxcImRhdGFTZWdtZW50XCI9PT1jKXt2YXIgbD1hW2NdLmxlbmd0aCx1PXRoaXMubGF5b3V0LmNhbmRsZVdpZHRoO2lmKFwiZGF0YVNlZ21lbnRcIj09Yylmb3IoO2w+KGEud2lkdGgtdGhpcy5taWNyb3BpeGVscyt1LzIrMSkvdTspbC0tO2lmKGwmJmFbY11bbC0xXSl7dmFyIGgsZCxwLGY9YS5kZWZhdWx0UGxvdEZpZWxkO2YmJiFufHwoZj1cIkNsb3NlXCIpO2Rve2lmKGQ9aD1hW2NdWy0tbF1bZl0sMD09PWwpYnJlYWt9d2hpbGUobnVsbD09PWQpO2lmKFwiZGF0YVNldFwiPT1jJiZhLmN1cnJlbnRRdW90ZSlkPWEuY3VycmVudFF1b3RlW2ZdO2Vsc2UgaWYoYVtjXS5sZW5ndGg+PTIpe3ZhciBtPWFbY11bbC0xXTttJiYoaD1tW2ZdKX1kPGg/KGU9dGhpcy5jYW52YXNTdHlsZShcInN0eF9jdXJyZW50X2hyX2Rvd25cIikuYmFja2dyb3VuZENvbG9yLHQ9dGhpcy5jYW52YXNTdHlsZShcInN0eF9jdXJyZW50X2hyX2Rvd25cIikuY29sb3IpOihlPXRoaXMuY2FudmFzU3R5bGUoXCJzdHhfY3VycmVudF9ocl91cFwiKS5iYWNrZ3JvdW5kQ29sb3IsdD10aGlzLmNhbnZhc1N0eWxlKFwic3R4X2N1cnJlbnRfaHJfdXBcIikuY29sb3IpLGEudHJhbnNmb3JtRnVuYyYmKGQ9YS50cmFuc2Zvcm1GdW5jKHRoaXMsYSxkKSk7dmFyIGc9TWF0aC5tYXgoby55QXhpcy5wcmludERlY2ltYWxQbGFjZXMsby5jaGFydC5kZWNpbWFsUGxhY2VzKTsocy5tYXhEZWNpbWFsUGxhY2VzfHwwPT09cy5tYXhEZWNpbWFsUGxhY2VzKSYmKGc9TWF0aC5taW4oZyxzLm1heERlY2ltYWxQbGFjZXMpKSxwPXMucHJpY2VGb3JtYXR0ZXI/cy5wcmljZUZvcm1hdHRlcih0aGlzLG8sZCxnKTp0aGlzLmZvcm1hdFlBeGlzUHJpY2UoZCxvLGcpO3ZhciBiPXRoaXMucGl4ZWxGcm9tVHJhbnNmb3JtZWRWYWx1ZShkLG8pO2EuY3VycmVudFByaWNlTGFiZWxZPWIsdGhpcy5jcmVhdGVZQXhpc0xhYmVsKG8scCxiLGUsdCk7dmFyIHk9by5sZWZ0LHY9by5yaWdodCxfPXRoaXMuY3VycmVudFF1b3RlKCk7aWYoXyl7dmFyIFM9Xy5DbG9zZT9fLnRpY2s6Xy50aWNrLTE7eT10aGlzLnBpeGVsRnJvbVRpY2soUyxhKSsoYS5sYXN0VGlja09mZnNldHx8MCksdi09LjQqdGhpcy5jaGFydC5jb250ZXh0Lm1lYXN1cmVUZXh0KHApLndpZHRofXYrPTI0LCEwPT09dGhpcy5wcmVmZXJlbmNlcy5jdXJyZW50UHJpY2VMaW5lJiZ0aGlzLmlzSG9tZSgpJiZ0aGlzLnBsb3RMaW5lKHksdixiLGIsZSxcInNlZ21lbnRcIixvLmNoYXJ0LmNvbnRleHQsbyx7cGF0dGVybjpcImRhc2hlZFwiLGxpbmVXaWR0aDoxLG9wYWNpdHk6Ljh9KX19fX10aGlzLnlheGlzTGFiZWxTdHlsZT1cInJvdW5kUmVjdFwiLHRoaXMubGFiZWxUeXBlPXZvaWQgMCx0aGlzLnJ1bkFwcGVuZChcImRyYXdDdXJyZW50SFJcIixhcmd1bWVudHMpfX19LENJUS5DaGFydEVuZ2luZS5wcm90b3R5cGUucHJlcGVuZChcImhlYWRzVXBIUlwiLGZ1bmN0aW9uKCl7dGhpcy5jdXJyZW50UGFuZWwmJih0aGlzLmxhYmVsVHlwZT1cImNyb3NzaGFpclwiKX0pLENJUS5DaGFydEVuZ2luZS5wcm90b3R5cGUuYXBwZW5kKFwiaGVhZHNVcEhSXCIsZnVuY3Rpb24oKXt0aGlzLmxhYmVsVHlwZT12b2lkIDB9KSxDSVEuQ2hhcnRFbmdpbmUucHJvdG90eXBlLnByZXBlbmQoXCJyZXNpemVDaGFydFwiLGZ1bmN0aW9uKCl7dGhpcy5pc0F1dG9TY2FsZSYmdGhpcy5jaGFydC54YXhpcyYmdGhpcy5jaGFydC54YXhpcy5sZW5ndGgmJih0aGlzLmN1c3RvbUNhbmRsZVdpZHRoPXRoaXMubGF5b3V0LmNhbmRsZVdpZHRoLHRoaXMuY3VzdG9tQ2hhcnRXaWR0aD10aGlzLmNoYXJ0LndpZHRoLHRoaXMuY3VzdG9tU2Nyb2xsPXRoaXMuY2hhcnQuc2Nyb2xsKX0pLENJUS5DaGFydEVuZ2luZS5wcm90b3R5cGUuYXBwZW5kKFwicmVzaXplQ2hhcnRcIixmdW5jdGlvbigpe2lmKHRoaXMuaXNBdXRvU2NhbGUmJnRoaXMuY3VzdG9tQ2hhcnRXaWR0aCl7dmFyIGU9dGhpcy5jdXN0b21DaGFydFdpZHRoL3RoaXMuY3VzdG9tQ2FuZGxlV2lkdGg7dGhpcy5sYXlvdXQuY2FuZGxlV2lkdGg9dGhpcy5jaGFydC53aWR0aC9lLHRoaXMuY2hhcnQuc2Nyb2xsPXRoaXMuY3VzdG9tU2Nyb2xsLHRoaXMuZHJhdygpfX0pLENJUS5QbG90dGVyLnByb3RvdHlwZS5kcmF3VGV4dD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0wO3I8dC50ZXh0Lmxlbmd0aDtyKyspe3ZhciBuPXQudGV4dFtyXSxpPW4ud2lkdGg/bi53aWR0aDplLm1lYXN1cmVUZXh0KG4udGV4dCkud2lkdGgsYT10aGlzLmdldFlBeGlzV2lkdGgoKT8odGhpcy5nZXRZQXhpc1dpZHRoKCktaSkvMjowO2lmKG4uYmcpe3ZhciBvPW4uaGVpZ2h0P24uaGVpZ2h0OjEyLHM9ZS5maWxsU3R5bGU7ZS5maWxsU3R5bGU9bi5iZyxcInJpZ2h0XCI9PT1lLnRleHRBbGlnbj9lLmZpbGxSZWN0KG4ueCxuLnktby8yLC1pLC1vKTplLmZpbGxSZWN0KG4ueCxuLnktby8yLGksbyksZS5maWxsU3R5bGU9c31lLmZpbGxUZXh0KG4udGV4dCxuLngrYSxuLnkpfX0sQ0lRLkNoYXJ0RW5naW5lLnByb3RvdHlwZS5zZXRNYXhUaWNrcz1mdW5jdGlvbihlLHQpe3R8fCh0PXt9KSwoZT1NYXRoLnJvdW5kKGUpKTwyJiYoZT0yKTt2YXIgcj10LnBhZGRpbmc/dC5wYWRkaW5nOjA7dGhpcy5sYXlvdXQuY2FuZGxlV2lkdGg9KHRoaXMuY2hhcnQud2lkdGgtcikvZSx0aGlzLmxheW91dC5jYW5kbGVXaWR0aHx8KHRoaXMubGF5b3V0LmNhbmRsZVdpZHRoPTgpLHRoaXMuY2hhcnQubWF4VGlja3M9TWF0aC5yb3VuZCgodGhpcy5jaGFydC53aWR0aC1yKS90aGlzLmxheW91dC5jYW5kbGVXaWR0aC0uNDk5KSwodC5wYWRkaW5nfHwwPT09dC5wYWRkaW5nKSYmKHRoaXMuY2hhcnQuc2Nyb2xsPWUrMSl9fX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMTMpLGk9ci5uKG4pLGE9cigxKSxvPXIoNCk7ZnVuY3Rpb24gcyhlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19dmFyIGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKX12YXIgdCxyLG47cmV0dXJuIHQ9ZSxuPVt7a2V5OlwiZm9ybWF0SGlzdG9yeVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuaGlzdG9yeSxyPWUuY2FuZGxlcztpZih0KXt2YXIgbj10LnRpbWVzO3JldHVybiB0LnByaWNlcy5tYXAoZnVuY3Rpb24oZSx0KXtyZXR1cm57RGF0ZTpPYmplY3Qoby5rKSgrblt0XSksQ2xvc2U6K2V9fSl9aWYocilyZXR1cm4gci5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue0RhdGU6T2JqZWN0KG8uaykoK2UuZXBvY2gpLE9wZW46K2Uub3BlbixIaWdoOitlLmhpZ2gsTG93OitlLmxvdyxDbG9zZTorZS5jbG9zZX19KX19LHtrZXk6XCJmb3JtYXRUaWNrXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50aWNrLHI9ZS5vaGxjO3JldHVybiB0P3tEYXRlOk9iamVjdChvLmspKCt0LmVwb2NoKSxDbG9zZTordC5xdW90ZSx0aWNrOnR9OnI/e0RhdGU6T2JqZWN0KG8uaykoK3Iub3Blbl90aW1lKSxPcGVuOityLm9wZW4sSGlnaDorci5oaWdoLExvdzorci5sb3csQ2xvc2U6K3IuY2xvc2Usb2hsYzpyfTp2b2lkIDB9fV0sKHI9bnVsbCkmJnModC5wcm90b3R5cGUsciksbiYmcyh0LG4pLGV9KCk7ZnVuY3Rpb24gbChlLHQpe3ZhciByPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpLHIucHVzaC5hcHBseShyLG4pfXJldHVybiByfWZ1bmN0aW9uIHUoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/bChyLCEwKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2goZSx0LHJbdF0pfSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhyKSk6bChyKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLHQpKX0pfXJldHVybiBlfWZ1bmN0aW9uIGgoZSx0LHIpe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09cixlfWZ1bmN0aW9uIGQoZSx0LHIsbixpLGEsbyl7dHJ5e3ZhciBzPWVbYV0obyksYz1zLnZhbHVlfWNhdGNoKGUpe3JldHVybiB2b2lkIHIoZSl9cy5kb25lP3QoYyk6UHJvbWlzZS5yZXNvbHZlKGMpLnRoZW4obixpKX1mdW5jdGlvbiBwKGUpe3JldHVybiBmdW5jdGlvbigpe3ZhciB0PXRoaXMscj1hcmd1bWVudHM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKG4saSl7dmFyIGE9ZS5hcHBseSh0LHIpO2Z1bmN0aW9uIG8oZSl7ZChhLG4saSxvLHMsXCJuZXh0XCIsZSl9ZnVuY3Rpb24gcyhlKXtkKGEsbixpLG8scyxcInRocm93XCIsZSl9byh2b2lkIDApfSl9fWZ1bmN0aW9uIGYoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fWZ1bmN0aW9uIG0oZSx0LHIpe3JldHVybiB0JiZmKGUucHJvdG90eXBlLHQpLHImJmYoZSxyKSxlfXZhciBnPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbil7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0aGlzLmxhc3RTdHJlYW1FcG9jaD12b2lkIDAsdGhpcy5fYmluYXJ5QXBpPXIsdGhpcy5fc3R4PW4sdGhpcy5fcmVxdWVzdD10LHRoaXMuX2VtaXR0ZXI9bmV3IGkuYSh7ZW1pdERlbGF5OjB9KX12YXIgdCxyLG47cmV0dXJuIG0oZSxudWxsLFt7a2V5OlwiRVZFTlRfQ0hBUlRfREFUQVwiLGdldDpmdW5jdGlvbigpe3JldHVyblwiRVZFTlRfQ0hBUlRfREFUQVwifX1dKSxtKGUsW3trZXk6XCJpbml0aWFsRmV0Y2hcIix2YWx1ZToobj1wKHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGUoKXt2YXIgdDtyZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6cmV0dXJuIGUubmV4dD0yLHRoaXMuX3N0YXJ0U3Vic2NyaWJlKHRoaXMuX3JlcXVlc3QpO2Nhc2UgMjpyZXR1cm4gdD1lLnNlbnQsZS5hYnJ1cHQoXCJyZXR1cm5cIix0KTtjYXNlIDQ6Y2FzZVwiZW5kXCI6cmV0dXJuIGUuc3RvcCgpfX0sZSx0aGlzKX0pKSxmdW5jdGlvbigpe3JldHVybiBuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlwicGF1c2VcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJyZXN1bWVcIix2YWx1ZToocj1wKHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGUoKXt2YXIgdCxyO3JldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDppZighdGhpcy5sYXN0U3RyZWFtRXBvY2gpe2UubmV4dD02O2JyZWFrfXJldHVybiB0PXUoe30sdGhpcy5fcmVxdWVzdCx7c3RhcnQ6dGhpcy5sYXN0U3RyZWFtRXBvY2h9KSxlLm5leHQ9NCx0aGlzLl9zdGFydFN1YnNjcmliZSh0KTtjYXNlIDQ6cmV0dXJuIHI9ZS5zZW50LGUuYWJydXB0KFwicmV0dXJuXCIscik7Y2FzZSA2OmNhc2VcImVuZFwiOnJldHVybiBlLnN0b3AoKX19LGUsdGhpcyl9KSksZnVuY3Rpb24oKXtyZXR1cm4gci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcImZvcmdldFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5sYXN0U3RyZWFtRXBvY2g9dm9pZCAwLHRoaXMuX2VtaXR0ZXIub2ZmKGUuRVZFTlRfQ0hBUlRfREFUQSl9fSx7a2V5OlwiX3N0YXJ0U3Vic2NyaWJlXCIsdmFsdWU6KHQ9cChyZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBlKCl7cmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOnRocm93IG5ldyBFcnJvcihcIlBsZWFzZSBvdmVycmlkZSFcIik7Y2FzZSAxOmNhc2VcImVuZFwiOnJldHVybiBlLnN0b3AoKX19LGUpfSkpLGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJfcHJvY2Vzc0hpc3RvcnlSZXNwb25zZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHQuZXJyb3IpdGhyb3cgdC5lcnJvcjt2YXIgcj1jLmZvcm1hdEhpc3RvcnkodCk7aWYoIXIpe3ZhciBuPVwiVW5leHBlY3RlZCByZXNwb25zZTogXCIuY29uY2F0KHQpO3Rocm93IG5ldyBFcnJvcih7bWVzc2FnZTpufSl9cmV0dXJuIHRoaXMubGFzdFN0cmVhbUVwb2NoPWUuZ2V0TGF0ZXN0RXBvY2godCkscn19LHtrZXk6XCJvbkNoYXJ0RGF0YVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuX2VtaXR0ZXIub24oZS5FVkVOVF9DSEFSVF9EQVRBLHQpfX1dLFt7a2V5OlwiZ2V0TGF0ZXN0RXBvY2hcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmNhbmRsZXMscj1lLmhpc3Rvcnk7aWYodClyZXR1cm4gdFt0Lmxlbmd0aC0xXS5lcG9jaDtpZihyKXt2YXIgbj1yLnRpbWVzO3JldHVybiBuW24ubGVuZ3RoLTFdfX19LHtrZXk6XCJnZXRFcG9jaEZyb21UaWNrXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50aWNrLHI9ZS5vaGxjO3JldHVybiB0P3QuZXBvY2g6ci5vcGVuX3RpbWV9fV0pLGV9KCk7ZnVuY3Rpb24gYihlKXtyZXR1cm4oYj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24geShlLHQpe3ZhciByPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpLHIucHVzaC5hcHBseShyLG4pfXJldHVybiByfWZ1bmN0aW9uIHYoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/eShyLCEwKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe18oZSx0LHJbdF0pfSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhyKSk6eShyKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLHQpKX0pfXJldHVybiBlfWZ1bmN0aW9uIF8oZSx0LHIpe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09cixlfWZ1bmN0aW9uIFMoZSx0LHIsbixpLGEsbyl7dHJ5e3ZhciBzPWVbYV0obyksYz1zLnZhbHVlfWNhdGNoKGUpe3JldHVybiB2b2lkIHIoZSl9cy5kb25lP3QoYyk6UHJvbWlzZS5yZXNvbHZlKGMpLnRoZW4obixpKX1mdW5jdGlvbiB3KGUpe3JldHVybiBmdW5jdGlvbigpe3ZhciB0PXRoaXMscj1hcmd1bWVudHM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKG4saSl7dmFyIGE9ZS5hcHBseSh0LHIpO2Z1bmN0aW9uIG8oZSl7UyhhLG4saSxvLHMsXCJuZXh0XCIsZSl9ZnVuY3Rpb24gcyhlKXtTKGEsbixpLG8scyxcInRocm93XCIsZSl9byh2b2lkIDApfSl9fWZ1bmN0aW9uIHgoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fWZ1bmN0aW9uIGsoZSx0KXtyZXR1cm4hdHx8XCJvYmplY3RcIiE9PWIodCkmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQ/ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT09ZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIGV9KGUpOnR9ZnVuY3Rpb24gTyhlLHQscil7cmV0dXJuKE89XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFJlZmxlY3QmJlJlZmxlY3QuZ2V0P1JlZmxlY3QuZ2V0OmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1mdW5jdGlvbihlLHQpe2Zvcig7IU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpJiZudWxsIT09KGU9QyhlKSk7KTtyZXR1cm4gZX0oZSx0KTtpZihuKXt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sdCk7cmV0dXJuIGkuZ2V0P2kuZ2V0LmNhbGwocik6aS52YWx1ZX19KShlLHQscnx8ZSl9ZnVuY3Rpb24gQyhlKXtyZXR1cm4oQz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mOmZ1bmN0aW9uKGUpe3JldHVybiBlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpfSkoZSl9ZnVuY3Rpb24gRShlLHQpe3JldHVybihFPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5fX3Byb3RvX189dCxlfSkoZSx0KX12YXIgVD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscixuLGkpe3ZhciBhO3JldHVybiBmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksKGE9ayh0aGlzLEModCkuY2FsbCh0aGlzLGUscixuKSkpLl90aW1lcklkPXZvaWQgMCxhLlVQREFURV9JTlRFUlZBTD0zZTMsYS5vblVwZGF0ZURlbGF5ZWRGZWVkPXcocmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gZSgpe3ZhciB0LHIsbjtyZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6aWYoIWEubGFzdFN0cmVhbUVwb2NoKXtlLm5leHQ9OTticmVha31yZXR1cm4gdD12KHt9LGEuX3JlcXVlc3Qse3N0YXJ0OmEubGFzdFN0cmVhbUVwb2NoLGFkanVzdF9zdGFydF90aW1lOjB9KSxlLm5leHQ9NCxhLl9iaW5hcnlBcGkuZ2V0VGlja0hpc3RvcnkodCk7Y2FzZSA0OnI9ZS5zZW50LG49YS5fcHJvY2Vzc0hpc3RvcnlSZXNwb25zZShyKSxhLl9lbWl0dGVyLmVtaXQoZy5FVkVOVF9DSEFSVF9EQVRBLG4pLGUubmV4dD0xMTticmVhaztjYXNlIDk6Y29uc29sZS5lcnJvcihcIlVuYWJsZSB0byB1cGRhdGUgZGVsYXllZCBmZWVkIHdpdGhvdXQgZXBvY2ggZnJvbSBsYXN0IHRpY2tcIiksYS5fZW5kVGltZXIoKTtjYXNlIDExOmNhc2VcImVuZFwiOnJldHVybiBlLnN0b3AoKX19LGUpfSkpLGEuX3JlcXVlc3Q9dih7fSxhLl9yZXF1ZXN0LHtzdGFydDphLl9yZXF1ZXN0LnN0YXJ0LTYwKml9KSxhfXZhciByLG4saSxhO3JldHVybiBmdW5jdGlvbihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmRShlLHQpfSh0LGcpLHI9dCwobj1be2tleTpcInBhdXNlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9lbmRUaW1lcigpfX0se2tleTpcIl9zdGFydFN1YnNjcmliZVwiLHZhbHVlOihhPXcocmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gZSh0KXt2YXIgcixuO3JldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gZS5uZXh0PTIsdGhpcy5fYmluYXJ5QXBpLmdldFRpY2tIaXN0b3J5KHQpO2Nhc2UgMjpyZXR1cm4gcj1lLnNlbnQsbj10aGlzLl9wcm9jZXNzSGlzdG9yeVJlc3BvbnNlKHIpLHRoaXMuX3N0YXJ0VGltZXIoKSxlLmFicnVwdChcInJldHVyblwiLG4pO2Nhc2UgNjpjYXNlXCJlbmRcIjpyZXR1cm4gZS5zdG9wKCl9fSxlLHRoaXMpfSkpLGZ1bmN0aW9uKGUpe3JldHVybiBhLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlwiZm9yZ2V0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9lbmRUaW1lcigpLE8oQyh0LnByb3RvdHlwZSksXCJmb3JnZXRcIix0aGlzKS5jYWxsKHRoaXMpfX0se2tleTpcIl9zdGFydFRpbWVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl90aW1lcklkfHwodGhpcy5fdGltZXJJZD1zZXRJbnRlcnZhbCh0aGlzLm9uVXBkYXRlRGVsYXllZEZlZWQsdGhpcy5VUERBVEVfSU5URVJWQUwpKX19LHtrZXk6XCJfZW5kVGltZXJcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX3RpbWVySWQmJihjbGVhckludGVydmFsKHRoaXMuX3RpbWVySWQpLHRoaXMuX3RpbWVySWQ9dm9pZCAwKX19XSkmJngoci5wcm90b3R5cGUsbiksaSYmeChyLGkpLHR9KCksUD1yKDExKTtmdW5jdGlvbiBEKGUpe3JldHVybihEPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBqKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe3ZhciByPVtdLG49ITAsaT0hMSxhPXZvaWQgMDt0cnl7Zm9yKHZhciBvLHM9ZVtTeW1ib2wuaXRlcmF0b3JdKCk7IShuPShvPXMubmV4dCgpKS5kb25lKSYmKHIucHVzaChvLnZhbHVlKSwhdHx8ci5sZW5ndGghPT10KTtuPSEwKTt9Y2F0Y2goZSl7aT0hMCxhPWV9ZmluYWxseXt0cnl7bnx8bnVsbD09cy5yZXR1cm58fHMucmV0dXJuKCl9ZmluYWxseXtpZihpKXRocm93IGF9fXJldHVybiByfShlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpfSgpfWZ1bmN0aW9uIEEoZSx0LHIsbixpLGEsbyl7dHJ5e3ZhciBzPWVbYV0obyksYz1zLnZhbHVlfWNhdGNoKGUpe3JldHVybiB2b2lkIHIoZSl9cy5kb25lP3QoYyk6UHJvbWlzZS5yZXNvbHZlKGMpLnRoZW4obixpKX1mdW5jdGlvbiBOKGUpe3JldHVybiBmdW5jdGlvbigpe3ZhciB0PXRoaXMscj1hcmd1bWVudHM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKG4saSl7dmFyIGE9ZS5hcHBseSh0LHIpO2Z1bmN0aW9uIG8oZSl7QShhLG4saSxvLHMsXCJuZXh0XCIsZSl9ZnVuY3Rpb24gcyhlKXtBKGEsbixpLG8scyxcInRocm93XCIsZSl9byh2b2lkIDApfSl9fWZ1bmN0aW9uIEkoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fWZ1bmN0aW9uIE0oZSx0KXtyZXR1cm4hdHx8XCJvYmplY3RcIiE9PUQodCkmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQ/ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT09ZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIGV9KGUpOnR9ZnVuY3Rpb24geihlLHQscil7cmV0dXJuKHo9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFJlZmxlY3QmJlJlZmxlY3QuZ2V0P1JlZmxlY3QuZ2V0OmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1mdW5jdGlvbihlLHQpe2Zvcig7IU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpJiZudWxsIT09KGU9TChlKSk7KTtyZXR1cm4gZX0oZSx0KTtpZihuKXt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sdCk7cmV0dXJuIGkuZ2V0P2kuZ2V0LmNhbGwocik6aS52YWx1ZX19KShlLHQscnx8ZSl9ZnVuY3Rpb24gTChlKXtyZXR1cm4oTD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mOmZ1bmN0aW9uKGUpe3JldHVybiBlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpfSkoZSl9ZnVuY3Rpb24gUihlLHQpe3JldHVybihSPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5fX3Byb3RvX189dCxlfSkoZSx0KX12YXIgSD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIGUscjshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpO2Zvcih2YXIgbj1hcmd1bWVudHMubGVuZ3RoLGk9bmV3IEFycmF5KG4pLGE9MDthPG47YSsrKWlbYV09YXJndW1lbnRzW2FdO3JldHVybihyPU0odGhpcywoZT1MKHQpKS5jYWxsLmFwcGx5KGUsW3RoaXNdLmNvbmNhdChpKSkpKS5fdGlja0NhbGxiYWNrPXZvaWQgMCxyfXZhciByLG4saSxhLG87cmV0dXJuIGZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiZSKGUsdCl9KHQsZykscj10LChuPVt7a2V5OlwicGF1c2VcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX3RpY2tDYWxsYmFjaz12b2lkIDB9fSx7a2V5OlwicmVzdW1lXCIsdmFsdWU6KG89TihyZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBlKCl7cmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOmlmKCF0aGlzLl90aWNrQ2FsbGJhY2spe2UubmV4dD0yO2JyZWFrfXRocm93IG5ldyBFcnJvcihcIllvdSBjYW5ub3QgcmVzdW1lIGFuIGFjdGl2ZSBzdHJlYW0hXCIpO2Nhc2UgMjpyZXR1cm4gZS5hYnJ1cHQoXCJyZXR1cm5cIix6KEwodC5wcm90b3R5cGUpLFwicmVzdW1lXCIsdGhpcykuY2FsbCh0aGlzKSk7Y2FzZSAzOmNhc2VcImVuZFwiOnJldHVybiBlLnN0b3AoKX19LGUsdGhpcyl9KSksZnVuY3Rpb24oKXtyZXR1cm4gby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcIl9zdGFydFN1YnNjcmliZVwiLHZhbHVlOihhPU4ocmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gZSh0KXt2YXIgcixuLGksYSxvLHM7cmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOnJldHVybiByPXRoaXMuX2dldFByb2Nlc3NUaWNrSGlzdG9yeUNsb3N1cmUoKSxuPWoociwyKSxpPW5bMF0sYT1uWzFdLHRoaXMuX2JpbmFyeUFwaS5zdWJzY3JpYmVUaWNrSGlzdG9yeSh0LGEpLGUubmV4dD00LGk7Y2FzZSA0OnJldHVybiBvPWUuc2VudCxzPXRoaXMuX3Byb2Nlc3NIaXN0b3J5UmVzcG9uc2UobyksdGhpcy5fdGlja0NhbGxiYWNrPWEsZS5hYnJ1cHQoXCJyZXR1cm5cIixzKTtjYXNlIDg6Y2FzZVwiZW5kXCI6cmV0dXJuIGUuc3RvcCgpfX0sZSx0aGlzKX0pKSxmdW5jdGlvbihlKXtyZXR1cm4gYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcImZvcmdldFwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5fdGlja0NhbGxiYWNrKXt2YXIgZT10aGlzLl9yZXF1ZXN0LHI9ZS5zeW1ib2wsbj1lLmdyYW51bGFyaXR5O3RoaXMuX2JpbmFyeUFwaS5mb3JnZXQoe3N5bWJvbDpyLGdyYW51bGFyaXR5Om59KSx0aGlzLl90aWNrQ2FsbGJhY2s9dm9pZCAwfXooTCh0LnByb3RvdHlwZSksXCJmb3JnZXRcIix0aGlzKS5jYWxsKHRoaXMpfX0se2tleTpcIl9nZXRQcm9jZXNzVGlja0hpc3RvcnlDbG9zdXJlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9ITEscj1uZXcgUC5hO3JldHVybltyLGZ1bmN0aW9uKG4pe2lmKGUuX3N0eC5pc0Rlc3Ryb3llZCl7dmFyIGk9bi5zdWJzY3JpcHRpb24uaWQ7ZS5fYmluYXJ5QXBpLmZvcmdldFN0cmVhbShpKX1lbHNlIHQ/ZS5fb25UaWNrKG4pOihyLnJlc29sdmUobiksdD0hMCl9XX19LHtrZXk6XCJfb25UaWNrXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5sYXN0U3RyZWFtRXBvY2g9K2cuZ2V0RXBvY2hGcm9tVGljayhlKTt2YXIgdD1bYy5mb3JtYXRUaWNrKGUpXTt0aGlzLl9lbWl0dGVyLmVtaXQoZy5FVkVOVF9DSEFSVF9EQVRBLHQpfX1dKSYmSShyLnByb3RvdHlwZSxuKSxpJiZJKHIsaSksdH0oKSxxPXIoMTUpO2Z1bmN0aW9uIEIoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7dmFyIHI9W10sbj0hMCxpPSExLGE9dm9pZCAwO3RyeXtmb3IodmFyIG8scz1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKG49KG89cy5uZXh0KCkpLmRvbmUpJiYoci5wdXNoKG8udmFsdWUpLCF0fHxyLmxlbmd0aCE9PXQpO249ITApO31jYXRjaChlKXtpPSEwLGE9ZX1maW5hbGx5e3RyeXtufHxudWxsPT1zLnJldHVybnx8cy5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgYX19cmV0dXJuIHJ9KGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIil9KCl9ZnVuY3Rpb24gRihlLHQpe3ZhciByPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpLHIucHVzaC5hcHBseShyLG4pfXJldHVybiByfWZ1bmN0aW9uIFYoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/RihyLCEwKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe1UoZSx0LHJbdF0pfSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhyKSk6RihyKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLHQpKX0pfXJldHVybiBlfWZ1bmN0aW9uIFUoZSx0LHIpe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09cixlfWZ1bmN0aW9uIFcoZSx0LHIsbixpLGEsbyl7dHJ5e3ZhciBzPWVbYV0obyksYz1zLnZhbHVlfWNhdGNoKGUpe3JldHVybiB2b2lkIHIoZSl9cy5kb25lP3QoYyk6UHJvbWlzZS5yZXNvbHZlKGMpLnRoZW4obixpKX1mdW5jdGlvbiBRKGUpe3JldHVybiBmdW5jdGlvbigpe3ZhciB0PXRoaXMscj1hcmd1bWVudHM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKG4saSl7dmFyIGE9ZS5hcHBseSh0LHIpO2Z1bmN0aW9uIG8oZSl7VyhhLG4saSxvLHMsXCJuZXh0XCIsZSl9ZnVuY3Rpb24gcyhlKXtXKGEsbixpLG8scyxcInRocm93XCIsZSl9byh2b2lkIDApfSl9fWZ1bmN0aW9uIEcoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fWZ1bmN0aW9uIEsoZSx0LHIpe3JldHVybiB0JiZHKGUucHJvdG90eXBlLHQpLHImJkcoZSxyKSxlfXZhciBZPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbixzKXt2YXIgYz10aGlzOyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksdGhpcy5fYWN0aXZlU3RyZWFtcz17fSx0aGlzLl9pc0Nvbm5lY3Rpb25PcGVuZWQ9ITAsdGhpcy5vblJhbmdlQ2hhbmdlZD1mdW5jdGlvbihlKXt2YXIgdD1PYmplY3Qoby5iKShjLmdyYW51bGFyaXR5KSxyPShjLmdyYW51bGFyaXR5fHwxKSpjLl9zdHguY2hhcnQubWF4VGlja3Msbj1udWxsLGk9bnVsbDtjLl9tYWluU3RvcmUuc3RhdGUuc2V0Q2hhcnRJc1JlYWR5KCExKSxjLmVuZEVwb2NoPyhuPUNJUS5zdHJUb0RhdGVUaW1lKE9iamVjdChvLmspKGMuc3RhcnRFcG9jaHx8Yy5lbmRFcG9jaC1yKSksaT1DSVEuc3RyVG9EYXRlVGltZShPYmplY3Qoby5rKShjLmVuZEVwb2NoKSkpOmMuc3RhcnRFcG9jaCYmKG49Yy5zdGFydEVwb2NoP0NJUS5zdHJUb0RhdGVUaW1lKE9iamVjdChvLmspKGMuc3RhcnRFcG9jaCkpOnZvaWQgMCksYy5fc3R4LnNldFJhbmdlKHtkdExlZnQ6bixkdFJpZ2h0OmkscGVyaW9kaWNpdHk6dCxmb3JjZUxvYWQ6ZX0sZnVuY3Rpb24oKXtjLmVuZEVwb2NofHxjLnN0YXJ0RXBvY2g/Yy5zY2FsZUNoYXJ0KCk6KGMuX3N0eC5ob21lKCksZGVsZXRlIGMuX3N0eC5sYXlvdXQucmFuZ2UpLGMuX21haW5TdG9yZS5zdGF0ZS5zYXZlTGF5b3V0KCksYy5fbWFpblN0b3JlLnN0YXRlLnNldENoYXJ0SXNSZWFkeSghMCl9KX0sdGhpcy5fc3R4PXIsdGhpcy5fYmluYXJ5QXBpPXQsdGhpcy5fbWFpblN0b3JlPW4sdGhpcy5fc2VydmVyVGltZT1xLmEuZ2V0SW5zdGFuY2UoKSx0aGlzLl90cmFkaW5nVGltZXM9cyxPYmplY3QoYS5yZWFjdGlvbikoZnVuY3Rpb24oKXtyZXR1cm4gbi5zdGF0ZS5pc0Nvbm5lY3Rpb25PcGVuZWR9LHRoaXMub25Db25uZWN0aW9uQ2hhbmdlZC5iaW5kKHRoaXMpKSx0aGlzLl9lbWl0dGVyPW5ldyBpLmEoe2VtaXREZWxheTowfSl9dmFyIHQscixuO3JldHVybiBLKGUsW3trZXk6XCJzdGFydEVwb2NoXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21haW5TdG9yZS5zdGF0ZS5zdGFydEVwb2NofX0se2tleTpcImVuZEVwb2NoXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21haW5TdG9yZS5zdGF0ZS5lbmRFcG9jaH19LHtrZXk6XCJncmFudWxhcml0eVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYWluU3RvcmUuY2hhcnQuZ3JhbnVsYXJpdHl9fSx7a2V5OlwiY29udGV4dFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYWluU3RvcmUuY2hhcnQuY29udGV4dH19LHtrZXk6XCJsb2FkZXJcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWFpblN0b3JlLmxvYWRlcn19LHtrZXk6XCJtYXJnaW5cIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWFpblN0b3JlLnN0YXRlLm1hcmdpbn19XSxbe2tleTpcIkVWRU5UX01BU1RFUl9EQVRBX1VQREFURVwiLGdldDpmdW5jdGlvbigpe3JldHVyblwiRVZFTlRfTUFTVEVSX0RBVEFfVVBEQVRFXCJ9fSx7a2V5OlwiRVZFTlRfTUFTVEVSX0RBVEFfUkVJTklUSUFMSVpFXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuXCJFVkVOVF9NQVNURVJfREFUQV9SRUFTU0lHTlwifX0se2tleTpcIkVWRU5UX0NPTVBBUklTT05fREFUQV9VUERBVEVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cIkVWRU5UX0NPTVBBUklTT05fREFUQV9VUERBVEVcIn19LHtrZXk6XCJFVkVOVF9TVEFSVF9QQUdJTkFUSU9OXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuXCJFVkVOVF9TVEFSVF9QQUdJTkFUSU9OXCJ9fSx7a2V5OlwiRVZFTlRfT05fUEFHSU5BVElPTlwiLGdldDpmdW5jdGlvbigpe3JldHVyblwiRVZFTlRfT05fUEFHSU5BVElPTlwifX1dKSxLKGUsW3trZXk6XCJzY2FsZUNoYXJ0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnN0YXJ0RXBvY2gmJih0aGlzLl9zdHguYW5pbWF0aW9ucy5saXZlU2Nyb2xsJiZ0aGlzLl9zdHguYW5pbWF0aW9ucy5saXZlU2Nyb2xsLnJ1bm5pbmcmJnRoaXMuX3N0eC5hbmltYXRpb25zLmxpdmVTY3JvbGwuc3RvcCgpLHRoaXMuZW5kRXBvY2g/KHRoaXMuX3N0eC5jaGFydC5pc0Rpc3BsYXlGdWxsTW9kZT0hMSx0aGlzLl9zdHguY2hhcnQubG9ja1Njcm9sbD0hMSk6KHRoaXMuX3N0eC5tYXhNYXN0ZXJEYXRhU2l6ZT0wLHRoaXMuX3N0eC5jaGFydC5sb2NrU2Nyb2xsPSEwKSx0aGlzLl9zdHguc2V0TWF4VGlja3ModGhpcy5fc3R4LmNoYXJ0LmRhdGFTZXQubGVuZ3RoKyhNYXRoLmZsb29yKHRoaXMuX3N0eC5jaGFydC5kYXRhU2V0Lmxlbmd0aC81KXx8MikpLHRoaXMuX3N0eC5jaGFydC5zY3JvbGw9dGhpcy5fc3R4LmNoYXJ0LmRhdGFTZXQubGVuZ3RoLHRoaXMuX3N0eC5jaGFydC5pc1Njcm9sbExvY2F0aW9uQ2hhbmdlZD0hMCx0aGlzLl9zdHguZHJhdygpKX19LHtrZXk6XCJzdWJzY3JpYmVcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJ1bnN1YnNjcmliZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc3ltYm9sLHI9ZS5wZXJpb2Qsbj1lLmludGVydmFsO2lmKHRoaXMuX3N0eC5jaGFydC5zeW1ib2whPT10KXt2YXIgaT1PYmplY3Qoby5hKShyLG4pLGE9dGhpcy5fZ2V0S2V5KHtzeW1ib2w6dCxncmFudWxhcml0eTppfSk7dGhpcy5fZm9yZ2V0U3RyZWFtKGEpfX19LHtrZXk6XCJfZm9yZ2V0U3RyZWFtXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fYWN0aXZlU3RyZWFtc1tlXSYmKHRoaXMuX2FjdGl2ZVN0cmVhbXNbZV0uZm9yZ2V0KCksZGVsZXRlIHRoaXMuX2FjdGl2ZVN0cmVhbXNbZV0pfX0se2tleTpcImZldGNoSW5pdGlhbERhdGFcIix2YWx1ZToobj1RKHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGUodCxyLG4saSxhKXt2YXIgcyxsLHUsaCxkLHAsZixtLGcsYix5LHYsXyxTLHcseCxrLE8sQyxFPXRoaXM7cmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOmlmKHRoaXMuc2V0SGFzUmVhY2hlZEVuZE9mRGF0YSghMSkscz1pLnBlcmlvZCxsPWkuaW50ZXJ2YWwsdT1pLnN5bWJvbE9iamVjdCxoPU9iamVjdChvLmEpKHMsbCksZD10aGlzLl9nZXRLZXkoe3N5bWJvbDp0LGdyYW51bGFyaXR5Omh9KSxwPXRoaXMuX3NlcnZlclRpbWUuZ2V0TG9jYWxEYXRlKCkscj1yPnA/cDpyLGY9dGhpcy5fc3R4LmNoYXJ0LnN5bWJvbCE9PXQsbT10aGlzLnN0YXJ0RXBvY2h8fE1hdGguZmxvb3Ioci8xZTN8MCksbT10aGlzLm1hcmdpbiYmdGhpcy5zdGFydEVwb2NoP20tdGhpcy5tYXJnaW46bSxnPXRoaXMubWFyZ2luJiZ0aGlzLmVuZEVwb2NoP3RoaXMuZW5kRXBvY2grdGhpcy5tYXJnaW46dGhpcy5lbmRFcG9jaCxmJiYobS09NjAqci5nZXRUaW1lem9uZU9mZnNldCgpKSxiPWY/dDp2b2lkIDAseT11Lm5hbWUsdGhpcy5sb2FkZXIuc2V0U3RhdGUoXCJjaGFydC1kYXRhXCIpLCF0aGlzLl90cmFkaW5nVGltZXMuaXNGZWVkVW5hdmFpbGFibGUodCkpe2UubmV4dD0yMDticmVha31yZXR1cm4gdGhpcy5fbWFpblN0b3JlLm5vdGlmaWVyLm5vdGlmeUZlZWRVbmF2YWlsYWJsZSh5KSx2PXtxdW90ZXM6W119LGY/dj1WKHtlcnJvcjpcIlN0cmVhbWluZ05vdEFsbG93ZWRcIixzdXBwcmVzc0FsZXJ0OiEwfSx2KTp0aGlzLl9tYWluU3RvcmUuY2hhcnQuc2V0Q2hhcnRBdmFpbGFiaWxpdHkoITEpLGEodiksZS5hYnJ1cHQoXCJyZXR1cm5cIik7Y2FzZSAyMDppZihfPXtzdGFydDptLHN5bWJvbDp0LGdyYW51bGFyaXR5Omh9LFM9ITEsIWcpe2UubmV4dD0yNzticmVha31fLmVuZD1nLFM9ITAsZS5uZXh0PTUzO2JyZWFrO2Nhc2UgMjc6aWYoIXRoaXMuX3RyYWRpbmdUaW1lcy5pc01hcmtldE9wZW5lZCh0KSl7ZS5uZXh0PTUxO2JyZWFrfXJldHVybihrPXRoaXMuX3RyYWRpbmdUaW1lcy5nZXREZWxheWVkTWludXRlcyh0KSk+MD8odGhpcy5fbWFpblN0b3JlLm5vdGlmaWVyLm5vdGlmeURlbGF5ZWRNYXJrZXQoeSxrKSx4PW5ldyBUKF8sdGhpcy5fYmluYXJ5QXBpLHRoaXMuX3N0eCxrKSk6eD1uZXcgSChfLHRoaXMuX2JpbmFyeUFwaSx0aGlzLl9zdHgpLGUucHJldj0zMCxmfHx0aGlzLnVuc3Vic2NyaWJlQWxsKCksZS5uZXh0PTM0LHguaW5pdGlhbEZldGNoKCk7Y2FzZSAzNDp3PWUuc2VudCxlLm5leHQ9NDM7YnJlYWs7Y2FzZSAzNzpyZXR1cm4gZS5wcmV2PTM3LGUudDA9ZS5jYXRjaCgzMCksTz1lLnQwLm1lc3NhZ2UsdGhpcy5fbWFpblN0b3JlLm5vdGlmaWVyLm5vdGlmeSh7dGV4dDpPLHR5cGU6XCJlcnJvclwiLGNhdGVnb3J5OlwiYWN0aXZlc3ltYm9sXCJ9KSxhKHtxdW90ZXM6W119KSxlLmFicnVwdChcInJldHVyblwiKTtjYXNlIDQzOmlmKHgub25DaGFydERhdGEoZnVuY3Rpb24oZSl7aWYoZnx8dD09PUUuX3N0eC5jaGFydC5zeW1ib2wpe2lmKEUuX3N0eC5pc0Rlc3Ryb3llZClyZXR1cm47RS5fYXBwZW5kQ2hhcnREYXRhKGUsZCxiKX19KSxmfHx0aGlzLl9zdHguY2hhcnQuc3ltYm9sPT09dCl7ZS5uZXh0PTQ4O2JyZWFrfXJldHVybiBhKHtxdW90ZXM6W119KSx4LmZvcmdldCgpLGUuYWJydXB0KFwicmV0dXJuXCIpO2Nhc2UgNDg6dGhpcy5fYWN0aXZlU3RyZWFtc1tkXT14LGUubmV4dD01MzticmVhaztjYXNlIDUxOnRoaXMuX21haW5TdG9yZS5ub3RpZmllci5ub3RpZnlNYXJrZXRDbG9zZSh5KSxTPSEwO2Nhc2UgNTM6aWYoIVMpe2UubmV4dD01ODticmVha31yZXR1cm4gZS5uZXh0PTU2LHRoaXMuX2JpbmFyeUFwaS5nZXRUaWNrSGlzdG9yeShfKTtjYXNlIDU2OkM9ZS5zZW50LHc9Yy5mb3JtYXRIaXN0b3J5KEMpO2Nhc2UgNTg6aWYodyl7ZS5uZXh0PTYyO2JyZWFrfXJldHVybiBjb25zb2xlLmVycm9yKFwiTm8gcXVvdGVzIGZvdW5kISFcIiksYSh7cXVvdGVzOltdfSksZS5hYnJ1cHQoXCJyZXR1cm5cIik7Y2FzZSA2Mjp3PXRoaXMuX3RyaW1RdW90ZXModyksYSh7cXVvdGVzOnd9KSx0aGlzLl9tYWluU3RvcmUuY2hhcnQudXBkYXRlWWF4aXNXaWR0aCgpLHRoaXMuc2NhbGVDaGFydCgpLHRoaXMuX2VtaXREYXRhVXBkYXRlKHcsYiwhMCk7Y2FzZSA2NzpjYXNlXCJlbmRcIjpyZXR1cm4gZS5zdG9wKCl9fSxlLHRoaXMsW1szMCwzN11dKX0pKSxmdW5jdGlvbihlLHQscixpLGEpe3JldHVybiBuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlwiZmV0Y2hQYWdpbmF0aW9uRGF0YVwiLHZhbHVlOihyPVEocmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gdChyLG4saSxhLHMpe3ZhciBjLGwsdSxoLGQ7cmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOnJldHVybiBjPU9iamVjdChvLmwpKGkpLGw9T2JqZWN0KG8ubCkobiksdT1hLnBlcmlvZCxoPWEuaW50ZXJ2YWwsZD1PYmplY3Qoby5hKSh1LGgpLHRoaXMuX3N0eC5jaGFydC5zeW1ib2w9PT1yJiZ0aGlzLl9lbWl0dGVyLmVtaXQoZS5FVkVOVF9TVEFSVF9QQUdJTkFUSU9OLHtzdGFydDpsLGVuZDpjfSksdC5uZXh0PTgsdGhpcy5fZ2V0UGFnaW5hdGlvbkRhdGEocixkLGwsYyxzKTtjYXNlIDg6Y2FzZVwiZW5kXCI6cmV0dXJuIHQuc3RvcCgpfX0sdCx0aGlzKX0pKSxmdW5jdGlvbihlLHQsbixpLGEpe3JldHVybiByLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlwiX2dldFBhZ2luYXRpb25EYXRhXCIsdmFsdWU6KHQ9UShyZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiB0KHIsbixpLGEsbyl7dmFyIHMsbCx1LGgsZCxwLGYsbSxnO3JldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDppZihzPXRoaXMuX3N0eC5jaGFydC5zeW1ib2w9PT1yLCEodGhpcy5zdGFydEVwb2NofHx0aGlzLmVuZEVwb2NoJiZhPnRoaXMuZW5kRXBvY2gpKXt0Lm5leHQ9NTticmVha31yZXR1cm4gbyh7bW9yZUF2YWlsYWJsZTohMSxxdW90ZXM6W119KSxzJiYodGhpcy5fZW1pdHRlci5lbWl0KGUuRVZFTlRfT05fUEFHSU5BVElPTix7c3RhcnQ6aSxlbmQ6YX0pLHRoaXMuc2V0SGFzUmVhY2hlZEVuZE9mRGF0YSghMCkpLHQuYWJydXB0KFwicmV0dXJuXCIpO2Nhc2UgNTppZihsPXRoaXMuX3NlcnZlclRpbWUuZ2V0RXBvY2goKSx1PWwtTWF0aC5jZWlsKDIuOCozNjUqMjQqNjAqNjApLGg9e3F1b3RlczpbXX0sIShhPnUpKXt0Lm5leHQ9Mzc7YnJlYWt9cmV0dXJuIHQucHJldj05LHQubmV4dD0xMix0aGlzLl9iaW5hcnlBcGkuZ2V0VGlja0hpc3Rvcnkoe3N5bWJvbDpyLGdyYW51bGFyaXR5Om4sc3RhcnQ6TWF0aC5mbG9vcihNYXRoLm1heChpLHUpKSxlbmQ6YX0pO2Nhc2UgMTI6aWYoIShwPXQuc2VudCkuZXJyb3Ipe3QubmV4dD0xOTticmVha31yZXR1cm4gZj1wLmVycm9yLm1lc3NhZ2UsdGhpcy5sb2FkZXIuaGlkZSgpLHRoaXMuX21haW5TdG9yZS5ub3RpZmllci5ub3RpZnkoe3RleHQ6Zix0eXBlOlwiZXJyb3JcIixjYXRlZ29yeTpcImFjdGl2ZXN5bWJvbFwifSksbyh7ZXJyb3I6cC5lcnJvcn0pLHQuYWJydXB0KFwicmV0dXJuXCIpO2Nhc2UgMTk6aWYodm9pZCAwIT09KGQ9ZS5nZXRGaXJzdEVwb2NoKHApKSYmZCE9PWEpe3QubmV4dD0yOTticmVha31pZighKChtPWktKGEtaSkpPD11KSl7dC5uZXh0PTI2O2JyZWFrfXJldHVybiBvKHttb3JlQXZhaWxhYmxlOiExLHF1b3RlczpbXX0pLHRoaXMuc2V0SGFzUmVhY2hlZEVuZE9mRGF0YSghMCksdC5hYnJ1cHQoXCJyZXR1cm5cIik7Y2FzZSAyNjpyZXR1cm4gdC5uZXh0PTI4LHRoaXMuX2dldFBhZ2luYXRpb25EYXRhKHIsbixtLGEsbyk7Y2FzZSAyODpyZXR1cm4gdC5hYnJ1cHQoXCJyZXR1cm5cIik7Y2FzZSAyOTpoLnF1b3Rlcz1jLmZvcm1hdEhpc3RvcnkocCksZDw9dSYmKG8oe21vcmVBdmFpbGFibGU6ITEscXVvdGVzOltdfSksdGhpcy5zZXRIYXNSZWFjaGVkRW5kT2ZEYXRhKCEwKSksdC5uZXh0PTM3O2JyZWFrO2Nhc2UgMzM6dC5wcmV2PTMzLHQudDA9dC5jYXRjaCg5KSxjb25zb2xlLmVycm9yKHQudDApLGg9e2Vycm9yOnQudDB9O2Nhc2UgMzc6byhoKSxzJiYoZz1hPmQ/ZDphLHRoaXMuX2VtaXR0ZXIuZW1pdChlLkVWRU5UX09OX1BBR0lOQVRJT04se3N0YXJ0OmksZW5kOmd9KSk7Y2FzZSAzOTpjYXNlXCJlbmRcIjpyZXR1cm4gdC5zdG9wKCl9fSx0LHRoaXMsW1s5LDMzXV0pfSkpLGZ1bmN0aW9uKGUscixuLGksYSl7cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJzZXRIYXNSZWFjaGVkRW5kT2ZEYXRhXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fbWFpblN0b3JlLnN0YXRlLmhhc1JlYWNoZWRFbmRPZkRhdGEhPT1lJiYodGhpcy5fbWFpblN0b3JlLnN0YXRlLmhhc1JlYWNoZWRFbmRPZkRhdGE9ZSl9fSx7a2V5OlwidW5zdWJzY3JpYmVBbGxcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT0wLHQ9T2JqZWN0LmtleXModGhpcy5fYWN0aXZlU3RyZWFtcyk7ZTx0Lmxlbmd0aDtlKyspe3ZhciByPXRbZV07dGhpcy5fZm9yZ2V0U3RyZWFtKHIpfX19LHtrZXk6XCJfZm9yZ2V0SWZFbmRFcG9jaFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2FjdGl2ZVN0cmVhbXNbZV0scj0hMDtpZih0KXt2YXIgbj10Lmxhc3RTdHJlYW1FcG9jaDtyZXR1cm4gdGhpcy5lbmRFcG9jaCYmbit0aGlzLmdyYW51bGFyaXR5PnRoaXMuZW5kRXBvY2g/KHRoaXMuX2FjdGl2ZVN0cmVhbXNbZV0mJjA9PT10aGlzLmdyYW51bGFyaXR5JiYhdGhpcy5fbWFpblN0b3JlLnN0YXRlLmlzU3RhdGljQ2hhcnQmJkNJUS5zdHJUb0RhdGVUaW1lKE9iamVjdChvLmspKHRoaXMuZW5kRXBvY2gpKS52YWx1ZU9mKCk+PXRoaXMuX3N0eC5jaGFydC5kYXRhU2V0LnNsaWNlKC0xKVswXS5EVC52YWx1ZU9mKCkmJihyPSExKSx0aGlzLl9mb3JnZXRTdHJlYW0oZSkpOnI9ITEscn19fSx7a2V5OlwiX2FwcGVuZENoYXJ0RGF0YVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXshdGhpcy5fZm9yZ2V0SWZFbmRFcG9jaCh0KXx8dGhpcy5fYWN0aXZlU3RyZWFtc1t0XT8odGhpcy5lbmRFcG9jaCYmQ0lRLnN0clRvRGF0ZVRpbWUoT2JqZWN0KG8uaykodGhpcy5lbmRFcG9jaCkpLnZhbHVlT2YoKSE9PXRoaXMuX3N0eC5jaGFydC5kYXRhU2V0LnNsaWNlKC0xKVswXS5EVC52YWx1ZU9mKCkmJih0aGlzLl9zdHgudXBkYXRlQ2hhcnREYXRhKFt7RFQ6Q0lRLnN0clRvRGF0ZVRpbWUoT2JqZWN0KG8uaykodGhpcy5lbmRFcG9jaCkpLENsb3NlOm51bGx9XSxudWxsLHtmaWxsR2FwczohMH0pLHRoaXMuX3N0eC5jcmVhdGVEYXRhU2V0KCkpLHI/dGhpcy5fc3R4LnVwZGF0ZUNoYXJ0RGF0YShlLG51bGwse3NlY29uZGFyeVNlcmllczpyLG5vQ3JlYXRlRGF0YVNldDohMH0pOih0aGlzLl9zdHgudXBkYXRlQ2hhcnREYXRhKGUsbnVsbCx7YWxsb3dSZXBsYWNlT0hMOiEwfSksdGhpcy5fc3R4LmNyZWF0ZURhdGFTZXQoKSksdGhpcy5fZW1pdERhdGFVcGRhdGUoZSxyKSk6ZT1bXX19LHtrZXk6XCJfZW1pdERhdGFVcGRhdGVcIix2YWx1ZTpmdW5jdGlvbih0LHIpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl0saT10W3QubGVuZ3RoLTJdLGE9dm9pZCAwIT09aT9pLkNsb3NlOnZvaWQgMCxvPVYoe30sdFt0Lmxlbmd0aC0xXSx7cHJldkNsb3NlOmF9KTtyP3RoaXMuX2VtaXR0ZXIuZW1pdChlLkVWRU5UX0NPTVBBUklTT05fREFUQV9VUERBVEUsVih7c3ltYm9sOnJ9LG8pKTpuPyh0aGlzLl9lbWl0dGVyLmVtaXQoZS5FVkVOVF9NQVNURVJfREFUQV9SRUlOSVRJQUxJWkUpLHRoaXMuX21haW5TdG9yZS5jaGFydC5zZXRDaGFydEF2YWlsYWJpbGl0eSghMCkpOnRoaXMuX2VtaXR0ZXIuZW1pdChlLkVWRU5UX01BU1RFUl9EQVRBX1VQREFURSxvKX19LHtrZXk6XCJvbk1hc3RlckRhdGFVcGRhdGVcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLl9lbWl0dGVyLm9uKGUuRVZFTlRfTUFTVEVSX0RBVEFfVVBEQVRFLHQpfX0se2tleTpcIm9mZk1hc3RlckRhdGFVcGRhdGVcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLl9lbWl0dGVyLm9mZihlLkVWRU5UX01BU1RFUl9EQVRBX1VQREFURSx0KX19LHtrZXk6XCJvbk1hc3RlckRhdGFSZWluaXRpYWxpemVcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLl9lbWl0dGVyLm9uKGUuRVZFTlRfTUFTVEVSX0RBVEFfUkVJTklUSUFMSVpFLHQpfX0se2tleTpcIm9mZk1hc3RlckRhdGFSZWluaXRpYWxpemVcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLl9lbWl0dGVyLm9mZihlLkVWRU5UX01BU1RFUl9EQVRBX1JFSU5JVElBTElaRSx0KX19LHtrZXk6XCJvbkNvbXBhcmlzb25EYXRhVXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5fZW1pdHRlci5vbihlLkVWRU5UX0NPTVBBUklTT05fREFUQV9VUERBVEUsdCl9fSx7a2V5Olwib25QYWdpbmF0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5fZW1pdHRlci5vbihlLkVWRU5UX09OX1BBR0lOQVRJT04sdCl9fSx7a2V5Olwib2ZmUGFnaW5hdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuX2VtaXR0ZXIub2ZmKGUuRVZFTlRfT05fUEFHSU5BVElPTix0KX19LHtrZXk6XCJvblN0YXJ0UGFnaW5hdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuX2VtaXR0ZXIub24oZS5FVkVOVF9TVEFSVF9QQUdJTkFUSU9OLHQpfX0se2tleTpcIm9mZlN0YXJ0UGFnaW5hdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuX2VtaXR0ZXIub2ZmKGUuRVZFTlRfU1RBUlRfUEFHSU5BVElPTix0KX19LHtrZXk6XCJvbkNvbm5lY3Rpb25DaGFuZ2VkXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9tYWluU3RvcmUuc3RhdGUuaXNDb25uZWN0aW9uT3BlbmVkO3ZvaWQgMCE9PWUmJmUhPT10aGlzLl9pc0Nvbm5lY3Rpb25PcGVuZWQmJih0aGlzLl9pc0Nvbm5lY3Rpb25PcGVuZWQ9ZSxlP3RoaXMuX29uQ29ubmVjdGlvblJlb3BlbmVkKCk6dGhpcy5fb25Db25uZWN0aW9uQ2xvc2VkKCkpfX0se2tleTpcIl9vbkNvbm5lY3Rpb25DbG9zZWRcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZSBpbiB0aGlzLl9hY3RpdmVTdHJlYW1zKXRoaXMuX2FjdGl2ZVN0cmVhbXNbZV0ucGF1c2UoKTt0aGlzLl9jb25uZWN0aW9uQ2xvc2VkRGF0ZT1uZXcgRGF0ZX19LHtrZXk6XCJfb25Db25uZWN0aW9uUmVvcGVuZWRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPU9iamVjdC5rZXlzKHRoaXMuX2FjdGl2ZVN0cmVhbXMpO2lmKDAhPT1lLmxlbmd0aCl7dmFyIHQ9dGhpcy5fdW5wYWNrS2V5KGVbMF0pLmdyYW51bGFyaXR5O2lmKCgobmV3IERhdGUtdGhpcy5fY29ubmVjdGlvbkNsb3NlZERhdGUpLzFlM3wwKT49KHR8fDEpKnRoaXMuX3N0eC5jaGFydC5tYXhUaWNrcyl0aGlzLl9tYWluU3RvcmUuY2hhcnQucmVmcmVzaENoYXJ0KCk7ZWxzZSBmb3IodmFyIHI9MCxuPWU7cjxuLmxlbmd0aDtyKyspe3ZhciBpPW5bcl07dGhpcy5fcmVzdW1lU3RyZWFtKGkpfXRoaXMuX2Nvbm5lY3Rpb25DbG9zZWREYXRlPXZvaWQgMH19fSx7a2V5OlwiX3Jlc3VtZVN0cmVhbVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj10aGlzLl91bnBhY2tLZXkoZSkuc3ltYm9sLG49dGhpcy5fc3R4LmNoYXJ0LnN5bWJvbCE9PXI/cjp2b2lkIDA7dGhpcy5fYWN0aXZlU3RyZWFtc1tlXS5yZXN1bWUoKS50aGVuKGZ1bmN0aW9uKHIpe3QuX3N0eC5pc0Rlc3Ryb3llZHx8dC5fYXBwZW5kQ2hhcnREYXRhKHIsZSxuKX0pfX0se2tleTpcIl9nZXRLZXlcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnN5bWJvbCxyPWUuZ3JhbnVsYXJpdHk7cmV0dXJuXCJcIi5jb25jYXQodCxcIi1cIikuY29uY2F0KHIpfX0se2tleTpcIl91bnBhY2tLZXlcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1CKGUuc3BsaXQoXCItXCIpLDIpO3JldHVybntzeW1ib2w6dFswXSxncmFudWxhcml0eTordFsxXX19fSx7a2V5OlwiX3RyaW1RdW90ZXNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06W10scj1udWxsLG49bnVsbCxpPXQ7aWYoIWkubGVuZ3RoKXJldHVybltdO2lmKHRoaXMuc3RhcnRFcG9jaCYmdGhpcy5tYXJnaW4mJihyPWkuZmluZEluZGV4KGZ1bmN0aW9uKHQpe3JldHVybiBDSVEuc3RyVG9EYXRlVGltZSh0LkRhdGUpPj1DSVEuc3RyVG9EYXRlVGltZShPYmplY3Qoby5rKShlLnN0YXJ0RXBvY2gpKX0pKT4tMSYmKGk9aS5zbGljZShyLTEpKSx0aGlzLmVuZEVwb2NoJiZ0aGlzLm1hcmdpbiYmKG49aS5maW5kSW5kZXgoZnVuY3Rpb24odCl7cmV0dXJuIENJUS5zdHJUb0RhdGVUaW1lKHQuRGF0ZSk+PUNJUS5zdHJUb0RhdGVUaW1lKE9iamVjdChvLmspKGUuZW5kRXBvY2gpKX0pKT4tMSl7dmFyIGE9aVtuXS5EYXRlPT09T2JqZWN0KG8uaykodGhpcy5lbmRFcG9jaCk/MjoxO2k9aS5zbGljZSgwLG4rYSl9cmV0dXJuIGl9fV0sW3trZXk6XCJnZXRGaXJzdEVwb2NoXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jYW5kbGVzLHI9ZS5oaXN0b3J5O3JldHVybiB0JiZ0Lmxlbmd0aD4wP3RbMF0uZXBvY2g6ciYmci50aW1lcy5sZW5ndGg+MD8rci50aW1lc1swXTp2b2lkIDB9fV0pLGV9KCk7ci5kKHQsXCJhXCIsZnVuY3Rpb24oKXtyZXR1cm4gWX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49e1wiLi9kZS5wb1wiOlsyMzYsMV0sXCIuL2VzLnBvXCI6WzIzNywyXSxcIi4vZnIucG9cIjpbMjM4LDNdLFwiLi9pZC5wb1wiOlsyMzksNV0sXCIuL2l0LnBvXCI6WzI0MCw2XSxcIi4vbmwucG9cIjpbMjQxLDhdLFwiLi9wbC5wb1wiOlsyNDIsOV0sXCIuL3B0LnBvXCI6WzI0MywxMF0sXCIuL3J1LnBvXCI6WzI0NCwxMV0sXCIuL3RoLnBvXCI6WzI0NSwxMl0sXCIuL3ZpLnBvXCI6WzI0NiwxNF0sXCIuL3poX2NuLnBvXCI6WzI0NywxNV0sXCIuL3poX3R3LnBvXCI6WzI0OCwxNl19O2Z1bmN0aW9uIGkoZSl7aWYoIXIubyhuLGUpKXJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uKCl7dmFyIHQ9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitlK1wiJ1wiKTt0aHJvdyB0LmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsdH0pO3ZhciB0PW5bZV0saT10WzBdO3JldHVybiByLmUodFsxXSkudGhlbihmdW5jdGlvbigpe3JldHVybiByLnQoaSw3KX0pfWkua2V5cz1mdW5jdGlvbigpe3JldHVybiBPYmplY3Qua2V5cyhuKX0saS5pZD0xOTAsZS5leHBvcnRzPWl9LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e3JlZDpcIiNmZjQ0NGZcIixsaWdodF9jaGFydF90ZXh0OlwiIzU1NTk3NVwiLGRhcmtfY2hhcnRfdGV4dDpcIiM5OTlcIixsaWdodF9jaGFydF9ncmlkOlwiI2YyZjNmNFwiLGRhcmtfY2hhcnRfZ3JpZDpcIiMxZDFmMjBcIixsaWdodF9jaGFydF9tb3VudGFpbl9ib3JkZXI6XCIjODVhY2IwXCIsZGFya19jaGFydF9tb3VudGFpbl9ib3JkZXI6XCIjZmZmXCIsbGlnaHRfY2hhcnRfbW91bnRhaW5fYmc6XCJyZ2JhKDEzMywxNzIsMTc2LDAuMTYpXCIsZGFya19jaGFydF9tb3VudGFpbl9iZzpcInJnYmEoMjU1LDI1NSwyNTUsMC4zNilcIixsaWdodF9jaGFydF9tb3VudGFpbl9iZ19zaGFkZTpcInJnYmEoMjU1LDI1NSwyNTUsMClcIixkYXJrX2NoYXJ0X21vdW50YWluX2JnX3NoYWRlOlwicmdiYSgxNiwxOSwzMiwwKVwiLGxpZ2h0X2NhbmRsZV90ZXh0X2Nsb3NlZDpcInJnYmEoMCwwLDAsMC4xNilcIixkYXJrX2NhbmRsZV90ZXh0X2Nsb3NlZDpcInJnYmEoMTI3LDEzMSwxNTEsMC4zKVwiLGxpZ2h0X2NhbmRsZV9iZ19jbG9zZWQ6XCIjZDZkNmQ2XCIsZGFya19jYW5kbGVfYmdfY2xvc2VkOlwiIzMwMzM0MlwiLGxpZ2h0X2NoYXJ0X2Nsb3NlZF9jYW5kbGU6XCIjZDZkNmQ2XCIsZGFya19jaGFydF9jbG9zZWRfY2FuZGxlOlwiIzMwMzM0MlwiLGxpZ2h0X2NoYXJ0X2JnOlwiI2ZmZlwiLGRhcmtfY2hhcnRfYmc6XCIjMGUwZTBlXCIsbGlnaHRfZmxvYXRfbGFiZWxzX2JnOlwiI2Q2ZGFkYlwiLGRhcmtfZmxvYXRfbGFiZWxzX2JnOlwiIzMyMzczOFwiLGxpZ2h0X2Zsb2F0X2xhYmVsc190ZXh0OlwiIzMzM1wiLGRhcmtfZmxvYXRfbGFiZWxzX3RleHQ6XCIjZmZmXCJ9fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtyZWQ6XCIjZmY0NDRmXCIsbGlnaHRfY2hhcnRfdGV4dDpcIiM1NTU5NzVcIixkYXJrX2NoYXJ0X3RleHQ6XCIjOTk5XCIsbGlnaHRfY2hhcnRfZ3JpZDpcIiNmMmYzZjRcIixkYXJrX2NoYXJ0X2dyaWQ6XCIjMWQxZjIwXCIsbGlnaHRfY2hhcnRfbW91bnRhaW5fYm9yZGVyOlwiIzg1YWNiMFwiLGRhcmtfY2hhcnRfbW91bnRhaW5fYm9yZGVyOlwiI2ZmZlwiLGxpZ2h0X2NoYXJ0X21vdW50YWluX2JnOlwicmdiYSgxMzMsMTcyLDE3NiwwLjE2KVwiLGRhcmtfY2hhcnRfbW91bnRhaW5fYmc6XCJyZ2JhKDI1NSwyNTUsMjU1LDAuMzYpXCIsbGlnaHRfY2hhcnRfbW91bnRhaW5fYmdfc2hhZGU6XCJyZ2JhKDI1NSwyNTUsMjU1LDApXCIsZGFya19jaGFydF9tb3VudGFpbl9iZ19zaGFkZTpcInJnYmEoMTYsMTksMzIsMClcIixsaWdodF9jYW5kbGVfdGV4dF9jbG9zZWQ6XCJyZ2JhKDAsMCwwLDAuMTYpXCIsZGFya19jYW5kbGVfdGV4dF9jbG9zZWQ6XCJyZ2JhKDEyNywxMzEsMTUxLDAuMylcIixsaWdodF9jYW5kbGVfYmdfY2xvc2VkOlwiI2Q2ZDZkNlwiLGRhcmtfY2FuZGxlX2JnX2Nsb3NlZDpcIiMzMDMzNDJcIixsaWdodF9jaGFydF9jbG9zZWRfY2FuZGxlOlwiI2Q2ZDZkNlwiLGRhcmtfY2hhcnRfY2xvc2VkX2NhbmRsZTpcIiMzMDMzNDJcIixsaWdodF9jaGFydF9iZzpcIiNmZmZcIixkYXJrX2NoYXJ0X2JnOlwiIzBlMGUwZVwiLGxpZ2h0X2Zsb2F0X2xhYmVsc19iZzpcIiNkNmRhZGJcIixkYXJrX2Zsb2F0X2xhYmVsc19iZzpcIiMzMjM3MzhcIixsaWdodF9mbG9hdF9sYWJlbHNfdGV4dDpcIiMzMzNcIixkYXJrX2Zsb2F0X2xhYmVsc190ZXh0OlwiI2ZmZlwifX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPWFyZ3VtZW50c1t0XTtmb3IodmFyIG4gaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixuKSYmKGVbbl09cltuXSl9cmV0dXJuIGV9LGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG4mJmUodCxuKSx0fX0oKSxhPXIoMTk0KSxvPWIoYSkscz1iKHIoMTk3KSksYz1yKDApLGw9YihyKDI1KSksdT1iKHIoMjA1KSksaD1yKDIwNiksZD1iKHIoMjA3KSkscD1iKHIoMjA4KSksZj1iKHIoMjA5KSksbT1yKDIxMCksZz1yKDIxMSk7ZnVuY3Rpb24gYihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIHk9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt2YXIgcjshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpO2Zvcih2YXIgbj1hcmd1bWVudHMubGVuZ3RoLGk9QXJyYXkobj4xP24tMTowKSxhPTE7YTxuO2ErKylpW2EtMV09YXJndW1lbnRzW2FdO3ZhciBvPWZ1bmN0aW9uKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiF0fHxcIm9iamVjdFwiIT10eXBlb2YgdCYmXCJmdW5jdGlvblwiIT10eXBlb2YgdD9lOnR9KHRoaXMsKHI9dC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KSkuY2FsbC5hcHBseShyLFt0aGlzLGVdLmNvbmNhdChpKSkpO3JldHVybiBvLmdldFNjcm9sbExlZnQ9by5nZXRTY3JvbGxMZWZ0LmJpbmQobyksby5nZXRTY3JvbGxUb3A9by5nZXRTY3JvbGxUb3AuYmluZChvKSxvLmdldFNjcm9sbFdpZHRoPW8uZ2V0U2Nyb2xsV2lkdGguYmluZChvKSxvLmdldFNjcm9sbEhlaWdodD1vLmdldFNjcm9sbEhlaWdodC5iaW5kKG8pLG8uZ2V0Q2xpZW50V2lkdGg9by5nZXRDbGllbnRXaWR0aC5iaW5kKG8pLG8uZ2V0Q2xpZW50SGVpZ2h0PW8uZ2V0Q2xpZW50SGVpZ2h0LmJpbmQobyksby5nZXRQYWRkaW5nV2lkdGg9by5nZXRQYWRkaW5nV2lkdGguYmluZChvKSxvLmdldFBhZGRpbmdIZWlnaHQ9by5nZXRQYWRkaW5nSGVpZ2h0LmJpbmQobyksby5nZXRWYWx1ZXM9by5nZXRWYWx1ZXMuYmluZChvKSxvLmdldFRodW1iSG9yaXpvbnRhbFdpZHRoPW8uZ2V0VGh1bWJIb3Jpem9udGFsV2lkdGguYmluZChvKSxvLmdldFRodW1iVmVydGljYWxIZWlnaHQ9by5nZXRUaHVtYlZlcnRpY2FsSGVpZ2h0LmJpbmQobyksby5nZXRTY3JvbGxMZWZ0Rm9yT2Zmc2V0PW8uZ2V0U2Nyb2xsTGVmdEZvck9mZnNldC5iaW5kKG8pLG8uZ2V0U2Nyb2xsVG9wRm9yT2Zmc2V0PW8uZ2V0U2Nyb2xsVG9wRm9yT2Zmc2V0LmJpbmQobyksby5zY3JvbGxMZWZ0PW8uc2Nyb2xsTGVmdC5iaW5kKG8pLG8uc2Nyb2xsVG9wPW8uc2Nyb2xsVG9wLmJpbmQobyksby5zY3JvbGxUb0xlZnQ9by5zY3JvbGxUb0xlZnQuYmluZChvKSxvLnNjcm9sbFRvVG9wPW8uc2Nyb2xsVG9Ub3AuYmluZChvKSxvLnNjcm9sbFRvUmlnaHQ9by5zY3JvbGxUb1JpZ2h0LmJpbmQobyksby5zY3JvbGxUb0JvdHRvbT1vLnNjcm9sbFRvQm90dG9tLmJpbmQobyksby5oYW5kbGVUcmFja01vdXNlRW50ZXI9by5oYW5kbGVUcmFja01vdXNlRW50ZXIuYmluZChvKSxvLmhhbmRsZVRyYWNrTW91c2VMZWF2ZT1vLmhhbmRsZVRyYWNrTW91c2VMZWF2ZS5iaW5kKG8pLG8uaGFuZGxlSG9yaXpvbnRhbFRyYWNrTW91c2VEb3duPW8uaGFuZGxlSG9yaXpvbnRhbFRyYWNrTW91c2VEb3duLmJpbmQobyksby5oYW5kbGVWZXJ0aWNhbFRyYWNrTW91c2VEb3duPW8uaGFuZGxlVmVydGljYWxUcmFja01vdXNlRG93bi5iaW5kKG8pLG8uaGFuZGxlSG9yaXpvbnRhbFRodW1iTW91c2VEb3duPW8uaGFuZGxlSG9yaXpvbnRhbFRodW1iTW91c2VEb3duLmJpbmQobyksby5oYW5kbGVWZXJ0aWNhbFRodW1iTW91c2VEb3duPW8uaGFuZGxlVmVydGljYWxUaHVtYk1vdXNlRG93bi5iaW5kKG8pLG8uaGFuZGxlV2luZG93UmVzaXplPW8uaGFuZGxlV2luZG93UmVzaXplLmJpbmQobyksby5oYW5kbGVTY3JvbGw9by5oYW5kbGVTY3JvbGwuYmluZChvKSxvLmhhbmRsZURyYWc9by5oYW5kbGVEcmFnLmJpbmQobyksby5oYW5kbGVEcmFnRW5kPW8uaGFuZGxlRHJhZ0VuZC5iaW5kKG8pLG8ucG9sbFNjcm9sbGJhcldpZHRoPW8ucG9sbFNjcm9sbGJhcldpZHRoLmJpbmQobyksby5zdGF0ZT17ZGlkTW91bnRVbml2ZXJzYWw6ITEsc2Nyb2xsYmFyV2lkdGg6MTd9LG99cmV0dXJuIGZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHQpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdCk6ZS5fX3Byb3RvX189dCl9KHQsYy5Db21wb25lbnQpLGkodCxbe2tleTpcImNvbXBvbmVudERpZE1vdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmFkZExpc3RlbmVycygpLHRoaXMudXBkYXRlKCksdGhpcy5jb21wb25lbnREaWRNb3VudFVuaXZlcnNhbCgpfX0se2tleTpcImNvbXBvbmVudERpZE1vdW50VW5pdmVyc2FsXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnByb3BzLnVuaXZlcnNhbCYmdGhpcy5zZXRTdGF0ZSh7ZGlkTW91bnRVbml2ZXJzYWw6ITB9KX19LHtrZXk6XCJjb21wb25lbnREaWRVcGRhdGVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMudXBkYXRlKCl9fSx7a2V5OlwiY29tcG9uZW50V2lsbFVubW91bnRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucmVtb3ZlTGlzdGVuZXJzKCksKDAsYS5jYW5jZWwpKHRoaXMucmVxdWVzdEZyYW1lKSxjbGVhclRpbWVvdXQodGhpcy5oaWRlVHJhY2tzVGltZW91dCksY2xlYXJJbnRlcnZhbCh0aGlzLmRldGVjdFNjcm9sbGluZ0ludGVydmFsKX19LHtrZXk6XCJnZXRTY3JvbGxMZWZ0XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aWV3P3RoaXMudmlldy5zY3JvbGxMZWZ0OjB9fSx7a2V5OlwiZ2V0U2Nyb2xsVG9wXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aWV3P3RoaXMudmlldy5zY3JvbGxUb3A6MH19LHtrZXk6XCJnZXRTY3JvbGxXaWR0aFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmlldz90aGlzLnZpZXcuc2Nyb2xsV2lkdGgtdGhpcy5nZXRQYWRkaW5nV2lkdGgoKTowfX0se2tleTpcImdldFNjcm9sbEhlaWdodFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmlldz90aGlzLnZpZXcuc2Nyb2xsSGVpZ2h0LXRoaXMuZ2V0UGFkZGluZ0hlaWdodCgpOjB9fSx7a2V5OlwiZ2V0Q2xpZW50V2lkdGhcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZpZXc/dGhpcy52aWV3LmNsaWVudFdpZHRoLXRoaXMuZ2V0UGFkZGluZ1dpZHRoKCk6MH19LHtrZXk6XCJnZXRDbGllbnRIZWlnaHRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZpZXc/dGhpcy52aWV3LmNsaWVudEhlaWdodC10aGlzLmdldFBhZGRpbmdIZWlnaHQoKTowfX0se2tleTpcImdldFBhZGRpbmdXaWR0aFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG0uc2Nyb2xsYmFyU2l6ZX19LHtrZXk6XCJnZXRQYWRkaW5nSGVpZ2h0XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbS5zY3JvbGxiYXJTaXplfX0se2tleTpcImdldFZhbHVlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7aWYoIXRoaXMudmlldylyZXR1cm4gbnVsbDt2YXIgZT10aGlzLnZpZXd8fHt9LHQ9ZS5vZmZzZXRXaWR0aCxyPXZvaWQgMD09PXQ/MDp0LG49ZS5zY3JvbGxMZWZ0LGk9dm9pZCAwPT09bj8wOm4sYT1lLnNjcm9sbFRvcCxvPXZvaWQgMD09PWE/MDphLHM9ZS5zY3JvbGxXaWR0aCxjPXZvaWQgMD09PXM/MDpzLGw9ZS5zY3JvbGxIZWlnaHQsdT12b2lkIDA9PT1sPzA6bCxoPWUuY2xpZW50V2lkdGgsZD12b2lkIDA9PT1oPzA6aCxwPWUuY2xpZW50SGVpZ2h0LGY9dm9pZCAwPT09cD8wOnAsbT1jLXRoaXMuZ2V0UGFkZGluZ1dpZHRoKCksZz11LXRoaXMuZ2V0UGFkZGluZ0hlaWdodCgpLGI9ZC10aGlzLmdldFBhZGRpbmdXaWR0aCgpLHk9Zi10aGlzLmdldFBhZGRpbmdIZWlnaHQoKTtyZXR1cm57bGVmdDppLyhtLWIpfHwwLHRvcDpvLyhnLXkpfHwwLG9mZnNldFdpZHRoOnIscmVhbENsaWVudFdpZHRoOmQscmVhbENsaWVudEhlaWdodDpmLHNjcm9sbExlZnQ6aSxzY3JvbGxUb3A6byxzY3JvbGxXaWR0aDptLHNjcm9sbEhlaWdodDpnLGNsaWVudFdpZHRoOmIsY2xpZW50SGVpZ2h0Onl9fX0se2tleTpcImdldFRodW1iSG9yaXpvbnRhbFdpZHRoXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnByb3BzLHQ9ZS50aHVtYlNpemUscj1lLnRodW1iTWluU2l6ZSxuPXRoaXMudmlldyxpPW4uc2Nyb2xsV2lkdGgsYT1uLmNsaWVudFdpZHRoLG89aS10aGlzLmdldFBhZGRpbmdXaWR0aCgpLHM9YS10aGlzLmdldFBhZGRpbmdXaWR0aCgpLGM9KDAscC5kZWZhdWx0KSh0aGlzLnRyYWNrSG9yaXpvbnRhbCksbD1NYXRoLmNlaWwocy9vKmMpO3JldHVybiBvPD1zPzA6dHx8TWF0aC5tYXgobCxyKX19LHtrZXk6XCJnZXRUaHVtYlZlcnRpY2FsSGVpZ2h0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnByb3BzLHQ9ZS50aHVtYlNpemUscj1lLnRodW1iTWluU2l6ZSxuPXRoaXMudmlldyxpPW4uc2Nyb2xsSGVpZ2h0LGE9bi5jbGllbnRIZWlnaHQsbz1pLXRoaXMuZ2V0UGFkZGluZ0hlaWdodCgpLHM9YS10aGlzLmdldFBhZGRpbmdIZWlnaHQoKSxjPSgwLGYuZGVmYXVsdCkodGhpcy50cmFja1ZlcnRpY2FsKSxsPU1hdGguY2VpbChzL28qYyk7cmV0dXJuIG88PXM/MDp0fHxNYXRoLm1heChsLHIpfX0se2tleTpcImdldFNjcm9sbExlZnRGb3JPZmZzZXRcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnZpZXcscj10LnNjcm9sbFdpZHRoLG49dC5jbGllbnRXaWR0aCxpPXItdGhpcy5nZXRQYWRkaW5nV2lkdGgoKSxhPW4tdGhpcy5nZXRQYWRkaW5nV2lkdGgoKTtyZXR1cm4gZS8oKDAscC5kZWZhdWx0KSh0aGlzLnRyYWNrSG9yaXpvbnRhbCktdGhpcy5nZXRUaHVtYkhvcml6b250YWxXaWR0aCgpKSooaS1hKX19LHtrZXk6XCJnZXRTY3JvbGxUb3BGb3JPZmZzZXRcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnZpZXcscj10LnNjcm9sbEhlaWdodCxuPXQuY2xpZW50SGVpZ2h0LGk9ci10aGlzLmdldFBhZGRpbmdIZWlnaHQoKSxhPW4tdGhpcy5nZXRQYWRkaW5nSGVpZ2h0KCk7cmV0dXJuIGUvKCgwLGYuZGVmYXVsdCkodGhpcy50cmFja1ZlcnRpY2FsKS10aGlzLmdldFRodW1iVmVydGljYWxIZWlnaHQoKSkqKGktYSl9fSx7a2V5Olwic2Nyb2xsTGVmdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjA7dGhpcy52aWV3JiYodGhpcy52aWV3LnNjcm9sbExlZnQ9ZSl9fSx7a2V5Olwic2Nyb2xsVG9wXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MDt0aGlzLnZpZXcmJih0aGlzLnZpZXcuc2Nyb2xsVG9wPWUpfX0se2tleTpcInNjcm9sbFRvTGVmdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy52aWV3JiYodGhpcy52aWV3LnNjcm9sbExlZnQ9MCl9fSx7a2V5Olwic2Nyb2xsVG9Ub3BcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMudmlldyYmKHRoaXMudmlldy5zY3JvbGxUb3A9MCl9fSx7a2V5Olwic2Nyb2xsVG9SaWdodFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy52aWV3JiYodGhpcy52aWV3LnNjcm9sbExlZnQ9dGhpcy52aWV3LnNjcm9sbFdpZHRoLXRoaXMuZ2V0UGFkZGluZ1dpZHRoKCkpfX0se2tleTpcInNjcm9sbFRvQm90dG9tXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnZpZXcmJih0aGlzLnZpZXcuc2Nyb2xsVG9wPXRoaXMudmlldy5zY3JvbGxIZWlnaHQtdGhpcy5nZXRQYWRkaW5nSGVpZ2h0KCkpfX0se2tleTpcImFkZExpc3RlbmVyc1wiLHZhbHVlOmZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50JiZ0aGlzLnZpZXcpe3ZhciBlPXRoaXMudmlldyx0PXRoaXMudHJhY2tIb3Jpem9udGFsLHI9dGhpcy50cmFja1ZlcnRpY2FsLG49dGhpcy50aHVtYkhvcml6b250YWwsaT10aGlzLnRodW1iVmVydGljYWw7ZS5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsdGhpcy5oYW5kbGVTY3JvbGwpLHQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIix0aGlzLmhhbmRsZVRyYWNrTW91c2VFbnRlciksdC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLHRoaXMuaGFuZGxlVHJhY2tNb3VzZUxlYXZlKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIix0aGlzLmhhbmRsZUhvcml6b250YWxUcmFja01vdXNlRG93biksci5hZGRFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLHRoaXMuaGFuZGxlVHJhY2tNb3VzZUVudGVyKSxyLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsdGhpcy5oYW5kbGVUcmFja01vdXNlTGVhdmUpLHIuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLHRoaXMuaGFuZGxlVmVydGljYWxUcmFja01vdXNlRG93biksbi5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsdGhpcy5oYW5kbGVIb3Jpem9udGFsVGh1bWJNb3VzZURvd24pLGkuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLHRoaXMuaGFuZGxlVmVydGljYWxUaHVtYk1vdXNlRG93biksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIix0aGlzLmhhbmRsZVdpbmRvd1Jlc2l6ZSksdGhpcy5wb2xsU2Nyb2xsYmFyV2lkdGhUaW1lcj1zZXRUaW1lb3V0KHRoaXMucG9sbFNjcm9sbGJhcldpZHRoLDNlMyl9fX0se2tleTpcInJlbW92ZUxpc3RlbmVyc1wiLHZhbHVlOmZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50JiZ0aGlzLnZpZXcpe3ZhciBlPXRoaXMudmlldyx0PXRoaXMudHJhY2tIb3Jpem9udGFsLHI9dGhpcy50cmFja1ZlcnRpY2FsLG49dGhpcy50aHVtYkhvcml6b250YWwsaT10aGlzLnRodW1iVmVydGljYWw7ZSYmZS5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsdGhpcy5oYW5kbGVTY3JvbGwpLHQmJih0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWVudGVyXCIsdGhpcy5oYW5kbGVUcmFja01vdXNlRW50ZXIpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIix0aGlzLmhhbmRsZVRyYWNrTW91c2VMZWF2ZSksdC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsdGhpcy5oYW5kbGVIb3Jpem9udGFsVHJhY2tNb3VzZURvd24pKSxyJiYoci5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLHRoaXMuaGFuZGxlVHJhY2tNb3VzZUVudGVyKSxyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsdGhpcy5oYW5kbGVUcmFja01vdXNlTGVhdmUpLHIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLHRoaXMuaGFuZGxlVmVydGljYWxUcmFja01vdXNlRG93bikpLG4mJm4ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLHRoaXMuaGFuZGxlSG9yaXpvbnRhbFRodW1iTW91c2VEb3duKSxpJiZpLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIix0aGlzLmhhbmRsZVZlcnRpY2FsVGh1bWJNb3VzZURvd24pLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsdGhpcy5oYW5kbGVXaW5kb3dSZXNpemUpLHRoaXMucG9sbFNjcm9sbGJhcldpZHRoVGltZXImJmNsZWFyVGltZW91dCh0aGlzLnBvbGxTY3JvbGxiYXJXaWR0aFRpbWVyKSx0aGlzLnRlYXJkb3duRHJhZ2dpbmcoKX19fSx7a2V5OlwicG9sbFNjcm9sbGJhcldpZHRoXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMucmFmKGZ1bmN0aW9uKCl7ZS5kZXRlY3RTY3JvbGxiYXJXaWR0aENoYW5nZShlLmdldFZhbHVlcygpKT9lLl91cGRhdGUoZnVuY3Rpb24oKXtlLnBvbGxTY3JvbGxiYXJXaWR0aFRpbWVyPXNldFRpbWVvdXQoZS5wb2xsU2Nyb2xsYmFyV2lkdGgsM2UzKX0pOmUucG9sbFNjcm9sbGJhcldpZHRoVGltZXI9c2V0VGltZW91dChlLnBvbGxTY3JvbGxiYXJXaWR0aCwzZTMpfSl9fSx7a2V5OlwiZGV0ZWN0U2Nyb2xsYmFyV2lkdGhDaGFuZ2VcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5zY3JvbGxMZWZ0LG49ZS5zY3JvbGxUb3A7KDAsaC5pbnZhbGlkYXRlU2Nyb2xsYmFyV2lkdGgpKCk7dmFyIGk9KDAsaC5nZXRTY3JvbGxiYXJXaWR0aCkoZSksYT1pIT09dGhpcy5zdGF0ZS5zY3JvbGxiYXJXaWR0aCYmaSE9PXRoaXMuc3RhdGUuc2Nyb2xsYmFyV2lkdGgrMTtyZXR1cm4gYSYmdGhpcy5zZXRTdGF0ZSh7c2Nyb2xsYmFyV2lkdGg6aX0sZnVuY3Rpb24oKXt2YXIgZT10LmdldFZhbHVlcygpLGE9ZS5jbGllbnRIZWlnaHQsbz1lLnNjcm9sbEhlaWdodCxzPU1hdGguYWJzKG8tYS1uKTw9aTt0LnNjcm9sbExlZnQocikscz90LnNjcm9sbFRvcChvLWEpOnQuc2Nyb2xsVG9wKG4pfSksYX19LHtrZXk6XCJoYW5kbGVTY3JvbGxcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dGhpcy5wcm9wcyxuPXIub25TY3JvbGwsaT1yLm9uU2Nyb2xsRnJhbWU7biYmbihlKSx0aGlzLnVwZGF0ZShmdW5jdGlvbihlKXt2YXIgcj1lLnNjcm9sbExlZnQsbj1lLnNjcm9sbFRvcDt0LnZpZXdTY3JvbGxMZWZ0PXIsdC52aWV3U2Nyb2xsVG9wPW4saSYmaShlKX0pLHRoaXMuZGV0ZWN0U2Nyb2xsaW5nKCl9fSx7a2V5OlwiaGFuZGxlU2Nyb2xsU3RhcnRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMucHJvcHMub25TY3JvbGxTdGFydDtlJiZlKCksdGhpcy5oYW5kbGVTY3JvbGxTdGFydEF1dG9IaWRlKCl9fSx7a2V5OlwiaGFuZGxlU2Nyb2xsU3RhcnRBdXRvSGlkZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5wcm9wcy5hdXRvSGlkZSYmdGhpcy5zaG93VHJhY2tzKCl9fSx7a2V5OlwiaGFuZGxlU2Nyb2xsU3RvcFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wcm9wcy5vblNjcm9sbFN0b3A7ZSYmZSgpLHRoaXMuaGFuZGxlU2Nyb2xsU3RvcEF1dG9IaWRlKCl9fSx7a2V5OlwiaGFuZGxlU2Nyb2xsU3RvcEF1dG9IaWRlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnByb3BzLmF1dG9IaWRlJiZ0aGlzLmhpZGVUcmFja3MoKX19LHtrZXk6XCJoYW5kbGVXaW5kb3dSZXNpemVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMudXBkYXRlKCl9fSx7a2V5OlwiaGFuZGxlSG9yaXpvbnRhbFRyYWNrTW91c2VEb3duXCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciB0PWUudGFyZ2V0LHI9ZS5jbGllbnRYLG49dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LGk9dGhpcy5nZXRUaHVtYkhvcml6b250YWxXaWR0aCgpLGE9TWF0aC5hYnMobi1yKS1pLzI7dGhpcy52aWV3LnNjcm9sbExlZnQ9dGhpcy5nZXRTY3JvbGxMZWZ0Rm9yT2Zmc2V0KGEpfX0se2tleTpcImhhbmRsZVZlcnRpY2FsVHJhY2tNb3VzZURvd25cIix2YWx1ZTpmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCk7dmFyIHQ9ZS50YXJnZXQscj1lLmNsaWVudFksbj10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCxpPXRoaXMuZ2V0VGh1bWJWZXJ0aWNhbEhlaWdodCgpLGE9TWF0aC5hYnMobi1yKS1pLzI7dGhpcy52aWV3LnNjcm9sbFRvcD10aGlzLmdldFNjcm9sbFRvcEZvck9mZnNldChhKX19LHtrZXk6XCJoYW5kbGVIb3Jpem9udGFsVGh1bWJNb3VzZURvd25cIix2YWx1ZTpmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksdGhpcy5oYW5kbGVEcmFnU3RhcnQoZSk7dmFyIHQ9ZS50YXJnZXQscj1lLmNsaWVudFgsbj10Lm9mZnNldFdpZHRoLGk9dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O3RoaXMucHJldlBhZ2VYPW4tKHItaSl9fSx7a2V5OlwiaGFuZGxlVmVydGljYWxUaHVtYk1vdXNlRG93blwiLHZhbHVlOmZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKSx0aGlzLmhhbmRsZURyYWdTdGFydChlKTt2YXIgdD1lLnRhcmdldCxyPWUuY2xpZW50WSxuPXQub2Zmc2V0SGVpZ2h0LGk9dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7dGhpcy5wcmV2UGFnZVk9bi0oci1pKX19LHtrZXk6XCJzZXR1cERyYWdnaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxzLmRlZmF1bHQpKGRvY3VtZW50LmJvZHksbS5kaXNhYmxlU2VsZWN0U3R5bGUpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIix0aGlzLmhhbmRsZURyYWcpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsdGhpcy5oYW5kbGVEcmFnRW5kKSxkb2N1bWVudC5vbnNlbGVjdHN0YXJ0PWQuZGVmYXVsdH19LHtrZXk6XCJ0ZWFyZG93bkRyYWdnaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxzLmRlZmF1bHQpKGRvY3VtZW50LmJvZHksbS5kaXNhYmxlU2VsZWN0U3R5bGVSZXNldCksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLHRoaXMuaGFuZGxlRHJhZyksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIix0aGlzLmhhbmRsZURyYWdFbmQpLGRvY3VtZW50Lm9uc2VsZWN0c3RhcnQ9dm9pZCAwfX0se2tleTpcImhhbmRsZURyYWdTdGFydFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuZHJhZ2dpbmc9ITAsZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLnNldHVwRHJhZ2dpbmcoKX19LHtrZXk6XCJoYW5kbGVEcmFnXCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYodGhpcy5wcmV2UGFnZVgpe3ZhciB0PWUuY2xpZW50WCxyPS10aGlzLnRyYWNrSG9yaXpvbnRhbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0K3QtKHRoaXMuZ2V0VGh1bWJIb3Jpem9udGFsV2lkdGgoKS10aGlzLnByZXZQYWdlWCk7dGhpcy52aWV3LnNjcm9sbExlZnQ9dGhpcy5nZXRTY3JvbGxMZWZ0Rm9yT2Zmc2V0KHIpfWlmKHRoaXMucHJldlBhZ2VZKXt2YXIgbj1lLmNsaWVudFksaT0tdGhpcy50cmFja1ZlcnRpY2FsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCtuLSh0aGlzLmdldFRodW1iVmVydGljYWxIZWlnaHQoKS10aGlzLnByZXZQYWdlWSk7dGhpcy52aWV3LnNjcm9sbFRvcD10aGlzLmdldFNjcm9sbFRvcEZvck9mZnNldChpKX1yZXR1cm4hMX19LHtrZXk6XCJoYW5kbGVEcmFnRW5kXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmRyYWdnaW5nPSExLHRoaXMucHJldlBhZ2VYPXRoaXMucHJldlBhZ2VZPTAsdGhpcy50ZWFyZG93bkRyYWdnaW5nKCksdGhpcy5oYW5kbGVEcmFnRW5kQXV0b0hpZGUoKX19LHtrZXk6XCJoYW5kbGVEcmFnRW5kQXV0b0hpZGVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucHJvcHMuYXV0b0hpZGUmJnRoaXMuaGlkZVRyYWNrcygpfX0se2tleTpcImhhbmRsZVRyYWNrTW91c2VFbnRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy50cmFja01vdXNlT3Zlcj0hMCx0aGlzLmhhbmRsZVRyYWNrTW91c2VFbnRlckF1dG9IaWRlKCl9fSx7a2V5OlwiaGFuZGxlVHJhY2tNb3VzZUVudGVyQXV0b0hpZGVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucHJvcHMuYXV0b0hpZGUmJnRoaXMuc2hvd1RyYWNrcygpfX0se2tleTpcImhhbmRsZVRyYWNrTW91c2VMZWF2ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy50cmFja01vdXNlT3Zlcj0hMSx0aGlzLmhhbmRsZVRyYWNrTW91c2VMZWF2ZUF1dG9IaWRlKCl9fSx7a2V5OlwiaGFuZGxlVHJhY2tNb3VzZUxlYXZlQXV0b0hpZGVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucHJvcHMuYXV0b0hpZGUmJnRoaXMuaGlkZVRyYWNrcygpfX0se2tleTpcInNob3dUcmFja3NcIix2YWx1ZTpmdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLmhpZGVUcmFja3NUaW1lb3V0KSwoMCxzLmRlZmF1bHQpKHRoaXMudHJhY2tIb3Jpem9udGFsLHtvcGFjaXR5OjF9KSwoMCxzLmRlZmF1bHQpKHRoaXMudHJhY2tWZXJ0aWNhbCx7b3BhY2l0eToxfSl9fSx7a2V5OlwiaGlkZVRyYWNrc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZighdGhpcy5kcmFnZ2luZyYmIXRoaXMuc2Nyb2xsaW5nJiYhdGhpcy50cmFja01vdXNlT3Zlcil7dmFyIHQ9dGhpcy5wcm9wcy5hdXRvSGlkZVRpbWVvdXQ7Y2xlYXJUaW1lb3V0KHRoaXMuaGlkZVRyYWNrc1RpbWVvdXQpLHRoaXMuaGlkZVRyYWNrc1RpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpeygwLHMuZGVmYXVsdCkoZS50cmFja0hvcml6b250YWwse29wYWNpdHk6MH0pLCgwLHMuZGVmYXVsdCkoZS50cmFja1ZlcnRpY2FsLHtvcGFjaXR5OjB9KX0sdCl9fX0se2tleTpcImRldGVjdFNjcm9sbGluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnNjcm9sbGluZ3x8KHRoaXMuc2Nyb2xsaW5nPSEwLHRoaXMuaGFuZGxlU2Nyb2xsU3RhcnQoKSx0aGlzLmRldGVjdFNjcm9sbGluZ0ludGVydmFsPXNldEludGVydmFsKGZ1bmN0aW9uKCl7ZS5sYXN0Vmlld1Njcm9sbExlZnQ9PT1lLnZpZXdTY3JvbGxMZWZ0JiZlLmxhc3RWaWV3U2Nyb2xsVG9wPT09ZS52aWV3U2Nyb2xsVG9wJiYoY2xlYXJJbnRlcnZhbChlLmRldGVjdFNjcm9sbGluZ0ludGVydmFsKSxlLnNjcm9sbGluZz0hMSxlLmhhbmRsZVNjcm9sbFN0b3AoKSksZS5sYXN0Vmlld1Njcm9sbExlZnQ9ZS52aWV3U2Nyb2xsTGVmdCxlLmxhc3RWaWV3U2Nyb2xsVG9wPWUudmlld1Njcm9sbFRvcH0sMTAwKSl9fSx7a2V5OlwicmFmXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLnJlcXVlc3RGcmFtZSYmby5kZWZhdWx0LmNhbmNlbCh0aGlzLnJlcXVlc3RGcmFtZSksdGhpcy5yZXF1ZXN0RnJhbWU9KDAsby5kZWZhdWx0KShmdW5jdGlvbigpe3QucmVxdWVzdEZyYW1lPXZvaWQgMCxlKCl9KX19LHtrZXk6XCJ1cGRhdGVcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMucmFmKGZ1bmN0aW9uKCl7dC5fdXBkYXRlKGZ1bmN0aW9uKHIpe3QuZGV0ZWN0U2Nyb2xsYmFyV2lkdGhDaGFuZ2UociksXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmZShyKX0pfSl9fSx7a2V5OlwiX3VwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucHJvcHMscj10Lm9uVXBkYXRlLG49dC5oaWRlVHJhY2tzV2hlbk5vdE5lZWRlZDtpZih0aGlzLmNvbnRhaW5lci5zY3JvbGxUb3A9MCx0aGlzLmNvbnRhaW5lci5zY3JvbGxMZWZ0PTAsdGhpcy52aWV3KXt2YXIgaT10aGlzLmdldFZhbHVlcygpLGE9aS5zY3JvbGxMZWZ0LG89aS5jbGllbnRXaWR0aCxjPWkuc2Nyb2xsV2lkdGgsbD0oMCxwLmRlZmF1bHQpKHRoaXMudHJhY2tIb3Jpem9udGFsKSx1PXRoaXMuZ2V0VGh1bWJIb3Jpem9udGFsV2lkdGgoKSxoPXt3aWR0aDp1LHRyYW5zZm9ybTpcInRyYW5zbGF0ZVgoXCIrYS8oYy1vKSoobC11KStcInB4KVwifSxkPWkuc2Nyb2xsVG9wLG09aS5jbGllbnRIZWlnaHQsZz1pLnNjcm9sbEhlaWdodCxiPSgwLGYuZGVmYXVsdCkodGhpcy50cmFja1ZlcnRpY2FsKSx5PXRoaXMuZ2V0VGh1bWJWZXJ0aWNhbEhlaWdodCgpLHY9e2hlaWdodDp5LHRyYW5zZm9ybTpcInRyYW5zbGF0ZVkoXCIrZC8oZy1tKSooYi15KStcInB4KVwifTtpZihuKXt2YXIgXz17dmlzaWJpbGl0eTpjPm8/XCJ2aXNpYmxlXCI6XCJoaWRkZW5cIn0sUz17dmlzaWJpbGl0eTpnPm0/XCJ2aXNpYmxlXCI6XCJoaWRkZW5cIn07KDAscy5kZWZhdWx0KSh0aGlzLnRyYWNrSG9yaXpvbnRhbCxfKSwoMCxzLmRlZmF1bHQpKHRoaXMudHJhY2tWZXJ0aWNhbCxTKX0oMCxzLmRlZmF1bHQpKHRoaXMudGh1bWJIb3Jpem9udGFsLGgpLCgwLHMuZGVmYXVsdCkodGhpcy50aHVtYlZlcnRpY2FsLHYpLHImJnIoaSksXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmZShpKX1lbHNlXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmZSgpfX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMucHJvcHMscj0odC5vblNjcm9sbCx0Lm9uU2Nyb2xsRnJhbWUsdC5vblNjcm9sbFN0YXJ0LHQub25TY3JvbGxTdG9wLHQub25VcGRhdGUsdC5yZW5kZXJWaWV3KSxpPXQucmVuZGVyVHJhY2tIb3Jpem9udGFsLGE9dC5yZW5kZXJUcmFja1ZlcnRpY2FsLG89dC5yZW5kZXJUaHVtYkhvcml6b250YWwscz10LnJlbmRlclRodW1iVmVydGljYWwsbD10LnRhZ05hbWUsaD0odC5oaWRlVHJhY2tzV2hlbk5vdE5lZWRlZCx0LmF1dG9IaWRlKSxkPSh0LmF1dG9IaWRlVGltZW91dCx0LmF1dG9IaWRlRHVyYXRpb24pLHA9KHQudGh1bWJTaXplLHQudGh1bWJNaW5TaXplLHQudW5pdmVyc2FsKSxmPXQuYXV0b0hlaWdodCxnPXQuYXV0b0hlaWdodE1pbixiPXQuYXV0b0hlaWdodE1heCx5PXQuc3R5bGUsdj10LmNoaWxkcmVuLF89ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIG4gaW4gZSl0LmluZGV4T2Yobik+PTB8fE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiYocltuXT1lW25dKTtyZXR1cm4gcn0odCxbXCJvblNjcm9sbFwiLFwib25TY3JvbGxGcmFtZVwiLFwib25TY3JvbGxTdGFydFwiLFwib25TY3JvbGxTdG9wXCIsXCJvblVwZGF0ZVwiLFwicmVuZGVyVmlld1wiLFwicmVuZGVyVHJhY2tIb3Jpem9udGFsXCIsXCJyZW5kZXJUcmFja1ZlcnRpY2FsXCIsXCJyZW5kZXJUaHVtYkhvcml6b250YWxcIixcInJlbmRlclRodW1iVmVydGljYWxcIixcInRhZ05hbWVcIixcImhpZGVUcmFja3NXaGVuTm90TmVlZGVkXCIsXCJhdXRvSGlkZVwiLFwiYXV0b0hpZGVUaW1lb3V0XCIsXCJhdXRvSGlkZUR1cmF0aW9uXCIsXCJ0aHVtYlNpemVcIixcInRodW1iTWluU2l6ZVwiLFwidW5pdmVyc2FsXCIsXCJhdXRvSGVpZ2h0XCIsXCJhdXRvSGVpZ2h0TWluXCIsXCJhdXRvSGVpZ2h0TWF4XCIsXCJzdHlsZVwiLFwiY2hpbGRyZW5cIl0pLFM9dGhpcy5zdGF0ZSx3PVMuZGlkTW91bnRVbml2ZXJzYWwseD1TLnNjcm9sbGJhcldpZHRoLGs9bih7fSxtLmNvbnRhaW5lclN0eWxlRGVmYXVsdCxmJiZuKHt9LG0uY29udGFpbmVyU3R5bGVBdXRvSGVpZ2h0LHttaW5IZWlnaHQ6ZyxtYXhIZWlnaHQ6Yn0pLHkpLE89bih7fSxtLnZpZXdTdHlsZURlZmF1bHQse21hcmdpblJpZ2h0Oi10aGlzLmdldFBhZGRpbmdXaWR0aCgpKyh4Py14OjApLG1hcmdpbkJvdHRvbTotdGhpcy5nZXRQYWRkaW5nSGVpZ2h0KCkrKHg/LXg6MCksd2lkdGg6XCJjYWxjKDEwMCUgKyBcIisobS5zY3JvbGxiYXJTaXplK3gpK1wicHgpXCJ9LGYmJm4oe30sbS52aWV3U3R5bGVBdXRvSGVpZ2h0LHttaW5IZWlnaHQ6KDAsdS5kZWZhdWx0KShnKT9cImNhbGMoXCIrZytcIiArIFwiKyh0aGlzLmdldFBhZGRpbmdIZWlnaHQoKSt4KStcInB4KVwiOmcrdGhpcy5nZXRQYWRkaW5nSGVpZ2h0KCkreCxtYXhIZWlnaHQ6KDAsdS5kZWZhdWx0KShiKT9cImNhbGMoXCIrYitcIiArIFwiKyh0aGlzLmdldFBhZGRpbmdIZWlnaHQoKSt4KStcInB4KVwiOmIrdGhpcy5nZXRQYWRkaW5nSGVpZ2h0KCkreH0pLGYmJnAmJiF3JiZ7bWluSGVpZ2h0OmcsbWF4SGVpZ2h0OmJ9LHAmJiF3JiZtLnZpZXdTdHlsZVVuaXZlcnNhbEluaXRpYWwpLEM9bih7fSxtLnZpZXdXcmFwcGVyU3R5bGVEZWZhdWx0LGYmJm4oe30sbS52aWV3V3JhcHBlclN0eWxlQXV0b0hlaWdodCkpLEU9bih7fSxtLnZpZXdXcmFwcGVkU3R5bGVEZWZhdWx0KSxUPXt0cmFuc2l0aW9uOlwib3BhY2l0eSBcIitkK1wibXNcIixvcGFjaXR5OjB9LFA9bih7fSxtLnRyYWNrSG9yaXpvbnRhbFN0eWxlRGVmYXVsdCxoJiZULHAmJiF3JiZ7ZGlzcGxheTpcIm5vbmVcIn0pLEQ9bih7fSxtLnRyYWNrVmVydGljYWxTdHlsZURlZmF1bHQsaCYmVCxwJiYhdyYme2Rpc3BsYXk6XCJub25lXCJ9KTtyZXR1cm4oMCxjLmNyZWF0ZUVsZW1lbnQpKGwse2NsYXNzTmFtZTpfLmNsYXNzTmFtZT9fLmNsYXNzTmFtZTpcIlwiLHN0eWxlOmsscmVmOmZ1bmN0aW9uKHQpe2UuY29udGFpbmVyPXR9fSxbKDAsYy5jcmVhdGVFbGVtZW50KShcImRpdlwiLHtzdHlsZTpPLGtleTpcInZpZXdcIixyZWY6ZnVuY3Rpb24odCl7ZS52aWV3PXR9fSxbKDAsYy5jcmVhdGVFbGVtZW50KShcImRpdlwiLHtzdHlsZTpDLGtleTpcInZpZXdXcmFwcGVyXCIscmVmOmZ1bmN0aW9uKHQpe2Uudmlld1dyYXBwZXI9dH19LFsoMCxjLmNsb25lRWxlbWVudCkocih7c3R5bGU6RX0pLHtrZXk6XCJ2aWV3V3JhcHBlZFwiLHJlZjpmdW5jdGlvbih0KXtlLnZpZXdXcmFwcGVkPXR9fSx2KV0pXSksKDAsYy5jbG9uZUVsZW1lbnQpKGkoe3N0eWxlOlB9KSx7a2V5OlwidHJhY2tIb3Jpem9udGFsXCIscmVmOmZ1bmN0aW9uKHQpe2UudHJhY2tIb3Jpem9udGFsPXR9fSwoMCxjLmNsb25lRWxlbWVudCkobyh7c3R5bGU6bS50aHVtYkhvcml6b250YWxTdHlsZURlZmF1bHR9KSx7cmVmOmZ1bmN0aW9uKHQpe2UudGh1bWJIb3Jpem9udGFsPXR9fSkpLCgwLGMuY2xvbmVFbGVtZW50KShhKHtzdHlsZTpEfSkse2tleTpcInRyYWNrVmVydGljYWxcIixyZWY6ZnVuY3Rpb24odCl7ZS50cmFja1ZlcnRpY2FsPXR9fSwoMCxjLmNsb25lRWxlbWVudCkocyh7c3R5bGU6bS50aHVtYlZlcnRpY2FsU3R5bGVEZWZhdWx0fSkse3JlZjpmdW5jdGlvbih0KXtlLnRodW1iVmVydGljYWw9dH19KSldKX19XSksdH0oKTt0LmRlZmF1bHQ9eSx5LnByb3BUeXBlcz17b25TY3JvbGw6bC5kZWZhdWx0LmZ1bmMsb25TY3JvbGxGcmFtZTpsLmRlZmF1bHQuZnVuYyxvblNjcm9sbFN0YXJ0OmwuZGVmYXVsdC5mdW5jLG9uU2Nyb2xsU3RvcDpsLmRlZmF1bHQuZnVuYyxvblVwZGF0ZTpsLmRlZmF1bHQuZnVuYyxyZW5kZXJWaWV3OmwuZGVmYXVsdC5mdW5jLHJlbmRlclRyYWNrSG9yaXpvbnRhbDpsLmRlZmF1bHQuZnVuYyxyZW5kZXJUcmFja1ZlcnRpY2FsOmwuZGVmYXVsdC5mdW5jLHJlbmRlclRodW1iSG9yaXpvbnRhbDpsLmRlZmF1bHQuZnVuYyxyZW5kZXJUaHVtYlZlcnRpY2FsOmwuZGVmYXVsdC5mdW5jLHRhZ05hbWU6bC5kZWZhdWx0LnN0cmluZyx0aHVtYlNpemU6bC5kZWZhdWx0Lm51bWJlcix0aHVtYk1pblNpemU6bC5kZWZhdWx0Lm51bWJlcixoaWRlVHJhY2tzV2hlbk5vdE5lZWRlZDpsLmRlZmF1bHQuYm9vbCxhdXRvSGlkZTpsLmRlZmF1bHQuYm9vbCxhdXRvSGlkZVRpbWVvdXQ6bC5kZWZhdWx0Lm51bWJlcixhdXRvSGlkZUR1cmF0aW9uOmwuZGVmYXVsdC5udW1iZXIsYXV0b0hlaWdodDpsLmRlZmF1bHQuYm9vbCxhdXRvSGVpZ2h0TWluOmwuZGVmYXVsdC5vbmVPZlR5cGUoW2wuZGVmYXVsdC5udW1iZXIsbC5kZWZhdWx0LnN0cmluZ10pLGF1dG9IZWlnaHRNYXg6bC5kZWZhdWx0Lm9uZU9mVHlwZShbbC5kZWZhdWx0Lm51bWJlcixsLmRlZmF1bHQuc3RyaW5nXSksdW5pdmVyc2FsOmwuZGVmYXVsdC5ib29sLHN0eWxlOmwuZGVmYXVsdC5vYmplY3QsY2hpbGRyZW46bC5kZWZhdWx0Lm5vZGV9LHkuZGVmYXVsdFByb3BzPXtyZW5kZXJWaWV3OmcucmVuZGVyVmlld0RlZmF1bHQscmVuZGVyVHJhY2tIb3Jpem9udGFsOmcucmVuZGVyVHJhY2tIb3Jpem9udGFsRGVmYXVsdCxyZW5kZXJUcmFja1ZlcnRpY2FsOmcucmVuZGVyVHJhY2tWZXJ0aWNhbERlZmF1bHQscmVuZGVyVGh1bWJIb3Jpem9udGFsOmcucmVuZGVyVGh1bWJIb3Jpem9udGFsRGVmYXVsdCxyZW5kZXJUaHVtYlZlcnRpY2FsOmcucmVuZGVyVGh1bWJWZXJ0aWNhbERlZmF1bHQsdGFnTmFtZTpcImRpdlwiLHRodW1iTWluU2l6ZTozMCxoaWRlVHJhY2tzV2hlbk5vdE5lZWRlZDohMSxhdXRvSGlkZTohMSxhdXRvSGlkZVRpbWVvdXQ6MWUzLGF1dG9IaWRlRHVyYXRpb246MjAwLGF1dG9IZWlnaHQ6ITEsYXV0b0hlaWdodE1pbjowLGF1dG9IZWlnaHRNYXg6MjAwLHVuaXZlcnNhbDohMX19LGZ1bmN0aW9uKGUsdCxyKXsoZnVuY3Rpb24odCl7Zm9yKHZhciBuPXIoMTk1KSxpPVwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3c/dDp3aW5kb3csYT1bXCJtb3pcIixcIndlYmtpdFwiXSxvPVwiQW5pbWF0aW9uRnJhbWVcIixzPWlbXCJyZXF1ZXN0XCIrb10sYz1pW1wiY2FuY2VsXCIrb118fGlbXCJjYW5jZWxSZXF1ZXN0XCIrb10sbD0wOyFzJiZsPGEubGVuZ3RoO2wrKylzPWlbYVtsXStcIlJlcXVlc3RcIitvXSxjPWlbYVtsXStcIkNhbmNlbFwiK29dfHxpW2FbbF0rXCJDYW5jZWxSZXF1ZXN0XCIrb107aWYoIXN8fCFjKXt2YXIgdT0wLGg9MCxkPVtdO3M9ZnVuY3Rpb24oZSl7aWYoMD09PWQubGVuZ3RoKXt2YXIgdD1uKCkscj1NYXRoLm1heCgwLDFlMy82MC0odC11KSk7dT1yK3Qsc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBlPWQuc2xpY2UoMCk7ZC5sZW5ndGg9MDtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKylpZighZVt0XS5jYW5jZWxsZWQpdHJ5e2VbdF0uY2FsbGJhY2sodSl9Y2F0Y2goZSl7c2V0VGltZW91dChmdW5jdGlvbigpe3Rocm93IGV9LDApfX0sTWF0aC5yb3VuZChyKSl9cmV0dXJuIGQucHVzaCh7aGFuZGxlOisraCxjYWxsYmFjazplLGNhbmNlbGxlZDohMX0pLGh9LGM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxkLmxlbmd0aDt0KyspZFt0XS5oYW5kbGU9PT1lJiYoZFt0XS5jYW5jZWxsZWQ9ITApfX1lLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHMuY2FsbChpLGUpfSxlLmV4cG9ydHMuY2FuY2VsPWZ1bmN0aW9uKCl7Yy5hcHBseShpLGFyZ3VtZW50cyl9LGUuZXhwb3J0cy5wb2x5ZmlsbD1mdW5jdGlvbihlKXtlfHwoZT1pKSxlLnJlcXVlc3RBbmltYXRpb25GcmFtZT1zLGUuY2FuY2VsQW5pbWF0aW9uRnJhbWU9Y319KS5jYWxsKHRoaXMscig2NCkpfSxmdW5jdGlvbihlLHQscil7KGZ1bmN0aW9uKHQpeyhmdW5jdGlvbigpe3ZhciByLG4saSxhLG8scztcInVuZGVmaW5lZFwiIT10eXBlb2YgcGVyZm9ybWFuY2UmJm51bGwhPT1wZXJmb3JtYW5jZSYmcGVyZm9ybWFuY2Uubm93P2UuZXhwb3J0cz1mdW5jdGlvbigpe3JldHVybiBwZXJmb3JtYW5jZS5ub3coKX06bnVsbCE9dCYmdC5ocnRpbWU/KGUuZXhwb3J0cz1mdW5jdGlvbigpe3JldHVybihyKCktbykvMWU2fSxuPXQuaHJ0aW1lLGE9KHI9ZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gMWU5KihlPW4oKSlbMF0rZVsxXX0pKCkscz0xZTkqdC51cHRpbWUoKSxvPWEtcyk6RGF0ZS5ub3c/KGUuZXhwb3J0cz1mdW5jdGlvbigpe3JldHVybiBEYXRlLm5vdygpLWl9LGk9RGF0ZS5ub3coKSk6KGUuZXhwb3J0cz1mdW5jdGlvbigpe3JldHVybihuZXcgRGF0ZSkuZ2V0VGltZSgpLWl9LGk9KG5ldyBEYXRlKS5nZXRUaW1lKCkpfSkuY2FsbCh0aGlzKX0pLmNhbGwodGhpcyxyKDE5NikpfSxmdW5jdGlvbihlLHQpe3ZhciByLG4saT1lLmV4cG9ydHM9e307ZnVuY3Rpb24gYSgpe3Rocm93IG5ldyBFcnJvcihcInNldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIil9ZnVuY3Rpb24gbygpe3Rocm93IG5ldyBFcnJvcihcImNsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKX1mdW5jdGlvbiBzKGUpe2lmKHI9PT1zZXRUaW1lb3V0KXJldHVybiBzZXRUaW1lb3V0KGUsMCk7aWYoKHI9PT1hfHwhcikmJnNldFRpbWVvdXQpcmV0dXJuIHI9c2V0VGltZW91dCxzZXRUaW1lb3V0KGUsMCk7dHJ5e3JldHVybiByKGUsMCl9Y2F0Y2godCl7dHJ5e3JldHVybiByLmNhbGwobnVsbCxlLDApfWNhdGNoKHQpe3JldHVybiByLmNhbGwodGhpcyxlLDApfX19IWZ1bmN0aW9uKCl7dHJ5e3I9XCJmdW5jdGlvblwiPT10eXBlb2Ygc2V0VGltZW91dD9zZXRUaW1lb3V0OmF9Y2F0Y2goZSl7cj1hfXRyeXtuPVwiZnVuY3Rpb25cIj09dHlwZW9mIGNsZWFyVGltZW91dD9jbGVhclRpbWVvdXQ6b31jYXRjaChlKXtuPW99fSgpO3ZhciBjLGw9W10sdT0hMSxoPS0xO2Z1bmN0aW9uIGQoKXt1JiZjJiYodT0hMSxjLmxlbmd0aD9sPWMuY29uY2F0KGwpOmg9LTEsbC5sZW5ndGgmJnAoKSl9ZnVuY3Rpb24gcCgpe2lmKCF1KXt2YXIgZT1zKGQpO3U9ITA7Zm9yKHZhciB0PWwubGVuZ3RoO3Q7KXtmb3IoYz1sLGw9W107KytoPHQ7KWMmJmNbaF0ucnVuKCk7aD0tMSx0PWwubGVuZ3RofWM9bnVsbCx1PSExLGZ1bmN0aW9uKGUpe2lmKG49PT1jbGVhclRpbWVvdXQpcmV0dXJuIGNsZWFyVGltZW91dChlKTtpZigobj09PW98fCFuKSYmY2xlYXJUaW1lb3V0KXJldHVybiBuPWNsZWFyVGltZW91dCxjbGVhclRpbWVvdXQoZSk7dHJ5e24oZSl9Y2F0Y2godCl7dHJ5e3JldHVybiBuLmNhbGwobnVsbCxlKX1jYXRjaCh0KXtyZXR1cm4gbi5jYWxsKHRoaXMsZSl9fX0oZSl9fWZ1bmN0aW9uIGYoZSx0KXt0aGlzLmZ1bj1lLHRoaXMuYXJyYXk9dH1mdW5jdGlvbiBtKCl7fWkubmV4dFRpY2s9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSk7aWYoYXJndW1lbnRzLmxlbmd0aD4xKWZvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspdFtyLTFdPWFyZ3VtZW50c1tyXTtsLnB1c2gobmV3IGYoZSx0KSksMSE9PWwubGVuZ3RofHx1fHxzKHApfSxmLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXt0aGlzLmZ1bi5hcHBseShudWxsLHRoaXMuYXJyYXkpfSxpLnRpdGxlPVwiYnJvd3NlclwiLGkuYnJvd3Nlcj0hMCxpLmVudj17fSxpLmFyZ3Y9W10saS52ZXJzaW9uPVwiXCIsaS52ZXJzaW9ucz17fSxpLm9uPW0saS5hZGRMaXN0ZW5lcj1tLGkub25jZT1tLGkub2ZmPW0saS5yZW1vdmVMaXN0ZW5lcj1tLGkucmVtb3ZlQWxsTGlzdGVuZXJzPW0saS5lbWl0PW0saS5wcmVwZW5kTGlzdGVuZXI9bSxpLnByZXBlbmRPbmNlTGlzdGVuZXI9bSxpLmxpc3RlbmVycz1mdW5jdGlvbihlKXtyZXR1cm5bXX0saS5iaW5kaW5nPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkXCIpfSxpLmN3ZD1mdW5jdGlvbigpe3JldHVyblwiL1wifSxpLmNoZGlyPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZFwiKX0saS51bWFzaz1mdW5jdGlvbigpe3JldHVybiAwfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTk4KSxpPXIoMTk5KSxhPXtmbG9hdDpcImNzc0Zsb2F0XCJ9LG89cigyMDIpO2Z1bmN0aW9uIHMoZSx0LHIpe3ZhciBzPWFbdF07aWYodm9pZCAwPT09cyYmKHM9ZnVuY3Rpb24oZSl7dmFyIHQ9aShlKSxyPW4odCk7cmV0dXJuIGFbdF09YVtlXT1hW3JdPXIscn0odCkpLHMpe2lmKHZvaWQgMD09PXIpcmV0dXJuIGUuc3R5bGVbc107ZS5zdHlsZVtzXT1vKHMscil9fWZ1bmN0aW9uIGMoKXsyPT09YXJndW1lbnRzLmxlbmd0aD9cInN0cmluZ1wiPT10eXBlb2YgYXJndW1lbnRzWzFdP2FyZ3VtZW50c1swXS5zdHlsZS5jc3NUZXh0PWFyZ3VtZW50c1sxXTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KXQuaGFzT3duUHJvcGVydHkocikmJnMoZSxyLHRbcl0pfShhcmd1bWVudHNbMF0sYXJndW1lbnRzWzFdKTpzKGFyZ3VtZW50c1swXSxhcmd1bWVudHNbMV0sYXJndW1lbnRzWzJdKX1lLmV4cG9ydHM9YyxlLmV4cG9ydHMuc2V0PWMsZS5leHBvcnRzLmdldD1mdW5jdGlvbihlLHQpe3JldHVybiBBcnJheS5pc0FycmF5KHQpP3QucmVkdWNlKGZ1bmN0aW9uKHQscil7cmV0dXJuIHRbcl09cyhlLHJ8fFwiXCIpLHR9LHt9KTpzKGUsdHx8XCJcIil9fSxmdW5jdGlvbihlLHQpe3ZhciByPW51bGwsbj1bXCJXZWJraXRcIixcIk1velwiLFwiT1wiLFwibXNcIl07ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3J8fChyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO3ZhciB0PXIuc3R5bGU7aWYoZSBpbiB0KXJldHVybiBlO2Zvcih2YXIgaT1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Uuc2xpY2UoMSksYT1uLmxlbmd0aDthPj0wO2EtLSl7dmFyIG89blthXStpO2lmKG8gaW4gdClyZXR1cm4gb31yZXR1cm4hMX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDIwMCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuKGUpLnJlcGxhY2UoL1xccyhcXHcpL2csZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC50b1VwcGVyQ2FzZSgpfSl9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigyMDEpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbihlKS5yZXBsYWNlKC9bXFxXX10rKC58JCkvZyxmdW5jdGlvbihlLHQpe3JldHVybiB0P1wiIFwiK3Q6XCJcIn0pLnRyaW0oKX19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiByLnRlc3QoZSk/ZS50b0xvd2VyQ2FzZSgpOm4udGVzdChlKT8oZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZShhLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/XCIgXCIrdDpcIlwifSl9KGUpfHxlKS50b0xvd2VyQ2FzZSgpOmkudGVzdChlKT9mdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKG8sZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0K1wiIFwiK3IudG9Mb3dlckNhc2UoKS5zcGxpdChcIlwiKS5qb2luKFwiIFwiKX0pfShlKS50b0xvd2VyQ2FzZSgpOmUudG9Mb3dlckNhc2UoKX07dmFyIHI9L1xccy8sbj0vKF98LXxcXC58OikvLGk9LyhbYS16XVtBLVpdfFtBLVpdW2Etel0pLzt2YXIgYT0vW1xcV19dKygufCQpL2c7dmFyIG89LyguKShbQS1aXSspL2d9LGZ1bmN0aW9uKGUsdCl7dmFyIHI9e2FuaW1hdGlvbkl0ZXJhdGlvbkNvdW50OiEwLGJveEZsZXg6ITAsYm94RmxleEdyb3VwOiEwLGJveE9yZGluYWxHcm91cDohMCxjb2x1bW5Db3VudDohMCxmbGV4OiEwLGZsZXhHcm93OiEwLGZsZXhQb3NpdGl2ZTohMCxmbGV4U2hyaW5rOiEwLGZsZXhOZWdhdGl2ZTohMCxmbGV4T3JkZXI6ITAsZ3JpZFJvdzohMCxncmlkQ29sdW1uOiEwLGZvbnRXZWlnaHQ6ITAsbGluZUNsYW1wOiEwLGxpbmVIZWlnaHQ6ITAsb3BhY2l0eTohMCxvcmRlcjohMCxvcnBoYW5zOiEwLHRhYlNpemU6ITAsd2lkb3dzOiEwLHpJbmRleDohMCx6b29tOiEwLGZpbGxPcGFjaXR5OiEwLHN0b3BPcGFjaXR5OiEwLHN0cm9rZURhc2hvZmZzZXQ6ITAsc3Ryb2tlT3BhY2l0eTohMCxzdHJva2VXaWR0aDohMH07ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuXCJudW1iZXJcIiE9dHlwZW9mIHR8fHJbZV0/dDp0K1wicHhcIn19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDIwNCk7ZnVuY3Rpb24gaSgpe31mdW5jdGlvbiBhKCl7fWEucmVzZXRXYXJuaW5nQ2FjaGU9aSxlLmV4cG9ydHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyLGksYSxvKXtpZihvIT09bil7dmFyIHM9bmV3IEVycm9yKFwiQ2FsbGluZyBQcm9wVHlwZXMgdmFsaWRhdG9ycyBkaXJlY3RseSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gVXNlIFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcygpIHRvIGNhbGwgdGhlbS4gUmVhZCBtb3JlIGF0IGh0dHA6Ly9mYi5tZS91c2UtY2hlY2stcHJvcC10eXBlc1wiKTt0aHJvdyBzLm5hbWU9XCJJbnZhcmlhbnQgVmlvbGF0aW9uXCIsc319ZnVuY3Rpb24gdCgpe3JldHVybiBlfWUuaXNSZXF1aXJlZD1lO3ZhciByPXthcnJheTplLGJvb2w6ZSxmdW5jOmUsbnVtYmVyOmUsb2JqZWN0OmUsc3RyaW5nOmUsc3ltYm9sOmUsYW55OmUsYXJyYXlPZjp0LGVsZW1lbnQ6ZSxlbGVtZW50VHlwZTplLGluc3RhbmNlT2Y6dCxub2RlOmUsb2JqZWN0T2Y6dCxvbmVPZjp0LG9uZU9mVHlwZTp0LHNoYXBlOnQsZXhhY3Q6dCxjaGVja1Byb3BUeXBlczphLHJlc2V0V2FybmluZ0NhY2hlOml9O3JldHVybiByLlByb3BUeXBlcz1yLHJ9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPVwiU0VDUkVUX0RPX05PVF9QQVNTX1RISVNfT1JfWU9VX1dJTExfQkVfRklSRURcIn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbihlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmludmFsaWRhdGVTY3JvbGxiYXJXaWR0aD1mdW5jdGlvbigpe249ITF9O3ZhciBuPSExO2Z1bmN0aW9uIGkoZSl7cmV0dXJuITEhPT1uP246KG49ZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50P2Uub2Zmc2V0V2lkdGgtZS5yZWFsQ2xpZW50V2lkdGg6MCl8fDB9dC5kZWZhdWx0PWksdC5nZXRTY3JvbGxiYXJXaWR0aD1pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuITF9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUpe3ZhciB0PWUuY2xpZW50V2lkdGgscj1nZXRDb21wdXRlZFN0eWxlKGUpLG49ci5wYWRkaW5nTGVmdCxpPXIucGFkZGluZ1JpZ2h0O3JldHVybiB0LXBhcnNlRmxvYXQobiktcGFyc2VGbG9hdChpKX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jbGllbnRIZWlnaHQscj1nZXRDb21wdXRlZFN0eWxlKGUpLG49ci5wYWRkaW5nVG9wLGk9ci5wYWRkaW5nQm90dG9tO3JldHVybiB0LXBhcnNlRmxvYXQobiktcGFyc2VGbG9hdChpKX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj10LnNjcm9sbGJhclNpemU9MTAwO3QuY29udGFpbmVyU3R5bGVEZWZhdWx0PXtwb3NpdGlvbjpcInJlbGF0aXZlXCIsb3ZlcmZsb3c6XCJoaWRkZW5cIix3aWR0aDpcIjEwMCVcIixoZWlnaHQ6XCIxMDAlXCJ9LHQudmlld1dyYXBwZXJTdHlsZURlZmF1bHQ9e3BhZGRpbmdSaWdodDpuLHBhZGRpbmdCb3R0b206bix3aWR0aDpcImF1dG9cIixtaW5XaWR0aDpcIjEwMCVcIixib3hTaXppbmc6XCJib3JkZXItYm94XCIsdmVydGljYWxBbGlnbjpcInRvcFwiLGRpc3BsYXk6XCJpbmxpbmUtYmxvY2tcIn0sdC52aWV3V3JhcHBlZFN0eWxlRGVmYXVsdD17cG9zaXRpb246XCJyZWxhdGl2ZVwiLGRpc3BsYXk6XCJibG9ja1wiLHZlcnRpY2FsQWxpZ246XCJ0b3BcIix3aWR0aDpcIjEwMCVcIixib3hTaXppbmc6XCJib3JkZXItYm94XCJ9LHQuY29udGFpbmVyU3R5bGVBdXRvSGVpZ2h0PXtoZWlnaHQ6XCJhdXRvXCJ9LHQudmlld1N0eWxlRGVmYXVsdD17cG9zaXRpb246XCJhYnNvbHV0ZVwiLHRvcDowLGxlZnQ6MCxyaWdodDowLGJvdHRvbTowLG92ZXJmbG93Olwic2Nyb2xsXCIsTXNPdmVyZmxvd1N0eWxlOlwic2Nyb2xsYmFyXCIsV2Via2l0T3ZlcmZsb3dTY3JvbGxpbmc6XCJ0b3VjaFwiLGhlaWdodDpcImF1dG9cIixib3hTaXppbmc6XCJjb250ZW50LWJveFwifSx0LnZpZXdTdHlsZUF1dG9IZWlnaHQ9e3Bvc2l0aW9uOlwicmVsYXRpdmVcIix0b3A6dm9pZCAwLGxlZnQ6dm9pZCAwLHJpZ2h0OnZvaWQgMCxib3R0b206dm9pZCAwfSx0LnZpZXdTdHlsZVVuaXZlcnNhbEluaXRpYWw9e292ZXJmbG93OlwiaGlkZGVuXCIsbWFyZ2luUmlnaHQ6MCxtYXJnaW5Cb3R0b206MH0sdC50cmFja0hvcml6b250YWxTdHlsZURlZmF1bHQ9e3Bvc2l0aW9uOlwiYWJzb2x1dGVcIixoZWlnaHQ6Nn0sdC50cmFja1ZlcnRpY2FsU3R5bGVEZWZhdWx0PXtwb3NpdGlvbjpcImFic29sdXRlXCIsd2lkdGg6Nn0sdC50aHVtYkhvcml6b250YWxTdHlsZURlZmF1bHQ9e3Bvc2l0aW9uOlwicmVsYXRpdmVcIixkaXNwbGF5OlwiYmxvY2tcIixoZWlnaHQ6XCIxMDAlXCJ9LHQudGh1bWJWZXJ0aWNhbFN0eWxlRGVmYXVsdD17cG9zaXRpb246XCJyZWxhdGl2ZVwiLGRpc3BsYXk6XCJibG9ja1wiLHdpZHRoOlwiMTAwJVwifSx0LmRpc2FibGVTZWxlY3RTdHlsZT17dXNlclNlbGVjdDpcIm5vbmVcIn0sdC5kaXNhYmxlU2VsZWN0U3R5bGVSZXNldD17dXNlclNlbGVjdDpcIlwifX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPWFyZ3VtZW50c1t0XTtmb3IodmFyIG4gaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixuKSYmKGVbbl09cltuXSl9cmV0dXJuIGV9O3QucmVuZGVyVmlld0RlZmF1bHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG8uZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsZSl9LHQucmVuZGVyVHJhY2tIb3Jpem9udGFsRGVmYXVsdD1mdW5jdGlvbihlKXt2YXIgdD1lLnN0eWxlLHI9cyhlLFtcInN0eWxlXCJdKSxpPW4oe30sdCx7cmlnaHQ6Mixib3R0b206MixsZWZ0OjIsYm9yZGVyUmFkaXVzOjN9KTtyZXR1cm4gby5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIixuKHtzdHlsZTppfSxyKSl9LHQucmVuZGVyVHJhY2tWZXJ0aWNhbERlZmF1bHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdHlsZSxyPXMoZSxbXCJzdHlsZVwiXSksaT1uKHt9LHQse3JpZ2h0OjIsYm90dG9tOjIsdG9wOjIsYm9yZGVyUmFkaXVzOjN9KTtyZXR1cm4gby5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIixuKHtzdHlsZTppfSxyKSl9LHQucmVuZGVyVGh1bWJIb3Jpem9udGFsRGVmYXVsdD1mdW5jdGlvbihlKXt2YXIgdD1lLnN0eWxlLHI9cyhlLFtcInN0eWxlXCJdKSxpPW4oe30sdCx7Y3Vyc29yOlwicG9pbnRlclwiLGJvcmRlclJhZGl1czpcImluaGVyaXRcIixiYWNrZ3JvdW5kQ29sb3I6XCJyZ2JhKDAsMCwwLC4yKVwifSk7cmV0dXJuIG8uZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsbih7c3R5bGU6aX0scikpfSx0LnJlbmRlclRodW1iVmVydGljYWxEZWZhdWx0PWZ1bmN0aW9uKGUpe3ZhciB0PWUuc3R5bGUscj1zKGUsW1wic3R5bGVcIl0pLGk9bih7fSx0LHtjdXJzb3I6XCJwb2ludGVyXCIsYm9yZGVyUmFkaXVzOlwiaW5oZXJpdFwiLGJhY2tncm91bmRDb2xvcjpcInJnYmEoMCwwLDAsLjIpXCJ9KTtyZXR1cm4gby5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIixuKHtzdHlsZTppfSxyKSl9O3ZhciBpLGE9cigwKSxvPShpPWEpJiZpLl9fZXNNb2R1bGU/aTp7ZGVmYXVsdDppfTtmdW5jdGlvbiBzKGUsdCl7dmFyIHI9e307Zm9yKHZhciBuIGluIGUpdC5pbmRleE9mKG4pPj0wfHxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmKHJbbl09ZVtuXSk7cmV0dXJuIHJ9fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtyZWQ6XCIjZmY0NDRmXCIsbGlnaHRfY2hhcnRfdGV4dDpcIiM1NTU5NzVcIixkYXJrX2NoYXJ0X3RleHQ6XCIjOTk5XCIsbGlnaHRfY2hhcnRfZ3JpZDpcIiNmMmYzZjRcIixkYXJrX2NoYXJ0X2dyaWQ6XCIjMWQxZjIwXCIsbGlnaHRfY2hhcnRfbW91bnRhaW5fYm9yZGVyOlwiIzg1YWNiMFwiLGRhcmtfY2hhcnRfbW91bnRhaW5fYm9yZGVyOlwiI2ZmZlwiLGxpZ2h0X2NoYXJ0X21vdW50YWluX2JnOlwicmdiYSgxMzMsMTcyLDE3NiwwLjE2KVwiLGRhcmtfY2hhcnRfbW91bnRhaW5fYmc6XCJyZ2JhKDI1NSwyNTUsMjU1LDAuMzYpXCIsbGlnaHRfY2hhcnRfbW91bnRhaW5fYmdfc2hhZGU6XCJyZ2JhKDI1NSwyNTUsMjU1LDApXCIsZGFya19jaGFydF9tb3VudGFpbl9iZ19zaGFkZTpcInJnYmEoMTYsMTksMzIsMClcIixsaWdodF9jYW5kbGVfdGV4dF9jbG9zZWQ6XCJyZ2JhKDAsMCwwLDAuMTYpXCIsZGFya19jYW5kbGVfdGV4dF9jbG9zZWQ6XCJyZ2JhKDEyNywxMzEsMTUxLDAuMylcIixsaWdodF9jYW5kbGVfYmdfY2xvc2VkOlwiI2Q2ZDZkNlwiLGRhcmtfY2FuZGxlX2JnX2Nsb3NlZDpcIiMzMDMzNDJcIixsaWdodF9jaGFydF9jbG9zZWRfY2FuZGxlOlwiI2Q2ZDZkNlwiLGRhcmtfY2hhcnRfY2xvc2VkX2NhbmRsZTpcIiMzMDMzNDJcIixsaWdodF9jaGFydF9iZzpcIiNmZmZcIixkYXJrX2NoYXJ0X2JnOlwiIzBlMGUwZVwiLGxpZ2h0X2Zsb2F0X2xhYmVsc19iZzpcIiNkNmRhZGJcIixkYXJrX2Zsb2F0X2xhYmVsc19iZzpcIiMzMjM3MzhcIixsaWdodF9mbG9hdF9sYWJlbHNfdGV4dDpcIiMzMzNcIixkYXJrX2Zsb2F0X2xhYmVsc190ZXh0OlwiI2ZmZlwifX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17cmVkOlwiI2ZmNDQ0ZlwiLGxpZ2h0X2NoYXJ0X3RleHQ6XCIjNTU1OTc1XCIsZGFya19jaGFydF90ZXh0OlwiIzk5OVwiLGxpZ2h0X2NoYXJ0X2dyaWQ6XCIjZjJmM2Y0XCIsZGFya19jaGFydF9ncmlkOlwiIzFkMWYyMFwiLGxpZ2h0X2NoYXJ0X21vdW50YWluX2JvcmRlcjpcIiM4NWFjYjBcIixkYXJrX2NoYXJ0X21vdW50YWluX2JvcmRlcjpcIiNmZmZcIixsaWdodF9jaGFydF9tb3VudGFpbl9iZzpcInJnYmEoMTMzLDE3MiwxNzYsMC4xNilcIixkYXJrX2NoYXJ0X21vdW50YWluX2JnOlwicmdiYSgyNTUsMjU1LDI1NSwwLjM2KVwiLGxpZ2h0X2NoYXJ0X21vdW50YWluX2JnX3NoYWRlOlwicmdiYSgyNTUsMjU1LDI1NSwwKVwiLGRhcmtfY2hhcnRfbW91bnRhaW5fYmdfc2hhZGU6XCJyZ2JhKDE2LDE5LDMyLDApXCIsbGlnaHRfY2FuZGxlX3RleHRfY2xvc2VkOlwicmdiYSgwLDAsMCwwLjE2KVwiLGRhcmtfY2FuZGxlX3RleHRfY2xvc2VkOlwicmdiYSgxMjcsMTMxLDE1MSwwLjMpXCIsbGlnaHRfY2FuZGxlX2JnX2Nsb3NlZDpcIiNkNmQ2ZDZcIixkYXJrX2NhbmRsZV9iZ19jbG9zZWQ6XCIjMzAzMzQyXCIsbGlnaHRfY2hhcnRfY2xvc2VkX2NhbmRsZTpcIiNkNmQ2ZDZcIixkYXJrX2NoYXJ0X2Nsb3NlZF9jYW5kbGU6XCIjMzAzMzQyXCIsbGlnaHRfY2hhcnRfYmc6XCIjZmZmXCIsZGFya19jaGFydF9iZzpcIiMwZTBlMGVcIixsaWdodF9mbG9hdF9sYWJlbHNfYmc6XCIjZDZkYWRiXCIsZGFya19mbG9hdF9sYWJlbHNfYmc6XCIjMzIzNzM4XCIsbGlnaHRfZmxvYXRfbGFiZWxzX3RleHQ6XCIjMzMzXCIsZGFya19mbG9hdF9sYWJlbHNfdGV4dDpcIiNmZmZcIn19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e3JlZDpcIiNmZjQ0NGZcIixsaWdodF9jaGFydF90ZXh0OlwiIzU1NTk3NVwiLGRhcmtfY2hhcnRfdGV4dDpcIiM5OTlcIixsaWdodF9jaGFydF9ncmlkOlwiI2YyZjNmNFwiLGRhcmtfY2hhcnRfZ3JpZDpcIiMxZDFmMjBcIixsaWdodF9jaGFydF9tb3VudGFpbl9ib3JkZXI6XCIjODVhY2IwXCIsZGFya19jaGFydF9tb3VudGFpbl9ib3JkZXI6XCIjZmZmXCIsbGlnaHRfY2hhcnRfbW91bnRhaW5fYmc6XCJyZ2JhKDEzMywxNzIsMTc2LDAuMTYpXCIsZGFya19jaGFydF9tb3VudGFpbl9iZzpcInJnYmEoMjU1LDI1NSwyNTUsMC4zNilcIixsaWdodF9jaGFydF9tb3VudGFpbl9iZ19zaGFkZTpcInJnYmEoMjU1LDI1NSwyNTUsMClcIixkYXJrX2NoYXJ0X21vdW50YWluX2JnX3NoYWRlOlwicmdiYSgxNiwxOSwzMiwwKVwiLGxpZ2h0X2NhbmRsZV90ZXh0X2Nsb3NlZDpcInJnYmEoMCwwLDAsMC4xNilcIixkYXJrX2NhbmRsZV90ZXh0X2Nsb3NlZDpcInJnYmEoMTI3LDEzMSwxNTEsMC4zKVwiLGxpZ2h0X2NhbmRsZV9iZ19jbG9zZWQ6XCIjZDZkNmQ2XCIsZGFya19jYW5kbGVfYmdfY2xvc2VkOlwiIzMwMzM0MlwiLGxpZ2h0X2NoYXJ0X2Nsb3NlZF9jYW5kbGU6XCIjZDZkNmQ2XCIsZGFya19jaGFydF9jbG9zZWRfY2FuZGxlOlwiIzMwMzM0MlwiLGxpZ2h0X2NoYXJ0X2JnOlwiI2ZmZlwiLGRhcmtfY2hhcnRfYmc6XCIjMGUwZTBlXCIsbGlnaHRfZmxvYXRfbGFiZWxzX2JnOlwiI2Q2ZGFkYlwiLGRhcmtfZmxvYXRfbGFiZWxzX2JnOlwiIzMyMzczOFwiLGxpZ2h0X2Zsb2F0X2xhYmVsc190ZXh0OlwiIzMzM1wiLGRhcmtfZmxvYXRfbGFiZWxzX3RleHQ6XCIjZmZmXCJ9fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtyZWQ6XCIjZmY0NDRmXCIsbGlnaHRfY2hhcnRfdGV4dDpcIiM1NTU5NzVcIixkYXJrX2NoYXJ0X3RleHQ6XCIjOTk5XCIsbGlnaHRfY2hhcnRfZ3JpZDpcIiNmMmYzZjRcIixkYXJrX2NoYXJ0X2dyaWQ6XCIjMWQxZjIwXCIsbGlnaHRfY2hhcnRfbW91bnRhaW5fYm9yZGVyOlwiIzg1YWNiMFwiLGRhcmtfY2hhcnRfbW91bnRhaW5fYm9yZGVyOlwiI2ZmZlwiLGxpZ2h0X2NoYXJ0X21vdW50YWluX2JnOlwicmdiYSgxMzMsMTcyLDE3NiwwLjE2KVwiLGRhcmtfY2hhcnRfbW91bnRhaW5fYmc6XCJyZ2JhKDI1NSwyNTUsMjU1LDAuMzYpXCIsbGlnaHRfY2hhcnRfbW91bnRhaW5fYmdfc2hhZGU6XCJyZ2JhKDI1NSwyNTUsMjU1LDApXCIsZGFya19jaGFydF9tb3VudGFpbl9iZ19zaGFkZTpcInJnYmEoMTYsMTksMzIsMClcIixsaWdodF9jYW5kbGVfdGV4dF9jbG9zZWQ6XCJyZ2JhKDAsMCwwLDAuMTYpXCIsZGFya19jYW5kbGVfdGV4dF9jbG9zZWQ6XCJyZ2JhKDEyNywxMzEsMTUxLDAuMylcIixsaWdodF9jYW5kbGVfYmdfY2xvc2VkOlwiI2Q2ZDZkNlwiLGRhcmtfY2FuZGxlX2JnX2Nsb3NlZDpcIiMzMDMzNDJcIixsaWdodF9jaGFydF9jbG9zZWRfY2FuZGxlOlwiI2Q2ZDZkNlwiLGRhcmtfY2hhcnRfY2xvc2VkX2NhbmRsZTpcIiMzMDMzNDJcIixsaWdodF9jaGFydF9iZzpcIiNmZmZcIixkYXJrX2NoYXJ0X2JnOlwiIzBlMGUwZVwiLGxpZ2h0X2Zsb2F0X2xhYmVsc19iZzpcIiNkNmRhZGJcIixkYXJrX2Zsb2F0X2xhYmVsc19iZzpcIiMzMjM3MzhcIixsaWdodF9mbG9hdF9sYWJlbHNfdGV4dDpcIiMzMzNcIixkYXJrX2Zsb2F0X2xhYmVsc190ZXh0OlwiI2ZmZlwifX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17cmVkOlwiI2ZmNDQ0ZlwiLGxpZ2h0X2NoYXJ0X3RleHQ6XCIjNTU1OTc1XCIsZGFya19jaGFydF90ZXh0OlwiIzk5OVwiLGxpZ2h0X2NoYXJ0X2dyaWQ6XCIjZjJmM2Y0XCIsZGFya19jaGFydF9ncmlkOlwiIzFkMWYyMFwiLGxpZ2h0X2NoYXJ0X21vdW50YWluX2JvcmRlcjpcIiM4NWFjYjBcIixkYXJrX2NoYXJ0X21vdW50YWluX2JvcmRlcjpcIiNmZmZcIixsaWdodF9jaGFydF9tb3VudGFpbl9iZzpcInJnYmEoMTMzLDE3MiwxNzYsMC4xNilcIixkYXJrX2NoYXJ0X21vdW50YWluX2JnOlwicmdiYSgyNTUsMjU1LDI1NSwwLjM2KVwiLGxpZ2h0X2NoYXJ0X21vdW50YWluX2JnX3NoYWRlOlwicmdiYSgyNTUsMjU1LDI1NSwwKVwiLGRhcmtfY2hhcnRfbW91bnRhaW5fYmdfc2hhZGU6XCJyZ2JhKDE2LDE5LDMyLDApXCIsbGlnaHRfY2FuZGxlX3RleHRfY2xvc2VkOlwicmdiYSgwLDAsMCwwLjE2KVwiLGRhcmtfY2FuZGxlX3RleHRfY2xvc2VkOlwicmdiYSgxMjcsMTMxLDE1MSwwLjMpXCIsbGlnaHRfY2FuZGxlX2JnX2Nsb3NlZDpcIiNkNmQ2ZDZcIixkYXJrX2NhbmRsZV9iZ19jbG9zZWQ6XCIjMzAzMzQyXCIsbGlnaHRfY2hhcnRfY2xvc2VkX2NhbmRsZTpcIiNkNmQ2ZDZcIixkYXJrX2NoYXJ0X2Nsb3NlZF9jYW5kbGU6XCIjMzAzMzQyXCIsbGlnaHRfY2hhcnRfYmc6XCIjZmZmXCIsZGFya19jaGFydF9iZzpcIiMwZTBlMGVcIixsaWdodF9mbG9hdF9sYWJlbHNfYmc6XCIjZDZkYWRiXCIsZGFya19mbG9hdF9sYWJlbHNfYmc6XCIjMzIzNzM4XCIsbGlnaHRfZmxvYXRfbGFiZWxzX3RleHQ6XCIjMzMzXCIsZGFya19mbG9hdF9sYWJlbHNfdGV4dDpcIiNmZmZcIn19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e3JlZDpcIiNmZjQ0NGZcIixsaWdodF9jaGFydF90ZXh0OlwiIzU1NTk3NVwiLGRhcmtfY2hhcnRfdGV4dDpcIiM5OTlcIixsaWdodF9jaGFydF9ncmlkOlwiI2YyZjNmNFwiLGRhcmtfY2hhcnRfZ3JpZDpcIiMxZDFmMjBcIixsaWdodF9jaGFydF9tb3VudGFpbl9ib3JkZXI6XCIjODVhY2IwXCIsZGFya19jaGFydF9tb3VudGFpbl9ib3JkZXI6XCIjZmZmXCIsbGlnaHRfY2hhcnRfbW91bnRhaW5fYmc6XCJyZ2JhKDEzMywxNzIsMTc2LDAuMTYpXCIsZGFya19jaGFydF9tb3VudGFpbl9iZzpcInJnYmEoMjU1LDI1NSwyNTUsMC4zNilcIixsaWdodF9jaGFydF9tb3VudGFpbl9iZ19zaGFkZTpcInJnYmEoMjU1LDI1NSwyNTUsMClcIixkYXJrX2NoYXJ0X21vdW50YWluX2JnX3NoYWRlOlwicmdiYSgxNiwxOSwzMiwwKVwiLGxpZ2h0X2NhbmRsZV90ZXh0X2Nsb3NlZDpcInJnYmEoMCwwLDAsMC4xNilcIixkYXJrX2NhbmRsZV90ZXh0X2Nsb3NlZDpcInJnYmEoMTI3LDEzMSwxNTEsMC4zKVwiLGxpZ2h0X2NhbmRsZV9iZ19jbG9zZWQ6XCIjZDZkNmQ2XCIsZGFya19jYW5kbGVfYmdfY2xvc2VkOlwiIzMwMzM0MlwiLGxpZ2h0X2NoYXJ0X2Nsb3NlZF9jYW5kbGU6XCIjZDZkNmQ2XCIsZGFya19jaGFydF9jbG9zZWRfY2FuZGxlOlwiIzMwMzM0MlwiLGxpZ2h0X2NoYXJ0X2JnOlwiI2ZmZlwiLGRhcmtfY2hhcnRfYmc6XCIjMGUwZTBlXCIsbGlnaHRfZmxvYXRfbGFiZWxzX2JnOlwiI2Q2ZGFkYlwiLGRhcmtfZmxvYXRfbGFiZWxzX2JnOlwiIzMyMzczOFwiLGxpZ2h0X2Zsb2F0X2xhYmVsc190ZXh0OlwiIzMzM1wiLGRhcmtfZmxvYXRfbGFiZWxzX3RleHQ6XCIjZmZmXCJ9fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtyZWQ6XCIjZmY0NDRmXCIsbGlnaHRfY2hhcnRfdGV4dDpcIiM1NTU5NzVcIixkYXJrX2NoYXJ0X3RleHQ6XCIjOTk5XCIsbGlnaHRfY2hhcnRfZ3JpZDpcIiNmMmYzZjRcIixkYXJrX2NoYXJ0X2dyaWQ6XCIjMWQxZjIwXCIsbGlnaHRfY2hhcnRfbW91bnRhaW5fYm9yZGVyOlwiIzg1YWNiMFwiLGRhcmtfY2hhcnRfbW91bnRhaW5fYm9yZGVyOlwiI2ZmZlwiLGxpZ2h0X2NoYXJ0X21vdW50YWluX2JnOlwicmdiYSgxMzMsMTcyLDE3NiwwLjE2KVwiLGRhcmtfY2hhcnRfbW91bnRhaW5fYmc6XCJyZ2JhKDI1NSwyNTUsMjU1LDAuMzYpXCIsbGlnaHRfY2hhcnRfbW91bnRhaW5fYmdfc2hhZGU6XCJyZ2JhKDI1NSwyNTUsMjU1LDApXCIsZGFya19jaGFydF9tb3VudGFpbl9iZ19zaGFkZTpcInJnYmEoMTYsMTksMzIsMClcIixsaWdodF9jYW5kbGVfdGV4dF9jbG9zZWQ6XCJyZ2JhKDAsMCwwLDAuMTYpXCIsZGFya19jYW5kbGVfdGV4dF9jbG9zZWQ6XCJyZ2JhKDEyNywxMzEsMTUxLDAuMylcIixsaWdodF9jYW5kbGVfYmdfY2xvc2VkOlwiI2Q2ZDZkNlwiLGRhcmtfY2FuZGxlX2JnX2Nsb3NlZDpcIiMzMDMzNDJcIixsaWdodF9jaGFydF9jbG9zZWRfY2FuZGxlOlwiI2Q2ZDZkNlwiLGRhcmtfY2hhcnRfY2xvc2VkX2NhbmRsZTpcIiMzMDMzNDJcIixsaWdodF9jaGFydF9iZzpcIiNmZmZcIixkYXJrX2NoYXJ0X2JnOlwiIzBlMGUwZVwiLGxpZ2h0X2Zsb2F0X2xhYmVsc19iZzpcIiNkNmRhZGJcIixkYXJrX2Zsb2F0X2xhYmVsc19iZzpcIiMzMjM3MzhcIixsaWdodF9mbG9hdF9sYWJlbHNfdGV4dDpcIiMzMzNcIixkYXJrX2Zsb2F0X2xhYmVsc190ZXh0OlwiI2ZmZlwifX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17cmVkOlwiI2ZmNDQ0ZlwiLGxpZ2h0X2NoYXJ0X3RleHQ6XCIjNTU1OTc1XCIsZGFya19jaGFydF90ZXh0OlwiIzk5OVwiLGxpZ2h0X2NoYXJ0X2dyaWQ6XCIjZjJmM2Y0XCIsZGFya19jaGFydF9ncmlkOlwiIzFkMWYyMFwiLGxpZ2h0X2NoYXJ0X21vdW50YWluX2JvcmRlcjpcIiM4NWFjYjBcIixkYXJrX2NoYXJ0X21vdW50YWluX2JvcmRlcjpcIiNmZmZcIixsaWdodF9jaGFydF9tb3VudGFpbl9iZzpcInJnYmEoMTMzLDE3MiwxNzYsMC4xNilcIixkYXJrX2NoYXJ0X21vdW50YWluX2JnOlwicmdiYSgyNTUsMjU1LDI1NSwwLjM2KVwiLGxpZ2h0X2NoYXJ0X21vdW50YWluX2JnX3NoYWRlOlwicmdiYSgyNTUsMjU1LDI1NSwwKVwiLGRhcmtfY2hhcnRfbW91bnRhaW5fYmdfc2hhZGU6XCJyZ2JhKDE2LDE5LDMyLDApXCIsbGlnaHRfY2FuZGxlX3RleHRfY2xvc2VkOlwicmdiYSgwLDAsMCwwLjE2KVwiLGRhcmtfY2FuZGxlX3RleHRfY2xvc2VkOlwicmdiYSgxMjcsMTMxLDE1MSwwLjMpXCIsbGlnaHRfY2FuZGxlX2JnX2Nsb3NlZDpcIiNkNmQ2ZDZcIixkYXJrX2NhbmRsZV9iZ19jbG9zZWQ6XCIjMzAzMzQyXCIsbGlnaHRfY2hhcnRfY2xvc2VkX2NhbmRsZTpcIiNkNmQ2ZDZcIixkYXJrX2NoYXJ0X2Nsb3NlZF9jYW5kbGU6XCIjMzAzMzQyXCIsbGlnaHRfY2hhcnRfYmc6XCIjZmZmXCIsZGFya19jaGFydF9iZzpcIiMwZTBlMGVcIixsaWdodF9mbG9hdF9sYWJlbHNfYmc6XCIjZDZkYWRiXCIsZGFya19mbG9hdF9sYWJlbHNfYmc6XCIjMzIzNzM4XCIsbGlnaHRfZmxvYXRfbGFiZWxzX3RleHQ6XCIjMzMzXCIsZGFya19mbG9hdF9sYWJlbHNfdGV4dDpcIiNmZmZcIn19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e3JlZDpcIiNmZjQ0NGZcIixsaWdodF9jaGFydF90ZXh0OlwiIzU1NTk3NVwiLGRhcmtfY2hhcnRfdGV4dDpcIiM5OTlcIixsaWdodF9jaGFydF9ncmlkOlwiI2YyZjNmNFwiLGRhcmtfY2hhcnRfZ3JpZDpcIiMxZDFmMjBcIixsaWdodF9jaGFydF9tb3VudGFpbl9ib3JkZXI6XCIjODVhY2IwXCIsZGFya19jaGFydF9tb3VudGFpbl9ib3JkZXI6XCIjZmZmXCIsbGlnaHRfY2hhcnRfbW91bnRhaW5fYmc6XCJyZ2JhKDEzMywxNzIsMTc2LDAuMTYpXCIsZGFya19jaGFydF9tb3VudGFpbl9iZzpcInJnYmEoMjU1LDI1NSwyNTUsMC4zNilcIixsaWdodF9jaGFydF9tb3VudGFpbl9iZ19zaGFkZTpcInJnYmEoMjU1LDI1NSwyNTUsMClcIixkYXJrX2NoYXJ0X21vdW50YWluX2JnX3NoYWRlOlwicmdiYSgxNiwxOSwzMiwwKVwiLGxpZ2h0X2NhbmRsZV90ZXh0X2Nsb3NlZDpcInJnYmEoMCwwLDAsMC4xNilcIixkYXJrX2NhbmRsZV90ZXh0X2Nsb3NlZDpcInJnYmEoMTI3LDEzMSwxNTEsMC4zKVwiLGxpZ2h0X2NhbmRsZV9iZ19jbG9zZWQ6XCIjZDZkNmQ2XCIsZGFya19jYW5kbGVfYmdfY2xvc2VkOlwiIzMwMzM0MlwiLGxpZ2h0X2NoYXJ0X2Nsb3NlZF9jYW5kbGU6XCIjZDZkNmQ2XCIsZGFya19jaGFydF9jbG9zZWRfY2FuZGxlOlwiIzMwMzM0MlwiLGxpZ2h0X2NoYXJ0X2JnOlwiI2ZmZlwiLGRhcmtfY2hhcnRfYmc6XCIjMGUwZTBlXCIsbGlnaHRfZmxvYXRfbGFiZWxzX2JnOlwiI2Q2ZGFkYlwiLGRhcmtfZmxvYXRfbGFiZWxzX2JnOlwiIzMyMzczOFwiLGxpZ2h0X2Zsb2F0X2xhYmVsc190ZXh0OlwiIzMzM1wiLGRhcmtfZmxvYXRfbGFiZWxzX3RleHQ6XCIjZmZmXCJ9fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtyZWQ6XCIjZmY0NDRmXCIsbGlnaHRfY2hhcnRfdGV4dDpcIiM1NTU5NzVcIixkYXJrX2NoYXJ0X3RleHQ6XCIjOTk5XCIsbGlnaHRfY2hhcnRfZ3JpZDpcIiNmMmYzZjRcIixkYXJrX2NoYXJ0X2dyaWQ6XCIjMWQxZjIwXCIsbGlnaHRfY2hhcnRfbW91bnRhaW5fYm9yZGVyOlwiIzg1YWNiMFwiLGRhcmtfY2hhcnRfbW91bnRhaW5fYm9yZGVyOlwiI2ZmZlwiLGxpZ2h0X2NoYXJ0X21vdW50YWluX2JnOlwicmdiYSgxMzMsMTcyLDE3NiwwLjE2KVwiLGRhcmtfY2hhcnRfbW91bnRhaW5fYmc6XCJyZ2JhKDI1NSwyNTUsMjU1LDAuMzYpXCIsbGlnaHRfY2hhcnRfbW91bnRhaW5fYmdfc2hhZGU6XCJyZ2JhKDI1NSwyNTUsMjU1LDApXCIsZGFya19jaGFydF9tb3VudGFpbl9iZ19zaGFkZTpcInJnYmEoMTYsMTksMzIsMClcIixsaWdodF9jYW5kbGVfdGV4dF9jbG9zZWQ6XCJyZ2JhKDAsMCwwLDAuMTYpXCIsZGFya19jYW5kbGVfdGV4dF9jbG9zZWQ6XCJyZ2JhKDEyNywxMzEsMTUxLDAuMylcIixsaWdodF9jYW5kbGVfYmdfY2xvc2VkOlwiI2Q2ZDZkNlwiLGRhcmtfY2FuZGxlX2JnX2Nsb3NlZDpcIiMzMDMzNDJcIixsaWdodF9jaGFydF9jbG9zZWRfY2FuZGxlOlwiI2Q2ZDZkNlwiLGRhcmtfY2hhcnRfY2xvc2VkX2NhbmRsZTpcIiMzMDMzNDJcIixsaWdodF9jaGFydF9iZzpcIiNmZmZcIixkYXJrX2NoYXJ0X2JnOlwiIzBlMGUwZVwiLGxpZ2h0X2Zsb2F0X2xhYmVsc19iZzpcIiNkNmRhZGJcIixkYXJrX2Zsb2F0X2xhYmVsc19iZzpcIiMzMjM3MzhcIixsaWdodF9mbG9hdF9sYWJlbHNfdGV4dDpcIiMzMzNcIixkYXJrX2Zsb2F0X2xhYmVsc190ZXh0OlwiI2ZmZlwifX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17cmVkOlwiI2ZmNDQ0ZlwiLGxpZ2h0X2NoYXJ0X3RleHQ6XCIjNTU1OTc1XCIsZGFya19jaGFydF90ZXh0OlwiIzk5OVwiLGxpZ2h0X2NoYXJ0X2dyaWQ6XCIjZjJmM2Y0XCIsZGFya19jaGFydF9ncmlkOlwiIzFkMWYyMFwiLGxpZ2h0X2NoYXJ0X21vdW50YWluX2JvcmRlcjpcIiM4NWFjYjBcIixkYXJrX2NoYXJ0X21vdW50YWluX2JvcmRlcjpcIiNmZmZcIixsaWdodF9jaGFydF9tb3VudGFpbl9iZzpcInJnYmEoMTMzLDE3MiwxNzYsMC4xNilcIixkYXJrX2NoYXJ0X21vdW50YWluX2JnOlwicmdiYSgyNTUsMjU1LDI1NSwwLjM2KVwiLGxpZ2h0X2NoYXJ0X21vdW50YWluX2JnX3NoYWRlOlwicmdiYSgyNTUsMjU1LDI1NSwwKVwiLGRhcmtfY2hhcnRfbW91bnRhaW5fYmdfc2hhZGU6XCJyZ2JhKDE2LDE5LDMyLDApXCIsbGlnaHRfY2FuZGxlX3RleHRfY2xvc2VkOlwicmdiYSgwLDAsMCwwLjE2KVwiLGRhcmtfY2FuZGxlX3RleHRfY2xvc2VkOlwicmdiYSgxMjcsMTMxLDE1MSwwLjMpXCIsbGlnaHRfY2FuZGxlX2JnX2Nsb3NlZDpcIiNkNmQ2ZDZcIixkYXJrX2NhbmRsZV9iZ19jbG9zZWQ6XCIjMzAzMzQyXCIsbGlnaHRfY2hhcnRfY2xvc2VkX2NhbmRsZTpcIiNkNmQ2ZDZcIixkYXJrX2NoYXJ0X2Nsb3NlZF9jYW5kbGU6XCIjMzAzMzQyXCIsbGlnaHRfY2hhcnRfYmc6XCIjZmZmXCIsZGFya19jaGFydF9iZzpcIiMwZTBlMGVcIixsaWdodF9mbG9hdF9sYWJlbHNfYmc6XCIjZDZkYWRiXCIsZGFya19mbG9hdF9sYWJlbHNfYmc6XCIjMzIzNzM4XCIsbGlnaHRfZmxvYXRfbGFiZWxzX3RleHQ6XCIjMzMzXCIsZGFya19mbG9hdF9sYWJlbHNfdGV4dDpcIiNmZmZcIn19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e3JlZDpcIiNmZjQ0NGZcIixsaWdodF9jaGFydF90ZXh0OlwiIzU1NTk3NVwiLGRhcmtfY2hhcnRfdGV4dDpcIiM5OTlcIixsaWdodF9jaGFydF9ncmlkOlwiI2YyZjNmNFwiLGRhcmtfY2hhcnRfZ3JpZDpcIiMxZDFmMjBcIixsaWdodF9jaGFydF9tb3VudGFpbl9ib3JkZXI6XCIjODVhY2IwXCIsZGFya19jaGFydF9tb3VudGFpbl9ib3JkZXI6XCIjZmZmXCIsbGlnaHRfY2hhcnRfbW91bnRhaW5fYmc6XCJyZ2JhKDEzMywxNzIsMTc2LDAuMTYpXCIsZGFya19jaGFydF9tb3VudGFpbl9iZzpcInJnYmEoMjU1LDI1NSwyNTUsMC4zNilcIixsaWdodF9jaGFydF9tb3VudGFpbl9iZ19zaGFkZTpcInJnYmEoMjU1LDI1NSwyNTUsMClcIixkYXJrX2NoYXJ0X21vdW50YWluX2JnX3NoYWRlOlwicmdiYSgxNiwxOSwzMiwwKVwiLGxpZ2h0X2NhbmRsZV90ZXh0X2Nsb3NlZDpcInJnYmEoMCwwLDAsMC4xNilcIixkYXJrX2NhbmRsZV90ZXh0X2Nsb3NlZDpcInJnYmEoMTI3LDEzMSwxNTEsMC4zKVwiLGxpZ2h0X2NhbmRsZV9iZ19jbG9zZWQ6XCIjZDZkNmQ2XCIsZGFya19jYW5kbGVfYmdfY2xvc2VkOlwiIzMwMzM0MlwiLGxpZ2h0X2NoYXJ0X2Nsb3NlZF9jYW5kbGU6XCIjZDZkNmQ2XCIsZGFya19jaGFydF9jbG9zZWRfY2FuZGxlOlwiIzMwMzM0MlwiLGxpZ2h0X2NoYXJ0X2JnOlwiI2ZmZlwiLGRhcmtfY2hhcnRfYmc6XCIjMGUwZTBlXCIsbGlnaHRfZmxvYXRfbGFiZWxzX2JnOlwiI2Q2ZGFkYlwiLGRhcmtfZmxvYXRfbGFiZWxzX2JnOlwiIzMyMzczOFwiLGxpZ2h0X2Zsb2F0X2xhYmVsc190ZXh0OlwiIzMzM1wiLGRhcmtfZmxvYXRfbGFiZWxzX3RleHQ6XCIjZmZmXCJ9fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtyZWQ6XCIjZmY0NDRmXCIsbGlnaHRfY2hhcnRfdGV4dDpcIiM1NTU5NzVcIixkYXJrX2NoYXJ0X3RleHQ6XCIjOTk5XCIsbGlnaHRfY2hhcnRfZ3JpZDpcIiNmMmYzZjRcIixkYXJrX2NoYXJ0X2dyaWQ6XCIjMWQxZjIwXCIsbGlnaHRfY2hhcnRfbW91bnRhaW5fYm9yZGVyOlwiIzg1YWNiMFwiLGRhcmtfY2hhcnRfbW91bnRhaW5fYm9yZGVyOlwiI2ZmZlwiLGxpZ2h0X2NoYXJ0X21vdW50YWluX2JnOlwicmdiYSgxMzMsMTcyLDE3NiwwLjE2KVwiLGRhcmtfY2hhcnRfbW91bnRhaW5fYmc6XCJyZ2JhKDI1NSwyNTUsMjU1LDAuMzYpXCIsbGlnaHRfY2hhcnRfbW91bnRhaW5fYmdfc2hhZGU6XCJyZ2JhKDI1NSwyNTUsMjU1LDApXCIsZGFya19jaGFydF9tb3VudGFpbl9iZ19zaGFkZTpcInJnYmEoMTYsMTksMzIsMClcIixsaWdodF9jYW5kbGVfdGV4dF9jbG9zZWQ6XCJyZ2JhKDAsMCwwLDAuMTYpXCIsZGFya19jYW5kbGVfdGV4dF9jbG9zZWQ6XCJyZ2JhKDEyNywxMzEsMTUxLDAuMylcIixsaWdodF9jYW5kbGVfYmdfY2xvc2VkOlwiI2Q2ZDZkNlwiLGRhcmtfY2FuZGxlX2JnX2Nsb3NlZDpcIiMzMDMzNDJcIixsaWdodF9jaGFydF9jbG9zZWRfY2FuZGxlOlwiI2Q2ZDZkNlwiLGRhcmtfY2hhcnRfY2xvc2VkX2NhbmRsZTpcIiMzMDMzNDJcIixsaWdodF9jaGFydF9iZzpcIiNmZmZcIixkYXJrX2NoYXJ0X2JnOlwiIzBlMGUwZVwiLGxpZ2h0X2Zsb2F0X2xhYmVsc19iZzpcIiNkNmRhZGJcIixkYXJrX2Zsb2F0X2xhYmVsc19iZzpcIiMzMjM3MzhcIixsaWdodF9mbG9hdF9sYWJlbHNfdGV4dDpcIiMzMzNcIixkYXJrX2Zsb2F0X2xhYmVsc190ZXh0OlwiI2ZmZlwifX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17cmVkOlwiI2ZmNDQ0ZlwiLGxpZ2h0X2NoYXJ0X3RleHQ6XCIjNTU1OTc1XCIsZGFya19jaGFydF90ZXh0OlwiIzk5OVwiLGxpZ2h0X2NoYXJ0X2dyaWQ6XCIjZjJmM2Y0XCIsZGFya19jaGFydF9ncmlkOlwiIzFkMWYyMFwiLGxpZ2h0X2NoYXJ0X21vdW50YWluX2JvcmRlcjpcIiM4NWFjYjBcIixkYXJrX2NoYXJ0X21vdW50YWluX2JvcmRlcjpcIiNmZmZcIixsaWdodF9jaGFydF9tb3VudGFpbl9iZzpcInJnYmEoMTMzLDE3MiwxNzYsMC4xNilcIixkYXJrX2NoYXJ0X21vdW50YWluX2JnOlwicmdiYSgyNTUsMjU1LDI1NSwwLjM2KVwiLGxpZ2h0X2NoYXJ0X21vdW50YWluX2JnX3NoYWRlOlwicmdiYSgyNTUsMjU1LDI1NSwwKVwiLGRhcmtfY2hhcnRfbW91bnRhaW5fYmdfc2hhZGU6XCJyZ2JhKDE2LDE5LDMyLDApXCIsbGlnaHRfY2FuZGxlX3RleHRfY2xvc2VkOlwicmdiYSgwLDAsMCwwLjE2KVwiLGRhcmtfY2FuZGxlX3RleHRfY2xvc2VkOlwicmdiYSgxMjcsMTMxLDE1MSwwLjMpXCIsbGlnaHRfY2FuZGxlX2JnX2Nsb3NlZDpcIiNkNmQ2ZDZcIixkYXJrX2NhbmRsZV9iZ19jbG9zZWQ6XCIjMzAzMzQyXCIsbGlnaHRfY2hhcnRfY2xvc2VkX2NhbmRsZTpcIiNkNmQ2ZDZcIixkYXJrX2NoYXJ0X2Nsb3NlZF9jYW5kbGU6XCIjMzAzMzQyXCIsbGlnaHRfY2hhcnRfYmc6XCIjZmZmXCIsZGFya19jaGFydF9iZzpcIiMwZTBlMGVcIixsaWdodF9mbG9hdF9sYWJlbHNfYmc6XCIjZDZkYWRiXCIsZGFya19mbG9hdF9sYWJlbHNfYmc6XCIjMzIzNzM4XCIsbGlnaHRfZmxvYXRfbGFiZWxzX3RleHQ6XCIjMzMzXCIsZGFya19mbG9hdF9sYWJlbHNfdGV4dDpcIiNmZmZcIn19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e3JlZDpcIiNmZjQ0NGZcIixsaWdodF9jaGFydF90ZXh0OlwiIzU1NTk3NVwiLGRhcmtfY2hhcnRfdGV4dDpcIiM5OTlcIixsaWdodF9jaGFydF9ncmlkOlwiI2YyZjNmNFwiLGRhcmtfY2hhcnRfZ3JpZDpcIiMxZDFmMjBcIixsaWdodF9jaGFydF9tb3VudGFpbl9ib3JkZXI6XCIjODVhY2IwXCIsZGFya19jaGFydF9tb3VudGFpbl9ib3JkZXI6XCIjZmZmXCIsbGlnaHRfY2hhcnRfbW91bnRhaW5fYmc6XCJyZ2JhKDEzMywxNzIsMTc2LDAuMTYpXCIsZGFya19jaGFydF9tb3VudGFpbl9iZzpcInJnYmEoMjU1LDI1NSwyNTUsMC4zNilcIixsaWdodF9jaGFydF9tb3VudGFpbl9iZ19zaGFkZTpcInJnYmEoMjU1LDI1NSwyNTUsMClcIixkYXJrX2NoYXJ0X21vdW50YWluX2JnX3NoYWRlOlwicmdiYSgxNiwxOSwzMiwwKVwiLGxpZ2h0X2NhbmRsZV90ZXh0X2Nsb3NlZDpcInJnYmEoMCwwLDAsMC4xNilcIixkYXJrX2NhbmRsZV90ZXh0X2Nsb3NlZDpcInJnYmEoMTI3LDEzMSwxNTEsMC4zKVwiLGxpZ2h0X2NhbmRsZV9iZ19jbG9zZWQ6XCIjZDZkNmQ2XCIsZGFya19jYW5kbGVfYmdfY2xvc2VkOlwiIzMwMzM0MlwiLGxpZ2h0X2NoYXJ0X2Nsb3NlZF9jYW5kbGU6XCIjZDZkNmQ2XCIsZGFya19jaGFydF9jbG9zZWRfY2FuZGxlOlwiIzMwMzM0MlwiLGxpZ2h0X2NoYXJ0X2JnOlwiI2ZmZlwiLGRhcmtfY2hhcnRfYmc6XCIjMGUwZTBlXCIsbGlnaHRfZmxvYXRfbGFiZWxzX2JnOlwiI2Q2ZGFkYlwiLGRhcmtfZmxvYXRfbGFiZWxzX2JnOlwiIzMyMzczOFwiLGxpZ2h0X2Zsb2F0X2xhYmVsc190ZXh0OlwiIzMzM1wiLGRhcmtfZmxvYXRfbGFiZWxzX3RleHQ6XCIjZmZmXCJ9fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtyZWQ6XCIjZmY0NDRmXCIsbGlnaHRfY2hhcnRfdGV4dDpcIiM1NTU5NzVcIixkYXJrX2NoYXJ0X3RleHQ6XCIjOTk5XCIsbGlnaHRfY2hhcnRfZ3JpZDpcIiNmMmYzZjRcIixkYXJrX2NoYXJ0X2dyaWQ6XCIjMWQxZjIwXCIsbGlnaHRfY2hhcnRfbW91bnRhaW5fYm9yZGVyOlwiIzg1YWNiMFwiLGRhcmtfY2hhcnRfbW91bnRhaW5fYm9yZGVyOlwiI2ZmZlwiLGxpZ2h0X2NoYXJ0X21vdW50YWluX2JnOlwicmdiYSgxMzMsMTcyLDE3NiwwLjE2KVwiLGRhcmtfY2hhcnRfbW91bnRhaW5fYmc6XCJyZ2JhKDI1NSwyNTUsMjU1LDAuMzYpXCIsbGlnaHRfY2hhcnRfbW91bnRhaW5fYmdfc2hhZGU6XCJyZ2JhKDI1NSwyNTUsMjU1LDApXCIsZGFya19jaGFydF9tb3VudGFpbl9iZ19zaGFkZTpcInJnYmEoMTYsMTksMzIsMClcIixsaWdodF9jYW5kbGVfdGV4dF9jbG9zZWQ6XCJyZ2JhKDAsMCwwLDAuMTYpXCIsZGFya19jYW5kbGVfdGV4dF9jbG9zZWQ6XCJyZ2JhKDEyNywxMzEsMTUxLDAuMylcIixsaWdodF9jYW5kbGVfYmdfY2xvc2VkOlwiI2Q2ZDZkNlwiLGRhcmtfY2FuZGxlX2JnX2Nsb3NlZDpcIiMzMDMzNDJcIixsaWdodF9jaGFydF9jbG9zZWRfY2FuZGxlOlwiI2Q2ZDZkNlwiLGRhcmtfY2hhcnRfY2xvc2VkX2NhbmRsZTpcIiMzMDMzNDJcIixsaWdodF9jaGFydF9iZzpcIiNmZmZcIixkYXJrX2NoYXJ0X2JnOlwiIzBlMGUwZVwiLGxpZ2h0X2Zsb2F0X2xhYmVsc19iZzpcIiNkNmRhZGJcIixkYXJrX2Zsb2F0X2xhYmVsc19iZzpcIiMzMjM3MzhcIixsaWdodF9mbG9hdF9sYWJlbHNfdGV4dDpcIiMzMzNcIixkYXJrX2Zsb2F0X2xhYmVsc190ZXh0OlwiI2ZmZlwifX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17cmVkOlwiI2ZmNDQ0ZlwiLGxpZ2h0X2NoYXJ0X3RleHQ6XCIjNTU1OTc1XCIsZGFya19jaGFydF90ZXh0OlwiIzk5OVwiLGxpZ2h0X2NoYXJ0X2dyaWQ6XCIjZjJmM2Y0XCIsZGFya19jaGFydF9ncmlkOlwiIzFkMWYyMFwiLGxpZ2h0X2NoYXJ0X21vdW50YWluX2JvcmRlcjpcIiM4NWFjYjBcIixkYXJrX2NoYXJ0X21vdW50YWluX2JvcmRlcjpcIiNmZmZcIixsaWdodF9jaGFydF9tb3VudGFpbl9iZzpcInJnYmEoMTMzLDE3MiwxNzYsMC4xNilcIixkYXJrX2NoYXJ0X21vdW50YWluX2JnOlwicmdiYSgyNTUsMjU1LDI1NSwwLjM2KVwiLGxpZ2h0X2NoYXJ0X21vdW50YWluX2JnX3NoYWRlOlwicmdiYSgyNTUsMjU1LDI1NSwwKVwiLGRhcmtfY2hhcnRfbW91bnRhaW5fYmdfc2hhZGU6XCJyZ2JhKDE2LDE5LDMyLDApXCIsbGlnaHRfY2FuZGxlX3RleHRfY2xvc2VkOlwicmdiYSgwLDAsMCwwLjE2KVwiLGRhcmtfY2FuZGxlX3RleHRfY2xvc2VkOlwicmdiYSgxMjcsMTMxLDE1MSwwLjMpXCIsbGlnaHRfY2FuZGxlX2JnX2Nsb3NlZDpcIiNkNmQ2ZDZcIixkYXJrX2NhbmRsZV9iZ19jbG9zZWQ6XCIjMzAzMzQyXCIsbGlnaHRfY2hhcnRfY2xvc2VkX2NhbmRsZTpcIiNkNmQ2ZDZcIixkYXJrX2NoYXJ0X2Nsb3NlZF9jYW5kbGU6XCIjMzAzMzQyXCIsbGlnaHRfY2hhcnRfYmc6XCIjZmZmXCIsZGFya19jaGFydF9iZzpcIiMwZTBlMGVcIixsaWdodF9mbG9hdF9sYWJlbHNfYmc6XCIjZDZkYWRiXCIsZGFya19mbG9hdF9sYWJlbHNfYmc6XCIjMzIzNzM4XCIsbGlnaHRfZmxvYXRfbGFiZWxzX3RleHQ6XCIjMzMzXCIsZGFya19mbG9hdF9sYWJlbHNfdGV4dDpcIiNmZmZcIn19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e3JlZDpcIiNmZjQ0NGZcIixsaWdodF9jaGFydF90ZXh0OlwiIzU1NTk3NVwiLGRhcmtfY2hhcnRfdGV4dDpcIiM5OTlcIixsaWdodF9jaGFydF9ncmlkOlwiI2YyZjNmNFwiLGRhcmtfY2hhcnRfZ3JpZDpcIiMxZDFmMjBcIixsaWdodF9jaGFydF9tb3VudGFpbl9ib3JkZXI6XCIjODVhY2IwXCIsZGFya19jaGFydF9tb3VudGFpbl9ib3JkZXI6XCIjZmZmXCIsbGlnaHRfY2hhcnRfbW91bnRhaW5fYmc6XCJyZ2JhKDEzMywxNzIsMTc2LDAuMTYpXCIsZGFya19jaGFydF9tb3VudGFpbl9iZzpcInJnYmEoMjU1LDI1NSwyNTUsMC4zNilcIixsaWdodF9jaGFydF9tb3VudGFpbl9iZ19zaGFkZTpcInJnYmEoMjU1LDI1NSwyNTUsMClcIixkYXJrX2NoYXJ0X21vdW50YWluX2JnX3NoYWRlOlwicmdiYSgxNiwxOSwzMiwwKVwiLGxpZ2h0X2NhbmRsZV90ZXh0X2Nsb3NlZDpcInJnYmEoMCwwLDAsMC4xNilcIixkYXJrX2NhbmRsZV90ZXh0X2Nsb3NlZDpcInJnYmEoMTI3LDEzMSwxNTEsMC4zKVwiLGxpZ2h0X2NhbmRsZV9iZ19jbG9zZWQ6XCIjZDZkNmQ2XCIsZGFya19jYW5kbGVfYmdfY2xvc2VkOlwiIzMwMzM0MlwiLGxpZ2h0X2NoYXJ0X2Nsb3NlZF9jYW5kbGU6XCIjZDZkNmQ2XCIsZGFya19jaGFydF9jbG9zZWRfY2FuZGxlOlwiIzMwMzM0MlwiLGxpZ2h0X2NoYXJ0X2JnOlwiI2ZmZlwiLGRhcmtfY2hhcnRfYmc6XCIjMGUwZTBlXCIsbGlnaHRfZmxvYXRfbGFiZWxzX2JnOlwiI2Q2ZGFkYlwiLGRhcmtfZmxvYXRfbGFiZWxzX2JnOlwiIzMyMzczOFwiLGxpZ2h0X2Zsb2F0X2xhYmVsc190ZXh0OlwiIzMzM1wiLGRhcmtfZmxvYXRfbGFiZWxzX3RleHQ6XCIjZmZmXCJ9fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtyZWQ6XCIjZmY0NDRmXCIsbGlnaHRfY2hhcnRfdGV4dDpcIiM1NTU5NzVcIixkYXJrX2NoYXJ0X3RleHQ6XCIjOTk5XCIsbGlnaHRfY2hhcnRfZ3JpZDpcIiNmMmYzZjRcIixkYXJrX2NoYXJ0X2dyaWQ6XCIjMWQxZjIwXCIsbGlnaHRfY2hhcnRfbW91bnRhaW5fYm9yZGVyOlwiIzg1YWNiMFwiLGRhcmtfY2hhcnRfbW91bnRhaW5fYm9yZGVyOlwiI2ZmZlwiLGxpZ2h0X2NoYXJ0X21vdW50YWluX2JnOlwicmdiYSgxMzMsMTcyLDE3NiwwLjE2KVwiLGRhcmtfY2hhcnRfbW91bnRhaW5fYmc6XCJyZ2JhKDI1NSwyNTUsMjU1LDAuMzYpXCIsbGlnaHRfY2hhcnRfbW91bnRhaW5fYmdfc2hhZGU6XCJyZ2JhKDI1NSwyNTUsMjU1LDApXCIsZGFya19jaGFydF9tb3VudGFpbl9iZ19zaGFkZTpcInJnYmEoMTYsMTksMzIsMClcIixsaWdodF9jYW5kbGVfdGV4dF9jbG9zZWQ6XCJyZ2JhKDAsMCwwLDAuMTYpXCIsZGFya19jYW5kbGVfdGV4dF9jbG9zZWQ6XCJyZ2JhKDEyNywxMzEsMTUxLDAuMylcIixsaWdodF9jYW5kbGVfYmdfY2xvc2VkOlwiI2Q2ZDZkNlwiLGRhcmtfY2FuZGxlX2JnX2Nsb3NlZDpcIiMzMDMzNDJcIixsaWdodF9jaGFydF9jbG9zZWRfY2FuZGxlOlwiI2Q2ZDZkNlwiLGRhcmtfY2hhcnRfY2xvc2VkX2NhbmRsZTpcIiMzMDMzNDJcIixsaWdodF9jaGFydF9iZzpcIiNmZmZcIixkYXJrX2NoYXJ0X2JnOlwiIzBlMGUwZVwiLGxpZ2h0X2Zsb2F0X2xhYmVsc19iZzpcIiNkNmRhZGJcIixkYXJrX2Zsb2F0X2xhYmVsc19iZzpcIiMzMjM3MzhcIixsaWdodF9mbG9hdF9sYWJlbHNfdGV4dDpcIiMzMzNcIixkYXJrX2Zsb2F0X2xhYmVsc190ZXh0OlwiI2ZmZlwifX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17cmVkOlwiI2ZmNDQ0ZlwiLGxpZ2h0X2NoYXJ0X3RleHQ6XCIjNTU1OTc1XCIsZGFya19jaGFydF90ZXh0OlwiIzk5OVwiLGxpZ2h0X2NoYXJ0X2dyaWQ6XCIjZjJmM2Y0XCIsZGFya19jaGFydF9ncmlkOlwiIzFkMWYyMFwiLGxpZ2h0X2NoYXJ0X21vdW50YWluX2JvcmRlcjpcIiM4NWFjYjBcIixkYXJrX2NoYXJ0X21vdW50YWluX2JvcmRlcjpcIiNmZmZcIixsaWdodF9jaGFydF9tb3VudGFpbl9iZzpcInJnYmEoMTMzLDE3MiwxNzYsMC4xNilcIixkYXJrX2NoYXJ0X21vdW50YWluX2JnOlwicmdiYSgyNTUsMjU1LDI1NSwwLjM2KVwiLGxpZ2h0X2NoYXJ0X21vdW50YWluX2JnX3NoYWRlOlwicmdiYSgyNTUsMjU1LDI1NSwwKVwiLGRhcmtfY2hhcnRfbW91bnRhaW5fYmdfc2hhZGU6XCJyZ2JhKDE2LDE5LDMyLDApXCIsbGlnaHRfY2FuZGxlX3RleHRfY2xvc2VkOlwicmdiYSgwLDAsMCwwLjE2KVwiLGRhcmtfY2FuZGxlX3RleHRfY2xvc2VkOlwicmdiYSgxMjcsMTMxLDE1MSwwLjMpXCIsbGlnaHRfY2FuZGxlX2JnX2Nsb3NlZDpcIiNkNmQ2ZDZcIixkYXJrX2NhbmRsZV9iZ19jbG9zZWQ6XCIjMzAzMzQyXCIsbGlnaHRfY2hhcnRfY2xvc2VkX2NhbmRsZTpcIiNkNmQ2ZDZcIixkYXJrX2NoYXJ0X2Nsb3NlZF9jYW5kbGU6XCIjMzAzMzQyXCIsbGlnaHRfY2hhcnRfYmc6XCIjZmZmXCIsZGFya19jaGFydF9iZzpcIiMwZTBlMGVcIixsaWdodF9mbG9hdF9sYWJlbHNfYmc6XCIjZDZkYWRiXCIsZGFya19mbG9hdF9sYWJlbHNfYmc6XCIjMzIzNzM4XCIsbGlnaHRfZmxvYXRfbGFiZWxzX3RleHQ6XCIjMzMzXCIsZGFya19mbG9hdF9sYWJlbHNfdGV4dDpcIiNmZmZcIn19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e3JlZDpcIiNmZjQ0NGZcIixsaWdodF9jaGFydF90ZXh0OlwiIzU1NTk3NVwiLGRhcmtfY2hhcnRfdGV4dDpcIiM5OTlcIixsaWdodF9jaGFydF9ncmlkOlwiI2YyZjNmNFwiLGRhcmtfY2hhcnRfZ3JpZDpcIiMxZDFmMjBcIixsaWdodF9jaGFydF9tb3VudGFpbl9ib3JkZXI6XCIjODVhY2IwXCIsZGFya19jaGFydF9tb3VudGFpbl9ib3JkZXI6XCIjZmZmXCIsbGlnaHRfY2hhcnRfbW91bnRhaW5fYmc6XCJyZ2JhKDEzMywxNzIsMTc2LDAuMTYpXCIsZGFya19jaGFydF9tb3VudGFpbl9iZzpcInJnYmEoMjU1LDI1NSwyNTUsMC4zNilcIixsaWdodF9jaGFydF9tb3VudGFpbl9iZ19zaGFkZTpcInJnYmEoMjU1LDI1NSwyNTUsMClcIixkYXJrX2NoYXJ0X21vdW50YWluX2JnX3NoYWRlOlwicmdiYSgxNiwxOSwzMiwwKVwiLGxpZ2h0X2NhbmRsZV90ZXh0X2Nsb3NlZDpcInJnYmEoMCwwLDAsMC4xNilcIixkYXJrX2NhbmRsZV90ZXh0X2Nsb3NlZDpcInJnYmEoMTI3LDEzMSwxNTEsMC4zKVwiLGxpZ2h0X2NhbmRsZV9iZ19jbG9zZWQ6XCIjZDZkNmQ2XCIsZGFya19jYW5kbGVfYmdfY2xvc2VkOlwiIzMwMzM0MlwiLGxpZ2h0X2NoYXJ0X2Nsb3NlZF9jYW5kbGU6XCIjZDZkNmQ2XCIsZGFya19jaGFydF9jbG9zZWRfY2FuZGxlOlwiIzMwMzM0MlwiLGxpZ2h0X2NoYXJ0X2JnOlwiI2ZmZlwiLGRhcmtfY2hhcnRfYmc6XCIjMGUwZTBlXCIsbGlnaHRfZmxvYXRfbGFiZWxzX2JnOlwiI2Q2ZGFkYlwiLGRhcmtfZmxvYXRfbGFiZWxzX2JnOlwiIzMyMzczOFwiLGxpZ2h0X2Zsb2F0X2xhYmVsc190ZXh0OlwiIzMzM1wiLGRhcmtfZmxvYXRfbGFiZWxzX3RleHQ6XCIjZmZmXCJ9fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtyZWQ6XCIjZmY0NDRmXCIsbGlnaHRfY2hhcnRfdGV4dDpcIiM1NTU5NzVcIixkYXJrX2NoYXJ0X3RleHQ6XCIjOTk5XCIsbGlnaHRfY2hhcnRfZ3JpZDpcIiNmMmYzZjRcIixkYXJrX2NoYXJ0X2dyaWQ6XCIjMWQxZjIwXCIsbGlnaHRfY2hhcnRfbW91bnRhaW5fYm9yZGVyOlwiIzg1YWNiMFwiLGRhcmtfY2hhcnRfbW91bnRhaW5fYm9yZGVyOlwiI2ZmZlwiLGxpZ2h0X2NoYXJ0X21vdW50YWluX2JnOlwicmdiYSgxMzMsMTcyLDE3NiwwLjE2KVwiLGRhcmtfY2hhcnRfbW91bnRhaW5fYmc6XCJyZ2JhKDI1NSwyNTUsMjU1LDAuMzYpXCIsbGlnaHRfY2hhcnRfbW91bnRhaW5fYmdfc2hhZGU6XCJyZ2JhKDI1NSwyNTUsMjU1LDApXCIsZGFya19jaGFydF9tb3VudGFpbl9iZ19zaGFkZTpcInJnYmEoMTYsMTksMzIsMClcIixsaWdodF9jYW5kbGVfdGV4dF9jbG9zZWQ6XCJyZ2JhKDAsMCwwLDAuMTYpXCIsZGFya19jYW5kbGVfdGV4dF9jbG9zZWQ6XCJyZ2JhKDEyNywxMzEsMTUxLDAuMylcIixsaWdodF9jYW5kbGVfYmdfY2xvc2VkOlwiI2Q2ZDZkNlwiLGRhcmtfY2FuZGxlX2JnX2Nsb3NlZDpcIiMzMDMzNDJcIixsaWdodF9jaGFydF9jbG9zZWRfY2FuZGxlOlwiI2Q2ZDZkNlwiLGRhcmtfY2hhcnRfY2xvc2VkX2NhbmRsZTpcIiMzMDMzNDJcIixsaWdodF9jaGFydF9iZzpcIiNmZmZcIixkYXJrX2NoYXJ0X2JnOlwiIzBlMGUwZVwiLGxpZ2h0X2Zsb2F0X2xhYmVsc19iZzpcIiNkNmRhZGJcIixkYXJrX2Zsb2F0X2xhYmVsc19iZzpcIiMzMjM3MzhcIixsaWdodF9mbG9hdF9sYWJlbHNfdGV4dDpcIiMzMzNcIixkYXJrX2Zsb2F0X2xhYmVsc190ZXh0OlwiI2ZmZlwifX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17cmVkOlwiI2ZmNDQ0ZlwiLGxpZ2h0X2NoYXJ0X3RleHQ6XCIjNTU1OTc1XCIsZGFya19jaGFydF90ZXh0OlwiIzk5OVwiLGxpZ2h0X2NoYXJ0X2dyaWQ6XCIjZjJmM2Y0XCIsZGFya19jaGFydF9ncmlkOlwiIzFkMWYyMFwiLGxpZ2h0X2NoYXJ0X21vdW50YWluX2JvcmRlcjpcIiM4NWFjYjBcIixkYXJrX2NoYXJ0X21vdW50YWluX2JvcmRlcjpcIiNmZmZcIixsaWdodF9jaGFydF9tb3VudGFpbl9iZzpcInJnYmEoMTMzLDE3MiwxNzYsMC4xNilcIixkYXJrX2NoYXJ0X21vdW50YWluX2JnOlwicmdiYSgyNTUsMjU1LDI1NSwwLjM2KVwiLGxpZ2h0X2NoYXJ0X21vdW50YWluX2JnX3NoYWRlOlwicmdiYSgyNTUsMjU1LDI1NSwwKVwiLGRhcmtfY2hhcnRfbW91bnRhaW5fYmdfc2hhZGU6XCJyZ2JhKDE2LDE5LDMyLDApXCIsbGlnaHRfY2FuZGxlX3RleHRfY2xvc2VkOlwicmdiYSgwLDAsMCwwLjE2KVwiLGRhcmtfY2FuZGxlX3RleHRfY2xvc2VkOlwicmdiYSgxMjcsMTMxLDE1MSwwLjMpXCIsbGlnaHRfY2FuZGxlX2JnX2Nsb3NlZDpcIiNkNmQ2ZDZcIixkYXJrX2NhbmRsZV9iZ19jbG9zZWQ6XCIjMzAzMzQyXCIsbGlnaHRfY2hhcnRfY2xvc2VkX2NhbmRsZTpcIiNkNmQ2ZDZcIixkYXJrX2NoYXJ0X2Nsb3NlZF9jYW5kbGU6XCIjMzAzMzQyXCIsbGlnaHRfY2hhcnRfYmc6XCIjZmZmXCIsZGFya19jaGFydF9iZzpcIiMwZTBlMGVcIixsaWdodF9mbG9hdF9sYWJlbHNfYmc6XCIjZDZkYWRiXCIsZGFya19mbG9hdF9sYWJlbHNfYmc6XCIjMzIzNzM4XCIsbGlnaHRfZmxvYXRfbGFiZWxzX3RleHQ6XCIjMzMzXCIsZGFya19mbG9hdF9sYWJlbHNfdGV4dDpcIiNmZmZcIn19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtyLnIodCk7dmFyIG4saSxhLG8scyxjLGwsdT1yKDM4KSxoPXIoMTEpLGQ9cigyNikscD1yKDI3KSxmPXIoMjgpLG09cigyOSksZz1yKDMwKSxiPXIoMzEpLHk9cigzMiksdj1yKDMzKSxfPXIoNTMpLFM9cigzNCksdz1yKDApLHg9ci5uKHcpLGs9cigyMyksTz1yKDEpO2Z1bmN0aW9uIEMoZSx0LHIsbil7ciYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7ZW51bWVyYWJsZTpyLmVudW1lcmFibGUsY29uZmlndXJhYmxlOnIuY29uZmlndXJhYmxlLHdyaXRhYmxlOnIud3JpdGFibGUsdmFsdWU6ci5pbml0aWFsaXplcj9yLmluaXRpYWxpemVyLmNhbGwobik6dm9pZCAwfSl9ZnVuY3Rpb24gRShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19ZnVuY3Rpb24gVChlLHQscil7cmV0dXJuIHQmJkUoZS5wcm90b3R5cGUsdCksciYmRShlLHIpLGV9ZnVuY3Rpb24gUChlLHQscixuLGkpe3ZhciBhPXt9O3JldHVybiBPYmplY3Qua2V5cyhuKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2FbZV09bltlXX0pLGEuZW51bWVyYWJsZT0hIWEuZW51bWVyYWJsZSxhLmNvbmZpZ3VyYWJsZT0hIWEuY29uZmlndXJhYmxlLChcInZhbHVlXCJpbiBhfHxhLmluaXRpYWxpemVyKSYmKGEud3JpdGFibGU9ITApLGE9ci5zbGljZSgpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24ocixuKXtyZXR1cm4gbihlLHQscil8fHJ9LGEpLGkmJnZvaWQgMCE9PWEuaW5pdGlhbGl6ZXImJihhLnZhbHVlPWEuaW5pdGlhbGl6ZXI/YS5pbml0aWFsaXplci5jYWxsKGkpOnZvaWQgMCxhLmluaXRpYWxpemVyPXZvaWQgMCksdm9pZCAwPT09YS5pbml0aWFsaXplciYmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsYSksYT1udWxsKSxhfXZhciBEPShuPU8uYWN0aW9uLmJvdW5kLGE9UCgoaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dmFyIHI9dGhpczshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpLEModGhpcyxcImJvdHRvbVwiLGEsdGhpcyksQyh0aGlzLFwiaXNSZWFkeVRvU2hvd1wiLG8sdGhpcyksQyh0aGlzLFwibWFpbkNoYXJ0SGVpZ2h0XCIscyx0aGlzKSxDKHRoaXMsXCJ0b3BcIixjLHRoaXMpLEModGhpcyxcInRvdGFsSGVpZ2h0XCIsbCx0aGlzKSx0aGlzLmluaXRpYWw9ZnVuY3Rpb24oKXtyLnN0eC5hcHBlbmQoXCJkcmF3UGFuZWxzXCIsZnVuY3Rpb24oKXtyZXR1cm4gci51cGRhdGVDaGFydEhlaWdodCgpfSksci5pc1JlYWR5VG9TaG93PSEwfSx0aGlzLnVwZGF0ZUNoYXJ0TWFyZ2luPWZ1bmN0aW9uKGUpe2lmKHIuY29udGV4dCYmci5zdHgpe3ZhciB0PTEyNTtpZigyMDA9PT1lKWlmKHIuc3R4LmNoYXJ0LnlBeGlzLmhlaWdodDwzMjUpe3ZhciBuPTMyNS0oZT0xMDApLXIuc3R4LmNoYXJ0LnlBeGlzLmhlaWdodDt0PW4+MD9uOjB9ZWxzZSBPYmplY3Qua2V5cyhyLnN0eC5wYW5lbHMpLmxlbmd0aD4zJiYoZT0xMDAsdD0xMCk7ci5zdHguY2hhcnQueUF4aXMuaW5pdGlhbE1hcmdpblRvcD10LHIuc3R4LmNoYXJ0LnlBeGlzLmluaXRpYWxNYXJnaW5Cb3R0b209ZSxyLnN0eC5jYWxjdWxhdGVZQXhpc01hcmdpbnMoci5zdHguY2hhcnQucGFuZWwueUF4aXMpLHIuc3R4LmRyYXcoKSxyLm1haW5TdG9yZS5zdGF0ZS5zaG91bGRNaW5pbWlzZUxhc3REaWdpdHN8fHIubWFpblN0b3JlLnN0YXRlLnNldFNob3VsZE1pbmltaXNlTGFzdERpZ2l0KHIuc3R4LmNoYXJ0LnBhbmVsLmhlaWdodDw0NjApfX0sdGhpcy5tYWluU3RvcmU9dCxPYmplY3QoTy53aGVuKShmdW5jdGlvbigpe3JldHVybiByLmNvbnRleHR9LHRoaXMuaW5pdGlhbCl9cmV0dXJuIFQoZSxbe2tleTpcImNvbnRleHRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQuY29udGV4dH19LHtrZXk6XCJzdHhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZXh0LnN0eH19XSksVChlLFt7a2V5OlwidXBkYXRlQ2hhcnRIZWlnaHRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5tYWluQ2hhcnRIZWlnaHQ9dGhpcy5zdHgucGFuZWxzLmNoYXJ0LmhlaWdodCx0aGlzLnRvdGFsSGVpZ2h0PU9iamVjdC5rZXlzKHRoaXMuc3R4LnBhbmVscykucmVkdWNlKGZ1bmN0aW9uKHQscil7cmV0dXJuIHQrKGUuc3R4LnBhbmVsc1tyXS5oaWRkZW4/MDplLnN0eC5wYW5lbHNbcl0uaGVpZ2h0KX0sMCk7dmFyIHQ9dGhpcy50b3RhbEhlaWdodD50aGlzLm1haW5DaGFydEhlaWdodD8wOjMwLHI9XCJib3R0b21cIj09PXRoaXMubWFpblN0b3JlLmNoYXJ0U2V0dGluZy5wb3NpdGlvbiYmdGhpcy5tYWluU3RvcmUuc3RhdGUuY2hhcnRDb250cm9sc1dpZGdldHM/NDA6MDt0aGlzLnRvcD10aGlzLm1haW5DaGFydEhlaWdodC10LTIwMCx0aGlzLmJvdHRvbT10aGlzLnRvdGFsSGVpZ2h0LXRoaXMubWFpbkNoYXJ0SGVpZ2h0K3Qrcn19XSksZX0oKSkucHJvdG90eXBlLFwiYm90dG9tXCIsW08ub2JzZXJ2YWJsZV0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOmZ1bmN0aW9uKCl7cmV0dXJuIDB9fSksbz1QKGkucHJvdG90eXBlLFwiaXNSZWFkeVRvU2hvd1wiLFtPLm9ic2VydmFibGVdLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCxpbml0aWFsaXplcjpmdW5jdGlvbigpe3JldHVybiExfX0pLHM9UChpLnByb3RvdHlwZSxcIm1haW5DaGFydEhlaWdodFwiLFtPLm9ic2VydmFibGVdLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCxpbml0aWFsaXplcjpmdW5jdGlvbigpe3JldHVybiAwfX0pLGM9UChpLnByb3RvdHlwZSxcInRvcFwiLFtPLm9ic2VydmFibGVdLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCxpbml0aWFsaXplcjpmdW5jdGlvbigpe3JldHVybiAwfX0pLGw9UChpLnByb3RvdHlwZSxcInRvdGFsSGVpZ2h0XCIsW08ub2JzZXJ2YWJsZV0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOmZ1bmN0aW9uKCl7cmV0dXJuIDB9fSksUChpLnByb3RvdHlwZSxcInVwZGF0ZUNoYXJ0SGVpZ2h0XCIsW25dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaS5wcm90b3R5cGUsXCJ1cGRhdGVDaGFydEhlaWdodFwiKSxpLnByb3RvdHlwZSksaSksaj1yKDE1NyksQT1yKDE1OCksTj1yKDE2NSksST1yKDE2OCksTT1yKDE3MCksej1yKDE3MSksTD1yKDE3Mik7ZnVuY3Rpb24gUihlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19dmFyIEgscSxCLEYsVixVPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXt2YXIgcj10aGlzOyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksdGhpcy5vbkNvbnRleHRSZWFkeT1mdW5jdGlvbigpe3Iuc3R4LnByZXBlbmQoXCJoZWFkc1VwSFJcIixyLnVwZGF0ZSl9LHRoaXMuX2NvbnRhaW5lcj1udWxsLHRoaXMuX3Nwb3Q9bnVsbCx0aGlzLl9vcGVuPW51bGwsdGhpcy5fY2xvc2U9bnVsbCx0aGlzLl9oaWdoPW51bGwsdGhpcy5fbG93PW51bGwsdGhpcy51cGRhdGU9ZnVuY3Rpb24oKXtpZighci5fY29udGFpbmVyKXtpZihyLl9jb250YWluZXI9ci5jb250ZXh0LnRvcE5vZGUucXVlcnlTZWxlY3RvcihcIi5jaXEtYXNzZXQtaW5mb3JtYXRpb25cIiksIXIuX2NvbnRhaW5lcilyZXR1cm47ci5fc3BvdD1yLl9jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5jaXEtYWktc3BvdFwiKSxyLl9vcGVuPXIuX2NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmNpcS1haS1vcGVuXCIpLHIuX2Nsb3NlPXIuX2NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmNpcS1haS1jbG9zZVwiKSxyLl9oaWdoPXIuX2NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmNpcS1haS1oaWdoXCIpLHIuX2xvdz1yLl9jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5jaXEtYWktbG93XCIpfXZhciBlPXIuX2NvbnRhaW5lcjtpZihyLnZpc2libGUpe3ZhciB0PXIuc3R4LmJhckZyb21QaXhlbChyLnN0eC5jeCksbj1yLnN0eC5jaGFydC54YXhpc1t0XTtpZihuKXt2YXIgaT1uLmRhdGF8fHt9LGE9aS5PcGVuLG89aS5IaWdoLHM9aS5Mb3csYz1pLkNsb3NlO2lmKGF8fG98fHN8fGMpe2lmKGUuc3R5bGUudmlzaWJpbGl0eT1cInZpc2libGVcIixyLmlzVGljaylmb3IodmFyIGw9ZS5jaGlsZHJlbix1PXIuaXNUaWNrP1wiaGlkZGVuXCI6XCJ2aXNpYmxlXCIsaD0xO2g8bC5sZW5ndGg7KytoKWxbaF0uc3R5bGUudmlzaWJpbGl0eT11O3IuX2NvbnRhaW5lciYmKHIuX29wZW4udGV4dENvbnRlbnQ9YSYmIXIuaXNUaWNrP2EudG9GaXhlZChyLmRlY2ltYWxQbGFjZXMpOlwiXCIsci5faGlnaC50ZXh0Q29udGVudD1vJiYhci5pc1RpY2s/by50b0ZpeGVkKHIuZGVjaW1hbFBsYWNlcyk6XCJcIixyLl9sb3cudGV4dENvbnRlbnQ9cyYmIXIuaXNUaWNrP3MudG9GaXhlZChyLmRlY2ltYWxQbGFjZXMpOlwiXCIsci5fY2xvc2UudGV4dENvbnRlbnQ9YyYmIXIuaXNUaWNrP2MudG9GaXhlZChyLmRlY2ltYWxQbGFjZXMpOlwiXCIsci5fc3BvdC50ZXh0Q29udGVudD1jP2MudG9GaXhlZChyLmRlY2ltYWxQbGFjZXMpOm51bGwpfWVsc2UgZS5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCJ9fWVsc2UgZS5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCJ9LHRoaXMubWFpblN0b3JlPXQsT2JqZWN0KE8ud2hlbikoZnVuY3Rpb24oKXtyZXR1cm4gci5jb250ZXh0fSx0aGlzLm9uQ29udGV4dFJlYWR5KX12YXIgdCxyLG47cmV0dXJuIHQ9ZSwocj1be2tleTpcImRlY2ltYWxQbGFjZXNcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQuY3VycmVudEFjdGl2ZVN5bWJvbC5kZWNpbWFsX3BsYWNlc319LHtrZXk6XCJpc1RpY2tcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cInRpY2tcIj09PXRoaXMubWFpblN0b3JlLnRpbWVwZXJpb2QudGltZVVuaXR9fSx7a2V5OlwiY29udGV4dFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC5jb250ZXh0fX0se2tleTpcInZpc2libGVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5tYWluU3RvcmUuY2hhcnQuaXNNb2JpbGUmJnRoaXMubWFpblN0b3JlLmNoYXJ0U2V0dGluZy5hc3NldEluZm9ybWF0aW9ufX0se2tleTpcInN0eFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRleHQuc3R4fX1dKSYmUih0LnByb3RvdHlwZSxyKSxuJiZSKHQsbiksZX0oKSxXPXIoNDcpLFE9cig0OCk7ZnVuY3Rpb24gRyhlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19ZnVuY3Rpb24gSyhlLHQscixuLGkpe3ZhciBhPXt9O3JldHVybiBPYmplY3Qua2V5cyhuKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2FbZV09bltlXX0pLGEuZW51bWVyYWJsZT0hIWEuZW51bWVyYWJsZSxhLmNvbmZpZ3VyYWJsZT0hIWEuY29uZmlndXJhYmxlLChcInZhbHVlXCJpbiBhfHxhLmluaXRpYWxpemVyKSYmKGEud3JpdGFibGU9ITApLGE9ci5zbGljZSgpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24ocixuKXtyZXR1cm4gbihlLHQscil8fHJ9LGEpLGkmJnZvaWQgMCE9PWEuaW5pdGlhbGl6ZXImJihhLnZhbHVlPWEuaW5pdGlhbGl6ZXI/YS5pbml0aWFsaXplci5jYWxsKGkpOnZvaWQgMCxhLmluaXRpYWxpemVyPXZvaWQgMCksdm9pZCAwPT09YS5pbml0aWFsaXplciYmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsYSksYT1udWxsKSxhfXZhciBZLFgsWixKPShIPU8uYWN0aW9uLmJvdW5kLHE9Ty5hY3Rpb24uYm91bmQsQj1PLmFjdGlvbi5ib3VuZCxWPUsoKEY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3ZhciByLG4saSxhLG89dGhpczshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpLHI9dGhpcyxuPVwiYW5pbWF0ZWRQcmljZXNcIixhPXRoaXMsKGk9VikmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLG4se2VudW1lcmFibGU6aS5lbnVtZXJhYmxlLGNvbmZpZ3VyYWJsZTppLmNvbmZpZ3VyYWJsZSx3cml0YWJsZTppLndyaXRhYmxlLHZhbHVlOmkuaW5pdGlhbGl6ZXI/aS5pbml0aWFsaXplci5jYWxsKGEpOnZvaWQgMH0pLHRoaXMuYW5pbWF0ZWRQcmljZVN0b3JlPVtdLHRoaXMubWFpblN0b3JlPXQsT2JqZWN0KE8ucmVhY3Rpb24pKGZ1bmN0aW9uKCl7cmV0dXJuIG8uY29tcGFyaXNvblN5bWJvbHMubGVuZ3RofSx0aGlzLnN5bmNBbmltYXRlZFByaWNlc1dpdGhDb21wYXJpc29ucyksT2JqZWN0KE8ucmVhY3Rpb24pKGZ1bmN0aW9uKCl7cmV0dXJuIG8uY29tcGFyaXNvblN5bWJvbHMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnByaWNlfSl9LHRoaXMudXBkYXRlUHJpY2VzKX12YXIgdCxyLG47cmV0dXJuIHQ9ZSwocj1be2tleTpcInN5bmNBbmltYXRlZFByaWNlc1dpdGhDb21wYXJpc29uc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5jb21wYXJpc29uU3ltYm9scy5sZW5ndGgtdGhpcy5hbmltYXRlZFByaWNlcy5sZW5ndGg7aWYoZT4wKWZvcig7MCE9ZS0tOyl7dmFyIHQ9bmV3IFcuYTt0aGlzLmFuaW1hdGVkUHJpY2VTdG9yZS5wdXNoKHQpLHRoaXMuYW5pbWF0ZWRQcmljZXM9dGhpcy5hbmltYXRlZFByaWNlcy5jb25jYXQoW3QuY29ubmVjdChRLmEpXSl9ZWxzZSBpZihlPDApZm9yKDswIT1lKys7KXRoaXMuYW5pbWF0ZWRQcmljZXMucG9wKCksdGhpcy5hbmltYXRlZFByaWNlU3RvcmUucG9wKCl9fSx7a2V5OlwidXBkYXRlUHJpY2VzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuY29tcGFyaXNvblN5bWJvbHMubWFwKGZ1bmN0aW9uKHQscil7dmFyIG49dC5wcmljZSxpPXQucHJldlByaWNlO2UuYW5pbWF0ZWRQcmljZVN0b3JlW3JdLnNldFByaWNlKG4saSl9KX19LHtrZXk6XCJvbkRlbGV0ZUl0ZW1cIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLm1haW5TdG9yZS5jb21wYXJpc29uLnJlbW92ZUNvbXBhcmlzb24oZSl9fSx7a2V5OlwiY29tcGFyaXNvblN5bWJvbHNcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYWluU3RvcmUuY29tcGFyaXNvbi5jb21wYXJpc29uU3ltYm9sc319LHtrZXk6XCJjb250ZXh0XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0LmNvbnRleHR9fV0pJiZHKHQucHJvdG90eXBlLHIpLG4mJkcodCxuKSxlfSgpKS5wcm90b3R5cGUsXCJhbmltYXRlZFByaWNlc1wiLFtPLm9ic2VydmFibGVdLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCxpbml0aWFsaXplcjpmdW5jdGlvbigpe3JldHVybltdfX0pLEsoRi5wcm90b3R5cGUsXCJzeW5jQW5pbWF0ZWRQcmljZXNXaXRoQ29tcGFyaXNvbnNcIixbSF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihGLnByb3RvdHlwZSxcInN5bmNBbmltYXRlZFByaWNlc1dpdGhDb21wYXJpc29uc1wiKSxGLnByb3RvdHlwZSksSyhGLnByb3RvdHlwZSxcInVwZGF0ZVByaWNlc1wiLFtxXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEYucHJvdG90eXBlLFwidXBkYXRlUHJpY2VzXCIpLEYucHJvdG90eXBlKSxLKEYucHJvdG90eXBlLFwib25EZWxldGVJdGVtXCIsW0JdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRi5wcm90b3R5cGUsXCJvbkRlbGV0ZUl0ZW1cIiksRi5wcm90b3R5cGUpLEYpLCQ9cig0MyksZWU9cig0KSx0ZT1yKDcpLHJlPXIubih0ZSk7ZnVuY3Rpb24gbmUoZSl7cmV0dXJuKG5lPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBpZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19ZnVuY3Rpb24gYWUoZSx0LHIsbixpKXt2YXIgYT17fTtyZXR1cm4gT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbihlKXthW2VdPW5bZV19KSxhLmVudW1lcmFibGU9ISFhLmVudW1lcmFibGUsYS5jb25maWd1cmFibGU9ISFhLmNvbmZpZ3VyYWJsZSwoXCJ2YWx1ZVwiaW4gYXx8YS5pbml0aWFsaXplcikmJihhLndyaXRhYmxlPSEwKSxhPXIuc2xpY2UoKS5yZXZlcnNlKCkucmVkdWNlKGZ1bmN0aW9uKHIsbil7cmV0dXJuIG4oZSx0LHIpfHxyfSxhKSxpJiZ2b2lkIDAhPT1hLmluaXRpYWxpemVyJiYoYS52YWx1ZT1hLmluaXRpYWxpemVyP2EuaW5pdGlhbGl6ZXIuY2FsbChpKTp2b2lkIDAsYS5pbml0aWFsaXplcj12b2lkIDApLHZvaWQgMD09PWEuaW5pdGlhbGl6ZXImJihPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LGEpLGE9bnVsbCksYX12YXIgb2Usc2UsY2UsbGUsdWUsaGU9KFk9Ty5hY3Rpb24uYm91bmQsYWUoKFg9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3ZhciByLG4saSxhLG89dGhpczshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpLHI9dGhpcyxuPVwic3RhdGVcIixhPXRoaXMsKGk9WikmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLG4se2VudW1lcmFibGU6aS5lbnVtZXJhYmxlLGNvbmZpZ3VyYWJsZTppLmNvbmZpZ3VyYWJsZSx3cml0YWJsZTppLndyaXRhYmxlLHZhbHVlOmkuaW5pdGlhbGl6ZXI/aS5pbml0aWFsaXplci5jYWxsKGEpOnZvaWQgMH0pLHRoaXMubm9kZT1udWxsLHRoaXMubGFzdEJhcj17fSx0aGlzLnNob3dDaGFuZ2U9ITEsdGhpcy5zaG93U2VyaWVzPSEwLHRoaXMuc2hvd1N0dWRpZXM9ITAsdGhpcy5vbkNvbnRleHRSZWFkeT1mdW5jdGlvbigpe3ZhciBlPW8uc3R4LmxheW91dC5jcm9zc2hhaXIsdD1cIm51bWJlclwiIT10eXBlb2YgZT8yOmU7by5zZXRDcm9zc2hhaXJTdGF0ZSh0KSxvLnN0eC5hcHBlbmQoXCJoZWFkc1VwSFJcIixvLnJlbmRlckNyb3NzaGFpclRvb2x0aXApfSx0aGlzLnJlbmRlckNyb3NzaGFpclRvb2x0aXA9ZnVuY3Rpb24oKXtpZigyPT09by5zdGF0ZSl7dmFyIGU9by5zdHgsdD1lLmNvbnRyb2xzLHI9dC5jcm9zc1gsbj10LmNyb3NzWTtpZighKHImJlwibm9uZVwiPT09ci5zdHlsZS5kaXNwbGF5fHxuJiZcIm5vbmVcIj09PW4uc3R5bGUuZGlzcGxheSkpe3ZhciBpPWUuYmFyRnJvbVBpeGVsKGUuY3gpLGE9ZS5jaGFydC5kYXRhU2VnbWVudFtpXTtpZihhJiZvLmlzQ2hhcnRSZWFkeSl7dmFyIHMsYz0hMDtpZih2b2lkIDAhPT1hJiZhJiZhLkRUJiYocz0hMCxhLkhpZ2gmJmUucGl4ZWxGcm9tUHJpY2UoYS5IaWdoKSxhLkxvdyYmZS5waXhlbEZyb21QcmljZShhLkxvdyksZS5oaWdoTG93QmFyc1tlLmxheW91dC5jaGFydFR5cGVdfHxhLkNsb3NlJiYoZS5waXhlbEZyb21QcmljZShhLkNsb3NlKS0xNSxlLnBpeGVsRnJvbVByaWNlKGEuQ2xvc2UpKzE1KSksIShlLmluc2lkZUNoYXJ0JiZlLmxheW91dC5jcm9zc2hhaXImJmUuZGlzcGxheUNyb3NzaGFpcnMpfHxlLm92ZXJYQXhpc3x8ZS5vdmVyWUF4aXN8fGUub3BlbkRpYWxvZ3x8ZS5hY3RpdmVEcmF3aW5nfHxlLmdyYWJiaW5nU2NyZWVufHwhc3x8IWMpcmV0dXJuIG8udXBkYXRlVG9vbHRpcFBvc2l0aW9uKHtsZWZ0Oi01ZTMsdG9wOjAscm93czpudWxsfSksdm9pZChvLmxhc3RCYXI9e30pO3ZhciBsPW51bGw7T2JqZWN0KGVlLm8pKGEsby5sYXN0QmFyKSYmaSE9PWUuY2hhcnQuZGF0YVNlZ21lbnQubGVuZ3RoLTF8fChsPW8uY2FsY3VsYXRlUm93cyhhKSxvLmxhc3RCYXI9YSksby51cGRhdGVUb29sdGlwUG9zaXRpb24oe2xlZnQ6Q0lRLkNoYXJ0RW5naW5lLmNyb3NzaGFpclgtby5zdHgubGVmdCx0b3A6Q0lRLkNoYXJ0RW5naW5lLmNyb3NzaGFpclktby5zdHgudG9wLHJvd3M6bH0pfWVsc2Ugby51cGRhdGVUb29sdGlwUG9zaXRpb24oe2xlZnQ6LTVlMyx0b3A6MCxyb3dzOm51bGx9KX19fSx0aGlzLnVwZGF0ZVZpc2liaWxpdHk9ZnVuY3Rpb24oZSl7dmFyIHQ9by5zdHguY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuY3EtY3Jvc3NoYWlyXCIpOzI9PT1vLnN0YXRlJiZlP3QuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKToyPT09by5zdGF0ZSYmdC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpfSx0aGlzLm1haW5TdG9yZT10LE9iamVjdChPLndoZW4pKGZ1bmN0aW9uKCl7cmV0dXJuIG8uY29udGV4dH0sdGhpcy5vbkNvbnRleHRSZWFkeSl9dmFyIHQscixuO3JldHVybiB0PWUsKHI9W3trZXk6XCJzZXRGbG9hdFByaWNlTGFiZWxTdHlsZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnRoaXMubWFpblN0b3JlLmNoYXJ0U2V0dGluZy50aGVtZSx0PXRoaXMuc3R4LmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmNxLWNyb3NzaGFpclwiKTsyPT09dGhpcy5zdGF0ZT8odGhpcy5zdHguc2V0U3R5bGUoXCJzdHgtZmxvYXQtcHJpY2VcIixcImNvbG9yXCIsXCJ0cmFuc3BhcmVudFwiKSx0aGlzLnN0eC5zZXRTdHlsZShcInN0eC1mbG9hdC1wcmljZVwiLFwiYmFja2dyb3VuZC1jb2xvclwiLFwidHJhbnNwYXJlbnRcIiksdGhpcy5zdHguY29udHJvbHMuZmxvYXREYXRlLnN0eWxlLmNvbG9yPVwidHJhbnNwYXJlbnRcIix0aGlzLnN0eC5jb250cm9scy5mbG9hdERhdGUuc3R5bGUuYmFja2dyb3VuZENvbG9yPVwidHJhbnNwYXJlbnRcIix0aGlzLnN0eC5jb250cm9scy5mbG9hdERhdGUuc3R5bGUuZGlzcGxheT1cIm5vbmVcIix0aGlzLnN0eC5jb250cm9scy5jcm9zc1guc3R5bGUuaGVpZ2h0PVwiY2FsYygxMDAlIC0gXCIuY29uY2F0KHRoaXMuc3R4LnhheGlzSGVpZ2h0LFwicHgpXCIpLHQuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKSk6KHRoaXMuc3R4LnNldFN0eWxlKFwic3R4LWZsb2F0LXByaWNlXCIsXCJjb2xvclwiLHJlLmFbXCJcIi5jb25jYXQoZSxcIl9mbG9hdF9sYWJlbHNfdGV4dFwiKV0pLHRoaXMuc3R4LnNldFN0eWxlKFwic3R4LWZsb2F0LXByaWNlXCIsXCJiYWNrZ3JvdW5kLWNvbG9yXCIscmUuYVtcIlwiLmNvbmNhdChlLFwiX2Zsb2F0X2xhYmVsc19iZ1wiKV0pLHRoaXMuc3R4LmNvbnRyb2xzLmZsb2F0RGF0ZS5zdHlsZS5jb2xvcj1yZS5hW1wiXCIuY29uY2F0KGUsXCJfZmxvYXRfbGFiZWxzX3RleHRcIildLHRoaXMuc3R4LmNvbnRyb2xzLmZsb2F0RGF0ZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9cmUuYVtcIlwiLmNvbmNhdChlLFwiX2Zsb2F0X2xhYmVsc19iZ1wiKV0sdGhpcy5zdHguY29udHJvbHMuZmxvYXREYXRlLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiLHRoaXMuc3R4LmNvbnRyb2xzLmNyb3NzWC5zdHlsZS5oZWlnaHQ9XCIxMDAlXCIsdC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpKX19LHtrZXk6XCJ0b2dnbGVTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9KHRoaXMuc3RhdGUrMSklMzt0aGlzLnNldENyb3NzaGFpclN0YXRlKGUpLHRoaXMubWFpblN0b3JlLnN0YXRlLnNhdmVMYXlvdXQoKX19LHtrZXk6XCJzZXRDcm9zc2hhaXJTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuc3RhdGU9ZSx0aGlzLnNldEZsb2F0UHJpY2VMYWJlbFN0eWxlKCksdGhpcy5zdHgubGF5b3V0LmNyb3NzaGFpcj1lLHRoaXMuc3R4LmRvRGlzcGxheUNyb3NzaGFpcnMoKX19LHtrZXk6XCJjYWxjdWxhdGVSb3dzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zdHgscj17fSxuPVtdLGk9dC5jaGFydC5wYW5lbCxhPWkueUF4aXM7aWYobi5wdXNoKHttZW1iZXI6XCJEVFwiLGRpc3BsYXk6XCJEVFwiLHBhbmVsOmkseUF4aXM6YX0pLHIuRFQ9ci5DbG9zZT0xLHRoaXMuc2hvd0NoYW5nZSYmQ0lRLkNoYXJ0RW5naW5lLmlzRGFpbHlJbnRlcnZhbCh0LmxheW91dC5pbnRlcnZhbCkmJm4ucHVzaCh7bWVtYmVyOlwiQ2hhbmdlXCIsZGlzcGxheTpcIkNoYW5nZVwiLHBhbmVsOmkseUF4aXM6YX0pLHRoaXMuc2hvd09obCl7Zm9yKHZhciBvPTAscz1bXCJPcGVuXCIsXCJDbG9zZVwiLFwiSGlnaFwiLFwiTG93XCJdO288cy5sZW5ndGg7bysrKXt2YXIgYz1zW29dO24ucHVzaCh7bWVtYmVyOmMsZGlzcGxheTpjLHBhbmVsOmkseUF4aXM6YX0pfXIuT3Blbj1yLkhpZ2g9ci5Mb3c9MX1pZih0aGlzLnNob3dTZXJpZXMpe3ZhciBsPXQuY2hhcnQuc2VyaWVzUmVuZGVyZXJzO2Zvcih2YXIgdSBpbiBsKXt2YXIgaD1sW3VdLGQ9dC5wYW5lbHNbaC5wYXJhbXMucGFuZWxdLHA9aC5wYXJhbXMueUF4aXM7IXAmJmgucGFyYW1zLnNoYXJlWUF4aXMmJihwPWQueUF4aXMpO2Zvcih2YXIgZj0wO2Y8aC5zZXJpZXNQYXJhbXMubGVuZ3RoO2YrKyl7dmFyIG09aC5zZXJpZXNQYXJhbXNbZl07aWYobS5kaXNwbGF5PT09dGhpcy5hY3RpdmVTeW1ib2wuc3ltYm9sKXt2YXIgZz10aGlzLmFjdGl2ZVN5bWJvbC5uYW1lO24ucHVzaCh7bWVtYmVyOlwiQ2xvc2VcIixkaXNwbGF5OmcscGFuZWw6ZCx5QXhpczpwfSkscltnXT0xfWVsc2V7dmFyIGI9bS5zeW1ib2wseT1tLmZpZWxkO2I/eSYmYiE9PXkmJihiPUNJUS5jcmVhdGVPYmplY3RDaGFpbk5hbWVzKGIseSlbMF0pOmI9eTt2YXIgdj1tLmRpc3BsYXl8fG0uc3ltYm9sfHxtLmZpZWxkOyFifHxyW3ZdJiZ2b2lkIDAhPT1tLnN5bWJvbHx8KG4ucHVzaCh7bWVtYmVyOmIsZGlzcGxheTp2LHBhbmVsOmQseUF4aXM6cH0pLHJbdl09MSl9fX19aWYodGhpcy5zaG93U3R1ZGllcyl7dmFyIF89dC5sYXlvdXQuc3R1ZGllcztmb3IodmFyIFMgaW4gXyl7dmFyIHc9dC5wYW5lbHNbX1tTXS5wYW5lbF0seD13LnlBeGlzO2Zvcih2YXIgayBpbiBfW1NdLm91dHB1dE1hcClrJiYhcltrXSYmKG4ucHVzaCh7bWVtYmVyOmssZGlzcGxheTprLHBhbmVsOncseUF4aXM6eH0pLHJba109MSk7dmFyIE89XCJcIi5jb25jYXQoUyxcIl9oaXN0XCIpO2lmKCFyW09dKXtuLnB1c2goe21lbWJlcjpPLGRpc3BsYXk6TyxwYW5lbDp3LHlBeGlzOnh9KTt2YXIgQz1cIlwiLmNvbmNhdChTLFwiX2hpc3QxXCIpLEU9XCJcIi5jb25jYXQoUyxcIl9oaXN0MlwiKTtuLnB1c2goe21lbWJlcjpDLGRpc3BsYXk6QyxwYW5lbDp3LHlBeGlzOnh9KSxuLnB1c2goe21lbWJlcjpFLGRpc3BsYXk6RSxwYW5lbDp3LHlBeGlzOnh9KSxyW09dPTF9fX1mb3IodmFyIFQ9W10sUD0wLEQ9bjtQPEQubGVuZ3RoO1ArKyl7dmFyIGo9RFtQXSxBPWoubWVtYmVyLE49ai5kaXNwbGF5LEk9ai5wYW5lbCxNPWoueUF4aXMsej10aGlzLmRlY2ltYWxQbGFjZXM7TSYmKEkhPT1JLmNoYXJ0LnBhbmVsP00uZGVjaW1hbFBsYWNlc3x8MD09PU0uZGVjaW1hbFBsYWNlcz96PU0uZGVjaW1hbFBsYWNlczooTS5tYXhEZWNpbWFsUGxhY2VzfHwwPT09TS5tYXhEZWNpbWFsUGxhY2VzKSYmKHo9TS5tYXhEZWNpbWFsUGxhY2VzKTooej1NYXRoLm1heChNLnByaW50RGVjaW1hbFBsYWNlcyxJLmNoYXJ0LmRlY2ltYWxQbGFjZXMpLChNLm1heERlY2ltYWxQbGFjZXN8fDA9PT1NLm1heERlY2ltYWxQbGFjZXMpJiYoej1NYXRoLm1pbih6LE0ubWF4RGVjaW1hbFBsYWNlcykpKSk7dmFyIEw9bnVsbCxSPUNJUS5leGlzdHNJbk9iamVjdENoYWluKGUsQSk7Uj9MPVIub2JqW1IubWVtYmVyXTpcIkNoYW5nZVwiPT09QSYmKEw9ZS5DbG9zZS1lLmlxUHJldkNsb3NlKTt2YXIgSD1OLnJlcGxhY2UoL14oUmVzdWx0ICkoLiopLyxcIiQyXCIpO2lmKChMfHwwPT09TCkmJihcIkRUXCI9PT1BfHxcIm9iamVjdFwiIT09bmUoTCl8fEwuQ2xvc2V8fDA9PT1MLkNsb3NlKSl7dmFyIHE9XCJcIjtpZigoTC5DbG9zZXx8MD09PUwuQ2xvc2UpJiYoTD1MLkNsb3NlKSxMLmNvbnN0cnVjdG9yPT09TnVtYmVyKXE9TT9NLm9yaWdpbmFsUHJpY2VGb3JtYXR0ZXImJk0ub3JpZ2luYWxQcmljZUZvcm1hdHRlci5mdW5jP00ub3JpZ2luYWxQcmljZUZvcm1hdHRlci5mdW5jKHQsSSxMLHopOk0ucHJpY2VGb3JtYXR0ZXImJk0ucHJpY2VGb3JtYXR0ZXIhPT1DSVEuQ29tcGFyaXNvbi5wcmljZUZvcm1hdD9NLnByaWNlRm9ybWF0dGVyKHQsSSxMLHopOnQuZm9ybWF0WUF4aXNQcmljZShMLEkseixNKTpMLnRvRml4ZWQoeik7ZWxzZSBpZihMLmNvbnN0cnVjdG9yPT09RGF0ZSl7dmFyIEI9dC5jb250cm9scy5mbG9hdERhdGU7aWYoXCJEVFwiPT09QSYmQiYmQi5pbm5lckhUTUwpe2lmKHQuY2hhcnQueEF4aXMubm9EcmF3KWNvbnRpbnVlO3E9Qi5pbm5lckhUTUx9ZWxzZSBxPUNJUS55eXl5bW1kZChMKSxDSVEuQ2hhcnRFbmdpbmUuaXNEYWlseUludGVydmFsKHQubGF5b3V0LmludGVydmFsKXx8KHErPVwiIFwiLmNvbmNhdChMLnRvVGltZVN0cmluZygpLnN1YnN0cigwLDgpKSl9ZWxzZSBxPUw7VC5wdXNoKHtuYW1lOkgudG9VcHBlckNhc2UoKSx2YWx1ZTpxfSl9fXJldHVybiBUfX0se2tleTpcInVwZGF0ZVRvb2x0aXBQb3NpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUudG9wLHI9ZS5sZWZ0LG49ZS5yb3dzLGk9dGhpcy5zdHguY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuY3EtY3Jvc3NoYWlyXCIpO2kuc3R5bGUudHJhbnNmb3JtPVwidHJhbnNsYXRlKFwiLmNvbmNhdChyLFwicHgsIFwiKS5jb25jYXQodCxcInB4KVwiKTt2YXIgYT1yPD0zMTU/XCJhcnJvdy1sZWZ0XCI6XCJhcnJvdy1yaWdodFwiOyhhIT09dGhpcy5wcmV2X2Fycm93JiYoaS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMucHJldl9hcnJvdyksaS5jbGFzc0xpc3QuYWRkKGEpLHRoaXMucHJldl9hcnJvdz1hKSxudWxsIT09bikmJihpLnF1ZXJ5U2VsZWN0b3IoXCIuY3EtY3Jvc3NoYWlyLWNvbnRlbnRcIikuaW5uZXJIVE1MPW4ubWFwKGZ1bmN0aW9uKGUpe3JldHVybidcXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+Jy5jb25jYXQoXCJEVFwiIT09ZS5uYW1lP2UubmFtZTplLnZhbHVlLFwiPC9zcGFuPlxcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+XCIpLmNvbmNhdChcIkRUXCIhPT1lLm5hbWU/ZS52YWx1ZTpcIlwiLFwiPC9zcGFuPlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICBcIil9KS5qb2luKFwiXCIpKX19LHtrZXk6XCJhY3RpdmVTeW1ib2xcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQuY3VycmVudEFjdGl2ZVN5bWJvbH19LHtrZXk6XCJkZWNpbWFsUGxhY2VzXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWN0aXZlU3ltYm9sLmRlY2ltYWxfcGxhY2VzfX0se2tleTpcInNob3dPaGxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cInNlY29uZFwiIT09dGhpcy5zdHgubGF5b3V0LnRpbWVVbml0fX0se2tleTpcImNvbnRleHRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQuY29udGV4dH19LHtrZXk6XCJzdHhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZXh0LnN0eH19LHtrZXk6XCJpc0NoYXJ0UmVhZHlcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYWluU3RvcmUuc3RhdGUuaXNDaGFydFJlYWR5fX1dKSYmaWUodC5wcm90b3R5cGUsciksbiYmaWUodCxuKSxlfSgpKS5wcm90b3R5cGUsXCJhY3RpdmVTeW1ib2xcIixbTy5jb21wdXRlZF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihYLnByb3RvdHlwZSxcImFjdGl2ZVN5bWJvbFwiKSxYLnByb3RvdHlwZSksYWUoWC5wcm90b3R5cGUsXCJkZWNpbWFsUGxhY2VzXCIsW08uY29tcHV0ZWRdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoWC5wcm90b3R5cGUsXCJkZWNpbWFsUGxhY2VzXCIpLFgucHJvdG90eXBlKSxaPWFlKFgucHJvdG90eXBlLFwic3RhdGVcIixbTy5vYnNlcnZhYmxlXSx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITAsaW5pdGlhbGl6ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gMn19KSxhZShYLnByb3RvdHlwZSxcInRvZ2dsZVN0YXRlXCIsW1ldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoWC5wcm90b3R5cGUsXCJ0b2dnbGVTdGF0ZVwiKSxYLnByb3RvdHlwZSksWCksZGU9cig4KSxwZT1yKDkpLGZlPXIoMyk7ZnVuY3Rpb24gbWUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fWZ1bmN0aW9uIGdlKGUsdCxyLG4saSl7dmFyIGE9e307cmV0dXJuIE9iamVjdC5rZXlzKG4pLmZvckVhY2goZnVuY3Rpb24oZSl7YVtlXT1uW2VdfSksYS5lbnVtZXJhYmxlPSEhYS5lbnVtZXJhYmxlLGEuY29uZmlndXJhYmxlPSEhYS5jb25maWd1cmFibGUsKFwidmFsdWVcImluIGF8fGEuaW5pdGlhbGl6ZXIpJiYoYS53cml0YWJsZT0hMCksYT1yLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbihyLG4pe3JldHVybiBuKGUsdCxyKXx8cn0sYSksaSYmdm9pZCAwIT09YS5pbml0aWFsaXplciYmKGEudmFsdWU9YS5pbml0aWFsaXplcj9hLmluaXRpYWxpemVyLmNhbGwoaSk6dm9pZCAwLGEuaW5pdGlhbGl6ZXI9dm9pZCAwKSx2b2lkIDA9PT1hLmluaXRpYWxpemVyJiYoT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxhKSxhPW51bGwpLGF9dmFyIGJlLHllLHZlLF9lLFNlPShvZT1PLmFjdGlvbi5ib3VuZCxzZT1PLmFjdGlvbi5ib3VuZCxjZT1PLmFjdGlvbi5ib3VuZCxnZSgobGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3ZhciByLG4saSxhLG89dGhpczshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpLHI9dGhpcyxuPVwiaXNMb2FkaW5nUE5HXCIsYT10aGlzLChpPXVlKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsbix7ZW51bWVyYWJsZTppLmVudW1lcmFibGUsY29uZmlndXJhYmxlOmkuY29uZmlndXJhYmxlLHdyaXRhYmxlOmkud3JpdGFibGUsdmFsdWU6aS5pbml0aWFsaXplcj9pLmluaXRpYWxpemVyLmNhbGwoYSk6dm9pZCAwfSksdGhpcy5vbkNvbnRleHRSZWFkeT1mdW5jdGlvbigpe28uc2NyZWVuc2hvdEFyZWE9by5jb250ZXh0LnRvcE5vZGUucXVlcnlTZWxlY3RvcihcIi5jaXEtY2hhcnRcIil9LHRoaXMubWFpblN0b3JlPXQsdGhpcy5tZW51PW5ldyBkZS5hKHQse3JvdXRlOlwiZG93bmxvYWRcIn0pLE9iamVjdChPLndoZW4pKGZ1bmN0aW9uKCl7cmV0dXJuIG8uY29udGV4dH0sdGhpcy5vbkNvbnRleHRSZWFkeSksdGhpcy5TaGFyZU1lbnU9dGhpcy5tZW51LmNvbm5lY3QocGUuYSl9dmFyIHQsbixpO3JldHVybiB0PWUsKG49W3trZXk6XCJjcmVhdGVOZXdUYWJcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBuYXZpZ2F0b3IucGxhdGZvcm0mJi9pUGFkfGlQaG9uZXxpUG9kLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSk/d2luZG93Lm9wZW4oKTpudWxsfX0se2tleTpcImRvd25sb2FkUE5HXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuaXNMb2FkaW5nUE5HPSEwO3ZhciB0PXRoaXMuY3JlYXRlTmV3VGFiKCk7ci5lKDQpLnRoZW4oci50LmJpbmQobnVsbCwyNTEsNykpLnRoZW4oZnVuY3Rpb24ocil7Q0lRLmFwcGVuZENsYXNzTmFtZShlLnNjcmVlbnNob3RBcmVhLFwiY2lxLXNjcmVlbnNob3RcIiksci5kZWZhdWx0KGUuc2NyZWVuc2hvdEFyZWEpLnRoZW4oZnVuY3Rpb24ocil7cmV0dXJuIGUuX29uQ2FudmFzUmVhZHkocix0KX0pfSksT2JqZWN0KGZlLmQpKGZlLmIuQ2hhcnRDb250cm9sLGZlLmEuRG93bmxvYWQsXCJEb3dubG9hZCBQTkdcIil9fSx7a2V5OlwiX29uQ2FudmFzUmVhZHlcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPWUudG9EYXRhVVJMKFwiaW1hZ2UvcG5nXCIpO09iamVjdChlZS5nKShcIlwiLmNvbmNhdCgobmV3IERhdGUpLnRvVVRDU3RyaW5nKCksXCIucG5nXCIpLHIsXCJpbWFnZS9wbmc7XCIsdCksdGhpcy5pc0xvYWRpbmdQTkc9ITEsQ0lRLnVuYXBwZW5kQ2xhc3NOYW1lKHRoaXMuc2NyZWVuc2hvdEFyZWEsXCJjaXEtc2NyZWVuc2hvdFwiKX19LHtrZXk6XCJkb3dubG9hZENTVlwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PVwidGlja1wiPT09dGhpcy50aW1lVW5pdCxyPVtcIkRhdGUsVGltZSxcIi5jb25jYXQodD90aGlzLm1hcmtldERpc3BsYXlOYW1lOlwiT3BlbixIaWdoLExvdyxDbG9zZVwiKV0sbj10aGlzLnN0eC5tYXN0ZXJEYXRhLmxlbmd0aDsobjw9MTAwP3RoaXMuc3R4Lm1hc3RlckRhdGE6dGhpcy5zdHgubWFzdGVyRGF0YS5zbGljZShuLTEwMCxuKSkuZm9yRWFjaChmdW5jdGlvbihuKXt2YXIgaT1uLkRULGE9bi5PcGVuLG89bi5IaWdoLHM9bi5Mb3csYz1uLkNsb3NlLGw9aS5nZXRGdWxsWWVhcigpLHU9aS5nZXRNb250aCgpKzEsaD1pLmdldERhdGUoKSxkPWkuZ2V0SG91cnMoKSxwPWkuZ2V0TWludXRlcygpLGY9aS5nZXRTZWNvbmRzKCksbT1mPjk/XCI6XCIuY29uY2F0KGYpOlwiOjBcIi5jb25jYXQoZiksZz1cIlwiLmNvbmNhdChsLFwiLVwiKS5jb25jYXQodT45P3U6XCIwXCIuY29uY2F0KHUpLFwiLVwiKS5jb25jYXQoaD45P2g6XCIwXCIuY29uY2F0KGgpKSxiPVwiXCIuY29uY2F0KGQ+OT9kOlwiMFwiLmNvbmNhdChkKSxcIjpcIikuY29uY2F0KHA+OT9wOlwiMFwiLmNvbmNhdChwKSkuY29uY2F0KHQ/bTpcIlwiKTt0JiZjJiZyLnB1c2goXCJcIi5jb25jYXQoZyxcIixcIikuY29uY2F0KGIsXCIsXCIpLmNvbmNhdChjKSksIXQmJmEmJm8mJnMmJmMmJnIucHVzaChbZyxiLGEudG9GaXhlZChlLmRlY2ltYWxQbGFjZXMpLG8udG9GaXhlZChlLmRlY2ltYWxQbGFjZXMpLHMudG9GaXhlZChlLmRlY2ltYWxQbGFjZXMpLGMudG9GaXhlZChlLmRlY2ltYWxQbGFjZXMpXS5qb2luKFwiLFwiKSl9KSxPYmplY3QoZWUuZykoXCJcIi5jb25jYXQodGhpcy5tYXJrZXREaXNwbGF5TmFtZSxcIiAoXCIpLmNvbmNhdCh0aGlzLnRpbWVwZXJpb2REaXNwbGF5LFwiKS5jc3ZcIiksci5qb2luKFwiXFxuXCIpLFwidGV4dC9jc3Y7Y2hhcnNldD11dGYtODtcIix0aGlzLmNyZWF0ZU5ld1RhYigpKSxPYmplY3QoZmUuZCkoZmUuYi5DaGFydENvbnRyb2wsZmUuYS5Eb3dubG9hZCxcIkRvd25sb2FkIENTVlwiKX19LHtrZXk6XCJjb250ZXh0XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0LmNvbnRleHR9fSx7a2V5Olwic3R4XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGV4dC5zdHh9fSx7a2V5OlwidGltZVVuaXRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYWluU3RvcmUudGltZXBlcmlvZC50aW1lVW5pdH19LHtrZXk6XCJ0aW1lcGVyaW9kRGlzcGxheVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1haW5TdG9yZS50aW1lcGVyaW9kLmRpc3BsYXl9fSx7a2V5OlwibWFya2V0RGlzcGxheU5hbWVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQuY3VycmVudEFjdGl2ZVN5bWJvbC5tYXJrZXRfZGlzcGxheV9uYW1lfX0se2tleTpcImRlY2ltYWxQbGFjZXNcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQuY3VycmVudEFjdGl2ZVN5bWJvbC5kZWNpbWFsX3BsYWNlc319XSkmJm1lKHQucHJvdG90eXBlLG4pLGkmJm1lKHQsaSksZX0oKSkucHJvdG90eXBlLFwidGltZVVuaXRcIixbTy5jb21wdXRlZF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsZS5wcm90b3R5cGUsXCJ0aW1lVW5pdFwiKSxsZS5wcm90b3R5cGUpLGdlKGxlLnByb3RvdHlwZSxcInRpbWVwZXJpb2REaXNwbGF5XCIsW08uY29tcHV0ZWRdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobGUucHJvdG90eXBlLFwidGltZXBlcmlvZERpc3BsYXlcIiksbGUucHJvdG90eXBlKSxnZShsZS5wcm90b3R5cGUsXCJtYXJrZXREaXNwbGF5TmFtZVwiLFtPLmNvbXB1dGVkXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGxlLnByb3RvdHlwZSxcIm1hcmtldERpc3BsYXlOYW1lXCIpLGxlLnByb3RvdHlwZSksZ2UobGUucHJvdG90eXBlLFwiZGVjaW1hbFBsYWNlc1wiLFtPLmNvbXB1dGVkXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGxlLnByb3RvdHlwZSxcImRlY2ltYWxQbGFjZXNcIiksbGUucHJvdG90eXBlKSx1ZT1nZShsZS5wcm90b3R5cGUsXCJpc0xvYWRpbmdQTkdcIixbTy5vYnNlcnZhYmxlXSx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITAsaW5pdGlhbGl6ZXI6ZnVuY3Rpb24oKXtyZXR1cm4hMX19KSxnZShsZS5wcm90b3R5cGUsXCJkb3dubG9hZFBOR1wiLFtvZV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsZS5wcm90b3R5cGUsXCJkb3dubG9hZFBOR1wiKSxsZS5wcm90b3R5cGUpLGdlKGxlLnByb3RvdHlwZSxcIl9vbkNhbnZhc1JlYWR5XCIsW3NlXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGxlLnByb3RvdHlwZSxcIl9vbkNhbnZhc1JlYWR5XCIpLGxlLnByb3RvdHlwZSksZ2UobGUucHJvdG90eXBlLFwiZG93bmxvYWRDU1ZcIixbY2VdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobGUucHJvdG90eXBlLFwiZG93bmxvYWRDU1ZcIiksbGUucHJvdG90eXBlKSxsZSksd2U9cigxNzQpLHhlPXIoMTc1KSxrZT1yKDQ2KTtmdW5jdGlvbiBPZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19ZnVuY3Rpb24gQ2UoZSx0LHIsbixpKXt2YXIgYT17fTtyZXR1cm4gT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbihlKXthW2VdPW5bZV19KSxhLmVudW1lcmFibGU9ISFhLmVudW1lcmFibGUsYS5jb25maWd1cmFibGU9ISFhLmNvbmZpZ3VyYWJsZSwoXCJ2YWx1ZVwiaW4gYXx8YS5pbml0aWFsaXplcikmJihhLndyaXRhYmxlPSEwKSxhPXIuc2xpY2UoKS5yZXZlcnNlKCkucmVkdWNlKGZ1bmN0aW9uKHIsbil7cmV0dXJuIG4oZSx0LHIpfHxyfSxhKSxpJiZ2b2lkIDAhPT1hLmluaXRpYWxpemVyJiYoYS52YWx1ZT1hLmluaXRpYWxpemVyP2EuaW5pdGlhbGl6ZXIuY2FsbChpKTp2b2lkIDAsYS5pbml0aWFsaXplcj12b2lkIDApLHZvaWQgMD09PWEuaW5pdGlhbGl6ZXImJihPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LGEpLGE9bnVsbCksYX12YXIgRWUsVGUsUGUsRGUsamUsQWU9KGJlPU8uYWN0aW9uLmJvdW5kLHllPU8uYWN0aW9uLmJvdW5kLF9lPUNlKCh2ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dmFyIHIsbixpLGEsbz10aGlzOyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSkscj10aGlzLG49XCJzdHhcIixhPXRoaXMsKGk9X2UpJiZPYmplY3QuZGVmaW5lUHJvcGVydHkocixuLHtlbnVtZXJhYmxlOmkuZW51bWVyYWJsZSxjb25maWd1cmFibGU6aS5jb25maWd1cmFibGUsd3JpdGFibGU6aS53cml0YWJsZSx2YWx1ZTppLmluaXRpYWxpemVyP2kuaW5pdGlhbGl6ZXIuY2FsbChhKTp2b2lkIDB9KSx0aGlzLm9uQ29udGV4dFJlYWR5PWZ1bmN0aW9uKCl7by5zdHg9by5tYWluU3RvcmUuY2hhcnQuY29udGV4dC5zdHh9LHRoaXMubWFpblN0b3JlPXQsT2JqZWN0KE8ud2hlbikoZnVuY3Rpb24oKXtyZXR1cm4gby5tYWluU3RvcmUuY2hhcnQuY29udGV4dH0sdGhpcy5vbkNvbnRleHRSZWFkeSl9dmFyIHQscixuO3JldHVybiB0PWUsKHI9W3trZXk6XCJ6b29tSW5cIix2YWx1ZTpmdW5jdGlvbigpe09iamVjdChmZS5kKShmZS5iLkNoYXJ0Q29udHJvbCxmZS5hLkNoYXJ0U2l6ZSxcInpvb20gSW5cIiksdGhpcy5zdHgmJih0aGlzLnN0eC5jaGFydC5sb2NrU2Nyb2xsPSExLHRoaXMuc3R4LmNoYXJ0LmxvY2tBdXRvU2Nyb2xsPSExLHRoaXMuc3R4Lnpvb21JbigpKX19LHtrZXk6XCJ6b29tT3V0XCIsdmFsdWU6ZnVuY3Rpb24oKXtPYmplY3QoZmUuZCkoZmUuYi5DaGFydENvbnRyb2wsZmUuYS5DaGFydFNpemUsXCJ6b29tIE91dFwiKSx0aGlzLnN0eCYmKHRoaXMuc3R4LmNoYXJ0LmxvY2tTY3JvbGw9ITEsdGhpcy5zdHguY2hhcnQubG9ja0F1dG9TY3JvbGw9ITEsdGhpcy5zdHguem9vbU91dCgpKX19XSkmJk9lKHQucHJvdG90eXBlLHIpLG4mJk9lKHQsbiksZX0oKSkucHJvdG90eXBlLFwic3R4XCIsW08ub2JzZXJ2YWJsZV0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOm51bGx9KSxDZSh2ZS5wcm90b3R5cGUsXCJ6b29tSW5cIixbYmVdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodmUucHJvdG90eXBlLFwiem9vbUluXCIpLHZlLnByb3RvdHlwZSksQ2UodmUucHJvdG90eXBlLFwiem9vbU91dFwiLFt5ZV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih2ZS5wcm90b3R5cGUsXCJ6b29tT3V0XCIpLHZlLnByb3RvdHlwZSksdmUpO2Z1bmN0aW9uIE5lKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1mdW5jdGlvbiBJZShlLHQscixuLGkpe3ZhciBhPXt9O3JldHVybiBPYmplY3Qua2V5cyhuKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2FbZV09bltlXX0pLGEuZW51bWVyYWJsZT0hIWEuZW51bWVyYWJsZSxhLmNvbmZpZ3VyYWJsZT0hIWEuY29uZmlndXJhYmxlLChcInZhbHVlXCJpbiBhfHxhLmluaXRpYWxpemVyKSYmKGEud3JpdGFibGU9ITApLGE9ci5zbGljZSgpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24ocixuKXtyZXR1cm4gbihlLHQscil8fHJ9LGEpLGkmJnZvaWQgMCE9PWEuaW5pdGlhbGl6ZXImJihhLnZhbHVlPWEuaW5pdGlhbGl6ZXI/YS5pbml0aWFsaXplci5jYWxsKGkpOnZvaWQgMCxhLmluaXRpYWxpemVyPXZvaWQgMCksdm9pZCAwPT09YS5pbml0aWFsaXplciYmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsYSksYT1udWxsKSxhfXZhciBNZT1bXSx6ZT0oRWU9Ty5hY3Rpb24uYm91bmQsVGU9Ty5hY3Rpb24uYm91bmQsUGU9Ty5hY3Rpb24uYm91bmQsRGU9Ty5hY3Rpb24uYm91bmQsSWUoKGplPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpLHRoaXMubWFpblN0b3JlPXR9dmFyIHQscixuO3JldHVybiB0PWUsKHI9W3trZXk6XCJoYW5kbGVSb3V0aW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiaGFzaGNoYW5nZVwiLGZ1bmN0aW9uKCl7XCJcIj09PXdpbmRvdy5oaXN0b3J5LnN0YXRlLnVybFBhdGgucmVwbGFjZShcIiNcIixcIlwiKSYmZS5jbG9zZUFsbCgpfSwhMSl9fSx7a2V5OlwidXBkYXRlUm91dGVcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMubWFpblN0b3JlLmNoYXJ0LmVuYWJsZVJvdXRpbmc7ciYmdCYmZT8od2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHt1cmxQYXRoOlwiI1wifSxcIlwiLFwiI1wiKSx3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoe3VybFBhdGg6XCIjXCIuY29uY2F0KGUpfSxcIlwiLFwiI1wiLmNvbmNhdChlKSkpOnImJiF0JiZlJiZ3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoe3VybFBhdGg6XCIjXCJ9LFwiXCIsXCIjXCIpfX0se2tleTpcInJlZ2lzdGVyRGlhbG9nXCIsdmFsdWU6ZnVuY3Rpb24oZSl7TWUucHVzaChlKX19LHtrZXk6XCJjbG9zZUFsbFwiLHZhbHVlOmZ1bmN0aW9uKCl7TWUuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZS5zZXRPcGVuKCExKX0pfX1dKSYmTmUodC5wcm90b3R5cGUsciksbiYmTmUodCxuKSxlfSgpKS5wcm90b3R5cGUsXCJoYW5kbGVSb3V0aW5nXCIsW0VlXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGplLnByb3RvdHlwZSxcImhhbmRsZVJvdXRpbmdcIiksamUucHJvdG90eXBlKSxJZShqZS5wcm90b3R5cGUsXCJ1cGRhdGVSb3V0ZVwiLFtUZV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihqZS5wcm90b3R5cGUsXCJ1cGRhdGVSb3V0ZVwiKSxqZS5wcm90b3R5cGUpLEllKGplLnByb3RvdHlwZSxcInJlZ2lzdGVyRGlhbG9nXCIsW1BlXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGplLnByb3RvdHlwZSxcInJlZ2lzdGVyRGlhbG9nXCIpLGplLnByb3RvdHlwZSksSWUoamUucHJvdG90eXBlLFwiY2xvc2VBbGxcIixbRGVdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoamUucHJvdG90eXBlLFwiY2xvc2VBbGxcIiksamUucHJvdG90eXBlKSxqZSk7ZnVuY3Rpb24gTGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fXZhciBSZSxIZSxxZSxCZSxGZSxWZSxVZSxXZSxRZSxHZSxLZSxZZT1uYXZpZ2F0b3IudXNlckFnZW50LnNlYXJjaChcIkZpcmVmb3hcIik+MCxYZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dmFyIHI9dGhpczshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpLHRoaXMub25Db250ZXh0UmVhZHk9ZnVuY3Rpb24oKXtyLm1haW5TdG9yZS5zdGF0ZS5pc0FuaW1hdGlvbkVuYWJsZWQmJnIuc3R4LmFwcGVuZChcImRyYXdcIixyLmRyYXdTcG90KSxPYmplY3QoZWUubikoci5zdHgpfSx0aGlzLmRyYXdTcG90PWZ1bmN0aW9uKCl7aWYoIXIuc3RhdGUuZW5kRXBvY2gpe3ZhciBlPXIuc3R4LHQ9ZS5jaGFydCxuPXQuZGF0YVNldC5sZW5ndGg7aWYobil7dmFyIGk9dC5kYXRhU2V0W24tMV0sYT10LmRhdGFTZXRbbi0yXTtpZihpJiZhJiZpLkNsb3NlJiZhLkNsb3NlKXt2YXIgbz1lLnBpeGVsRnJvbVRpY2sobi0xLHQpLHM9aS5jaGFydEp1c3RBZHZhbmNlZD9vLWUucGl4ZWxGcm9tVGljayhuLTIsdCk6MCxjPWUucGl4ZWxGcm9tUHJpY2UoaS5DbG9zZSx0LnBhbmVsKSxsPU1hdGgubWluKGkudGlja0FuaW1hdGlvblByb2dyZXNzfHwwLDEpO2lmKGwmJihvLT0oMS1sKSpzKSwhKG88MHx8bz50LnlBeGlzLmxlZnR8fGM8dC55QXhpcy50b3B8fGM+dC55QXhpcy5ib3R0b20pKXt2YXIgdT1ZZT8wOmwsaD1lLmNoYXJ0LmNvbnRleHQ7aWYoaC5zYXZlKCksdSl7aC5zaGFkb3dCbHVyPTM1KnUrNHwwO3ZhciBkPTI1NSpNYXRoLnNxcnQoMS11KTtkPShkfD0wKS50b1N0cmluZygxNiksaC5zaGFkb3dDb2xvcj10ZS5yZWQrZH1oLmZpbGxTdHlsZT10ZS5yZWQ7Zm9yKHZhciBwPTA7cDwodT8zOjEpOysrcCloLmJlZ2luUGF0aCgpLGguYXJjKG8tMSxjLDQsMCwyKk1hdGguUEkpLGguZmlsbCgpO2gucmVzdG9yZSgpfX19fX0sdGhpcy5tYWluU3RvcmU9dCxPYmplY3QoTy53aGVuKShmdW5jdGlvbigpe3JldHVybiByLmNvbnRleHR9LHRoaXMub25Db250ZXh0UmVhZHkpfXZhciB0LHIsbjtyZXR1cm4gdD1lLChyPVt7a2V5OlwiY29udGV4dFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC5jb250ZXh0fX0se2tleTpcInN0eFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRleHQuc3R4fX0se2tleTpcInN0YXRlXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFpblN0b3JlLnN0YXRlfX1dKSYmTGUodC5wcm90b3R5cGUsciksbiYmTGUodCxuKSxlfSgpO2Z1bmN0aW9uIFplKGUsdCxyLG4pe3ImJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse2VudW1lcmFibGU6ci5lbnVtZXJhYmxlLGNvbmZpZ3VyYWJsZTpyLmNvbmZpZ3VyYWJsZSx3cml0YWJsZTpyLndyaXRhYmxlLHZhbHVlOnIuaW5pdGlhbGl6ZXI/ci5pbml0aWFsaXplci5jYWxsKG4pOnZvaWQgMH0pfWZ1bmN0aW9uIEplKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1mdW5jdGlvbiAkZShlLHQscixuLGkpe3ZhciBhPXt9O3JldHVybiBPYmplY3Qua2V5cyhuKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2FbZV09bltlXX0pLGEuZW51bWVyYWJsZT0hIWEuZW51bWVyYWJsZSxhLmNvbmZpZ3VyYWJsZT0hIWEuY29uZmlndXJhYmxlLChcInZhbHVlXCJpbiBhfHxhLmluaXRpYWxpemVyKSYmKGEud3JpdGFibGU9ITApLGE9ci5zbGljZSgpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24ocixuKXtyZXR1cm4gbihlLHQscil8fHJ9LGEpLGkmJnZvaWQgMCE9PWEuaW5pdGlhbGl6ZXImJihhLnZhbHVlPWEuaW5pdGlhbGl6ZXI/YS5pbml0aWFsaXplci5jYWxsKGkpOnZvaWQgMCxhLmluaXRpYWxpemVyPXZvaWQgMCksdm9pZCAwPT09YS5pbml0aWFsaXplciYmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsYSksYT1udWxsKSxhfXZhciBldCx0dCxydCxudCxpdCxhdCxvdCxzdCxjdCxsdCx1dCxodCxkdCxwdCxmdCxtdCxndCxidCx5dCx2dCxfdCxTdCx3dCx4dCxrdCxPdCxDdCxFdCxUdCxQdCxEdCxqdCxBdD0oUmU9Ty5hY3Rpb24uYm91bmQsSGU9Ty5hY3Rpb24uYm91bmQscWU9Ty5hY3Rpb24uYm91bmQsRmU9JGUoKEJlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXt2YXIgcj10aGlzOyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksWmUodGhpcyxcImlzRHJhd2luZ1wiLEZlLHRoaXMpLFplKHRoaXMsXCJ0b3BcIixWZSx0aGlzKSxaZSh0aGlzLFwibGVmdFwiLFVlLHRoaXMpLFplKHRoaXMsXCJkaXNwbGF5XCIsV2UsdGhpcyksdGhpcy5vbkNvbnRleHRSZWFkeT1mdW5jdGlvbigpe3Iuc3R4LmFwcGVuZChcIm1vdXNlbW92ZWlubmVyXCIsci5vbk1vdXNlTW92ZSksci5zdHguY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLHIub25Ub3VjaEVuZCl9LFplKHRoaXMsXCJvbk1vdXNlTW92ZVwiLFFlLHRoaXMpLFplKHRoaXMsXCJvblRvdWNoRW5kXCIsR2UsdGhpcyksWmUodGhpcyxcInVwZGF0ZURpc3BsYXlcIixLZSx0aGlzKSx0aGlzLm1haW5TdG9yZT10LE9iamVjdChPLndoZW4pKGZ1bmN0aW9uKCl7cmV0dXJuIHIuY29udGV4dH0sdGhpcy5vbkNvbnRleHRSZWFkeSl9dmFyIHQscixuO3JldHVybiB0PWUsKHI9W3trZXk6XCJjb250ZXh0XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0LmNvbnRleHR9fSx7a2V5Olwic3R4XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGV4dC5zdHh9fV0pJiZKZSh0LnByb3RvdHlwZSxyKSxuJiZKZSh0LG4pLGV9KCkpLnByb3RvdHlwZSxcImlzRHJhd2luZ1wiLFtPLm9ic2VydmFibGVdLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCxpbml0aWFsaXplcjpudWxsfSksVmU9JGUoQmUucHJvdG90eXBlLFwidG9wXCIsW08ub2JzZXJ2YWJsZV0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOm51bGx9KSxVZT0kZShCZS5wcm90b3R5cGUsXCJsZWZ0XCIsW08ub2JzZXJ2YWJsZV0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOm51bGx9KSxXZT0kZShCZS5wcm90b3R5cGUsXCJkaXNwbGF5XCIsW08ub2JzZXJ2YWJsZV0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOm51bGx9KSxRZT0kZShCZS5wcm90b3R5cGUsXCJvbk1vdXNlTW92ZVwiLFtSZV0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gZnVuY3Rpb24odCxyKXtlLmlzRHJhd2luZz1lLnN0eC5jdXJyZW50VmVjdG9yUGFyYW1ldGVycy52ZWN0b3JUeXBlLGUuaXNEcmF3aW5nPyhlLmRpc3BsYXk9XCJibG9ja1wiLGUubGVmdD10LWUuc3R4LmxlZnQsZS50b3A9ci1lLnN0eC50b3AtMTYpOmUuZGlzcGxheT1cIm5vbmVcIn19fSksR2U9JGUoQmUucHJvdG90eXBlLFwib25Ub3VjaEVuZFwiLFtIZV0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGUudXBkYXRlRGlzcGxheSw1MDApfX19KSxLZT0kZShCZS5wcm90b3R5cGUsXCJ1cGRhdGVEaXNwbGF5XCIsW3FlXSx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITAsaW5pdGlhbGl6ZXI6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBmdW5jdGlvbigpe2UuaXNEcmF3aW5nPWUuc3R4LmN1cnJlbnRWZWN0b3JQYXJhbWV0ZXJzLnZlY3RvclR5cGUsZS5pc0RyYXdpbmd8fChlLmRpc3BsYXk9XCJub25lXCIpfX19KSxCZSk7ZnVuY3Rpb24gTnQoZSx0KXt2YXIgcj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSxyLnB1c2guYXBwbHkocixuKX1yZXR1cm4gcn1mdW5jdGlvbiBJdChlLHQscil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1yLGV9ZnVuY3Rpb24gTXQoZSx0LHIsbil7ciYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7ZW51bWVyYWJsZTpyLmVudW1lcmFibGUsY29uZmlndXJhYmxlOnIuY29uZmlndXJhYmxlLHdyaXRhYmxlOnIud3JpdGFibGUsdmFsdWU6ci5pbml0aWFsaXplcj9yLmluaXRpYWxpemVyLmNhbGwobik6dm9pZCAwfSl9ZnVuY3Rpb24genQoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fWZ1bmN0aW9uIEx0KGUsdCxyKXtyZXR1cm4gdCYmenQoZS5wcm90b3R5cGUsdCksciYmenQoZSxyKSxlfWZ1bmN0aW9uIFJ0KGUsdCxyLG4saSl7dmFyIGE9e307cmV0dXJuIE9iamVjdC5rZXlzKG4pLmZvckVhY2goZnVuY3Rpb24oZSl7YVtlXT1uW2VdfSksYS5lbnVtZXJhYmxlPSEhYS5lbnVtZXJhYmxlLGEuY29uZmlndXJhYmxlPSEhYS5jb25maWd1cmFibGUsKFwidmFsdWVcImluIGF8fGEuaW5pdGlhbGl6ZXIpJiYoYS53cml0YWJsZT0hMCksYT1yLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbihyLG4pe3JldHVybiBuKGUsdCxyKXx8cn0sYSksaSYmdm9pZCAwIT09YS5pbml0aWFsaXplciYmKGEudmFsdWU9YS5pbml0aWFsaXplcj9hLmluaXRpYWxpemVyLmNhbGwoaSk6dm9pZCAwLGEuaW5pdGlhbGl6ZXI9dm9pZCAwKSx2b2lkIDA9PT1hLmluaXRpYWxpemVyJiYoT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxhKSxhPW51bGwpLGF9dmFyIEh0LHF0LEJ0LEZ0LFZ0LFV0LFd0LFF0LEd0LEt0LFl0LFh0LFp0LEp0PShldD1PLmFjdGlvbi5ib3VuZCx0dD1PLmFjdGlvbi5ib3VuZCxydD1PLmFjdGlvbi5ib3VuZCxudD1PLmFjdGlvbi5ib3VuZCxpdD1PLmFjdGlvbi5ib3VuZCxhdD1PLmFjdGlvbi5ib3VuZCxvdD1PLmFjdGlvbi5ib3VuZCxzdD1PLmFjdGlvbi5ib3VuZCxjdD1PLmFjdGlvbi5ib3VuZCx1dD1SdCgobHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3ZhciByPXRoaXM7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSxNdCh0aGlzLFwiZ3JhbnVsYXJpdHlcIix1dCx0aGlzKSxNdCh0aGlzLFwiY2hhcnRUeXBlXCIsaHQsdGhpcyksTXQodGhpcyxcInN0YXJ0RXBvY2hcIixkdCx0aGlzKSxNdCh0aGlzLFwiZW5kRXBvY2hcIixwdCx0aGlzKSxNdCh0aGlzLFwic3ltYm9sXCIsZnQsdGhpcyksTXQodGhpcyxcImlzQ29ubmVjdGlvbk9wZW5lZFwiLG10LHRoaXMpLE10KHRoaXMsXCJpc0NoYXJ0UmVhZHlcIixndCx0aGlzKSxNdCh0aGlzLFwiY2hhcnRTdGF0dXNMaXN0ZW5lclwiLGJ0LHRoaXMpLE10KHRoaXMsXCJzZXR0aW5nc1wiLHl0LHRoaXMpLE10KHRoaXMsXCJzaG93TGFzdERpZ2l0U3RhdHNcIix2dCx0aGlzKSxNdCh0aGlzLFwic2Nyb2xsVG9FcG9jaFwiLF90LHRoaXMpLE10KHRoaXMsXCJvbkV4cG9ydExheW91dFwiLFN0LHRoaXMpLE10KHRoaXMsXCJjbGVhckNoYXJ0XCIsd3QsdGhpcyksTXQodGhpcyxcImlzQ2hhcnRDbG9zZWRcIix4dCx0aGlzKSxNdCh0aGlzLFwic2hvdWxkTWluaW1pc2VMYXN0RGlnaXRzXCIsa3QsdGhpcyksTXQodGhpcyxcImlzU3RhdGljQ2hhcnRcIixPdCx0aGlzKSxNdCh0aGlzLFwic2hvdWxkRmV0Y2hUcmFkaW5nVGltZXNcIixDdCx0aGlzKSxNdCh0aGlzLFwicmVmcmVzaEFjdGl2ZVN5bWJvbHNcIixFdCx0aGlzKSxNdCh0aGlzLFwiaGFzUmVhY2hlZEVuZE9mRGF0YVwiLFR0LHRoaXMpLE10KHRoaXMsXCJwcmV2Q2hhcnRUeXBlXCIsUHQsdGhpcyksTXQodGhpcyxcImlzQ2hhcnRTY3JvbGxpbmdUb0Vwb2NoXCIsRHQsdGhpcyksdGhpcy5jaGFydENvbnRyb2xzV2lkZ2V0cz12b2lkIDAsTXQodGhpcyxcIm9uQ29udGV4dFJlYWR5XCIsanQsdGhpcyksdGhpcy5zY3JvbGxDaGFydFRvTGVmdD1mdW5jdGlvbihlLHQpe3ZhciBuPXIuc2Nyb2xsVG9FcG9jaHx8ZSYmT2JqZWN0KGVlLmwpKGUuRFQpO2lmKHIuc3R4eC5jaGFydC5lbnRyeVRpY2s9bnVsbCwhci5zY3JvbGxUb0Vwb2NofHxyLnN0YXJ0RXBvY2h8fHQpaWYobiYmci5zdGFydEVwb2NofHx0KXtyLnN0eHguY2hhcnQubG9ja1Njcm9sbD0hMCxyLnN0eHguY2hhcnQuZW50cnlUaWNrPXIuc3R4eC50aWNrRnJvbURhdGUoT2JqZWN0KGVlLmspKHIuc3RhcnRFcG9jaHx8bikpO3ZhciBpPXIuc3R4eC5jaGFydC5kYXRhU2V0Lmxlbmd0aC1yLnN0eHguY2hhcnQuZW50cnlUaWNrO3IuZW5kRXBvY2g/KHIuc3R4eC5zZXRNYXhUaWNrcyhpKyhNYXRoLmZsb29yKGkvNSl8fDIpKSxyLnN0eHguY2hhcnQuc2Nyb2xsPWkrKE1hdGguZmxvb3IoaS8xMCl8fDEpKTooci5zdHh4LnNldE1heFRpY2tzKGkrMyksci5zdHh4LmNoYXJ0LnNjcm9sbD1pKzEpLHIuc3R4eC5kcmF3KCksci5zZXRJc0NoYXJ0U2Nyb2xsaW5nVG9FcG9jaCghMSl9ZWxzZSByLnN0eHguY2hhcnQuZW50cnlUaWNrPW51bGwsci5zdHh4LmNoYXJ0LmxvY2tTY3JvbGw9ITEsci5zdHh4LmhvbWUoKSxyLnN0eHguZHJhdygpLHIuc2V0SXNDaGFydFNjcm9sbGluZ1RvRXBvY2goITEpO2Vsc2V7dmFyIGE9ci5zdHh4LmNoYXJ0LmRhdGFTZXQuZmluZChmdW5jdGlvbihlKXtyZXR1cm4gZS5EVC52YWx1ZU9mKCk9PT1DSVEuc3RyVG9EYXRlVGltZShPYmplY3QoZWUuaykobikpLnZhbHVlT2YoKX0pO3Iuc3R4eC5jaGFydC5lbnRyeVRpY2s9YT9yLnN0eHgudGlja0Zyb21EYXRlKGEuRFQpOnIuc3R4eC5jaGFydC5kYXRhU2V0Lmxlbmd0aC0xO3ZhciBvPXIuc3R4eC5jaGFydC5kYXRhU2V0Lmxlbmd0aC1yLnN0eHguY2hhcnQuZW50cnlUaWNrKzE7ci5zdHh4LmFuaW1hdGlvbnMubGl2ZVNjcm9sbCYmci5zdHh4LmFuaW1hdGlvbnMubGl2ZVNjcm9sbC5ydW5uaW5nJiZyLnN0eHguYW5pbWF0aW9ucy5saXZlU2Nyb2xsLnN0b3AoKSxyLnN0eHgubWluaW11bUxlZnRCYXJzPTEsci5zdHh4Lm1pY3JvcGl4ZWxzPTAsci5zdHh4LnNjcm9sbFRvKHIuc3R4eC5jaGFydCxvLGZ1bmN0aW9uKCl7ci5zdHh4LnNldE1heFRpY2tzKDUpLHIuc3R4eC5taWNyb3BpeGVscz0wLHIuc2V0SXNDaGFydFNjcm9sbGluZ1RvRXBvY2goITEpLHIuc3R4eC5kcmF3KCksci5zdHh4LmNoYXJ0LmxvY2tTY3JvbGw9ITB9KX1yLm1haW5TdG9yZS5jaGFydC5mZWVkLm9mZk1hc3RlckRhdGFSZWluaXRpYWxpemUoci5zY3JvbGxDaGFydFRvTGVmdCksci5tYWluU3RvcmUuY2hhcnQuZmVlZC5vZmZNYXN0ZXJEYXRhVXBkYXRlKHIuc2Nyb2xsQ2hhcnRUb0xlZnQpfSx0aGlzLm1haW5TdG9yZT10LHRoaXMuY2hhcnRTdG9yZT10LmNoYXJ0LE9iamVjdChPLndoZW4pKGZ1bmN0aW9uKCl7cmV0dXJuIHIuY29udGV4dH0sdGhpcy5vbkNvbnRleHRSZWFkeSl9cmV0dXJuIEx0KGUsW3trZXk6XCJjb21wYXJpc29uU3RvcmVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYWluU3RvcmUuY29tcGFyaXNvbn19LHtrZXk6XCJzdHh4XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2hhcnRTdG9yZS5zdHh4fX0se2tleTpcImNvbnRleHRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGFydFN0b3JlLmNvbnRleHR9fSx7a2V5OlwiY2hhcnRUeXBlU3RvcmVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnRUeXBlfX0se2tleTpcInRpbWVwZXJpb2RTdG9yZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1haW5TdG9yZS50aW1lcGVyaW9kfX0se2tleTpcImxvYWRlclwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1haW5TdG9yZS5sb2FkZXJ9fV0pLEx0KGUsW3trZXk6XCJ1cGRhdGVQcm9wc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuY2hhcnRDb250cm9sc1dpZGdldHMscj1lLmNoYXJ0U3RhdHVzTGlzdGVuZXIsbj1lLmNoYXJ0VHlwZSxpPWUuY2xlYXJDaGFydCxhPWUuZW5kRXBvY2gsbz1lLmlkLHM9ZS5pc0FuaW1hdGlvbkVuYWJsZWQsYz12b2lkIDA9PT1zfHxzLGw9ZS5pc0Nvbm5lY3Rpb25PcGVuZWQsdT1lLmlzU3RhdGljQ2hhcnQsaD1lLmdyYW51bGFyaXR5LGQ9ZS5tYXJnaW4scD12b2lkIDA9PT1kPzA6ZCxmPWUub25FeHBvcnRMYXlvdXQsbT1lLnJlZnJlc2hBY3RpdmVTeW1ib2xzLGc9ZS5yZW1vdmVBbGxDb21wYXJpc29ucyxiPWUuc2Nyb2xsVG9FcG9jaCx5PWUuc2V0dGluZ3Msdj1lLnNob3VsZEZldGNoVHJhZGluZ1RpbWVzLF89dm9pZCAwPT09dnx8dixTPWUuc2hvd0xhc3REaWdpdFN0YXRzLHc9dm9pZCAwIT09UyYmUyx4PWUuc3RhcnRFcG9jaCxrPWUuc3ltYm9sLE89ITEsQz0hMTt0aGlzLmNoYXJ0SWQ9byx0aGlzLmNoYXJ0U3RhdHVzTGlzdGVuZXI9cix0aGlzLmlzQW5pbWF0aW9uRW5hYmxlZD1jLHRoaXMuaXNDb25uZWN0aW9uT3BlbmVkPWwsdGhpcy5pc1N0YXRpY0NoYXJ0PXUsdGhpcy5tYXJnaW49cCx0aGlzLnNldHRpbmdzPXksdGhpcy5zaG91bGRGZXRjaFRyYWRpbmdUaW1lcz1fLHRoaXMuc2hvd0xhc3REaWdpdFN0YXRzPXcsdCE9PXRoaXMuY2hhcnRDb250cm9sc1dpZGdldHMmJih0aGlzLmNoYXJ0Q29udHJvbHNXaWRnZXRzPXQsdGhpcy5zdHh4JiZ0aGlzLm1haW5TdG9yZS5jaGFydC51cGRhdGVIZWlnaHQoKSksayE9PXRoaXMuc3ltYm9sJiYodGhpcy5zeW1ib2w9ayxPPSEwLHRoaXMubWFpblN0b3JlLmNoYXJ0JiZ0aGlzLm1haW5TdG9yZS5jaGFydC5mZWVkJiZiJiZ0aGlzLm1haW5TdG9yZS5jaGFydC5mZWVkLm9uTWFzdGVyRGF0YVJlaW5pdGlhbGl6ZSh0aGlzLnNjcm9sbENoYXJ0VG9MZWZ0KSksZiE9PXRoaXMub25FeHBvcnRMYXlvdXQmJih0aGlzLm9uRXhwb3J0TGF5b3V0PWYsdGhpcy5leHBvcnRMYXlvdXQoKSksbiE9PXRoaXMuY2hhcnRUeXBlJiZ0aGlzLmNvbnRleHQmJihcInRhYmxlXCI9PT1uJiYodGhpcy5wcmV2Q2hhcnRUeXBlPXRoaXMuY2hhcnRUeXBlU3RvcmUudHlwZS5pZCksdGhpcy5zZXRDaGFydFR5cGUobikpLHZvaWQgMCE9PWgmJmghPT10aGlzLmdyYW51bGFyaXR5JiYodGhpcy5zZXRDaGFydEdyYW51bGFyaXR5KGgpLEM9ITAsdGhpcy5tYWluU3RvcmUuY2hhcnQmJnRoaXMubWFpblN0b3JlLmNoYXJ0LmZlZWQmJiFPJiZiJiZ0aGlzLm1haW5TdG9yZS5jaGFydC5mZWVkLm9uTWFzdGVyRGF0YVJlaW5pdGlhbGl6ZSh0aGlzLnNjcm9sbENoYXJ0VG9MZWZ0KSksdGhpcy5jaGFydFN0b3JlLmFjdGl2ZVN5bWJvbHMmJm0hPT10aGlzLnJlZnJlc2hBY3RpdmVTeW1ib2xzJiYodGhpcy5yZWZyZXNoQWN0aXZlU3ltYm9scz1tLHRoaXMucmVmcmVzaEFjdGl2ZVN5bWJvbHMmJnRoaXMuY2hhcnRTdG9yZS5hY3RpdmVTeW1ib2xzLnJldHJpZXZlQWN0aXZlU3ltYm9scyh0aGlzLnJlZnJlc2hBY3RpdmVTeW1ib2xzKSksaSE9PXRoaXMuY2xlYXJDaGFydCYmKHRoaXMuY2xlYXJDaGFydD1pLHRoaXMuY2xlYW5DaGFydCgpKSx0aGlzLnN0YXJ0RXBvY2g9PT14JiZ0aGlzLmVuZEVwb2NoPT09YXx8KHRoaXMuc3RhcnRFcG9jaD14LHRoaXMuZW5kRXBvY2g9YSx1JiZ0aGlzLnN0eHgmJnRoaXMuZ3JhbnVsYXJpdHk9PT10aGlzLm1haW5TdG9yZS5jaGFydC5ncmFudWxhcml0eT90aGlzLm1haW5TdG9yZS5jaGFydC5uZXdDaGFydCgpOnRoaXMubWFpblN0b3JlLmNoYXJ0LmZlZWQmJih0aGlzLnNjcm9sbFRvRXBvY2h8fE98fEN8fHRoaXMubWFpblN0b3JlLmNoYXJ0LmZlZWQub25SYW5nZUNoYW5nZWQoITApKSksdXx8Yj09PXRoaXMuc2Nyb2xsVG9FcG9jaHx8KHRoaXMuc2Nyb2xsVG9FcG9jaD1iLHRoaXMubWFpblN0b3JlLmNoYXJ0JiZ0aGlzLm1haW5TdG9yZS5jaGFydC5mZWVkJiYhTyYmIUMmJih0aGlzLnNldElzQ2hhcnRTY3JvbGxpbmdUb0Vwb2NoKCEwKSx0aGlzLnNjcm9sbENoYXJ0VG9MZWZ0KCkpKSxnJiZ0aGlzLmNvbXBhcmlzb25TdG9yZS5yZW1vdmVBbGwoKSx0aGlzLm1haW5TdG9yZS5jaGFydFNldHRpbmcuc2V0U2V0dGluZ3ModGhpcy5zZXR0aW5ncyksdGhpcy5zdHh4JiYodGhpcy5zdHh4LmNoYXJ0LnBhbmVsLnlBeGlzLmRyYXdDdXJyZW50UHJpY2VMYWJlbD0hdGhpcy5lbmRFcG9jaCx0aGlzLnN0eHgucHJlZmVyZW5jZXMuY3VycmVudFByaWNlTGluZT0hdGhpcy5lbmRFcG9jaCx0aGlzLnN0eHguaXNBdXRvU2NhbGU9dGhpcy5zZXR0aW5ncyYmITEhPT10aGlzLnNldHRpbmdzLmlzQXV0b1NjYWxlLHRoaXMuc3R4eC5kcmF3KCkpfX0se2tleTpcInNldElzQ2hhcnRTY3JvbGxpbmdUb0Vwb2NoXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5pc0NoYXJ0U2Nyb2xsaW5nVG9FcG9jaD1lfX0se2tleTpcImhhc1JlYWNoZWRFbmRPZkRhdGFcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmhhc1JlYWNoZWRFbmRPZkRhdGE9ZX19LHtrZXk6XCJzZXRDaGFydENsb3NlZFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuaXNDaGFydENsb3NlZD1lfX0se2tleTpcInNldENoYXJ0VGhlbWVcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dGhpcy5pc0NoYXJ0Q2xvc2VkO2lmKHRoaXMuc3R4eC5jbGVhclN0eWxlcygpLHRoaXMuc3R4eC5zZXRTdHlsZShcInN0eF9ncmlkXCIsXCJjb2xvclwiLHJlLmFbXCJcIi5jb25jYXQoZSxcIl9jaGFydF9ncmlkXCIpXSksdGhpcy5zdHh4LnNldFN0eWxlKFwic3R4X3lheGlzXCIsXCJjb2xvclwiLHJlLmFbXCJcIi5jb25jYXQoZSxcIl9jaGFydF90ZXh0XCIpXSksdGhpcy5zdHh4LnNldFN0eWxlKFwic3R4X3hheGlzXCIsXCJjb2xvclwiLHJlLmFbXCJcIi5jb25jYXQoZSxcIl9jaGFydF90ZXh0XCIpXSksdGhpcy5zdHh4LnNldFN0eWxlKFwic3R4X3hheGlzX2RhcmtcIixcImNvbG9yXCIscmUuYVtcIlwiLmNvbmNhdChlLFwiX2NoYXJ0X3RleHRcIildKSx0aGlzLnJvb3ROb2RlfHwodGhpcy5yb290Tm9kZT10aGlzLm1haW5TdG9yZS5jaGFydC5yb290Tm9kZSksdGhpcy5yb290Tm9kZS5xdWVyeVNlbGVjdG9yKFwiLmNoYXJ0Q29udGFpbmVyXCIpLnN0eWxlLmJhY2tncm91bmRDb2xvcj1yZS5hW1wiXCIuY29uY2F0KGUsXCJfY2hhcnRfYmdcIildLHQmJiF0aGlzLmlzU3RhdGljQ2hhcnQpe3ZhciByPVwicmdiYSgxMjksIDEzMywgMTUyLCAwLjM1KVwiO3RoaXMuc3R4eC5zZXRTdHlsZShcInN0eF9tb3VudGFpbl9jaGFydFwiLFwiYm9yZGVyVG9wQ29sb3JcIixyKSx0aGlzLnN0eHguc2V0U3R5bGUoXCJzdHhfbW91bnRhaW5fY2hhcnRcIixcImJhY2tncm91bmRDb2xvclwiLHJlLmFbXCJcIi5jb25jYXQoZSxcIl9jaGFydF9tb3VudGFpbl9iZ1wiKV0pLHRoaXMuc3R4eC5zZXRTdHlsZShcInN0eF9tb3VudGFpbl9jaGFydFwiLFwiY29sb3JcIixyZS5hW1wiXCIuY29uY2F0KGUsXCJfY2hhcnRfbW91bnRhaW5fYmdfc2hhZGVcIildKSx0aGlzLnN0eHguc2V0U3R5bGUoXCJzdHhfbGluZV9jaGFydFwiLFwiY29sb3JcIixyKSx0aGlzLnN0eHguc2V0U3R5bGUoXCJzdHhfbGluZV91cFwiLFwiY29sb3JcIixyKSx0aGlzLnN0eHguc2V0U3R5bGUoXCJzdHhfbGluZV9kb3duXCIsXCJjb2xvclwiLHIpLHRoaXMuc3R4eC5zZXRTdHlsZShcInN0eF9saW5lX2V2ZW5cIixcImNvbG9yXCIsciksdGhpcy5zdHh4LnNldFN0eWxlKFwic3R4X2Jhcl91cFwiLFwiY29sb3JcIixyKSx0aGlzLnN0eHguc2V0U3R5bGUoXCJzdHhfYmFyX2Rvd25cIixcImNvbG9yXCIsciksdGhpcy5zdHh4LnNldFN0eWxlKFwic3R4X2Jhcl9ldmVuXCIsXCJjb2xvclwiLHIpLHRoaXMuc3R4eC5zZXRTdHlsZShcInN0eF9jYW5kbGVfdXBcIixcImNvbG9yXCIscmUuYVtcIlwiLmNvbmNhdChlLFwiX2NoYXJ0X2Nsb3NlZF9jYW5kbGVcIildKSx0aGlzLnN0eHguc2V0U3R5bGUoXCJzdHhfY2FuZGxlX2Rvd25cIixcImNvbG9yXCIscmUuYVtcIlwiLmNvbmNhdChlLFwiX2NoYXJ0X2Nsb3NlZF9jYW5kbGVcIildKSx0aGlzLnN0eHguc2V0U3R5bGUoXCJzdHhfY2FuZGxlX2V2ZW5cIixcImNvbG9yXCIscmUuYVtcIlwiLmNvbmNhdChlLFwiX2NoYXJ0X2Nsb3NlZF9jYW5kbGVcIildKSx0aGlzLnN0eHguc2V0U3R5bGUoXCJzdHhfY2FuZGxlX3NoYWRvd191cFwiLFwiY29sb3JcIixyKSx0aGlzLnN0eHguc2V0U3R5bGUoXCJzdHhfY2FuZGxlX3NoYWRvd19kb3duXCIsXCJjb2xvclwiLHIpLHRoaXMuc3R4eC5zZXRTdHlsZShcInN0eF9jYW5kbGVfc2hhZG93X2V2ZW5cIixcImNvbG9yXCIsciksdGhpcy5zdHh4LnNldFN0eWxlKFwic3R4X2hvbGxvd19jYW5kbGVfdXBcIixcImNvbG9yXCIscmUuYVtcIlwiLmNvbmNhdChlLFwiX2NoYXJ0X2Nsb3NlZF9jYW5kbGVcIildKSx0aGlzLnN0eHguc2V0U3R5bGUoXCJzdHhfaG9sbG93X2NhbmRsZV9kb3duXCIsXCJjb2xvclwiLHJlLmFbXCJcIi5jb25jYXQoZSxcIl9jaGFydF9jbG9zZWRfY2FuZGxlXCIpXSksdGhpcy5zdHh4LnNldFN0eWxlKFwic3R4X2hvbGxvd19jYW5kbGVfZXZlblwiLFwiY29sb3JcIixyZS5hW1wiXCIuY29uY2F0KGUsXCJfY2hhcnRfY2xvc2VkX2NhbmRsZVwiKV0pLHRoaXMuc3R4eC5zZXRTdHlsZShcInN0eF9iYXNlbGluZV91cFwiLFwiY29sb3JcIixyKSx0aGlzLnN0eHguc2V0U3R5bGUoXCJzdHhfYmFzZWxpbmVfZG93blwiLFwiY29sb3JcIixyKSx0aGlzLnN0eHguc2V0U3R5bGUoXCJzdHhfYmFzZWxpbmVfZXZlblwiLFwiY29sb3JcIixyKSx0aGlzLnN0eHguc2V0U3R5bGUoXCJzdHhfa2FnaV91cFwiLFwiY29sb3JcIixyKSx0aGlzLnN0eHguc2V0U3R5bGUoXCJzdHhfa2FnaV9kb3duXCIsXCJjb2xvclwiLHIpLHRoaXMuc3R4eC5zZXRTdHlsZShcInN0eF9wYW5kZl91cFwiLFwiY29sb3JcIixyKSx0aGlzLnN0eHguc2V0U3R5bGUoXCJzdHhfcGFuZGZfZG93blwiLFwiY29sb3JcIixyKSx0aGlzLnN0eHguc2V0U3R5bGUoXCJzdHhfY3VycmVudF9ocl9kb3duXCIsXCJjb2xvclwiLHJlLmFbXCJcIi5jb25jYXQoZSxcIl9jYW5kbGVfdGV4dF9jbG9zZWRcIildKSx0aGlzLnN0eHguc2V0U3R5bGUoXCJzdHhfY3VycmVudF9ocl91cFwiLFwiY29sb3JcIixyZS5hW1wiXCIuY29uY2F0KGUsXCJfY2FuZGxlX3RleHRfY2xvc2VkXCIpXSksdGhpcy5zdHh4LnNldFN0eWxlKFwic3R4X2N1cnJlbnRfaHJfZG93blwiLFwiYmFja2dyb3VuZC1jb2xvclwiLHJlLmFbXCJcIi5jb25jYXQoZSxcIl9jYW5kbGVfYmdfY2xvc2VkXCIpXSksdGhpcy5zdHh4LnNldFN0eWxlKFwic3R4X2N1cnJlbnRfaHJfdXBcIixcImJhY2tncm91bmQtY29sb3JcIixyZS5hW1wiXCIuY29uY2F0KGUsXCJfY2FuZGxlX2JnX2Nsb3NlZFwiKV0pfWVsc2UgdGhpcy5zdHh4LnNldFN0eWxlKFwic3R4X21vdW50YWluX2NoYXJ0XCIsXCJib3JkZXJUb3BDb2xvclwiLHJlLmFbXCJcIi5jb25jYXQoZSxcIl9jaGFydF9tb3VudGFpbl9ib3JkZXJcIildKSx0aGlzLnN0eHguc2V0U3R5bGUoXCJzdHhfbW91bnRhaW5fY2hhcnRcIixcImJhY2tncm91bmRDb2xvclwiLHJlLmFbXCJcIi5jb25jYXQoZSxcIl9jaGFydF9tb3VudGFpbl9iZ1wiKV0pLHRoaXMuc3R4eC5zZXRTdHlsZShcInN0eF9tb3VudGFpbl9jaGFydFwiLFwiY29sb3JcIixyZS5hW1wiXCIuY29uY2F0KGUsXCJfY2hhcnRfbW91bnRhaW5fYmdfc2hhZGVcIildKSx0aGlzLnN0eHguc2V0U3R5bGUoXCJzdHhfbGluZV9jaGFydFwiLFwiY29sb3JcIixyZS5hW1wiXCIuY29uY2F0KGUsXCJfY2hhcnRfbW91bnRhaW5fYm9yZGVyXCIpXSk7dGhpcy5zdHh4LmRyYXcoKX19LHtrZXk6XCJzZXRDaGFydElzUmVhZHlcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmlzQ2hhcnRSZWFkeSE9PWUmJih0aGlzLmlzQ2hhcnRSZWFkeT1lLHRoaXMuY2hhcnRTdGF0dXNMaXN0ZW5lciYmXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5jaGFydFN0YXR1c0xpc3RlbmVyJiZ0aGlzLmNoYXJ0U3RhdHVzTGlzdGVuZXIoZSkpfX0se2tleTpcInNldENoYXJ0R3JhbnVsYXJpdHlcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1cInNlY29uZFwiPT09T2JqZWN0KGVlLmIpKGUpLnRpbWVVbml0LHI9dGhpcy5tYWluU3RvcmUuY2hhcnRUeXBlLmlzQ2FuZGxlfHx0aGlzLmNoYXJ0VHlwZSYmdGhpcy5tYWluU3RvcmUuY2hhcnRUeXBlLmlzVHlwZUNhbmRsZSh0aGlzLmNoYXJ0VHlwZSk7dGhpcy5jb250ZXh0JiZ0JiZyJiZ0aGlzLnNldENoYXJ0VHlwZShcIm1vdW50YWluXCIpLHRoaXMuZ3JhbnVsYXJpdHk9bnVsbD09PWU/dm9pZCAwOmV9fSx7a2V5Olwic2V0Q2hhcnRUeXBlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5jaGFydFR5cGU9ZSx0aGlzLmNoYXJ0VHlwZVN0b3JlLm9uQ2hhcnRUeXBlQ2hhbmdlZCYmdGhpcy5jaGFydFR5cGVTdG9yZS5vbkNoYXJ0VHlwZUNoYW5nZWQoZSl9fSx7a2V5Olwic2V0U2hvdWxkTWluaW1pc2VMYXN0RGlnaXRcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnNob3VsZE1pbmltaXNlTGFzdERpZ2l0cz1lfX0se2tleTpcInNhdmVMYXlvdXRcIix2YWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMuY2hhcnRJZCl7dmFyIGU9dGhpcy5zdHh4LmV4cG9ydExheW91dCghMCksdD1KU09OLnN0cmluZ2lmeShlKTtDSVEubG9jYWxTdG9yYWdlU2V0SXRlbShcImxheW91dC1cIi5jb25jYXQodGhpcy5jaGFydElkKSx0KX19fSx7a2V5OlwicmVzdG9yZUxheW91dFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PU9iamVjdChlZS5lKShcImxheW91dC1cIi5jb25jYXQodGhpcy5jaGFydElkKSk7aWYoIXR8fCF0LnN5bWJvbHMubGVuZ3RoKXJldHVybiExO2lmKHZvaWQgMCE9PXRoaXMuc3ltYm9sJiZ0aGlzLnN5bWJvbCE9PXQuc3ltYm9sc1swXS5zeW1ib2wpe3ZhciByPXRoaXMuY2hhcnRTdG9yZS5hY3RpdmVTeW1ib2xzLmdldFN5bWJvbE9iaih0aGlzLnN5bWJvbCk7dC5zeW1ib2xzPVt7c3ltYm9sOnRoaXMuc3ltYm9sLHN5bWJvbE9iamVjdDpyfV19dmFyIG49ITAsaT0hMSxhPXZvaWQgMDt0cnl7Zm9yKHZhciBvLHM9dC5zeW1ib2xzW1N5bWJvbC5pdGVyYXRvcl0oKTshKG49KG89cy5uZXh0KCkpLmRvbmUpO249ITApe3ZhciBjPW8udmFsdWUsbD1jLnN5bWJvbCx1PXRoaXMuY2hhcnRTdG9yZS5hY3RpdmVTeW1ib2xzLmdldFN5bWJvbE9iaihsKTtjLnN5bWJvbE9iamVjdD11LGMucGFyYW1ldGVycyYmKGMucGFyYW1ldGVycy5kaXNwbGF5PXUubmFtZSxjLnBhcmFtZXRlcnMuZmlsbEdhcHM9ITAsYy5wYXJhbWV0ZXJzLmdhcERpc3BsYXlTdHlsZT0hMCl9fWNhdGNoKGUpe2k9ITAsYT1lfWZpbmFsbHl7dHJ5e258fG51bGw9PXMucmV0dXJufHxzLnJldHVybigpfWZpbmFsbHl7aWYoaSl0aHJvdyBhfX1pZih2b2lkIDAhPT10aGlzLmdyYW51bGFyaXR5KXt2YXIgaD1PYmplY3QoZWUuYikodGhpcy5ncmFudWxhcml0eSk7dD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9OdChyLCEwKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe0l0KGUsdCxyW3RdKX0pOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMocikpOk50KHIpLmZvckVhY2goZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsdCkpfSl9cmV0dXJuIGV9KHt9LHQse30saCl9ZWxzZXt2YXIgZD10LHA9ZC50aW1lVW5pdCxmPWQuaW50ZXJ2YWwsbT1kLnBlcmlvZGljaXR5LGc9cD9mOm07dGhpcy5jaGFydFN0b3JlLmdyYW51bGFyaXR5PU9iamVjdChlZS5hKShnLHB8fGYpfXJldHVybih0aGlzLnN0YXJ0RXBvY2h8fHRoaXMuZW5kRXBvY2gpJiYoZGVsZXRlIHQuc3BhbixkZWxldGUgdC5yYW5nZSksdm9pZCAwIT09dGhpcy5jaGFydFR5cGUmJih0LmNoYXJ0VHlwZT10aGlzLmNoYXJ0VHlwZSksdGhpcy5zdHh4LmltcG9ydExheW91dCh0LHttYW5hZ2VQZXJpb2RpY2l0eTohMCxjYjpmdW5jdGlvbigpe3QudGVuc2lvbiYmKGUuc3R4eC5jaGFydC50ZW5zaW9uPXQudGVuc2lvbiksZS5yZXN0b3JlRHJhd2luZ3MoKSxlLmNoYXJ0U3RvcmUubG9hZGVyJiYoZS5jaGFydFN0b3JlLmxvYWRlci5oaWRlKCksZS5zZXRDaGFydElzUmVhZHkoITApLGUuc3R4eC5ob21lKCkpLGUuY2hhcnRTdG9yZS5zZXRNYWluU2VyaWVzRGlzcGxheShlLnN0eHguY2hhcnQuc3ltYm9sT2JqZWN0Lm5hbWUpfX0pLHRoaXMuY2hhcnRTdG9yZS51cGRhdGVDdXJyZW50QWN0aXZlU3ltYm9sKCksITB9fSx7a2V5Olwic2F2ZURyYXdpbmdzXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLmNoYXJ0SWQpe3ZhciBlPXRoaXMuc3R4eC5leHBvcnREcmF3aW5ncygpLHQ9dGhpcy5zdHh4LmNoYXJ0LnN5bWJvbDswPT09ZS5sZW5ndGg/Q0lRLmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwiXCIuY29uY2F0KHQsXCItXCIpLmNvbmNhdCh0aGlzLmNoYXJ0SWQpKTpDSVEubG9jYWxTdG9yYWdlU2V0SXRlbShcIlwiLmNvbmNhdCh0LFwiLVwiKS5jb25jYXQodGhpcy5jaGFydElkKSxKU09OLnN0cmluZ2lmeShlKSl9fX0se2tleTpcInJlc3RvcmVEcmF3aW5nc1wiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5zdHh4JiZ0aGlzLnN0eHguY2hhcnQpe3ZhciBlPU9iamVjdChlZS5lKShcIlwiLmNvbmNhdCh0aGlzLnN0eHguY2hhcnQuc3ltYm9sLFwiLVwiKS5jb25jYXQodGhpcy5jaGFydElkKSk7ZSYmKHRoaXMuc3R4eC5pbXBvcnREcmF3aW5ncyhlKSx0aGlzLnN0eHguZHJhdygpKX19fSx7a2V5OlwiY2xlYW5DaGFydFwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5jbGVhckNoYXJ0JiZ0aGlzLmlzQ2hhcnRSZWFkeSl7Zm9yKHZhciBlIGluIHRoaXMuc3R4eC5jaGFydC5zZXJpZXMpdGhpcy5zdHh4LnJlbW92ZVNlcmllcyhlKTtmb3IodmFyIHQgaW4gdGhpcy5zdHh4LmxheW91dC5zdHVkaWVzKXt2YXIgcj10aGlzLnN0eHgubGF5b3V0LnN0dWRpZXNbdF07Q0lRLlN0dWRpZXMucmVtb3ZlU3R1ZHkodGhpcy5zdHh4LHIpfXRoaXMuc3R4eC5jbGVhckRyYXdpbmdzKCksdGhpcy5tYWluU3RvcmUuY3Jvc3NoYWlyLnNldENyb3NzaGFpclN0YXRlKDIpfX19LHtrZXk6XCJleHBvcnRMYXlvdXRcIix2YWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMub25FeHBvcnRMYXlvdXQmJnRoaXMuc3R4eCl7dmFyIGU9dGhpcy5zdHh4LmV4cG9ydExheW91dCgpO2Zvcih2YXIgdCBpbiBlLmRyYXdpbmdzPXRoaXMuc3R4eC5leHBvcnREcmF3aW5ncygpLGUuc2VyaWVzPVtdLHRoaXMuc3R4eC5jaGFydC5zZXJpZXMpZS5zZXJpZXMucHVzaCh0KTtlLnByZXZpb3VzTWF4VGlja3M9dGhpcy5zdHh4LmNoYXJ0Lm1heFRpY2tzLHRoaXMub25FeHBvcnRMYXlvdXQoZSl9fX0se2tleTpcInNjcm9sbExpc3RlbmVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoZS5ncmFiJiZ0aGlzLnN0eHguY2hhcnQubG9ja1Njcm9sbCYmKHRoaXMuc3R4eC5jaGFydC5sb2NrU2Nyb2xsPSExKSx0aGlzLnN0eHgmJnRoaXMuc3R4eC5jaGFydCYmIXRoaXMuc3R4eC5jaGFydC5sb2NrU2Nyb2xsKXt2YXIgdD10aGlzLnN0eHguY2hhcnQuZGF0YVNlZ21lbnQscj10aGlzLmNoYXJ0U3RvcmUuaXNNb2JpbGU/NTA6MTUwO2lmKHRoaXMuc3R4eC5tYXN0ZXJEYXRhLmxlbmd0aDx0aGlzLnN0eHguY2hhcnQubWF4VGlja3Mtcil0aGlzLnN0eHgubWluaW11bUxlZnRCYXJzPXRoaXMuc3R4eC5jaGFydC5tYXhUaWNrcy1yO2Vsc2UgaWYodCl7dmFyIG49dGhpcy5zdHh4LmNoYXJ0LnNjcm9sbDw9dGhpcy5zdHh4LmNoYXJ0Lm1heFRpY2tzLTEsaT10aGlzLmhhc1JlYWNoZWRFbmRPZkRhdGF8fHRoaXMuc3R4eC5tYXN0ZXJEYXRhLmxlbmd0aD09PXRoaXMuc3R4eC5tYXhNYXN0ZXJEYXRhU2l6ZSxhPXRoaXMubWFpblN0b3JlLmNoYXJ0LmRlZmF1bHRNaW5pbXVtQmFyczt0aGlzLnN0eHguY2hhcnQubWF4VGlja3MtMTA+NTAmJihhPTUwKSx0aGlzLnN0eHgubWluaW11bUxlZnRCYXJzPWkmJiFuP3RoaXMuc3R4eC5jaGFydC5tYXhUaWNrczpNYXRoLm1pbih0aGlzLnN0eHguY2hhcnQubWF4VGlja3MsYSl9fX19XSksZX0oKSkucHJvdG90eXBlLFwiZ3JhbnVsYXJpdHlcIixbTy5vYnNlcnZhYmxlXSx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITAsaW5pdGlhbGl6ZXI6bnVsbH0pLGh0PVJ0KGx0LnByb3RvdHlwZSxcImNoYXJ0VHlwZVwiLFtPLm9ic2VydmFibGVdLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCxpbml0aWFsaXplcjpudWxsfSksZHQ9UnQobHQucHJvdG90eXBlLFwic3RhcnRFcG9jaFwiLFtPLm9ic2VydmFibGVdLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCxpbml0aWFsaXplcjpudWxsfSkscHQ9UnQobHQucHJvdG90eXBlLFwiZW5kRXBvY2hcIixbTy5vYnNlcnZhYmxlXSx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITAsaW5pdGlhbGl6ZXI6bnVsbH0pLGZ0PVJ0KGx0LnByb3RvdHlwZSxcInN5bWJvbFwiLFtPLm9ic2VydmFibGVdLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCxpbml0aWFsaXplcjpudWxsfSksbXQ9UnQobHQucHJvdG90eXBlLFwiaXNDb25uZWN0aW9uT3BlbmVkXCIsW08ub2JzZXJ2YWJsZV0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOm51bGx9KSxndD1SdChsdC5wcm90b3R5cGUsXCJpc0NoYXJ0UmVhZHlcIixbTy5vYnNlcnZhYmxlXSx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITAsaW5pdGlhbGl6ZXI6ZnVuY3Rpb24oKXtyZXR1cm4hMX19KSxidD1SdChsdC5wcm90b3R5cGUsXCJjaGFydFN0YXR1c0xpc3RlbmVyXCIsW08ub2JzZXJ2YWJsZV0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOm51bGx9KSx5dD1SdChsdC5wcm90b3R5cGUsXCJzZXR0aW5nc1wiLFtPLm9ic2VydmFibGVdLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCxpbml0aWFsaXplcjpudWxsfSksdnQ9UnQobHQucHJvdG90eXBlLFwic2hvd0xhc3REaWdpdFN0YXRzXCIsW08ub2JzZXJ2YWJsZV0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOm51bGx9KSxfdD1SdChsdC5wcm90b3R5cGUsXCJzY3JvbGxUb0Vwb2NoXCIsW08ub2JzZXJ2YWJsZV0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOm51bGx9KSxTdD1SdChsdC5wcm90b3R5cGUsXCJvbkV4cG9ydExheW91dFwiLFtPLm9ic2VydmFibGVdLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCxpbml0aWFsaXplcjpudWxsfSksd3Q9UnQobHQucHJvdG90eXBlLFwiY2xlYXJDaGFydFwiLFtPLm9ic2VydmFibGVdLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCxpbml0aWFsaXplcjpudWxsfSkseHQ9UnQobHQucHJvdG90eXBlLFwiaXNDaGFydENsb3NlZFwiLFtPLm9ic2VydmFibGVdLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCxpbml0aWFsaXplcjpmdW5jdGlvbigpe3JldHVybiExfX0pLGt0PVJ0KGx0LnByb3RvdHlwZSxcInNob3VsZE1pbmltaXNlTGFzdERpZ2l0c1wiLFtPLm9ic2VydmFibGVdLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCxpbml0aWFsaXplcjpmdW5jdGlvbigpe3JldHVybiExfX0pLE90PVJ0KGx0LnByb3RvdHlwZSxcImlzU3RhdGljQ2hhcnRcIixbTy5vYnNlcnZhYmxlXSx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITAsaW5pdGlhbGl6ZXI6ZnVuY3Rpb24oKXtyZXR1cm4hMX19KSxDdD1SdChsdC5wcm90b3R5cGUsXCJzaG91bGRGZXRjaFRyYWRpbmdUaW1lc1wiLFtPLm9ic2VydmFibGVdLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCxpbml0aWFsaXplcjpmdW5jdGlvbigpe3JldHVybiEwfX0pLEV0PVJ0KGx0LnByb3RvdHlwZSxcInJlZnJlc2hBY3RpdmVTeW1ib2xzXCIsW08ub2JzZXJ2YWJsZV0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOm51bGx9KSxUdD1SdChsdC5wcm90b3R5cGUsXCJoYXNSZWFjaGVkRW5kT2ZEYXRhXCIsW08ub2JzZXJ2YWJsZV0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOmZ1bmN0aW9uKCl7cmV0dXJuITF9fSksUHQ9UnQobHQucHJvdG90eXBlLFwicHJldkNoYXJ0VHlwZVwiLFtPLm9ic2VydmFibGVdLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCxpbml0aWFsaXplcjpudWxsfSksRHQ9UnQobHQucHJvdG90eXBlLFwiaXNDaGFydFNjcm9sbGluZ1RvRXBvY2hcIixbTy5vYnNlcnZhYmxlXSx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITAsaW5pdGlhbGl6ZXI6ZnVuY3Rpb24oKXtyZXR1cm4hMX19KSxqdD1SdChsdC5wcm90b3R5cGUsXCJvbkNvbnRleHRSZWFkeVwiLFtldF0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gZnVuY3Rpb24oKXtlLnN0eHguYWRkRXZlbnRMaXN0ZW5lcihcImxheW91dFwiLGUuc2F2ZUxheW91dC5iaW5kKGUpKSxlLnN0eHguYWRkRXZlbnRMaXN0ZW5lcihcInN5bWJvbENoYW5nZVwiLGUuc2F2ZUxheW91dC5iaW5kKGUpKSxlLnN0eHguYWRkRXZlbnRMaXN0ZW5lcihcImRyYXdpbmdcIixlLnNhdmVEcmF3aW5ncy5iaW5kKGUpKSxlLnN0eHguYWRkRXZlbnRMaXN0ZW5lcihcIm1vdmVcIixlLnNjcm9sbExpc3RlbmVyLmJpbmQoZSkpLGUucm9vdE5vZGU9ZS5tYWluU3RvcmUuY2hhcnQucm9vdE5vZGUsZS5ncmFudWxhcml0eT1lLmNoYXJ0U3RvcmUuZ3JhbnVsYXJpdHksZS5zdHh4Lm1heE1hc3RlckRhdGFTaXplPWUuY2hhcnRTdG9yZS5nZXRNYXhNYXN0ZXJEYXRhU2l6ZShlLmdyYW51bGFyaXR5KX19fSksUnQobHQucHJvdG90eXBlLFwidXBkYXRlUHJvcHNcIixbdHRdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobHQucHJvdG90eXBlLFwidXBkYXRlUHJvcHNcIiksbHQucHJvdG90eXBlKSxSdChsdC5wcm90b3R5cGUsXCJzZXRJc0NoYXJ0U2Nyb2xsaW5nVG9FcG9jaFwiLFtydF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsdC5wcm90b3R5cGUsXCJzZXRJc0NoYXJ0U2Nyb2xsaW5nVG9FcG9jaFwiKSxsdC5wcm90b3R5cGUpLFJ0KGx0LnByb3RvdHlwZSxcImhhc1JlYWNoZWRFbmRPZkRhdGFcIixbbnRdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobHQucHJvdG90eXBlLFwiaGFzUmVhY2hlZEVuZE9mRGF0YVwiKSxsdC5wcm90b3R5cGUpLFJ0KGx0LnByb3RvdHlwZSxcInNldENoYXJ0Q2xvc2VkXCIsW2l0XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGx0LnByb3RvdHlwZSxcInNldENoYXJ0Q2xvc2VkXCIpLGx0LnByb3RvdHlwZSksUnQobHQucHJvdG90eXBlLFwic2V0Q2hhcnRJc1JlYWR5XCIsW2F0XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGx0LnByb3RvdHlwZSxcInNldENoYXJ0SXNSZWFkeVwiKSxsdC5wcm90b3R5cGUpLFJ0KGx0LnByb3RvdHlwZSxcInNldENoYXJ0R3JhbnVsYXJpdHlcIixbb3RdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobHQucHJvdG90eXBlLFwic2V0Q2hhcnRHcmFudWxhcml0eVwiKSxsdC5wcm90b3R5cGUpLFJ0KGx0LnByb3RvdHlwZSxcInNldENoYXJ0VHlwZVwiLFtzdF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsdC5wcm90b3R5cGUsXCJzZXRDaGFydFR5cGVcIiksbHQucHJvdG90eXBlKSxSdChsdC5wcm90b3R5cGUsXCJzZXRTaG91bGRNaW5pbWlzZUxhc3REaWdpdFwiLFtjdF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsdC5wcm90b3R5cGUsXCJzZXRTaG91bGRNaW5pbWlzZUxhc3REaWdpdFwiKSxsdC5wcm90b3R5cGUpLGx0KSwkdD1yKDE3NiksZXI9cig1MCksdHI9ci5uKGVyKSxycj1yKDE5KSxucj1yKDQ0KTtmdW5jdGlvbiBpcihlLHQscixuKXtyJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOnIuZW51bWVyYWJsZSxjb25maWd1cmFibGU6ci5jb25maWd1cmFibGUsd3JpdGFibGU6ci53cml0YWJsZSx2YWx1ZTpyLmluaXRpYWxpemVyP3IuaW5pdGlhbGl6ZXIuY2FsbChuKTp2b2lkIDB9KX1mdW5jdGlvbiBhcihlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19ZnVuY3Rpb24gb3IoZSx0LHIsbixpKXt2YXIgYT17fTtyZXR1cm4gT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbihlKXthW2VdPW5bZV19KSxhLmVudW1lcmFibGU9ISFhLmVudW1lcmFibGUsYS5jb25maWd1cmFibGU9ISFhLmNvbmZpZ3VyYWJsZSwoXCJ2YWx1ZVwiaW4gYXx8YS5pbml0aWFsaXplcikmJihhLndyaXRhYmxlPSEwKSxhPXIuc2xpY2UoKS5yZXZlcnNlKCkucmVkdWNlKGZ1bmN0aW9uKHIsbil7cmV0dXJuIG4oZSx0LHIpfHxyfSxhKSxpJiZ2b2lkIDAhPT1hLmluaXRpYWxpemVyJiYoYS52YWx1ZT1hLmluaXRpYWxpemVyP2EuaW5pdGlhbGl6ZXIuY2FsbChpKTp2b2lkIDAsYS5pbml0aWFsaXplcj12b2lkIDApLHZvaWQgMD09PWEuaW5pdGlhbGl6ZXImJihPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LGEpLGE9bnVsbCksYX12YXIgc3IsY3IsbHIsdXIsaHIsZHIscHI9KEh0PU8uYWN0aW9uLmJvdW5kLHF0PU8uYWN0aW9uLmJvdW5kLEJ0PU8uYWN0aW9uLmJvdW5kLEZ0PU8uYWN0aW9uLmJvdW5kLFZ0PU8uYWN0aW9uLmJvdW5kLFV0PU8uYWN0aW9uLmJvdW5kLG9yKChXdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dmFyIHI9dGhpczshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpLGlyKHRoaXMsXCJzY3JvbGxQYW5lbFwiLFF0LHRoaXMpLGlyKHRoaXMsXCJzY3JvbGxUb3BcIixHdCx0aGlzKSxpcih0aGlzLFwidGFibGVEYXRhXCIsS3QsdGhpcyksaXIodGhpcyxcImlzVGlja1wiLFl0LHRoaXMpLGlyKHRoaXMsXCJsYXN0VGlja1wiLFh0LHRoaXMpLGlyKHRoaXMsXCJzY3JvbGxQYW5lbFRvcFwiLFp0LHRoaXMpLHRoaXMubWFpblN0b3JlPXQsdGhpcy5kaWFsb2c9bmV3IG5yLmEodCksdGhpcy5EaWFsb2c9dGhpcy5kaWFsb2cuY29ubmVjdChyci5hKSx0aGlzLmRhdGVFbGVtZW50cz17fSxPYmplY3QoTy5yZWFjdGlvbikoZnVuY3Rpb24oKXtyZXR1cm4gci5kaWFsb2cub3Blbn0sdGhpcy5sb2FkVGFibGVEYXRhKX12YXIgdCxyLG47cmV0dXJuIHQ9ZSwocj1be2tleTpcInNldE9wZW5cIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5kaWFsb2cuc2V0T3BlbihlKX19LHtrZXk6XCJsb2FkVGFibGVEYXRhXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKHRoaXMub3Blbil7dmFyIHQ9dGhpcy5zdHgubWFzdGVyRGF0YS5sZW5ndGg7KHQ8PTEwMD90aGlzLnN0eC5tYXN0ZXJEYXRhOnRoaXMuc3R4Lm1hc3RlckRhdGEuc2xpY2UodC0xMDAsdCkpLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIGUudXBkYXRlVGFibGVEYXRhKHQpfSksdGhpcy5tYWluU3RvcmUuY2hhcnQuZmVlZC5vbk1hc3RlckRhdGFVcGRhdGUodGhpcy51cGRhdGVUYWJsZURhdGEpfWVsc2UgdGhpcy5tYWluU3RvcmUuY2hhcnQuZmVlZCYmdGhpcy5tYWluU3RvcmUuY2hhcnQuZmVlZC5vZmZNYXN0ZXJEYXRhVXBkYXRlKHRoaXMudXBkYXRlVGFibGVEYXRhKSx0aGlzLnRhYmxlRGF0YT1bXSx0aGlzLmNoYXJ0VHlwZVN0b3JlLm9uQ2hhcnRUeXBlQ2hhbmdlZCYmdGhpcy5zdGF0ZS5wcmV2Q2hhcnRUeXBlJiZ0aGlzLmNoYXJ0VHlwZVN0b3JlLm9uQ2hhcnRUeXBlQ2hhbmdlZCh0aGlzLnN0YXRlLnByZXZDaGFydFR5cGUpfX0se2tleTpcInVwZGF0ZVRhYmxlRGF0YVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuRFQscj1lLk9wZW4sbj1lLkhpZ2gsaT1lLkxvdyxhPWUuQ2xvc2U7dGhpcy5pc1RpY2s9XCJ0aWNrXCI9PT10aGlzLm1haW5TdG9yZS50aW1lcGVyaW9kLnRpbWVVbml0O3ZhciBvPWEtKHRoaXMubGFzdFRpY2t8fHt9KS5DbG9zZXx8MCxzPVwiXCI7MCE9PU1hdGguc2lnbihvKSYmKHM9MT09PU1hdGguc2lnbihvKT9cInVwXCI6XCJkb3duXCIpO3ZhciBjPXRyKCkodC5nZXRUaW1lKCkpLmZvcm1hdChcIkhIOm1tXCIuY29uY2F0KHRoaXMuaXNUaWNrP1wiOnNzXCI6XCJcIikpLGw9dHIoKSh0LmdldFRpbWUoKSkuZm9ybWF0KFwiWVlZWU1NRERcIiksdT10aGlzLnRhYmxlRGF0YS5maW5kKGZ1bmN0aW9uKGUpe3JldHVybiBlLmtleT09PWx9KSxoPXRoaXMuaXNUaWNrP3tEYXRlOmMsQ2xvc2U6XCJcIi5jb25jYXQoYS50b0ZpeGVkKHRoaXMuZGVjaW1hbFBsYWNlcykpLENoYW5nZTpcIlwiLmNvbmNhdChNYXRoLmFicyhvKS50b0ZpeGVkKHRoaXMuZGVjaW1hbFBsYWNlcykpLFN0YXR1czpzfTp7RGF0ZTpjLE9wZW46XCJcIi5jb25jYXQoci50b0ZpeGVkKHRoaXMuZGVjaW1hbFBsYWNlcykpLEhpZ2g6XCJcIi5jb25jYXQobi50b0ZpeGVkKHRoaXMuZGVjaW1hbFBsYWNlcykpLExvdzpcIlwiLmNvbmNhdChpLnRvRml4ZWQodGhpcy5kZWNpbWFsUGxhY2VzKSksQ2xvc2U6XCJcIi5jb25jYXQoYS50b0ZpeGVkKHRoaXMuZGVjaW1hbFBsYWNlcykpLENoYW5nZTpcIlwiLmNvbmNhdChNYXRoLmFicyhvKS50b0ZpeGVkKHRoaXMuZGVjaW1hbFBsYWNlcykpLFN0YXR1czpzfTtpZih1KXt2YXIgZD11LmRhdGFzLmZpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIGUuRGF0ZT09PWN9KTtpZihkKXt2YXIgcD0wO3RoaXMudGFibGVEYXRhLmxlbmd0aCYmdGhpcy50YWJsZURhdGFbMF0uZGF0YXMubGVuZ3RoPjE/cD10aGlzLnRhYmxlRGF0YVswXS5kYXRhc1sxXS5DbG9zZTp0aGlzLnRhYmxlRGF0YS5sZW5ndGgmJnRoaXMudGFibGVEYXRhLmxlbmd0aD4xJiYxPT09dGhpcy50YWJsZURhdGFbMF0uZGF0YXMubGVuZ3RoJiYocD10aGlzLnRhYmxlRGF0YVsxXS5kYXRhc1swXS5DbG9zZSk7dmFyIGY9YS1wLG09XCJcIjswIT09TWF0aC5zaWduKGYpJiYobT0xPT09TWF0aC5zaWduKGYpP1widXBcIjpcImRvd25cIiksZC5IaWdoPVwiXCIuY29uY2F0KG4udG9GaXhlZCh0aGlzLmRlY2ltYWxQbGFjZXMpKSxkLkxvdz1cIlwiLmNvbmNhdChpLnRvRml4ZWQodGhpcy5kZWNpbWFsUGxhY2VzKSksZC5DbG9zZT1cIlwiLmNvbmNhdChhLnRvRml4ZWQodGhpcy5kZWNpbWFsUGxhY2VzKSksZC5DaGFuZ2U9XCJcIi5jb25jYXQoTWF0aC5hYnMoZikudG9GaXhlZCh0aGlzLmRlY2ltYWxQbGFjZXMpKSxkLlN0YXR1cz1tfWVsc2UgdS5kYXRhcy51bnNoaWZ0KGgpfWVsc2UgdT17a2V5OmwsZGF0ZTp0cigpKHQuZ2V0VGltZSgpKS5mb3JtYXQoXCJERCBNTU0gWVlZWVwiKSxkYXRhczpbaF19LHRoaXMudGFibGVEYXRhLnVuc2hpZnQodSk7dGhpcy50YWJsZURhdGE9dGhpcy50YWJsZURhdGEuc2xpY2UoMCksdGhpcy5sYXN0VGljaz1ofX0se2tleTpcInVwZGF0ZVNjcm9sbFNweVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zY3JvbGxQYW5lbC5nZXRWYWx1ZXMoKS50b3A7dGhpcy5zY3JvbGxUb3A9ZX19LHtrZXk6XCJzZXREYXRlRWxlbWVudFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5kYXRlRWxlbWVudHNbZV09dH19LHtrZXk6XCJzZXRTY3JvbGxQYW5lbFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuc2Nyb2xsUGFuZWw9ZX19LHtrZXk6XCJjb250ZXh0XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0LmNvbnRleHR9fSx7a2V5Olwic3R4XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGV4dC5zdHh9fSx7a2V5Olwic3RhdGVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYWluU3RvcmUuc3RhdGV9fSx7a2V5OlwiY2hhcnRUeXBlU3RvcmVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnRUeXBlfX0se2tleTpcIm9wZW5cIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaWFsb2cub3Blbn19LHtrZXk6XCJzeW1ib2xcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQuY3VycmVudEFjdGl2ZVN5bWJvbD90aGlzLm1haW5TdG9yZS5jaGFydC5jdXJyZW50QWN0aXZlU3ltYm9sOnt9fX0se2tleTpcImRlY2ltYWxQbGFjZXNcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQuY3VycmVudEFjdGl2ZVN5bWJvbC5kZWNpbWFsX3BsYWNlc319XSkmJmFyKHQucHJvdG90eXBlLHIpLG4mJmFyKHQsbiksZX0oKSkucHJvdG90eXBlLFwib3BlblwiLFtPLmNvbXB1dGVkXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFd0LnByb3RvdHlwZSxcIm9wZW5cIiksV3QucHJvdG90eXBlKSxvcihXdC5wcm90b3R5cGUsXCJzZXRPcGVuXCIsW0h0XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFd0LnByb3RvdHlwZSxcInNldE9wZW5cIiksV3QucHJvdG90eXBlKSxRdD1vcihXdC5wcm90b3R5cGUsXCJzY3JvbGxQYW5lbFwiLFtPLm9ic2VydmFibGVdLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCxpbml0aWFsaXplcjpudWxsfSksR3Q9b3IoV3QucHJvdG90eXBlLFwic2Nyb2xsVG9wXCIsW08ub2JzZXJ2YWJsZV0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOm51bGx9KSxLdD1vcihXdC5wcm90b3R5cGUsXCJ0YWJsZURhdGFcIixbTy5vYnNlcnZhYmxlXSx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITAsaW5pdGlhbGl6ZXI6ZnVuY3Rpb24oKXtyZXR1cm5bXX19KSxZdD1vcihXdC5wcm90b3R5cGUsXCJpc1RpY2tcIixbTy5vYnNlcnZhYmxlXSx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITAsaW5pdGlhbGl6ZXI6bnVsbH0pLFh0PW9yKFd0LnByb3RvdHlwZSxcImxhc3RUaWNrXCIsW08ub2JzZXJ2YWJsZV0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOm51bGx9KSxadD1vcihXdC5wcm90b3R5cGUsXCJzY3JvbGxQYW5lbFRvcFwiLFtPLm9ic2VydmFibGVdLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCxpbml0aWFsaXplcjpudWxsfSksb3IoV3QucHJvdG90eXBlLFwic3ltYm9sXCIsW08uY29tcHV0ZWRdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoV3QucHJvdG90eXBlLFwic3ltYm9sXCIpLFd0LnByb3RvdHlwZSksb3IoV3QucHJvdG90eXBlLFwiZGVjaW1hbFBsYWNlc1wiLFtPLmNvbXB1dGVkXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFd0LnByb3RvdHlwZSxcImRlY2ltYWxQbGFjZXNcIiksV3QucHJvdG90eXBlKSxvcihXdC5wcm90b3R5cGUsXCJsb2FkVGFibGVEYXRhXCIsW3F0XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFd0LnByb3RvdHlwZSxcImxvYWRUYWJsZURhdGFcIiksV3QucHJvdG90eXBlKSxvcihXdC5wcm90b3R5cGUsXCJ1cGRhdGVUYWJsZURhdGFcIixbQnRdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoV3QucHJvdG90eXBlLFwidXBkYXRlVGFibGVEYXRhXCIpLFd0LnByb3RvdHlwZSksb3IoV3QucHJvdG90eXBlLFwidXBkYXRlU2Nyb2xsU3B5XCIsW0Z0XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFd0LnByb3RvdHlwZSxcInVwZGF0ZVNjcm9sbFNweVwiKSxXdC5wcm90b3R5cGUpLG9yKFd0LnByb3RvdHlwZSxcInNldERhdGVFbGVtZW50XCIsW1Z0XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFd0LnByb3RvdHlwZSxcInNldERhdGVFbGVtZW50XCIpLFd0LnByb3RvdHlwZSksb3IoV3QucHJvdG90eXBlLFwic2V0U2Nyb2xsUGFuZWxcIixbVXRdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoV3QucHJvdG90eXBlLFwic2V0U2Nyb2xsUGFuZWxcIiksV3QucHJvdG90eXBlKSxXdCk7ZnVuY3Rpb24gZnIoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpe2Zvcih2YXIgdD0wLHI9bmV3IEFycmF5KGUubGVuZ3RoKTt0PGUubGVuZ3RoO3QrKylyW3RdPWVbdF07cmV0dXJuIHJ9fShlKXx8ZnVuY3Rpb24oZSl7aWYoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChlKXx8XCJbb2JqZWN0IEFyZ3VtZW50c11cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSlyZXR1cm4gQXJyYXkuZnJvbShlKX0oZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpfSgpfWZ1bmN0aW9uIG1yKGUsdCxyLG4saSxhLG8pe3RyeXt2YXIgcz1lW2FdKG8pLGM9cy52YWx1ZX1jYXRjaChlKXtyZXR1cm4gdm9pZCByKGUpfXMuZG9uZT90KGMpOlByb21pc2UucmVzb2x2ZShjKS50aGVuKG4saSl9ZnVuY3Rpb24gZ3IoZSx0LHIsbil7ciYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7ZW51bWVyYWJsZTpyLmVudW1lcmFibGUsY29uZmlndXJhYmxlOnIuY29uZmlndXJhYmxlLHdyaXRhYmxlOnIud3JpdGFibGUsdmFsdWU6ci5pbml0aWFsaXplcj9yLmluaXRpYWxpemVyLmNhbGwobik6dm9pZCAwfSl9ZnVuY3Rpb24gYnIoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fWZ1bmN0aW9uIHlyKGUsdCxyLG4saSl7dmFyIGE9e307cmV0dXJuIE9iamVjdC5rZXlzKG4pLmZvckVhY2goZnVuY3Rpb24oZSl7YVtlXT1uW2VdfSksYS5lbnVtZXJhYmxlPSEhYS5lbnVtZXJhYmxlLGEuY29uZmlndXJhYmxlPSEhYS5jb25maWd1cmFibGUsKFwidmFsdWVcImluIGF8fGEuaW5pdGlhbGl6ZXIpJiYoYS53cml0YWJsZT0hMCksYT1yLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbihyLG4pe3JldHVybiBuKGUsdCxyKXx8cn0sYSksaSYmdm9pZCAwIT09YS5pbml0aWFsaXplciYmKGEudmFsdWU9YS5pbml0aWFsaXplcj9hLmluaXRpYWxpemVyLmNhbGwoaSk6dm9pZCAwLGEuaW5pdGlhbGl6ZXI9dm9pZCAwKSx2b2lkIDA9PT1hLmluaXRpYWxpemVyJiYoT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxhKSxhPW51bGwpLGF9dmFyIHZyLF9yLFNyLHdyLHhyLGtyLE9yLENyLEVyPShzcj1PLmFjdGlvbi5ib3VuZCxjcj1PLmFjdGlvbi5ib3VuZCxscj1PLmFjdGlvbi5ib3VuZCxocj15cigodXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3ZhciByPXRoaXM7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0aGlzLmNvdW50PTFlMyx0aGlzLmRpZ2l0cz1bXSx0aGlzLmxhdGVzdERhdGE9W10sdGhpcy5sYXN0U3ltYm9sPW51bGwsZ3IodGhpcyxcImJhcnNcIixocix0aGlzKSxncih0aGlzLFwibGFzdFRpY2tcIixkcix0aGlzKSx0aGlzLm1haW5TdG9yZT10LE9iamVjdChPLndoZW4pKGZ1bmN0aW9uKCl7cmV0dXJuIHIuY29udGV4dH0sZnVuY3Rpb24oKXtyLmxhc3RTeW1ib2w9ci5tYXJrZXREaXNwbGF5TmFtZSxyLnVwZGF0ZUxhc3REaWdpdFN0YXRzKCksci5tYWluU3RvcmUuY2hhcnQuZmVlZC5vbk1hc3RlckRhdGFVcGRhdGUoci5vbk1hc3RlckRhdGFVcGRhdGUpLHIubWFpblN0b3JlLmNoYXJ0LmZlZWQub25NYXN0ZXJEYXRhUmVpbml0aWFsaXplKGZ1bmN0aW9uKCl7ci5tYWluU3RvcmUuY2hhcnQuZmVlZC5vbk1hc3RlckRhdGFVcGRhdGUoci5vbk1hc3RlckRhdGFVcGRhdGUpfSl9KX12YXIgdCxyLG4saSxhO3JldHVybiB0PWUsKHI9W3trZXk6XCJ1cGRhdGVMYXN0RGlnaXRTdGF0c1wiLHZhbHVlOihpPXJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGUoKXt2YXIgdCxyLG49dGhpcztyZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6Zm9yKHRoaXMuZGlnaXRzPVtdLHRoaXMuYmFycz1bXSx0aGlzLmxhdGVzdERhdGE9W10sdD0wO3Q8MTA7dCsrKXRoaXMuZGlnaXRzLnB1c2goMCksdGhpcy5iYXJzLnB1c2goe2hlaWdodDowLGNOYW1lOlwiXCJ9KTtpZighKHRoaXMuc3R4Lm1hc3RlckRhdGEmJnRoaXMuc3R4Lm1hc3RlckRhdGEubGVuZ3RoPj10aGlzLmNvdW50KSl7ZS5uZXh0PTg7YnJlYWt9dGhpcy5sYXRlc3REYXRhPXRoaXMuc3R4Lm1hc3RlckRhdGEuc2xpY2UoLXRoaXMuY291bnQpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5DbG9zZS50b0ZpeGVkKG4uZGVjaW1hbFBsYWNlcyl9KSxlLm5leHQ9MTI7YnJlYWs7Y2FzZSA4OnJldHVybiBlLm5leHQ9MTAsdGhpcy5hcGkuZ2V0VGlja0hpc3Rvcnkoe3N5bWJvbDp0aGlzLm1haW5TdG9yZS5jaGFydC5jdXJyZW50QWN0aXZlU3ltYm9sLnN5bWJvbCxjb3VudDp0aGlzLmNvdW50fSk7Y2FzZSAxMDpyPWUuc2VudCx0aGlzLmxhdGVzdERhdGE9ciYmci5oaXN0b3J5P3IuaGlzdG9yeS5wcmljZXM6W107Y2FzZSAxMjp0aGlzLmxhdGVzdERhdGEuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD0oK2UpLnRvRml4ZWQobi5kZWNpbWFsUGxhY2VzKS5zbGljZSgtMSk7bi5kaWdpdHNbdF0rK30pLHRoaXMudXBkYXRlQmFycygpO2Nhc2UgMTQ6Y2FzZVwiZW5kXCI6cmV0dXJuIGUuc3RvcCgpfX0sZSx0aGlzKX0pLGE9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9YXJndW1lbnRzO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyLG4pe3ZhciBhPWkuYXBwbHkoZSx0KTtmdW5jdGlvbiBvKGUpe21yKGEscixuLG8scyxcIm5leHRcIixlKX1mdW5jdGlvbiBzKGUpe21yKGEscixuLG8scyxcInRocm93XCIsZSl9byh2b2lkIDApfSl9LGZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJvbk1hc3RlckRhdGFVcGRhdGVcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLkNsb3NlLHI9ZS50aWNrO2lmKHRoaXMubGFzdFRpY2s9cix0aGlzLm1hcmtldERpc3BsYXlOYW1lIT09dGhpcy5sYXN0U3ltYm9sKXRoaXMubGFzdFN5bWJvbD10aGlzLm1hcmtldERpc3BsYXlOYW1lLHRoaXMudXBkYXRlTGFzdERpZ2l0U3RhdHMoKTtlbHNlIGlmKHRoaXMubGF0ZXN0RGF0YS5sZW5ndGgpe3ZhciBuPSgrdGhpcy5sYXRlc3REYXRhLnNoaWZ0KCkpLnRvRml4ZWQodGhpcy5kZWNpbWFsUGxhY2VzKS5zbGljZSgtMSksaT0oK3QpLnRvRml4ZWQodGhpcy5kZWNpbWFsUGxhY2VzKSxhPWkuc2xpY2UoLTEpO3RoaXMubGF0ZXN0RGF0YS5wdXNoKCtpKSx0aGlzLmRpZ2l0c1thXSsrLHRoaXMuZGlnaXRzW25dLS0sdGhpcy51cGRhdGVCYXJzKCl9fX0se2tleTpcInVwZGF0ZUJhcnNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1NYXRoLm1pbi5hcHBseShNYXRoLGZyKHRoaXMuZGlnaXRzKSkscj1NYXRoLm1heC5hcHBseShNYXRoLGZyKHRoaXMuZGlnaXRzKSk7dGhpcy5kaWdpdHMuZm9yRWFjaChmdW5jdGlvbihuLGkpe2UuYmFyc1tpXS5oZWlnaHQ9MTAwKm4vZS5jb3VudCxlLmJhcnNbaV0uY05hbWU9bj09PXQ/XCJtaW5cIjpuPT09cj9cIm1heFwiOlwiXCJ9KSx0aGlzLmJhcnM9dGhpcy5iYXJzLnNsaWNlKDApfX0se2tleTpcImNvbnRleHRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQuY29udGV4dH19LHtrZXk6XCJzdHhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZXh0LnN0eH19LHtrZXk6XCJhcGlcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQuYXBpfX0se2tleTpcImRlY2ltYWxQbGFjZXNcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQuY3VycmVudEFjdGl2ZVN5bWJvbC5kZWNpbWFsX3BsYWNlc319LHtrZXk6XCJpc1Zpc2libGVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYWluU3RvcmUuc3RhdGUuc2hvd0xhc3REaWdpdFN0YXRzfX0se2tleTpcIm1hcmtldERpc3BsYXlOYW1lXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0LmN1cnJlbnRBY3RpdmVTeW1ib2w/dGhpcy5tYWluU3RvcmUuY2hhcnQuY3VycmVudEFjdGl2ZVN5bWJvbC5uYW1lOlwiXCJ9fSx7a2V5Olwic2hvdWxkTWluaW1pc2VMYXN0RGlnaXRzXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFpblN0b3JlLnN0YXRlLnNob3VsZE1pbmltaXNlTGFzdERpZ2l0c319XSkmJmJyKHQucHJvdG90eXBlLHIpLG4mJmJyKHQsbiksZX0oKSkucHJvdG90eXBlLFwiYmFyc1wiLFtPLm9ic2VydmFibGVdLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCxpbml0aWFsaXplcjpmdW5jdGlvbigpe3JldHVybltdfX0pLGRyPXlyKHVyLnByb3RvdHlwZSxcImxhc3RUaWNrXCIsW08ub2JzZXJ2YWJsZV0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9fSkseXIodXIucHJvdG90eXBlLFwiZGVjaW1hbFBsYWNlc1wiLFtPLmNvbXB1dGVkXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHVyLnByb3RvdHlwZSxcImRlY2ltYWxQbGFjZXNcIiksdXIucHJvdG90eXBlKSx5cih1ci5wcm90b3R5cGUsXCJpc1Zpc2libGVcIixbTy5jb21wdXRlZF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih1ci5wcm90b3R5cGUsXCJpc1Zpc2libGVcIiksdXIucHJvdG90eXBlKSx5cih1ci5wcm90b3R5cGUsXCJtYXJrZXREaXNwbGF5TmFtZVwiLFtPLmNvbXB1dGVkXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHVyLnByb3RvdHlwZSxcIm1hcmtldERpc3BsYXlOYW1lXCIpLHVyLnByb3RvdHlwZSkseXIodXIucHJvdG90eXBlLFwic2hvdWxkTWluaW1pc2VMYXN0RGlnaXRzXCIsW08uY29tcHV0ZWRdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodXIucHJvdG90eXBlLFwic2hvdWxkTWluaW1pc2VMYXN0RGlnaXRzXCIpLHVyLnByb3RvdHlwZSkseXIodXIucHJvdG90eXBlLFwidXBkYXRlTGFzdERpZ2l0U3RhdHNcIixbc3JdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodXIucHJvdG90eXBlLFwidXBkYXRlTGFzdERpZ2l0U3RhdHNcIiksdXIucHJvdG90eXBlKSx5cih1ci5wcm90b3R5cGUsXCJvbk1hc3RlckRhdGFVcGRhdGVcIixbY3JdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodXIucHJvdG90eXBlLFwib25NYXN0ZXJEYXRhVXBkYXRlXCIpLHVyLnByb3RvdHlwZSkseXIodXIucHJvdG90eXBlLFwidXBkYXRlQmFyc1wiLFtscl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih1ci5wcm90b3R5cGUsXCJ1cGRhdGVCYXJzXCIpLHVyLnByb3RvdHlwZSksdXIpO2Z1bmN0aW9uIFRyKGUsdCxyLG4pe3ImJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse2VudW1lcmFibGU6ci5lbnVtZXJhYmxlLGNvbmZpZ3VyYWJsZTpyLmNvbmZpZ3VyYWJsZSx3cml0YWJsZTpyLndyaXRhYmxlLHZhbHVlOnIuaW5pdGlhbGl6ZXI/ci5pbml0aWFsaXplci5jYWxsKG4pOnZvaWQgMH0pfWZ1bmN0aW9uIFByKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1mdW5jdGlvbiBEcihlLHQscil7cmV0dXJuIHQmJlByKGUucHJvdG90eXBlLHQpLHImJlByKGUsciksZX1mdW5jdGlvbiBqcihlLHQscixuLGkpe3ZhciBhPXt9O3JldHVybiBPYmplY3Qua2V5cyhuKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2FbZV09bltlXX0pLGEuZW51bWVyYWJsZT0hIWEuZW51bWVyYWJsZSxhLmNvbmZpZ3VyYWJsZT0hIWEuY29uZmlndXJhYmxlLChcInZhbHVlXCJpbiBhfHxhLmluaXRpYWxpemVyKSYmKGEud3JpdGFibGU9ITApLGE9ci5zbGljZSgpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24ocixuKXtyZXR1cm4gbihlLHQscil8fHJ9LGEpLGkmJnZvaWQgMCE9PWEuaW5pdGlhbGl6ZXImJihhLnZhbHVlPWEuaW5pdGlhbGl6ZXI/YS5pbml0aWFsaXplci5jYWxsKGkpOnZvaWQgMCxhLmluaXRpYWxpemVyPXZvaWQgMCksdm9pZCAwPT09YS5pbml0aWFsaXplciYmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsYSksYT1udWxsKSxhfXZhciBBcj0odnI9Ty5hY3Rpb24uYm91bmQsX3I9Ty5hY3Rpb24uYm91bmQsU3I9Ty5hY3Rpb24uYm91bmQsd3I9Ty5hY3Rpb24uYm91bmQseHI9Ty5hY3Rpb24uYm91bmQsT3I9anIoKGtyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXt2YXIgcj10aGlzOyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksVHIodGhpcyxcImlzSG9tZUVuYWJsZWRcIixPcix0aGlzKSx0aGlzLm1vdmVUaW1lcj12b2lkIDAsdGhpcy5vbkNvbnRleHRSZWFkeT1mdW5jdGlvbigpe3Iuc3R4eC5hZGRFdmVudExpc3RlbmVyKFwibW92ZVwiLGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHIubW92ZVRpbWVyKSxyLm1vdmVUaW1lcj1zZXRUaW1lb3V0KHIudXBkYXRlSG9tZUJ1dHRvbiw1MCl9KSxyLnN0eHgucHJlcGVuZChcIm1vdXNlV2hlZWxcIixmdW5jdGlvbigpe3Iuc3R4eC5jaGFydC5sb2NrU2Nyb2xsPSExfSl9LFRyKHRoaXMsXCJ1cGRhdGVIb21lQnV0dG9uXCIsQ3IsdGhpcyksdGhpcy5tYWluU3RvcmU9dCxPYmplY3QoTy53aGVuKShmdW5jdGlvbigpe3JldHVybiByLm1haW5TdG9yZS5jaGFydC5jb250ZXh0fSx0aGlzLm9uQ29udGV4dFJlYWR5KX1yZXR1cm4gRHIoZSxbe2tleTpcImNoYXJ0XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0fX0se2tleTpcInN0YXRlU3RvcmVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYWluU3RvcmUuc3RhdGV9fSx7a2V5OlwiY3Jvc3NoYWlyU3RvcmVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYWluU3RvcmUuY3Jvc3NoYWlyfX0se2tleTpcInN0eHhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGFydC5zdHh4fX1dKSxEcihlLFt7a2V5Olwib25Nb3VzZUVudGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmNyb3NzaGFpclN0b3JlLnVwZGF0ZVZpc2liaWxpdHkoITEpfX0se2tleTpcIm9uTW91c2VMZWF2ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5jcm9zc2hhaXJTdG9yZS51cGRhdGVWaXNpYmlsaXR5KCEwKX19LHtrZXk6XCJvbkhvbWVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuaXNIb21lRW5hYmxlZD0hMSx0aGlzLnN0eHguY2hhcnQubG9ja0F1dG9TY3JvbGw9ITEsdGhpcy5zdHh4LmNoYXJ0LmlzU2Nyb2xsTG9jYXRpb25DaGFuZ2VkPSExLHRoaXMuc3R4eC5ob21lKCksdGhpcy5zdHh4LmRyYXcoKX19LHtrZXk6XCJvblNjYWxlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1udWxsO3RoaXMuaXNIb21lRW5hYmxlZD0hMTt2YXIgdD10aGlzLnN0eHguY2hhcnQuZGF0YVNldDt0JiZ0Lmxlbmd0aCYmKGU9dFswXSksdGhpcy5zdGF0ZVN0b3JlLnNjcm9sbENoYXJ0VG9MZWZ0KGUsITApfX1dKSxlfSgpKS5wcm90b3R5cGUsXCJpc0hvbWVFbmFibGVkXCIsW08ub2JzZXJ2YWJsZV0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOmZ1bmN0aW9uKCl7cmV0dXJuITF9fSksQ3I9anIoa3IucHJvdG90eXBlLFwidXBkYXRlSG9tZUJ1dHRvblwiLFt2cl0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gZnVuY3Rpb24oKXtlLmlzSG9tZUVuYWJsZWQ9IWUuc3R4eC5pc0hvbWUoKX19fSksanIoa3IucHJvdG90eXBlLFwib25Nb3VzZUVudGVyXCIsW19yXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGtyLnByb3RvdHlwZSxcIm9uTW91c2VFbnRlclwiKSxrci5wcm90b3R5cGUpLGpyKGtyLnByb3RvdHlwZSxcIm9uTW91c2VMZWF2ZVwiLFtTcl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihrci5wcm90b3R5cGUsXCJvbk1vdXNlTGVhdmVcIiksa3IucHJvdG90eXBlKSxqcihrci5wcm90b3R5cGUsXCJvbkhvbWVcIixbd3JdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioa3IucHJvdG90eXBlLFwib25Ib21lXCIpLGtyLnByb3RvdHlwZSksanIoa3IucHJvdG90eXBlLFwib25TY2FsZVwiLFt4cl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihrci5wcm90b3R5cGUsXCJvblNjYWxlXCIpLGtyLnByb3RvdHlwZSksa3IpO2Z1bmN0aW9uIE5yKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX12YXIgSXIsTXIsenIsTHIsUnI9ZnVuY3Rpb24oKXt2YXIgZSx0LHI7ZnVuY3Rpb24gbihlKXt2YXIgdD10aGlzOyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsbiksdGhpcy5oaWdoZXN0PW51bGwsdGhpcy5sb3dlc3Q9bnVsbCx0aGlzLmluamVjdGlvbklkPW51bGwsdGhpcy5jbGVhckluamVjdGlvbj1mdW5jdGlvbigpe3QuaW5qZWN0aW9uSWQmJih0LmhpZ2hlc3RSZWY9bnVsbCx0Lmxvd2VzdFJlZj1udWxsLHQuc3R4LnJlbW92ZUluamVjdGlvbih0LmluamVjdGlvbklkKSx0LmluamVjdGlvbklkPW51bGwpfSx0aGlzLmVuYWJsZU1hcmtlcj1mdW5jdGlvbigpe3QuaXNIaWdoZXN0TG93ZXN0TWFya2VyRW5hYmxlZD90LmluamVjdGlvbklkPXQuc3R4LmFwcGVuZChcImNyZWF0ZURhdGFTZWdtZW50XCIsdC5jYWxjdWxhdGVIaWdoZXN0TG93ZXN0QnlOZXdEYXRhKTp0LmNsZWFySW5qZWN0aW9uKCl9LHRoaXMuc2V0SGlnaGVzdFJlZj1mdW5jdGlvbihlKXt0LmhpZ2hlc3RSZWY9ZSxudWxsIT09ZSYmKHQuaGlnaGVzdFJlZi52YWx1ZT1lLmRpdi5xdWVyeVNlbGVjdG9yKFwiLnNwb3RfX3ZhbHVlXCIpKX0sdGhpcy5zZXRMb3dlc3RSZWY9ZnVuY3Rpb24oZSl7dC5sb3dlc3RSZWY9ZSxudWxsIT09ZSYmKHQubG93ZXN0UmVmLnZhbHVlPWUuZGl2LnF1ZXJ5U2VsZWN0b3IoXCIuc3BvdF9fdmFsdWVcIikpfSx0aGlzLm9uQ29udGV4dFJlYWR5PXRoaXMuZW5hYmxlTWFya2VyLHRoaXMuY2FsY3VsYXRlSGlnaGVzdExvd2VzdEJ5TmV3RGF0YT1mdW5jdGlvbigpe2lmKHQuaGlnaGVzdFJlZiYmdC5sb3dlc3RSZWYpe2lmKHQuc3R4LmNoYXJ0JiZ0LnN0eC5jaGFydC5kYXRhU2VnbWVudC5sZW5ndGgmJih0LmhpZ2hlc3Q9bnVsbCx0Lmxvd2VzdD1udWxsLHQuc3R4LmNoYXJ0LmRhdGFTZWdtZW50LmZvckVhY2goZnVuY3Rpb24oZSl7ZSYmKCghdC5oaWdoZXN0fHx0LmhpZ2hlc3QuQ2xvc2U8PWUuQ2xvc2UpJiYodC5oaWdoZXN0PWUpLCghdC5sb3dlc3R8fHQubG93ZXN0LkNsb3NlPj1lLkNsb3NlKSYmKHQubG93ZXN0PWUpKX0pKSwhdC5oaWdoZXN0fHwhdC5sb3dlc3R8fHQuaGlnaGVzdC5DbG9zZT09PXQubG93ZXN0LkNsb3NlKXJldHVybiB0LmhpZ2hlc3RSZWYuc2V0UG9zaXRpb24oe2Vwb2NoOm51bGwscHJpY2U6bnVsbH0pLHZvaWQgdC5sb3dlc3RSZWYuc2V0UG9zaXRpb24oe2Vwb2NoOm51bGwscHJpY2U6bnVsbH0pO2lmKHQuaGlnaGVzdCl7dmFyIGU9dC5oaWdoZXN0LkNsb3NlLnRvRml4ZWQodC5kZWNpbWFsUGxhY2VzKTt0LmhpZ2hlc3RSZWYuc2V0UG9zaXRpb24oe2Vwb2NoOk9iamVjdChlZS5sKShDSVEuc3RyVG9EYXRlVGltZSh0LmhpZ2hlc3QuRGF0ZSkpLHByaWNlOmV9KSx0LmhpZ2hlc3RSZWYudmFsdWUudGV4dENvbnRlbnQ9ZX1pZih0Lmxvd2VzdCl7dmFyIHI9dC5sb3dlc3QuQ2xvc2UudG9GaXhlZCh0LmRlY2ltYWxQbGFjZXMpO3QubG93ZXN0UmVmLnNldFBvc2l0aW9uKHtlcG9jaDpPYmplY3QoZWUubCkoQ0lRLnN0clRvRGF0ZVRpbWUodC5sb3dlc3QuRGF0ZSkpLHByaWNlOnJ9KSx0Lmxvd2VzdFJlZi52YWx1ZS50ZXh0Q29udGVudD1yfX19LHRoaXMubWFpblN0b3JlPWUsT2JqZWN0KE8ud2hlbikoZnVuY3Rpb24oKXtyZXR1cm4gdC5jb250ZXh0fSx0aGlzLm9uQ29udGV4dFJlYWR5KSxPYmplY3QoTy5yZWFjdGlvbikoZnVuY3Rpb24oKXtyZXR1cm4gdC5pc0hpZ2hlc3RMb3dlc3RNYXJrZXJFbmFibGVkfSx0aGlzLmVuYWJsZU1hcmtlcil9cmV0dXJuIGU9biwodD1be2tleTpcImZlZWRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQuZmVlZH19LHtrZXk6XCJjb250ZXh0XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0LmNvbnRleHR9fSx7a2V5Olwic3R4XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0LnN0eHh9fSx7a2V5OlwiaXNIaWdoZXN0TG93ZXN0TWFya2VyRW5hYmxlZFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydFNldHRpbmcuaXNIaWdoZXN0TG93ZXN0TWFya2VyRW5hYmxlZH19LHtrZXk6XCJkZWNpbWFsUGxhY2VzXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0LmN1cnJlbnRBY3RpdmVTeW1ib2wuZGVjaW1hbF9wbGFjZXN8fDB9fV0pJiZOcihlLnByb3RvdHlwZSx0KSxyJiZOcihlLHIpLG59KCk7ZnVuY3Rpb24gSHIoZSx0LHIsbil7ciYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7ZW51bWVyYWJsZTpyLmVudW1lcmFibGUsY29uZmlndXJhYmxlOnIuY29uZmlndXJhYmxlLHdyaXRhYmxlOnIud3JpdGFibGUsdmFsdWU6ci5pbml0aWFsaXplcj9yLmluaXRpYWxpemVyLmNhbGwobik6dm9pZCAwfSl9ZnVuY3Rpb24gcXIoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fWZ1bmN0aW9uIEJyKGUsdCxyLG4saSl7dmFyIGE9e307cmV0dXJuIE9iamVjdC5rZXlzKG4pLmZvckVhY2goZnVuY3Rpb24oZSl7YVtlXT1uW2VdfSksYS5lbnVtZXJhYmxlPSEhYS5lbnVtZXJhYmxlLGEuY29uZmlndXJhYmxlPSEhYS5jb25maWd1cmFibGUsKFwidmFsdWVcImluIGF8fGEuaW5pdGlhbGl6ZXIpJiYoYS53cml0YWJsZT0hMCksYT1yLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbihyLG4pe3JldHVybiBuKGUsdCxyKXx8cn0sYSksaSYmdm9pZCAwIT09YS5pbml0aWFsaXplciYmKGEudmFsdWU9YS5pbml0aWFsaXplcj9hLmluaXRpYWxpemVyLmNhbGwoaSk6dm9pZCAwLGEuaW5pdGlhbGl6ZXI9dm9pZCAwKSx2b2lkIDA9PT1hLmluaXRpYWxpemVyJiYoT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxhKSxhPW51bGwpLGF9dmFyIEZyPShJcj1PLmFjdGlvbi5ib3VuZCx6cj1CcigoTXI9ZnVuY3Rpb24oKXt2YXIgZSx0LHI7ZnVuY3Rpb24gbihlKXt2YXIgdD10aGlzOyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsbiksSHIodGhpcyxcImlzT25QYWdpbmF0aW9uXCIsenIsdGhpcyksdGhpcy5wYWdpbmF0aW9uRW5kRXBvY2g9bnVsbCx0aGlzLm9uQ29udGV4dFJlYWR5PWZ1bmN0aW9uKCl7dC5mZWVkLm9uU3RhcnRQYWdpbmF0aW9uKHQuc2V0T25QYWdpbmF0aW9uKSx0LmZlZWQub25QYWdpbmF0aW9uKHQuc2V0T25QYWdpbmF0aW9uKSx0LnN0eC5wcmVwZW5kKFwibW91c2VXaGVlbFwiLHQub25Nb3VzZVdoZWVsKX0sdGhpcy5vbk1vdXNlV2hlZWw9ZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciByPW51bGw7cmV0dXJuIHQuc3R4Lmxhc3RNb3VzZVdoZWVsRXZlbnQmJihyPURhdGUubm93KCktdC5zdHgubGFzdE1vdXNlV2hlZWxFdmVudCksISEociYmcjw0MHx8dC5pc09uUGFnaW5hdGlvbil9LHRoaXMuc2V0UmVmPWZ1bmN0aW9uKGUpe3QucmVmPWUsbnVsbCE9PXQucmVmJiZ0LnJlZi5zZXRQb3NpdGlvbih7ZXBvY2g6dC5wYWdpbmF0aW9uRW5kRXBvY2gscHJpY2U6MH0pfSxIcih0aGlzLFwic2V0T25QYWdpbmF0aW9uXCIsTHIsdGhpcyksdGhpcy5tYWluU3RvcmU9ZSxPYmplY3QoTy53aGVuKShmdW5jdGlvbigpe3JldHVybiB0LmNvbnRleHR9LHRoaXMub25Db250ZXh0UmVhZHkpfXJldHVybiBlPW4sKHQ9W3trZXk6XCJmZWVkXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0LmZlZWR9fSx7a2V5OlwiY29udGV4dFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC5jb250ZXh0fX0se2tleTpcInN0eFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC5zdHh4fX1dKSYmcXIoZS5wcm90b3R5cGUsdCksciYmcXIoZSxyKSxufSgpKS5wcm90b3R5cGUsXCJpc09uUGFnaW5hdGlvblwiLFtPLm9ic2VydmFibGVdLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCxpbml0aWFsaXplcjpmdW5jdGlvbigpe3JldHVybiExfX0pLExyPUJyKE1yLnByb3RvdHlwZSxcInNldE9uUGFnaW5hdGlvblwiLFtJcl0se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLGluaXRpYWxpemVyOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gZnVuY3Rpb24odCl7dmFyIHI9dC5lbmQ7ZS5pc09uUGFnaW5hdGlvbj0hZS5pc09uUGFnaW5hdGlvbixlLnBhZ2luYXRpb25FbmRFcG9jaD1lLmlzT25QYWdpbmF0aW9uP3I6bnVsbCxlLnJlZiYmZS5yZWYuc2V0UG9zaXRpb24oe2Vwb2NoOmUucGFnaW5hdGlvbkVuZEVwb2NoLHByaWNlOjB9KX19fSksTXIpO3ZhciBWcj1mdW5jdGlvbiBlKCl7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0aGlzLm5vdGlmaWVyPW5ldyAkdC5hLHRoaXMuZmF2b3JpdGVzPWtlLmEuZ2V0SW5zdGFuY2UoKSx0aGlzLmNoYXJ0PW5ldyBBLmEodGhpcyksdGhpcy5zdGF0ZT1uZXcgSnQodGhpcyksdGhpcy5jaGFydFR5cGU9bmV3IE4uYSh0aGlzKSx0aGlzLnN0dWRpZXM9bmV3IEkuYSh0aGlzKSx0aGlzLmNvbXBhcmlzb249bmV3IE0uYSh0aGlzKSx0aGlzLmRyYXdUb29scz1uZXcgei5hKHRoaXMpLHRoaXMuY2hhcnRUaXRsZT1uZXcgTC5hKHRoaXMpLHRoaXMudGltZXBlcmlvZD1uZXcgai5hKHRoaXMpLHRoaXMuYXNzZXRJbmZvcm1hdGlvbj1uZXcgVSh0aGlzKSx0aGlzLmNvbXBhcmlzb25MaXN0PW5ldyBKKHRoaXMpLHRoaXMudmlldz1uZXcgJC5hKHRoaXMpLHRoaXMuY3Jvc3NoYWlyPW5ldyBoZSh0aGlzKSx0aGlzLnNoYXJlPW5ldyBTZSh0aGlzKSx0aGlzLmNoYXJ0U2V0dGluZz1uZXcgd2UuYSh0aGlzKSx0aGlzLmxvYWRlcj1uZXcgeGUuYSx0aGlzLmNoYXJ0U2l6ZT1uZXcgQWUodGhpcyksdGhpcy5yb3V0aW5nPW5ldyB6ZSh0aGlzKSx0aGlzLmN1cnJlbnRTcG90PW5ldyBYZSh0aGlzKSx0aGlzLmRyYXdpbmdDdXJzb3I9bmV3IEF0KHRoaXMpLHRoaXMuY2hhcnRUYWJsZT1uZXcgcHIodGhpcyksdGhpcy5sYXN0RGlnaXRTdGF0cz1uZXcgRXIodGhpcyksdGhpcy5ib3R0b21XaWRnZXRzQ29udGFpbmVyPW5ldyBEKHRoaXMpLHRoaXMubmF2aWdhdGlvbldpZGdldD1uZXcgQXIodGhpcyksdGhpcy5oaWdoZXN0TG93ZXN0PW5ldyBScih0aGlzKSx0aGlzLnBhZ2luYXRpb25Mb2FkZXI9bmV3IEZyKHRoaXMpfSxVcj1yKDE3Nyk7ZnVuY3Rpb24gV3IoZSl7cmV0dXJuKFdyPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBRcihlLHQpe2lmKG51bGw9PWUpcmV0dXJue307dmFyIHIsbixpPWZ1bmN0aW9uKGUsdCl7aWYobnVsbD09ZSlyZXR1cm57fTt2YXIgcixuLGk9e30sYT1PYmplY3Qua2V5cyhlKTtmb3Iobj0wO248YS5sZW5ndGg7bisrKXI9YVtuXSx0LmluZGV4T2Yocik+PTB8fChpW3JdPWVbcl0pO3JldHVybiBpfShlLHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBhPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7Zm9yKG49MDtuPGEubGVuZ3RoO24rKylyPWFbbl0sdC5pbmRleE9mKHIpPj0wfHxPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoZSxyKSYmKGlbcl09ZVtyXSl9cmV0dXJuIGl9ZnVuY3Rpb24gR3IoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fWZ1bmN0aW9uIEtyKGUsdCl7cmV0dXJuIXR8fFwib2JqZWN0XCIhPT1Xcih0KSYmXCJmdW5jdGlvblwiIT10eXBlb2YgdD9mdW5jdGlvbihlKXtpZih2b2lkIDA9PT1lKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gZX0oZSk6dH1mdW5jdGlvbiBZcihlKXtyZXR1cm4oWXI9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZjpmdW5jdGlvbihlKXtyZXR1cm4gZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihlKX0pKGUpfWZ1bmN0aW9uIFhyKGUsdCl7cmV0dXJuKFhyPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5fX3Byb3RvX189dCxlfSkoZSx0KX12YXIgWnI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciBlLHI7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KTtmb3IodmFyIG49YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheShuKSxhPTA7YTxuO2ErKylpW2FdPWFyZ3VtZW50c1thXTtyZXR1cm4ocj1Lcih0aGlzLChlPVlyKHQpKS5jYWxsLmFwcGx5KGUsW3RoaXNdLmNvbmNhdChpKSkpKS5tYWluU3RvcmU9bmV3IFZyLHJ9dmFyIHIsbixpO3JldHVybiBmdW5jdGlvbihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmWHIoZSx0KX0odCx4LmEuQ29tcG9uZW50KSxyPXQsKG49W3trZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMucHJvcHMsdD1lLmNoaWxkcmVuLHI9UXIoZSxbXCJjaGlsZHJlblwiXSk7cmV0dXJuIHguYS5jcmVhdGVFbGVtZW50KGsuUHJvdmlkZXIsdGhpcy5tYWluU3RvcmUseC5hLmNyZWF0ZUVsZW1lbnQoVXIuYSxyLHQpKX19LHtrZXk6XCJjaGFydFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydH19LHtrZXk6XCJzdHhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGFydC5zdHh4fX1dKSYmR3Ioci5wcm90b3R5cGUsbiksaSYmR3IocixpKSx0fSgpLEpyPXIoMzUpLCRyPXIoMzYpLGVuPXIoMzcpLHRuPXIoMTYpLHJuPXIoNSk7ZnVuY3Rpb24gbm4oZSl7cmV0dXJuKG5uPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBhbihlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19ZnVuY3Rpb24gb24oZSx0KXtyZXR1cm4hdHx8XCJvYmplY3RcIiE9PW5uKHQpJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0P2Z1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiBlfShlKTp0fWZ1bmN0aW9uIHNuKGUpe3JldHVybihzbj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mOmZ1bmN0aW9uKGUpe3JldHVybiBlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpfSkoZSl9ZnVuY3Rpb24gY24oZSx0KXtyZXR1cm4oY249T2JqZWN0LnNldFByb3RvdHlwZU9mfHxmdW5jdGlvbihlLHQpe3JldHVybiBlLl9fcHJvdG9fXz10LGV9KShlLHQpfXZhciBsbj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIGUscjshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpO2Zvcih2YXIgbj1hcmd1bWVudHMubGVuZ3RoLGk9bmV3IEFycmF5KG4pLGE9MDthPG47YSsrKWlbYV09YXJndW1lbnRzW2FdO3JldHVybihyPW9uKHRoaXMsKGU9c24odCkpLmNhbGwuYXBwbHkoZSxbdGhpc10uY29uY2F0KGkpKSkpLnByaWNlPW51bGwsci5kYXRlPW51bGwsci5lbGVtPW51bGwsci5jdHg9bnVsbCxyLnN0eD1udWxsLHIuaW5qZWN0aW9uSWQ9bnVsbCxyLmRyYXc9ZnVuY3Rpb24oKXtpZihyLmN0eCl7dmFyIGU9ci5wcm9wcyx0PWUudGhyZXNob2xkLG49dm9pZCAwPT09dD8wOnQsaT1lLmVwb2NoX2FycmF5LGE9ZS5kcmF3X2NhbGxiYWNrLG89ZS5wcmljZV9hcnJheSxzPXZvaWQgMD09PW8/W106bztyLmxhc3RfZXBvY2hfYXJyYXkmJnIubGFzdF9lcG9jaF9hcnJheS50b1N0cmluZygpPT09aS50b1N0cmluZygpfHwoci5kYXRlX2FycmF5PWkubWFwKGZ1bmN0aW9uKGUpe3JldHVybntkYXRlOkNJUS5zdHJUb0RhdGVUaW1lKE9iamVjdChlZS5rKShlKSksZXBvY2g6ZX19KSxyLmxhc3RfZXBvY2hfYXJyYXk9aSk7dmFyIGM9ci5zdHgsbD1jLmNoYXJ0O2lmKCghbnx8Yy5sYXlvdXQuY2FuZGxlV2lkdGg+PW4pJiZsLmRhdGFTZXQmJmwuZGF0YVNldC5sZW5ndGgmJmMubWFpblNlcmllc1JlbmRlcmVyKXt2YXIgdT1bXTtyLmRhdGVfYXJyYXkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1lLmRhdGUscj1lLmVwb2NoLG49Yy50aWNrRnJvbURhdGUodCxsKSxpPWwuZGF0YVNldFtuXSxhPWwuZGF0YVNldFtuKzFdLG89bj4wP2wuZGF0YVNldFtuLTFdOm51bGwscz1jLnBpeGVsRnJvbVRpY2sobixsKSxoPWk/aS5DbG9zZTpudWxsO2lmKGkmJmkuRFQ8dClpZihhJiZhLkNsb3NlJiZhLkRUPnQpe3ZhciBkPWMucGl4ZWxGcm9tVGljayhuKzEsbCktcyxwPWEuQ2xvc2UtaCxmPSh0LWkuRFQpLyhhLkRULWkuRFQpO2grPWYqcCxzKz1mKmR9ZWxzZSBpZihvJiZvLkNsb3NlKXt2YXIgbT1zLWMucGl4ZWxGcm9tVGljayhuLTEsbCksZz1oLW8uQ2xvc2UsYj0odC1pLkRUKS8oaS5EVC1vLkRUKTtzKz1iKm0saCs9YipnfXZhciB5PWg/Yy5waXhlbEZyb21QcmljZShoLGwucGFuZWwpOjAsdj1zPj0wJiZsLnlBeGlzLmxlZnQ+cyYmbC55QXhpcy50b3A8PXkmJmwueUF4aXMuYm90dG9tPj15LF89bC55QXhpcyxTPU1hdGgubWluKE1hdGgubWF4KCt5LF8udG9wKSxfLmJvdHRvbSksdz1NYXRoLm1pbihNYXRoLm1heChzLDApLF8ubGVmdCkseD1jLmxheW91dC5jYW5kbGVXaWR0aDt1LnB1c2goe2Vwb2NoOnIsdmlzaWJsZTp2LHRvcDpTLGxlZnQ6dyx6b29tOngsbWF4X2xlZnQ6Xy5sZWZ0fSl9KTt2YXIgaD1zLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gYy5waXhlbEZyb21QcmljZSgxKmUsbC5wYW5lbCl9KTthKHtjdHg6Yy5jaGFydC5jb250ZXh0LHBvaW50czp1LHByaWNlczpofSl9fX0scn12YXIgcixuLGk7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiZjbihlLHQpfSh0LHguYS5Db21wb25lbnQpLHI9dCwobj1be2tleTpcImNvbXBvbmVudERpZE1vdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMucHJvcHMuY29udGV4dFByb21pc2UudGhlbihmdW5jdGlvbih0KXtlLmN0eD10LGUuc3R4PWUuY3R4LnN0eCxlLmluamVjdGlvbklkPWUuc3R4LmFwcGVuZChcImRyYXdcIixlLmRyYXcpLGUuZHJhdygpfSl9fSx7a2V5OlwiY29tcG9uZW50V2lsbFVubW91bnRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuaW5qZWN0aW9uSWQmJih0aGlzLnN0eC5yZW1vdmVJbmplY3Rpb24odGhpcy5pbmplY3Rpb25JZCksdGhpcy5jdHg9bnVsbCx0aGlzLnN0eD1udWxsKX19LHtrZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBudWxsfX1dKSYmYW4oci5wcm90b3R5cGUsbiksaSYmYW4ocixpKSx0fSgpLHVuPU9iamVjdChybi5hKShmdW5jdGlvbihlKXtyZXR1cm57Y29udGV4dFByb21pc2U6ZS5jaGFydC5jb250ZXh0UHJvbWlzZX19KShsbik7ZnVuY3Rpb24gaG4oZSl7ci5wPWV9ci5kKHQsXCJNYXJrZXJcIixmdW5jdGlvbigpe3JldHVybiBkbn0pLHIuZCh0LFwic2V0U21hcnRDaGFydHNQdWJsaWNQYXRoXCIsZnVuY3Rpb24oKXtyZXR1cm4gaG59KSxyLmQodCxcIkFzc2V0SW5mb3JtYXRpb25cIixmdW5jdGlvbigpe3JldHVybiBlbi5hfSksci5kKHQsXCJCYXJyaWVyXCIsZnVuY3Rpb24oKXtyZXR1cm4gdS5hfSksci5kKHQsXCJDaGFydFNldHRpbmdcIixmdW5jdGlvbigpe3JldHVybiBfLmF9KSxyLmQodCxcIkNoYXJ0U2l6ZVwiLGZ1bmN0aW9uKCl7cmV0dXJuIHkuYX0pLHIuZCh0LFwiQ2hhcnRUaXRsZVwiLGZ1bmN0aW9uKCl7cmV0dXJuICRyLmF9KSxyLmQodCxcIkNoYXJ0VHlwZXNcIixmdW5jdGlvbigpe3JldHVybiBkLmF9KSxyLmQodCxcIkNvbXBhcmlzb25cIixmdW5jdGlvbigpe3JldHVybiBmLmF9KSxyLmQodCxcIkNvbXBhcmlzb25MaXN0XCIsZnVuY3Rpb24oKXtyZXR1cm4gSnIuYX0pLHIuZCh0LFwiY3JlYXRlT2JqZWN0RnJvbUxvY2FsU3RvcmFnZVwiLGZ1bmN0aW9uKCl7cmV0dXJuIGVlLmV9KSxyLmQodCxcIkNyb3NzaGFpclRvZ2dsZVwiLGZ1bmN0aW9uKCl7cmV0dXJuIGcuYX0pLHIuZCh0LFwiRHJhd1Rvb2xzXCIsZnVuY3Rpb24oKXtyZXR1cm4gdi5hfSksci5kKHQsXCJQZW5kaW5nUHJvbWlzZVwiLGZ1bmN0aW9uKCl7cmV0dXJuIGguYX0pLHIuZCh0LFwiU2hhcmVcIixmdW5jdGlvbigpe3JldHVybiBTLmF9KSxyLmQodCxcIlNtYXJ0Q2hhcnRcIixmdW5jdGlvbigpe3JldHVybiBacn0pLHIuZCh0LFwiU3R1ZHlMZWdlbmRcIixmdW5jdGlvbigpe3JldHVybiBwLmF9KSxyLmQodCxcIlRpbWVwZXJpb2RcIixmdW5jdGlvbigpe3JldHVybiBiLmF9KSxyLmQodCxcIlZpZXdzXCIsZnVuY3Rpb24oKXtyZXR1cm4gbS5hfSksci5kKHQsXCJsb2dFdmVudFwiLGZ1bmN0aW9uKCl7cmV0dXJuIGZlLmR9KSxyLmQodCxcIkxvZ0NhdGVnb3JpZXNcIixmdW5jdGlvbigpe3JldHVybiBmZS5ifSksci5kKHQsXCJMb2dBY3Rpb25zXCIsZnVuY3Rpb24oKXtyZXR1cm4gZmUuYX0pO3ZhciBkbj10bi5hO3QuZGVmYXVsdD17QXNzZXRJbmZvcm1hdGlvbjplbi5hLEJhcnJpZXI6dS5hLENoYXJ0U2V0dGluZzpfLmEsQ2hhcnRTaXplOnkuYSxDaGFydFRpdGxlOiRyLmEsQ2hhcnRUeXBlczpkLmEsQ29tcGFyaXNvbjpmLmEsQ29tcGFyaXNvbkxpc3Q6SnIuYSxjcmVhdGVPYmplY3RGcm9tTG9jYWxTdG9yYWdlOmVlLmUsQ3Jvc3NoYWlyVG9nZ2xlOmcuYSxEcmF3VG9vbHM6di5hLEZhc3RNYXJrZXI6dG4uYSxNYXJrZXI6dG4uYSxQZW5kaW5nUHJvbWlzZTpoLmEsUmF3TWFya2VyOnVuLHNldFNtYXJ0Q2hhcnRzUHVibGljUGF0aDpobixTaGFyZTpTLmEsU21hcnRDaGFydDpacixTdHVkeUxlZ2VuZDpwLmEsVGltZXBlcmlvZDpiLmEsVmlld3M6bS5hLGxvZ0V2ZW50OmZlLmQsTG9nQ2F0ZWdvcmllczpmZS5iLExvZ0FjdGlvbnM6ZmUuYX19XSkuZGVmYXVsdH0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c21hcnRjaGFydHMuanMubWFwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../trader/node_modules/smartcharts-beta/dist/smartcharts.js\n");

/***/ })

}]);