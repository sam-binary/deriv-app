{"version":3,"sources":["webpack://deriv-bot/./src/scratch/help-content/flyout-help-base.jsx","webpack://deriv-bot/./src/scratch/help-content/help-components/flyout-img.jsx","webpack://deriv-bot/./src/scratch/help-content/help-components/flyout-text.jsx","webpack://deriv-bot/./src/scratch/help-content/help-components/flyout-video.jsx","webpack://deriv-bot/./src/scratch/help-content/help-string lazy ^\\.\\/.*\\.json$ namespace object"],"names":["HelpBase","props","getHelpString","block_nodes","block_type","getAttribute","title","Blockly","Blocks","meta","display_name","then","help_string","setState","has_help_content","catch","onSequenceClick","state","componentDidMount","componentDidUpdate","prev_state","render","block_help_component","config","text_count","derivWorkspace","reshowFlyout","map","component","type","url","text","constant","help","TEXT","VIDEO","IMAGE","BLOCK","Object","keys","key","translate","React","PureComponent","propTypes","PropTypes","array","func","string","connect","flyout","FlyoutImage","FlyoutText","FlyoutVideo"],"mappings":"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","file":"main.8ec792.hot-update.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport * as config from './help-content.config';\nimport FlyoutVideo from './help-components/flyout-video.jsx';\nimport FlyoutText from './help-components/flyout-text.jsx';\nimport FlyoutImage from './help-components/flyout-img.jsx';\nimport FlyoutBlock from '../../components/flyout-block.jsx';\nimport { Arrow2Icon } from '../../components/Icons.jsx';\nimport { connect } from '../../stores/connect';\nimport { translate } from '../../utils/tools';\nimport constant from '../../constants/const';\n\nclass HelpBase extends React.PureComponent {\n    constructor(props) {\n        super(props);\n        const { onSequenceClick, block_nodes } = props;\n\n        this.state = {\n            onSequenceClick,\n            block_nodes,\n            help_string: null,\n            has_help_content: true,\n        };\n    }\n\n    getHelpString = block_nodes => {\n        const block_type = block_nodes[0].getAttribute('type');\n        const title = Blockly.Blocks[block_type].meta().display_name;\n\n        import(`./help-string/${block_type}.json`)\n            .then(help_string => {\n                this.setState({ help_string, has_help_content: true });\n            })\n            .catch(() => this.setState({ has_help_content: false }));\n\n        this.setState({ title, block_type });\n    }\n\n    componentDidMount() {\n        const { block_nodes } = this.props;\n        this.getHelpString(block_nodes);\n    }\n\n    componentDidUpdate(prev_state) {\n        const { block_nodes } = this.props;\n\n        if (prev_state !== this.props) {\n            this.setState({ ...this.props });\n            this.getHelpString(block_nodes);\n        }\n    }\n\n    render() {\n        const {\n            onSequenceClick,\n            block_type,\n            title,\n            block_nodes,\n            help_string,\n            has_help_content,\n        } = this.state;\n        const block_help_component = help_string && config[block_type];\n        let text_count = 0;\n\n        return (\n            <React.Fragment>\n                <div className='flyout__help-header'>\n                    <button className='flyout__button flyout__button-back' onClick={() => Blockly.derivWorkspace.reshowFlyout()}>\n                        <Arrow2Icon />\n                    </button>\n                    <span className='flyout__help-title'>{title}</span>\n                </div>\n                <div className='flyout__help-content'>\n                    {\n                        block_help_component &&\n                        block_help_component.map(component => {\n                            const { type, url } = component;\n                            const { text } = help_string;\n\n                            switch (type) {\n                                case constant.help.TEXT:\n                                    return (\n                                        <FlyoutText text={text[text_count++]} />\n                                    );\n                                case constant.help.VIDEO:\n                                    return (\n                                        <FlyoutVideo url={url} />\n                                    );\n                                case constant.help.IMAGE:\n                                    return (\n                                        <FlyoutImage url={url} />\n                                    );\n                                case constant.help.BLOCK:\n                                    {\n                                        return Object.keys(block_nodes).map(key => {\n                                            return (\n                                                <FlyoutBlock\n                                                    key={key}\n                                                    should_center_block={true}\n                                                    block_node={block_nodes[key]}\n                                                />\n                                            );\n                                        });\n                                    }\n                                default:\n                                    return null;\n                            }\n                        })\n                    }\n                    {\n                        !has_help_content &&\n                        <div className='flyout__item'>\n                            <h3>Coming soon...</h3>\n                        </div>\n                    }\n                </div>\n                <div className='flyout__help-footer'>\n                    <button className='flyout__button flyout__button-previous' onClick={() => onSequenceClick(block_type, false)}>{translate('Previous')}</button>\n                    <button className='flyout__button flyout__button-next' onClick={() => onSequenceClick(block_type, true)}>{translate('Next')}</button>\n                </div>\n            </React.Fragment >\n        );\n    }\n}\n\nHelpBase.propTypes = {\n    block_nodes: PropTypes.array,\n    onSequenceClick: PropTypes.func,\n    title: PropTypes.string,\n};\n\nexport default connect(({ flyout }) => ({\n    onSequenceClick: flyout.onSequenceClick,\n}))(HelpBase);\n","import React from 'react';\nimport { PropTypes } from 'prop-types';\n\nconst FlyoutImage = props => {\n    const { url } = props;\n\n    return (\n        <div className='flyout__item'>\n            <img src={url} className='flyout__image' />\n        </div>\n    );\n};\n\nFlyoutImage.propTypes = {\n    url: PropTypes.string,\n};\n\nexport default FlyoutImage;\n","import React from 'react';\nimport { PropTypes } from 'prop-types';\nimport { translate } from '../../../utils/lang/i18n';\n\nconst FlyoutText = props => {\n    const { text } = props;\n\n    return (\n        <p className='flyout__item'>{translate(text)}</p>\n    );\n};\n\nFlyoutText.propTypes = {\n    text: PropTypes.string,\n};\n\nexport default FlyoutText;\n","import React from 'react';\nimport { PropTypes } from 'prop-types';\n\nconst FlyoutVideo = (props) => {\n    return (\n        <div className='flyout__item'>\n            <iframe\n                className='flyout__video'\n                src={props.url}\n                frameBorder='0'\n                allow='accelerometer; encrypted-media; gyroscope; picture-in-picture'\n                allowFullScreen\n                width={'100%'}\n            />\n        </div>\n    );\n\n};\n\nFlyoutVideo.propTypes = {\n    url: PropTypes.string,\n};\n\nexport default FlyoutVideo;\n","var map = {\n\t\"./math_arithmetic.json\": [\n\t\t\"./src/scratch/help-content/help-string/math_arithmetic.json\",\n\t\t0\n\t],\n\t\"./math_change.json\": [\n\t\t\"./src/scratch/help-content/help-string/math_change.json\",\n\t\t1\n\t],\n\t\"./math_number.json\": [\n\t\t\"./src/scratch/help-content/help-string/math_number.json\",\n\t\t2\n\t],\n\t\"./math_random_float.json\": [\n\t\t\"./src/scratch/help-content/help-string/math_random_float.json\",\n\t\t3\n\t],\n\t\"./math_random_int.json\": [\n\t\t\"./src/scratch/help-content/help-string/math_random_int.json\",\n\t\t4\n\t],\n\t\"./variables_get.json\": [\n\t\t\"./src/scratch/help-content/help-string/variables_get.json\",\n\t\t5\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__.t(id, 3);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"./src/scratch/help-content/help-string lazy recursive ^\\\\.\\\\/.*\\\\.json$\";\nmodule.exports = webpackAsyncContext;"],"sourceRoot":""}