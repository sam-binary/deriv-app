{"version":3,"sources":["webpack://deriv-bot/./src/stores/toolbar-store.js"],"names":[],"mappings":"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ACA;AACA;AACA;AACA,CAAC,kFAAkF,gDAAU;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,gFAAgF,gDAAU;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,4EAA4E,gDAAU;AACvF;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,kFAAkF,gDAAU;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD;;AAEnD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA,oDAAoD;AACpD,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT,UAAU,yDAAc,qBAAqB,+DAAS;AACtD;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA,qDAAqD;AACrD,OAAO;AACP;AACA;AACA,QAAQ,yEAAiB;AACzB;AACA;AACA,0BAA0B;AAC1B,SAAS;AACT,QAAQ,kDAAS;AACjB;;AAEA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO,EAAE;;;AAGT;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,qCAAqC;;AAErC;AACA;AACA;AACA,CAAC,iEAAiE,8CAAQ,wJAAwJ,8CAAQ,wJAAwJ,8CAAQ","file":"main.cd0cdb.hot-update.js","sourcesContent":["import \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.match\";\nimport \"regenerator-runtime/runtime\";\nimport \"core-js/modules/es6.regexp.search\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\n\nvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _dec17, _dec18, _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _descriptor14, _descriptor15, _descriptor16, _descriptor17, _descriptor18, _descriptor19, _descriptor20, _descriptor21, _descriptor22, _descriptor23, _descriptor24, _temp;\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and set to use loose mode. ' + 'To use proposal-class-properties in spec mode with decorators, wait for ' + 'the next major version of decorators in stage 2.'); }\n\nimport filesaver from 'file-saver';\nimport { observable, action, computed } from 'mobx';\nimport { createErrorAndEmit } from '../utils/error';\nimport { observer as globalObserver } from '../utils/observer';\nimport { strategyHasValidTradeTypeCategory, addLoadersFirst, cleanUpOnLoad, fixCollapsedBlocks, addDomAsBlock, backwardCompatibility, fixArgumentAttribute, removeUnavailableMarkets, cleanBeforeExport } from '../scratch/utils';\nimport { translate } from '../utils/tools';\nvar ToolbarStore = (_dec = action.bound, _dec2 = action.bound, _dec3 = action.bound, _dec4 = action.bound, _dec5 = action.bound, _dec6 = action.bound, _dec7 = action.bound, _dec8 = action.bound, _dec9 = action.bound, _dec10 = action.bound, _dec11 = action.bound, _dec12 = action.bound, _dec13 = action.bound, _dec14 = action.bound, _dec15 = action.bound, _dec16 = action.bound, _dec17 = action.bound, _dec18 = action.bound, (_class = (_temp =\n/*#__PURE__*/\nfunction () {\n  function ToolbarStore(flyout) {\n    var _this = this;\n\n    _initializerDefineProperty(this, \"is_toolbox_open\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"load_modal_open\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"save_modal_open\", _descriptor3, this);\n\n    _initializerDefineProperty(this, \"saveload_type\", _descriptor4, this);\n\n    _initializerDefineProperty(this, \"file_name\", _descriptor5, this);\n\n    _initializerDefineProperty(this, \"on_search_focus\", _descriptor6, this);\n\n    _initializerDefineProperty(this, \"onStartClick\", _descriptor7, this);\n\n    _initializerDefineProperty(this, \"onSearchBlur\", _descriptor8, this);\n\n    _initializerDefineProperty(this, \"onSearch\", _descriptor9, this);\n\n    _initializerDefineProperty(this, \"onSaveLoadTypeChange\", _descriptor10, this);\n\n    _initializerDefineProperty(this, \"onResetClick\", _descriptor11, this);\n\n    _initializerDefineProperty(this, \"onBrowseClick\", _descriptor12, this);\n\n    _initializerDefineProperty(this, \"onLoadClick\", _descriptor13, this);\n\n    _initializerDefineProperty(this, \"handleFileChange\", _descriptor14, this);\n\n    _initializerDefineProperty(this, \"closeLoadModal\", _descriptor15, this);\n\n    _initializerDefineProperty(this, \"onSaveClick\", _descriptor16, this);\n\n    _initializerDefineProperty(this, \"onConfirmSave\", _descriptor17, this);\n\n    _initializerDefineProperty(this, \"closeSaveModal\", _descriptor18, this);\n\n    _initializerDefineProperty(this, \"onGoogleDriveClick\", _descriptor19, this);\n\n    _initializerDefineProperty(this, \"onUndoClick\", _descriptor20, this);\n\n    _initializerDefineProperty(this, \"onRedoClick\", _descriptor21, this);\n\n    _initializerDefineProperty(this, \"onZoomInClick\", _descriptor22, this);\n\n    _initializerDefineProperty(this, \"onZoomOutClick\", _descriptor23, this);\n\n    _initializerDefineProperty(this, \"onSortClick\", _descriptor24, this);\n\n    this.zoomOnPlusMinus = function (zoomIn) {\n      var metrics = Blockly.derivWorkspace.getMetrics();\n\n      if (zoomIn) {\n        Blockly.derivWorkspace.zoom(metrics.viewWidth / 2, metrics.viewHeight / 2, 1);\n      } else {\n        Blockly.derivWorkspace.zoom(metrics.viewWidth / 2, metrics.viewHeight / 2, -1);\n      }\n    };\n\n    this.loadBlocks = function (xml, dropEvent) {\n      if (dropEvent === void 0) {\n        dropEvent = {};\n      }\n\n      if (!strategyHasValidTradeTypeCategory(xml)) return;\n      if (_this.marketsWereRemoved(xml)) return;\n      var variables = xml.getElementsByTagName('variables');\n\n      if (variables.length > 0) {\n        Blockly.Xml.domToVariables(variables[0], Blockly.mainWorkspace);\n      }\n\n      Blockly.Events.setGroup('load');\n      addLoadersFirst(xml).then(function (loaders) {\n        var addedBlocks = [].concat(loaders, Array.from(xml.children).map(function (block) {\n          return addDomAsBlock(block);\n        }).filter(function (b) {\n          return b;\n        }));\n        cleanUpOnLoad(addedBlocks, dropEvent);\n        fixCollapsedBlocks();\n        globalObserver.emit('ui.log.success', translate('Blocks are loaded successfully'));\n      }, function (e) {\n        throw e;\n      });\n    };\n\n    this.loadWorkspace = function (xml) {\n      if (!strategyHasValidTradeTypeCategory(xml)) return;\n      if (_this.marketsWereRemoved(xml)) return;\n      Blockly.Events.setGroup('load');\n      Blockly.mainWorkspace.clear();\n      Array.from(xml.children).forEach(function (block) {\n        backwardCompatibility(block);\n      });\n      fixArgumentAttribute(xml);\n      Blockly.Xml.domToWorkspace(xml, Blockly.mainWorkspace);\n      addLoadersFirst(xml).then(function () {\n        fixCollapsedBlocks();\n        Blockly.Events.setGroup(false);\n        globalObserver.emit('ui.log.success', translate('Blocks are loaded successfully'));\n      }, function (e) {\n        Blockly.Events.setGroup(false);\n        throw e;\n      });\n    };\n\n    this.marketsWereRemoved = function (xml) {\n      if (!Array.from(xml.children).every(function (block) {\n        return !removeUnavailableMarkets(block);\n      })) {\n        if (window.trackJs) {\n          trackJs.track('Invalid financial market');\n        }\n\n        alert('This strategy is not available in your country');\n        return true;\n      }\n\n      return false;\n    };\n\n    this.readFile = function (f, dropEvent) {\n      if (dropEvent === void 0) {\n        dropEvent = {};\n      }\n\n      var reader = new FileReader();\n\n      reader.onload = function (e) {\n        return _this.load(e.target.result, dropEvent);\n      };\n\n      reader.readAsText(f);\n    };\n\n    this.flyout = flyout;\n  }\n\n  var _proto = ToolbarStore.prototype;\n\n  /* eslint-disable class-methods-use-this */\n  _proto.load = function load(blockStr, dropEvent) {\n    if (blockStr === void 0) {\n      blockStr = '';\n    }\n\n    if (dropEvent === void 0) {\n      dropEvent = {};\n    }\n\n    var unrecognisedMsg = function unrecognisedMsg() {\n      return translate('Unrecognized file format');\n    };\n\n    try {\n      var xmlDoc = new DOMParser().parseFromString(blockStr, 'application/xml');\n\n      if (xmlDoc.getElementsByTagName('parsererror').length) {\n        throw new Error();\n      }\n    } catch (err) {\n      throw createErrorAndEmit('FileLoad', unrecognisedMsg());\n    }\n\n    var xml;\n\n    try {\n      xml = Blockly.Xml.textToDom(blockStr);\n    } catch (e) {\n      throw createErrorAndEmit('FileLoad', unrecognisedMsg());\n    }\n\n    var blocklyXml = xml.querySelectorAll('block');\n\n    if (!blocklyXml.length) {\n      throw createErrorAndEmit('FileLoad', 'XML file contains unsupported elements. Please check or modify file.');\n    }\n\n    blocklyXml.forEach(function (block) {\n      var blockType = block.getAttribute('type');\n\n      if (!Object.keys(Blockly.Blocks).includes(blockType)) {\n        throw createErrorAndEmit('FileLoad', 'XML file contains unsupported elements. Please check or modify file');\n      }\n    });\n\n    try {\n      if (xml.hasAttribute('collection') && xml.getAttribute('collection') === 'true') {\n        this.loadBlocks(xml, dropEvent);\n      } else {\n        this.loadWorkspace(xml);\n      }\n    } catch (e) {\n      throw createErrorAndEmit('FileLoad', translate('Unable to load the block file'));\n    }\n  };\n\n  _createClass(ToolbarStore, [{\n    key: \"isSearchFocus\",\n    get: function get() {\n      return this.on_search_focus;\n    }\n  }, {\n    key: \"openLoadModal\",\n    get: function get() {\n      return this.load_modal_open;\n    }\n  }, {\n    key: \"openSaveModal\",\n    get: function get() {\n      return this.save_modal_open;\n    }\n  }]);\n\n  return ToolbarStore;\n}(), _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"is_toolbox_open\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"load_modal_open\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"save_modal_open\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"saveload_type\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 'local';\n  }\n}), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"file_name\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 'binary-bot';\n  }\n}), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"on_search_focus\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"onStartClick\", [_dec], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    var _this2 = this;\n\n    return function () {\n      _this2.is_toolbox_open = !_this2.is_toolbox_open;\n      var toolbox = Blockly.derivWorkspace.toolbox_;\n\n      if (_this2.is_toolbox_open) {\n        _this2.flyout.setVisibility(false);\n\n        toolbox.removeStyle('hidden');\n      } else {\n        toolbox.addStyle('hidden');\n      }\n    };\n  }\n}), _descriptor8 = _applyDecoratedDescriptor(_class.prototype, \"onSearchBlur\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    var _this3 = this;\n\n    return function () {\n      _this3.on_search_focus = false;\n    };\n  }\n}), _descriptor9 = _applyDecoratedDescriptor(_class.prototype, \"onSearch\", [_dec3], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    var _this4 = this;\n\n    return function (values) {\n      _this4.on_search_focus = true;\n      var search_term = values.search;\n      var toolbox = Blockly.derivWorkspace.toolbox_;\n\n      if (_this4.is_toolbox_open) {\n        _this4.onStartClick();\n      }\n\n      toolbox.showSearch_(search_term);\n    };\n  }\n}), _descriptor10 = _applyDecoratedDescriptor(_class.prototype, \"onSaveLoadTypeChange\", [_dec4], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    var _this5 = this;\n\n    return function (e) {\n      var value = e.target.value;\n      _this5.saveload_type = value;\n    };\n  }\n}), _descriptor11 = _applyDecoratedDescriptor(_class.prototype, \"onResetClick\", [_dec5], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return (\n      /*#__PURE__*/\n      _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var workspace;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                workspace = Blockly.derivWorkspace; // eslint-disable-next-line\n\n                Blockly.Events.setGroup('reset');\n                workspace.clear();\n                Blockly.Xml.domToWorkspace(Blockly.Xml.textToDom(workspace.blocksXmlStr), workspace);\n                Blockly.Events.setGroup(false);\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))\n    );\n  }\n}), _descriptor12 = _applyDecoratedDescriptor(_class.prototype, \"onBrowseClick\", [_dec6], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    var _this6 = this;\n\n    return function () {\n      _this6.load_modal_open = true;\n    };\n  }\n}), _descriptor13 = _applyDecoratedDescriptor(_class.prototype, \"onLoadClick\", [_dec7], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    var _this7 = this;\n\n    return function () {\n      if (_this7.saveload_type === 'google-drive') {// TO DO\n      } else if (_this7.saveload_type === 'local') {\n        var upload = document.getElementById('files');\n        upload.click();\n      }\n    };\n  }\n}), _descriptor14 = _applyDecoratedDescriptor(_class.prototype, \"handleFileChange\", [_dec8], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    var _this8 = this;\n\n    return function (e) {\n      var files, dropEvent;\n\n      if (e.type === 'drop') {\n        e.stopPropagation();\n        e.preventDefault();\n        files = e.dataTransfer.files;\n        dropEvent = e;\n      } else {\n        files = e.target.files;\n      }\n\n      files = Array.from(files);\n      files.forEach(function (file) {\n        if (file.type.match('text/xml')) {\n          _this8.readFile(file, dropEvent);\n        } else {\n          globalObserver.emit('ui.log.info', translate('File is not supported:') + \" \" + file.name);\n        }\n      });\n      e.target.value = '';\n\n      _this8.closeLoadModal();\n    };\n  }\n}), _descriptor15 = _applyDecoratedDescriptor(_class.prototype, \"closeLoadModal\", [_dec9], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    var _this9 = this;\n\n    return function () {\n      _this9.load_modal_open = false;\n    };\n  }\n}), _descriptor16 = _applyDecoratedDescriptor(_class.prototype, \"onSaveClick\", [_dec10], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    var _this10 = this;\n\n    return function () {\n      _this10.save_modal_open = true;\n    };\n  }\n}), _descriptor17 = _applyDecoratedDescriptor(_class.prototype, \"onConfirmSave\", [_dec11], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    var _this11 = this;\n\n    return function () {\n      if (_this11.saveload_type === 'google-drive') {// TO DO\n      } else if (_this11.saveload_type === 'local') {\n        var file_name = document.getElementById('save-filename').value || 'binary-bot';\n        var xml = Blockly.Xml.workspaceToDom(Blockly.mainWorkspace);\n        cleanBeforeExport(xml);\n        var data = Blockly.Xml.domToPrettyText(xml);\n        var blob = new Blob([data], {\n          type: 'text/xml;charset=utf-8'\n        });\n        filesaver.saveAs(blob, file_name);\n      }\n\n      _this11.closeSaveModal();\n    };\n  }\n}), _descriptor18 = _applyDecoratedDescriptor(_class.prototype, \"closeSaveModal\", [_dec12], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    var _this12 = this;\n\n    return function () {\n      _this12.save_modal_open = false;\n    };\n  }\n}), _descriptor19 = _applyDecoratedDescriptor(_class.prototype, \"onGoogleDriveClick\", [_dec13], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    var _this13 = this;\n\n    return function () {\n      var symbol = _this13.ws.activeSymbols({\n        skip_cache_update: true\n      }); // eslint-disable-next-line\n\n\n      console.log(symbol);\n    };\n  }\n}), _descriptor20 = _applyDecoratedDescriptor(_class.prototype, \"onUndoClick\", [_dec14], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return function () {\n      Blockly.Events.setGroup('undo');\n      Blockly.mainWorkspace.undo();\n      Blockly.Events.setGroup(false);\n    };\n  }\n}), _descriptor21 = _applyDecoratedDescriptor(_class.prototype, \"onRedoClick\", [_dec15], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return function () {\n      Blockly.mainWorkspace.undo(true);\n    };\n  }\n}), _descriptor22 = _applyDecoratedDescriptor(_class.prototype, \"onZoomInClick\", [_dec16], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    var _this14 = this;\n\n    return function () {\n      _this14.zoomOnPlusMinus(true);\n    };\n  }\n}), _descriptor23 = _applyDecoratedDescriptor(_class.prototype, \"onZoomOutClick\", [_dec17], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    var _this15 = this;\n\n    return function () {\n      _this15.zoomOnPlusMinus(false);\n    };\n  }\n}), _descriptor24 = _applyDecoratedDescriptor(_class.prototype, \"onSortClick\", [_dec18], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return function () {\n      Blockly.Events.setGroup(true);\n      var topBlocks = Blockly.derivWorkspace.getTopBlocks(true);\n      var cursorY = 0;\n      topBlocks.forEach(function (block) {\n        if (block.getSvgRoot().style.display !== 'none') {\n          var xy = block.getRelativeToSurfaceXY();\n          block.moveBy(-xy.x, cursorY - xy.y);\n          block.snapToGrid();\n          cursorY = block.getRelativeToSurfaceXY().y + block.getHeightWidth().height + Blockly.BlockSvg.MIN_BLOCK_Y;\n        }\n      });\n      Blockly.Events.setGroup(false); // Fire an event to allow scrollbars to resize.\n\n      Blockly.derivWorkspace.resizeContents();\n    };\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"isSearchFocus\", [computed], Object.getOwnPropertyDescriptor(_class.prototype, \"isSearchFocus\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"openLoadModal\", [computed], Object.getOwnPropertyDescriptor(_class.prototype, \"openLoadModal\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"openSaveModal\", [computed], Object.getOwnPropertyDescriptor(_class.prototype, \"openSaveModal\"), _class.prototype)), _class));\nexport { ToolbarStore as default };"],"sourceRoot":""}